var sN=Object.defineProperty;var aN=(t,e,r)=>e in t?sN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var oN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var q=(t,e,r)=>(aN(t,typeof e!="symbol"?e+"":e,r),r);var hX=oN((pX,Hf)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function XE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lN(t){var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Kd={exports:{}},Nh={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Cx=Object.getOwnPropertySymbols,uN=Object.prototype.hasOwnProperty,hN=Object.prototype.propertyIsEnumerable;function cN(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function fN(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var D0=fN()?Object.assign:function(t,e){for(var r,n=cN(t),i,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var a in r)uN.call(r,a)&&(n[a]=r[a]);if(Cx){i=Cx(r);for(var u=0;u<i.length;u++)hN.call(r,i[u])&&(n[i[u]]=r[i[u]])}}return n},fr={exports:{}},qe={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0=D0,al=60103,qE=60106;qe.Fragment=60107;qe.StrictMode=60108;qe.Profiler=60114;var KE=60109,QE=60110,ZE=60112;qe.Suspense=60113;var JE=60115,e2=60116;if(typeof Symbol=="function"&&Symbol.for){var mn=Symbol.for;al=mn("react.element"),qE=mn("react.portal"),qe.Fragment=mn("react.fragment"),qe.StrictMode=mn("react.strict_mode"),qe.Profiler=mn("react.profiler"),KE=mn("react.provider"),QE=mn("react.context"),ZE=mn("react.forward_ref"),qe.Suspense=mn("react.suspense"),JE=mn("react.memo"),e2=mn("react.lazy")}var Ix=typeof Symbol=="function"&&Symbol.iterator;function dN(t){return t===null||typeof t!="object"?null:(t=Ix&&t[Ix]||t["@@iterator"],typeof t=="function"?t:null)}function Fh(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r2={};function ol(t,e,r){this.props=t,this.context=e,this.refs=r2,this.updater=r||t2}ol.prototype.isReactComponent={};ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Fh(85));this.updater.enqueueSetState(this,t,e,"setState")};ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n2(){}n2.prototype=ol.prototype;function N0(t,e,r){this.props=t,this.context=e,this.refs=r2,this.updater=r||t2}var F0=N0.prototype=new n2;F0.constructor=N0;R0(F0,ol.prototype);F0.isPureReactComponent=!0;var L0={current:null},i2=Object.prototype.hasOwnProperty,s2={key:!0,ref:!0,__self:!0,__source:!0};function a2(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)i2.call(e,n)&&!s2.hasOwnProperty(n)&&(i[n]=e[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in u=t.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:al,type:t,key:s,ref:a,props:i,_owner:L0.current}}function pN(t,e){return{$$typeof:al,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function U0(t){return typeof t=="object"&&t!==null&&t.$$typeof===al}function vN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Px=/\/+/g;function Yv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vN(""+t.key):e.toString(36)}function vf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case al:case qE:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Yv(a,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(Px,"$&/")+"/"),vf(i,e,r,"",function(d){return d})):i!=null&&(U0(i)&&(i=pN(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Px,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){s=t[u];var c=n+Yv(s,u);a+=vf(s,e,r,c,i)}else if(c=dN(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=n+Yv(s,u++),a+=vf(s,e,r,c,i);else if(s==="object")throw e=""+t,Error(Fh(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return a}function Ac(t,e,r){if(t==null)return t;var n=[],i=0;return vf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function mN(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var o2={current:null};function Ri(){var t=o2.current;if(t===null)throw Error(Fh(321));return t}var gN={ReactCurrentDispatcher:o2,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:L0,IsSomeRendererActing:{current:!1},assign:R0};qe.Children={map:Ac,forEach:function(t,e,r){Ac(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ac(t,function(){e++}),e},toArray:function(t){return Ac(t,function(e){return e})||[]},only:function(t){if(!U0(t))throw Error(Fh(143));return t}};qe.Component=ol;qe.PureComponent=N0;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gN;qe.cloneElement=function(t,e,r){if(t==null)throw Error(Fh(267,t));var n=R0({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=L0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)i2.call(e,c)&&!s2.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];n.children=u}return{$$typeof:al,type:t.type,key:i,ref:s,props:n,_owner:a}};qe.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:QE,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:KE,_context:t},t.Consumer=t};qe.createElement=a2;qe.createFactory=function(t){var e=a2.bind(null,t);return e.type=t,e};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:ZE,render:t}};qe.isValidElement=U0;qe.lazy=function(t){return{$$typeof:e2,_payload:{_status:-1,_result:t},_init:mN}};qe.memo=function(t,e){return{$$typeof:JE,type:t,compare:e===void 0?null:e}};qe.useCallback=function(t,e){return Ri().useCallback(t,e)};qe.useContext=function(t,e){return Ri().useContext(t,e)};qe.useDebugValue=function(){};qe.useEffect=function(t,e){return Ri().useEffect(t,e)};qe.useImperativeHandle=function(t,e,r){return Ri().useImperativeHandle(t,e,r)};qe.useLayoutEffect=function(t,e){return Ri().useLayoutEffect(t,e)};qe.useMemo=function(t,e){return Ri().useMemo(t,e)};qe.useReducer=function(t,e,r){return Ri().useReducer(t,e,r)};qe.useRef=function(t){return Ri().useRef(t)};qe.useState=function(t){return Ri().useState(t)};qe.version="17.0.2";(function(t){t.exports=qe})(fr);const yN=XE(fr.exports);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _N=fr.exports,l2=60103;Nh.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Ax=Symbol.for;l2=Ax("react.element"),Nh.Fragment=Ax("react.fragment")}var wN=_N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xN=Object.prototype.hasOwnProperty,bN={key:!0,ref:!0,__self:!0,__source:!0};function u2(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)xN.call(e,n)&&!bN.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:l2,type:t,key:s,ref:a,props:i,_owner:wN.current}}Nh.jsx=u2;Nh.jsxs=u2;(function(t){t.exports=Nh})(Kd);const mg=Kd.exports.Fragment,ve=Kd.exports.jsx,Et=Kd.exports.jsxs;var h2={exports:{}},dn={},c2={exports:{}},f2={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,d=null,m=function(){if(c!==null)try{var $=t.unstable_now();c(!0,$),c=null}catch(X){throw setTimeout(m,0),X}};e=function($){c!==null?setTimeout(e,0,$):(c=$,setTimeout(m,0))},r=function($,X){d=setTimeout($,X)},n=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var _=window.setTimeout,w=window.clearTimeout;if(typeof console<"u"){var T=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof T!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var S=!1,P=null,E=-1,A=5,O=0;t.unstable_shouldYield=function(){return t.unstable_now()>=O},i=function(){},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5};var M=new MessageChannel,R=M.port2;M.port1.onmessage=function(){if(P!==null){var $=t.unstable_now();O=$+A;try{P(!0,$)?R.postMessage(null):(S=!1,P=null)}catch(X){throw R.postMessage(null),X}}else S=!1},e=function($){P=$,S||(S=!0,R.postMessage(null))},r=function($,X){E=_(function(){$(t.unstable_now())},X)},n=function(){w(E),E=-1}}function V($,X){var ne=$.length;$.push(X);e:for(;;){var we=ne-1>>>1,ie=$[we];if(ie!==void 0&&0<j(ie,X))$[we]=X,$[ne]=ie,ne=we;else break e}}function L($){return $=$[0],$===void 0?null:$}function W($){var X=$[0];if(X!==void 0){var ne=$.pop();if(ne!==X){$[0]=ne;e:for(var we=0,ie=$.length;we<ie;){var Pe=2*(we+1)-1,He=$[Pe],st=Pe+1,de=$[st];if(He!==void 0&&0>j(He,ne))de!==void 0&&0>j(de,He)?($[we]=de,$[st]=ne,we=st):($[we]=He,$[Pe]=ne,we=Pe);else if(de!==void 0&&0>j(de,ne))$[we]=de,$[st]=ne,we=st;else break e}}return X}return null}function j($,X){var ne=$.sortIndex-X.sortIndex;return ne!==0?ne:$.id-X.id}var U=[],H=[],J=1,se=null,te=3,Le=!1,ae=!1,le=!1;function re($){for(var X=L(H);X!==null;){if(X.callback===null)W(H);else if(X.startTime<=$)W(H),X.sortIndex=X.expirationTime,V(U,X);else break;X=L(H)}}function Je($){if(le=!1,re($),!ae)if(L(U)!==null)ae=!0,e(dt);else{var X=L(H);X!==null&&r(Je,X.startTime-$)}}function dt($,X){ae=!1,le&&(le=!1,n()),Le=!0;var ne=te;try{for(re(X),se=L(U);se!==null&&(!(se.expirationTime>X)||$&&!t.unstable_shouldYield());){var we=se.callback;if(typeof we=="function"){se.callback=null,te=se.priorityLevel;var ie=we(se.expirationTime<=X);X=t.unstable_now(),typeof ie=="function"?se.callback=ie:se===L(U)&&W(U),re(X)}else W(U);se=L(U)}if(se!==null)var Pe=!0;else{var He=L(H);He!==null&&r(Je,He.startTime-X),Pe=!1}return Pe}finally{se=null,te=ne,Le=!1}}var ue=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){ae||Le||(ae=!0,e(dt))},t.unstable_getCurrentPriorityLevel=function(){return te},t.unstable_getFirstCallbackNode=function(){return L(U)},t.unstable_next=function($){switch(te){case 1:case 2:case 3:var X=3;break;default:X=te}var ne=te;te=X;try{return $()}finally{te=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ue,t.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ne=te;te=$;try{return X()}finally{te=ne}},t.unstable_scheduleCallback=function($,X,ne){var we=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?we+ne:we):ne=we,$){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ne+ie,$={id:J++,callback:X,priorityLevel:$,startTime:ne,expirationTime:ie,sortIndex:-1},ne>we?($.sortIndex=ne,V(H,$),L(U)===null&&$===L(H)&&(le?n():le=!0,r(Je,ne-we))):($.sortIndex=ie,V(U,$),ae||Le||(ae=!0,e(dt))),$},t.unstable_wrapCallback=function($){var X=te;return function(){var ne=te;te=X;try{return $.apply(this,arguments)}finally{te=ne}}}})(f2);(function(t){t.exports=f2})(c2);/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=fr.exports,Tt=D0,Jt=c2.exports;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Qd)throw Error(ee(227));var d2=new Set,Lu={};function Aa(t,e){Bo(t,e),Bo(t+"Capture",e)}function Bo(t,e){for(Lu[t]=e,t=0;t<e.length;t++)d2.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ox=Object.prototype.hasOwnProperty,kx={},Mx={};function SN(t){return Ox.call(Mx,t)?!0:Ox.call(kx,t)?!1:TN.test(t)?Mx[t]=!0:(kx[t]=!0,!1)}function EN(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CN(t,e,r,n){if(e===null||typeof e>"u"||EN(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ur[t]=new Mr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ur[e]=new Mr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ur[t]=new Mr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ur[t]=new Mr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ur[t]=new Mr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ur[t]=new Mr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ur[t]=new Mr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ur[t]=new Mr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ur[t]=new Mr(t,5,!1,t.toLowerCase(),null,!1,!1)});var B0=/[\-:]([a-z])/g;function V0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(B0,V0);ur[e]=new Mr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(B0,V0);ur[e]=new Mr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(B0,V0);ur[e]=new Mr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ur[t]=new Mr(t,1,!1,t.toLowerCase(),null,!1,!1)});ur.xlinkHref=new Mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ur[t]=new Mr(t,1,!1,t.toLowerCase(),null,!0,!0)});function z0(t,e,r,n){var i=ur.hasOwnProperty(e)?ur[e]:null,s=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(CN(e,r,i,n)&&(r=null),n||i===null?SN(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Oa=Qd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ou=60103,ra=60106,ji=60107,H0=60108,vu=60114,$0=60109,W0=60110,Zd=60112,mu=60113,$f=60120,Jd=60115,j0=60116,G0=60121,Y0=60128,p2=60129,X0=60130,gg=60131;if(typeof Symbol=="function"&&Symbol.for){var Kt=Symbol.for;ou=Kt("react.element"),ra=Kt("react.portal"),ji=Kt("react.fragment"),H0=Kt("react.strict_mode"),vu=Kt("react.profiler"),$0=Kt("react.provider"),W0=Kt("react.context"),Zd=Kt("react.forward_ref"),mu=Kt("react.suspense"),$f=Kt("react.suspense_list"),Jd=Kt("react.memo"),j0=Kt("react.lazy"),G0=Kt("react.block"),Kt("react.scope"),Y0=Kt("react.opaque.id"),p2=Kt("react.debug_trace_mode"),X0=Kt("react.offscreen"),gg=Kt("react.legacy_hidden")}var Dx=typeof Symbol=="function"&&Symbol.iterator;function Ll(t){return t===null||typeof t!="object"?null:(t=Dx&&t[Dx]||t["@@iterator"],typeof t=="function"?t:null)}var Xv;function lu(t){if(Xv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Xv=e&&e[1]||""}return`
`+Xv+t}var qv=!1;function Oc(t,e){if(!t||qv)return"";qv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,u=s.length-1;1<=a&&0<=u&&i[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==s[u])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=u);break}}}finally{qv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?lu(t):""}function IN(t){switch(t.tag){case 5:return lu(t.type);case 16:return lu("Lazy");case 13:return lu("Suspense");case 19:return lu("SuspenseList");case 0:case 2:case 15:return t=Oc(t.type,!1),t;case 11:return t=Oc(t.type.render,!1),t;case 22:return t=Oc(t.type._render,!1),t;case 1:return t=Oc(t.type,!0),t;default:return""}}function xo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ji:return"Fragment";case ra:return"Portal";case vu:return"Profiler";case H0:return"StrictMode";case mu:return"Suspense";case $f:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W0:return(t.displayName||"Context")+".Consumer";case $0:return(t._context.displayName||"Context")+".Provider";case Zd:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Jd:return xo(t.type);case G0:return xo(t._render);case j0:e=t._payload,t=t._init;try{return xo(t(e))}catch{}}return null}function ms(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function v2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PN(t){var e=v2(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kc(t){t._valueTracker||(t._valueTracker=PN(t))}function m2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=v2(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Wf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yg(t,e){var r=e.checked;return Tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Rx(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ms(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function g2(t,e){e=e.checked,e!=null&&z0(t,"checked",e,!1)}function _g(t,e){g2(t,e);var r=ms(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wg(t,e.type,r):e.hasOwnProperty("defaultValue")&&wg(t,e.type,ms(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nx(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function wg(t,e,r){(e!=="number"||Wf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function AN(t){var e="";return Qd.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function xg(t,e){return t=Tt({children:void 0},e),(e=AN(e.children))&&(t.children=e),t}function bo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ms(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ee(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(ee(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ms(r)}}function y2(t,e){var r=ms(e.value),n=ms(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Lx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Tg={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function _2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mc,w2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==Tg.svg||"innerHTML"in t)t.innerHTML=e;else{for(Mc=Mc||document.createElement("div"),Mc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var gu={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ON=["Webkit","ms","Moz","O"];Object.keys(gu).forEach(function(t){ON.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gu[e]=gu[t]})});function x2(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||gu.hasOwnProperty(t)&&gu[t]?(""+e).trim():e+"px"}function b2(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=x2(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var kN=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eg(t,e){if(e){if(kN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Cg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function q0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ig=null,To=null,So=null;function Ux(t){if(t=Uh(t)){if(typeof Ig!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=sp(e),Ig(t.stateNode,t.type,e))}}function T2(t){To?So?So.push(t):So=[t]:To=t}function S2(){if(To){var t=To,e=So;if(So=To=null,Ux(t),e)for(t=0;t<e.length;t++)Ux(e[t])}}function K0(t,e){return t(e)}function E2(t,e,r,n,i){return t(e,r,n,i)}function Q0(){}var C2=K0,na=!1,Kv=!1;function Z0(){(To!==null||So!==null)&&(Q0(),S2())}function MN(t,e,r){if(Kv)return t(e,r);Kv=!0;try{return C2(t,e,r)}finally{Kv=!1,Z0()}}function Bu(t,e){var r=t.stateNode;if(r===null)return null;var n=sp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ee(231,e,typeof r));return r}var Pg=!1;if(Ei)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Pg=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Pg=!1}function DN(t,e,r,n,i,s,a,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(m){this.onError(m)}}var yu=!1,jf=null,Gf=!1,Ag=null,RN={onError:function(t){yu=!0,jf=t}};function NN(t,e,r,n,i,s,a,u,c){yu=!1,jf=null,DN.apply(RN,arguments)}function FN(t,e,r,n,i,s,a,u,c){if(NN.apply(this,arguments),yu){if(yu){var d=jf;yu=!1,jf=null}else throw Error(ee(198));Gf||(Gf=!0,Ag=d)}}function ka(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function I2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bx(t){if(ka(t)!==t)throw Error(ee(188))}function LN(t){var e=t.alternate;if(!e){if(e=ka(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Bx(i),t;if(s===n)return Bx(i),e;s=s.sibling}throw Error(ee(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,u=i.child;u;){if(u===r){a=!0,r=i,n=s;break}if(u===n){a=!0,n=i,r=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===r){a=!0,r=s,n=i;break}if(u===n){a=!0,n=s,r=i;break}u=u.sibling}if(!a)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?t:e}function P2(t){if(t=LN(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Vx(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var A2,J0,O2,k2,Og=!1,Nn=[],ts=null,rs=null,ns=null,Vu=new Map,zu=new Map,Bl=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kg(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function Hx(t,e){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Vu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(e.pointerId)}}function Vl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t=kg(e,r,n,i,s),e!==null&&(e=Uh(e),e!==null&&J0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UN(t,e,r,n,i){switch(e){case"focusin":return ts=Vl(ts,t,e,r,n,i),!0;case"dragenter":return rs=Vl(rs,t,e,r,n,i),!0;case"mouseover":return ns=Vl(ns,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Vu.set(s,Vl(Vu.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,zu.set(s,Vl(zu.get(s)||null,t,e,r,n,i)),!0}return!1}function BN(t){var e=ia(t.target);if(e!==null){var r=ka(e);if(r!==null){if(e=r.tag,e===13){if(e=I2(r),e!==null){t.blockedOn=e,k2(t.lanePriority,function(){Jt.unstable_runWithPriority(t.priority,function(){O2(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=n_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Uh(r),e!==null&&J0(e),t.blockedOn=r,!1;e.shift()}return!0}function $x(t,e,r){mf(t)&&r.delete(e)}function VN(){for(Og=!1;0<Nn.length;){var t=Nn[0];if(t.blockedOn!==null){t=Uh(t.blockedOn),t!==null&&A2(t);break}for(var e=t.targetContainers;0<e.length;){var r=n_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&Nn.shift()}ts!==null&&mf(ts)&&(ts=null),rs!==null&&mf(rs)&&(rs=null),ns!==null&&mf(ns)&&(ns=null),Vu.forEach($x),zu.forEach($x)}function zl(t,e){t.blockedOn===e&&(t.blockedOn=null,Og||(Og=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,VN)))}function M2(t){function e(i){return zl(i,t)}if(0<Nn.length){zl(Nn[0],t);for(var r=1;r<Nn.length;r++){var n=Nn[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ts!==null&&zl(ts,t),rs!==null&&zl(rs,t),ns!==null&&zl(ns,t),Vu.forEach(e),zu.forEach(e),r=0;r<Bl.length;r++)n=Bl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Bl.length&&(r=Bl[0],r.blockedOn===null);)BN(r),r.blockedOn===null&&Bl.shift()}function Dc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var lo={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Qv={},D2={};Ei&&(D2=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ep(t){if(Qv[t])return Qv[t];if(!lo[t])return t;var e=lo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in D2)return Qv[t]=e[r];return t}var R2=ep("animationend"),N2=ep("animationiteration"),F2=ep("animationstart"),L2=ep("transitionend"),U2=new Map,e_=new Map,zN=["abort","abort",R2,"animationEnd",N2,"animationIteration",F2,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",L2,"transitionEnd","waiting","waiting"];function t_(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),e_.set(n,e),U2.set(n,i),Aa(i,[n])}}var HN=Jt.unstable_now;HN();var ct=8;function no(t){if(1&t)return ct=15,1;if(2&t)return ct=14,2;if(4&t)return ct=13,4;var e=24&t;return e!==0?(ct=12,e):t&32?(ct=11,32):(e=192&t,e!==0?(ct=10,e):t&256?(ct=9,256):(e=3584&t,e!==0?(ct=8,e):t&4096?(ct=7,4096):(e=4186112&t,e!==0?(ct=6,e):(e=62914560&t,e!==0?(ct=5,e):t&67108864?(ct=4,67108864):t&134217728?(ct=3,134217728):(e=805306368&t,e!==0?(ct=2,e):1073741824&t?(ct=1,1073741824):(ct=8,t))))))}function $N(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function WN(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ee(358,t))}}function Hu(t,e){var r=t.pendingLanes;if(r===0)return ct=0;var n=0,i=0,s=t.expiredLanes,a=t.suspendedLanes,u=t.pingedLanes;if(s!==0)n=s,i=ct=15;else if(s=r&134217727,s!==0){var c=s&~a;c!==0?(n=no(c),i=ct):(u&=s,u!==0&&(n=no(u),i=ct))}else s=r&~a,s!==0?(n=no(s),i=ct):u!==0&&(n=no(u),i=ct);if(n===0)return 0;if(n=31-gs(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&a)){if(no(e),i<=ct)return e;ct=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-gs(e),i=1<<r,n|=t[r],e&=~i;return n}function B2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yf(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=io(24&~e),t===0?Yf(10,e):t;case 10:return t=io(192&~e),t===0?Yf(8,e):t;case 8:return t=io(3584&~e),t===0&&(t=io(4186112&~e),t===0&&(t=512)),t;case 2:return e=io(805306368&~e),e===0&&(e=268435456),e}throw Error(ee(358,t))}function io(t){return t&-t}function Zv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function tp(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-gs(e),t[e]=r}var gs=Math.clz32?Math.clz32:YN,jN=Math.log,GN=Math.LN2;function YN(t){return t===0?32:31-(jN(t)/GN|0)|0}var XN=Jt.unstable_UserBlockingPriority,qN=Jt.unstable_runWithPriority,gf=!0;function KN(t,e,r,n){na||Q0();var i=r_,s=na;na=!0;try{E2(i,t,e,r,n)}finally{(na=s)||Z0()}}function QN(t,e,r,n){qN(XN,r_.bind(null,t,e,r,n))}function r_(t,e,r,n){if(gf){var i;if((i=(e&4)===0)&&0<Nn.length&&-1<zx.indexOf(t))t=kg(null,t,e,r,n),Nn.push(t);else{var s=n_(t,e,r,n);if(s===null)i&&Hx(t,n);else{if(i){if(-1<zx.indexOf(t)){t=kg(s,t,e,r,n),Nn.push(t);return}if(UN(s,t,e,r,n))return;Hx(t,n)}Z2(t,e,n,null,r)}}}}function n_(t,e,r,n){var i=q0(n);if(i=ia(i),i!==null){var s=ka(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=I2(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Z2(t,e,n,i,r),null}var Yi=null,i_=null,yf=null;function V2(){if(yf)return yf;var t,e=i_,r=e.length,n,i="value"in Yi?Yi.value:Yi.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return yf=i.slice(t,1<n?1-n:void 0)}function _f(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rc(){return!0}function Wx(){return!1}function Qr(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rc:Wx,this.isPropagationStopped=Wx,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rc)},persist:function(){},isPersistent:Rc}),e}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},s_=Qr(ll),Lh=Tt({},ll,{view:0,detail:0}),ZN=Qr(Lh),Jv,em,Hl,rp=Tt({},Lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hl&&(Hl&&t.type==="mousemove"?(Jv=t.screenX-Hl.screenX,em=t.screenY-Hl.screenY):em=Jv=0,Hl=t),Jv)},movementY:function(t){return"movementY"in t?t.movementY:em}}),jx=Qr(rp),JN=Tt({},rp,{dataTransfer:0}),eF=Qr(JN),tF=Tt({},Lh,{relatedTarget:0}),tm=Qr(tF),rF=Tt({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),nF=Qr(rF),iF=Tt({},ll,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sF=Qr(iF),aF=Tt({},ll,{data:0}),Gx=Qr(aF),oF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uF[t])?!!e[t]:!1}function a_(){return hF}var cF=Tt({},Lh,{key:function(t){if(t.key){var e=oF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_f(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a_,charCode:function(t){return t.type==="keypress"?_f(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_f(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fF=Qr(cF),dF=Tt({},rp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yx=Qr(dF),pF=Tt({},Lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a_}),vF=Qr(pF),mF=Tt({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),gF=Qr(mF),yF=Tt({},rp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_F=Qr(yF),wF=[9,13,27,32],o_=Ei&&"CompositionEvent"in window,_u=null;Ei&&"documentMode"in document&&(_u=document.documentMode);var xF=Ei&&"TextEvent"in window&&!_u,z2=Ei&&(!o_||_u&&8<_u&&11>=_u),Xx=String.fromCharCode(32),qx=!1;function H2(t,e){switch(t){case"keyup":return wF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uo=!1;function bF(t,e){switch(t){case"compositionend":return $2(e);case"keypress":return e.which!==32?null:(qx=!0,Xx);case"textInput":return t=e.data,t===Xx&&qx?null:t;default:return null}}function TF(t,e){if(uo)return t==="compositionend"||!o_&&H2(t,e)?(t=V2(),yf=i_=Yi=null,uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return z2&&e.locale!=="ko"?null:e.data;default:return null}}var SF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SF[t.type]:e==="textarea"}function W2(t,e,r,n){T2(n),e=Xf(e,"onChange"),0<e.length&&(r=new s_("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var wu=null,$u=null;function EF(t){q2(t,0)}function np(t){var e=co(t);if(m2(e))return t}function CF(t,e){if(t==="change")return e}var j2=!1;if(Ei){var rm;if(Ei){var nm="oninput"in document;if(!nm){var Qx=document.createElement("div");Qx.setAttribute("oninput","return;"),nm=typeof Qx.oninput=="function"}rm=nm}else rm=!1;j2=rm&&(!document.documentMode||9<document.documentMode)}function Zx(){wu&&(wu.detachEvent("onpropertychange",G2),$u=wu=null)}function G2(t){if(t.propertyName==="value"&&np($u)){var e=[];if(W2(e,$u,t,q0(t)),t=EF,na)t(e);else{na=!0;try{K0(t,e)}finally{na=!1,Z0()}}}}function IF(t,e,r){t==="focusin"?(Zx(),wu=e,$u=r,wu.attachEvent("onpropertychange",G2)):t==="focusout"&&Zx()}function PF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return np($u)}function AF(t,e){if(t==="click")return np(e)}function OF(t,e){if(t==="input"||t==="change")return np(e)}function kF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sn=typeof Object.is=="function"?Object.is:kF,MF=Object.prototype.hasOwnProperty;function Wu(t,e){if(sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!MF.call(e,r[n])||!sn(t[r[n]],e[r[n]]))return!1;return!0}function Jx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eb(t,e){var r=Jx(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jx(r)}}function Y2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Y2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tb(){for(var t=window,e=Wf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Wf(t.document)}return e}function Mg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var DF=Ei&&"documentMode"in document&&11>=document.documentMode,ho=null,Dg=null,xu=null,Rg=!1;function rb(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rg||ho==null||ho!==Wf(n)||(n=ho,"selectionStart"in n&&Mg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xu&&Wu(xu,n)||(xu=n,n=Xf(Dg,"onSelect"),0<n.length&&(e=new s_("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ho)))}t_("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);t_("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);t_(zN,2);for(var nb="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),im=0;im<nb.length;im++)e_.set(nb[im],0);Bo("onMouseEnter",["mouseout","mouseover"]);Bo("onMouseLeave",["mouseout","mouseover"]);Bo("onPointerEnter",["pointerout","pointerover"]);Bo("onPointerLeave",["pointerout","pointerover"]);Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X2=new Set("cancel close invalid load scroll toggle".split(" ").concat(uu));function ib(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,FN(n,e,void 0,t),t.currentTarget=null}function q2(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var u=n[a],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;ib(i,u,d),s=c}else for(a=0;a<n.length;a++){if(u=n[a],c=u.instance,d=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;ib(i,u,d),s=c}}}if(Gf)throw t=Ag,Gf=!1,Ag=null,t}function pt(t,e){var r=eC(e),n=t+"__bubble";r.has(n)||(Q2(e,t,2,!1),r.add(n))}var sb="_reactListening"+Math.random().toString(36).slice(2);function K2(t){t[sb]||(t[sb]=!0,d2.forEach(function(e){X2.has(e)||ab(e,!1,t,null),ab(e,!0,t,null)}))}function ab(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=r;if(t==="selectionchange"&&r.nodeType!==9&&(s=r.ownerDocument),n!==null&&!e&&X2.has(t)){if(t!=="scroll")return;i|=2,s=n}var a=eC(s),u=t+"__"+(e?"capture":"bubble");a.has(u)||(e&&(i|=4),Q2(s,t,i,e),a.add(u))}function Q2(t,e,r,n){var i=e_.get(e);switch(i===void 0?2:i){case 0:i=KN;break;case 1:i=QN;break;default:i=r_}r=i.bind(null,e,r,t),i=void 0,!Pg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Z2(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=ia(u),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}u=u.parentNode}}n=n.return}MN(function(){var d=s,m=q0(r),_=[];e:{var w=U2.get(t);if(w!==void 0){var T=s_,S=t;switch(t){case"keypress":if(_f(r)===0)break e;case"keydown":case"keyup":T=fF;break;case"focusin":S="focus",T=tm;break;case"focusout":S="blur",T=tm;break;case"beforeblur":case"afterblur":T=tm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=jx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=eF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=vF;break;case R2:case N2:case F2:T=nF;break;case L2:T=gF;break;case"scroll":T=ZN;break;case"wheel":T=_F;break;case"copy":case"cut":case"paste":T=sF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=Yx}var P=(e&4)!==0,E=!P&&t==="scroll",A=P?w!==null?w+"Capture":null:w;P=[];for(var O=d,M;O!==null;){M=O;var R=M.stateNode;if(M.tag===5&&R!==null&&(M=R,A!==null&&(R=Bu(O,A),R!=null&&P.push(ju(O,R,M)))),E)break;O=O.return}0<P.length&&(w=new T(w,S,null,r,m),_.push({event:w,listeners:P}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",w&&!(e&16)&&(S=r.relatedTarget||r.fromElement)&&(ia(S)||S[ul]))break e;if((T||w)&&(w=m.window===m?m:(w=m.ownerDocument)?w.defaultView||w.parentWindow:window,T?(S=r.relatedTarget||r.toElement,T=d,S=S?ia(S):null,S!==null&&(E=ka(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(T=null,S=d),T!==S)){if(P=jx,R="onMouseLeave",A="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(P=Yx,R="onPointerLeave",A="onPointerEnter",O="pointer"),E=T==null?w:co(T),M=S==null?w:co(S),w=new P(R,O+"leave",T,r,m),w.target=E,w.relatedTarget=M,R=null,ia(m)===d&&(P=new P(A,O+"enter",S,r,m),P.target=M,P.relatedTarget=E,R=P),E=R,T&&S)t:{for(P=T,A=S,O=0,M=P;M;M=Qa(M))O++;for(M=0,R=A;R;R=Qa(R))M++;for(;0<O-M;)P=Qa(P),O--;for(;0<M-O;)A=Qa(A),M--;for(;O--;){if(P===A||A!==null&&P===A.alternate)break t;P=Qa(P),A=Qa(A)}P=null}else P=null;T!==null&&ob(_,w,T,P,!1),S!==null&&E!==null&&ob(_,E,S,P,!0)}}e:{if(w=d?co(d):window,T=w.nodeName&&w.nodeName.toLowerCase(),T==="select"||T==="input"&&w.type==="file")var V=CF;else if(Kx(w))if(j2)V=OF;else{V=PF;var L=IF}else(T=w.nodeName)&&T.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(V=AF);if(V&&(V=V(t,d))){W2(_,V,r,m);break e}L&&L(t,w,d),t==="focusout"&&(L=w._wrapperState)&&L.controlled&&w.type==="number"&&wg(w,"number",w.value)}switch(L=d?co(d):window,t){case"focusin":(Kx(L)||L.contentEditable==="true")&&(ho=L,Dg=d,xu=null);break;case"focusout":xu=Dg=ho=null;break;case"mousedown":Rg=!0;break;case"contextmenu":case"mouseup":case"dragend":Rg=!1,rb(_,r,m);break;case"selectionchange":if(DF)break;case"keydown":case"keyup":rb(_,r,m)}var W;if(o_)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else uo?H2(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(z2&&r.locale!=="ko"&&(uo||j!=="onCompositionStart"?j==="onCompositionEnd"&&uo&&(W=V2()):(Yi=m,i_="value"in Yi?Yi.value:Yi.textContent,uo=!0)),L=Xf(d,j),0<L.length&&(j=new Gx(j,t,null,r,m),_.push({event:j,listeners:L}),W?j.data=W:(W=$2(r),W!==null&&(j.data=W)))),(W=xF?bF(t,r):TF(t,r))&&(d=Xf(d,"onBeforeInput"),0<d.length&&(m=new Gx("onBeforeInput","beforeinput",null,r,m),_.push({event:m,listeners:d}),m.data=W))}q2(_,e)})}function ju(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Xf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bu(t,r),s!=null&&n.unshift(ju(t,s,i)),s=Bu(t,e),s!=null&&n.push(ju(t,s,i))),t=t.return}return n}function Qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ob(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var u=r,c=u.alternate,d=u.stateNode;if(c!==null&&c===n)break;u.tag===5&&d!==null&&(u=d,i?(c=Bu(r,s),c!=null&&a.unshift(ju(r,c,u))):i||(c=Bu(r,s),c!=null&&a.push(ju(r,c,u)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}function qf(){}var sm=null,am=null;function J2(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ng(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lb=typeof setTimeout=="function"?setTimeout:void 0,RF=typeof clearTimeout=="function"?clearTimeout:void 0;function l_(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Eo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function ub(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var om=0;function NF(t){return{$$typeof:Y0,toString:t,valueOf:t}}var ip=Math.random().toString(36).slice(2),Xi="__reactFiber$"+ip,Kf="__reactProps$"+ip,ul="__reactContainer$"+ip,hb="__reactEvents$"+ip;function ia(t){var e=t[Xi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ul]||r[Xi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ub(t);t!==null;){if(r=t[Xi])return r;t=ub(t)}return e}t=r,r=t.parentNode}return null}function Uh(t){return t=t[Xi]||t[ul],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function sp(t){return t[Kf]||null}function eC(t){var e=t[hb];return e===void 0&&(e=t[hb]=new Set),e}var Fg=[],fo=-1;function Cs(t){return{current:t}}function vt(t){0>fo||(t.current=Fg[fo],Fg[fo]=null,fo--)}function At(t,e){fo++,Fg[fo]=t.current,t.current=e}var ys={},Tr=Cs(ys),zr=Cs(!1),ya=ys;function Vo(t,e){var r=t.type.contextTypes;if(!r)return ys;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Hr(t){return t=t.childContextTypes,t!=null}function Qf(){vt(zr),vt(Tr)}function cb(t,e,r){if(Tr.current!==ys)throw Error(ee(168));At(Tr,e),At(zr,r)}function tC(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ee(108,xo(e)||"Unknown",i));return Tt({},r,n)}function wf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ys,ya=Tr.current,At(Tr,t),At(zr,zr.current),!0}function fb(t,e,r){var n=t.stateNode;if(!n)throw Error(ee(169));r?(t=tC(t,e,ya),n.__reactInternalMemoizedMergedChildContext=t,vt(zr),vt(Tr),At(Tr,t)):vt(zr),At(zr,r)}var u_=null,fa=null,FF=Jt.unstable_runWithPriority,h_=Jt.unstable_scheduleCallback,Lg=Jt.unstable_cancelCallback,LF=Jt.unstable_shouldYield,db=Jt.unstable_requestPaint,Ug=Jt.unstable_now,UF=Jt.unstable_getCurrentPriorityLevel,ap=Jt.unstable_ImmediatePriority,rC=Jt.unstable_UserBlockingPriority,nC=Jt.unstable_NormalPriority,iC=Jt.unstable_LowPriority,sC=Jt.unstable_IdlePriority,lm={},BF=db!==void 0?db:function(){},ui=null,xf=null,um=!1,pb=Ug(),yr=1e4>pb?Ug:function(){return Ug()-pb};function zo(){switch(UF()){case ap:return 99;case rC:return 98;case nC:return 97;case iC:return 96;case sC:return 95;default:throw Error(ee(332))}}function aC(t){switch(t){case 99:return ap;case 98:return rC;case 97:return nC;case 96:return iC;case 95:return sC;default:throw Error(ee(332))}}function _a(t,e){return t=aC(t),FF(t,e)}function Gu(t,e,r){return t=aC(t),h_(t,e,r)}function Qn(){if(xf!==null){var t=xf;xf=null,Lg(t)}oC()}function oC(){if(!um&&ui!==null){um=!0;var t=0;try{var e=ui;_a(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),ui=null}catch(r){throw ui!==null&&(ui=ui.slice(t+1)),h_(ap,Qn),r}finally{um=!1}}}var VF=Oa.ReactCurrentBatchConfig;function gn(t,e){if(t&&t.defaultProps){e=Tt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Zf=Cs(null),Jf=null,po=null,ed=null;function c_(){ed=po=Jf=null}function f_(t){var e=Zf.current;vt(Zf),t.type._context._currentValue=e}function lC(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function Co(t,e){Jf=t,ed=po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function cn(t,e){if(ed!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(ed=t,e=1073741823),e={context:t,observedBits:e,next:null},po===null){if(Jf===null)throw Error(ee(308));po=e,Jf.dependencies={lanes:0,firstContext:e,responders:null}}else po=po.next=e;return t._currentValue}var Wi=!1;function d_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function is(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ss(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function vb(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Yu(t,e,r,n){var i=t.updateQueue;Wi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,d=c.next;c.next=null,a===null?s=d:a.next=d,a=c;var m=t.alternate;if(m!==null){m=m.updateQueue;var _=m.lastBaseUpdate;_!==a&&(_===null?m.firstBaseUpdate=d:_.next=d,m.lastBaseUpdate=c)}}if(s!==null){_=i.baseState,a=0,m=d=c=null;do{u=s.lane;var w=s.eventTime;if((n&u)===u){m!==null&&(m=m.next={eventTime:w,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var T=t,S=s;switch(u=e,w=r,S.tag){case 1:if(T=S.payload,typeof T=="function"){_=T.call(w,_,u);break e}_=T;break e;case 3:T.flags=T.flags&-4097|64;case 0:if(T=S.payload,u=typeof T=="function"?T.call(w,_,u):T,u==null)break e;_=Tt({},_,u);break e;case 2:Wi=!0}}s.callback!==null&&(t.flags|=32,u=i.effects,u===null?i.effects=[s]:u.push(s))}else w={eventTime:w,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},m===null?(d=m=w,c=_):m=m.next=w,a|=u;if(s=s.next,s===null){if(u=i.shared.pending,u===null)break;s=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(1);m===null&&(c=_),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=m,Vh|=a,t.lanes=a,t.memoizedState=_}}function mb(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ee(191,i));i.call(n)}}}var hC=new Qd.Component().refs;function td(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Tt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var op={isMounted:function(t){return(t=t._reactInternals)?ka(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Xr(),i=as(t),s=is(n,i);s.payload=e,r!=null&&(s.callback=r),ss(t,s),os(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Xr(),i=as(t),s=is(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),ss(t,s),os(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Xr(),n=as(t),i=is(r,n);i.tag=2,e!=null&&(i.callback=e),ss(t,i),os(t,n,r)}};function gb(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Wu(r,n)||!Wu(i,s):!0}function cC(t,e,r){var n=!1,i=ys,s=e.contextType;return typeof s=="object"&&s!==null?s=cn(s):(i=Hr(e)?ya:Tr.current,n=e.contextTypes,s=(n=n!=null)?Vo(t,i):ys),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=op,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function yb(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&op.enqueueReplaceState(e,e.state,null)}function Bg(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=hC,d_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=cn(s):(s=Hr(e)?ya:Tr.current,i.context=Vo(t,s)),Yu(t,r,i,n),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(td(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&op.enqueueReplaceState(i,i.state,null),Yu(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Nc=Array.isArray;function $l(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=n.refs;a===hC&&(a=n.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,t))}return t}function Fc(t,e){if(t.type!=="textarea")throw Error(ee(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function fC(t){function e(E,A){if(t){var O=E.lastEffect;O!==null?(O.nextEffect=A,E.lastEffect=A):E.firstEffect=E.lastEffect=A,A.nextEffect=null,A.flags=8}}function r(E,A){if(!t)return null;for(;A!==null;)e(E,A),A=A.sibling;return null}function n(E,A){for(E=new Map;A!==null;)A.key!==null?E.set(A.key,A):E.set(A.index,A),A=A.sibling;return E}function i(E,A){return E=ws(E,A),E.index=0,E.sibling=null,E}function s(E,A,O){return E.index=O,t?(O=E.alternate,O!==null?(O=O.index,O<A?(E.flags=2,A):O):(E.flags=2,A)):A}function a(E){return t&&E.alternate===null&&(E.flags=2),E}function u(E,A,O,M){return A===null||A.tag!==6?(A=pm(O,E.mode,M),A.return=E,A):(A=i(A,O),A.return=E,A)}function c(E,A,O,M){return A!==null&&A.elementType===O.type?(M=i(A,O.props),M.ref=$l(E,A,O),M.return=E,M):(M=Ef(O.type,O.key,O.props,null,E.mode,M),M.ref=$l(E,A,O),M.return=E,M)}function d(E,A,O,M){return A===null||A.tag!==4||A.stateNode.containerInfo!==O.containerInfo||A.stateNode.implementation!==O.implementation?(A=vm(O,E.mode,M),A.return=E,A):(A=i(A,O.children||[]),A.return=E,A)}function m(E,A,O,M,R){return A===null||A.tag!==7?(A=Oo(O,E.mode,M,R),A.return=E,A):(A=i(A,O),A.return=E,A)}function _(E,A,O){if(typeof A=="string"||typeof A=="number")return A=pm(""+A,E.mode,O),A.return=E,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ou:return O=Ef(A.type,A.key,A.props,null,E.mode,O),O.ref=$l(E,null,A),O.return=E,O;case ra:return A=vm(A,E.mode,O),A.return=E,A}if(Nc(A)||Ll(A))return A=Oo(A,E.mode,O,null),A.return=E,A;Fc(E,A)}return null}function w(E,A,O,M){var R=A!==null?A.key:null;if(typeof O=="string"||typeof O=="number")return R!==null?null:u(E,A,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ou:return O.key===R?O.type===ji?m(E,A,O.props.children,M,R):c(E,A,O,M):null;case ra:return O.key===R?d(E,A,O,M):null}if(Nc(O)||Ll(O))return R!==null?null:m(E,A,O,M,null);Fc(E,O)}return null}function T(E,A,O,M,R){if(typeof M=="string"||typeof M=="number")return E=E.get(O)||null,u(A,E,""+M,R);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ou:return E=E.get(M.key===null?O:M.key)||null,M.type===ji?m(A,E,M.props.children,R,M.key):c(A,E,M,R);case ra:return E=E.get(M.key===null?O:M.key)||null,d(A,E,M,R)}if(Nc(M)||Ll(M))return E=E.get(O)||null,m(A,E,M,R,null);Fc(A,M)}return null}function S(E,A,O,M){for(var R=null,V=null,L=A,W=A=0,j=null;L!==null&&W<O.length;W++){L.index>W?(j=L,L=null):j=L.sibling;var U=w(E,L,O[W],M);if(U===null){L===null&&(L=j);break}t&&L&&U.alternate===null&&e(E,L),A=s(U,A,W),V===null?R=U:V.sibling=U,V=U,L=j}if(W===O.length)return r(E,L),R;if(L===null){for(;W<O.length;W++)L=_(E,O[W],M),L!==null&&(A=s(L,A,W),V===null?R=L:V.sibling=L,V=L);return R}for(L=n(E,L);W<O.length;W++)j=T(L,E,W,O[W],M),j!==null&&(t&&j.alternate!==null&&L.delete(j.key===null?W:j.key),A=s(j,A,W),V===null?R=j:V.sibling=j,V=j);return t&&L.forEach(function(H){return e(E,H)}),R}function P(E,A,O,M){var R=Ll(O);if(typeof R!="function")throw Error(ee(150));if(O=R.call(O),O==null)throw Error(ee(151));for(var V=R=null,L=A,W=A=0,j=null,U=O.next();L!==null&&!U.done;W++,U=O.next()){L.index>W?(j=L,L=null):j=L.sibling;var H=w(E,L,U.value,M);if(H===null){L===null&&(L=j);break}t&&L&&H.alternate===null&&e(E,L),A=s(H,A,W),V===null?R=H:V.sibling=H,V=H,L=j}if(U.done)return r(E,L),R;if(L===null){for(;!U.done;W++,U=O.next())U=_(E,U.value,M),U!==null&&(A=s(U,A,W),V===null?R=U:V.sibling=U,V=U);return R}for(L=n(E,L);!U.done;W++,U=O.next())U=T(L,E,W,U.value,M),U!==null&&(t&&U.alternate!==null&&L.delete(U.key===null?W:U.key),A=s(U,A,W),V===null?R=U:V.sibling=U,V=U);return t&&L.forEach(function(J){return e(E,J)}),R}return function(E,A,O,M){var R=typeof O=="object"&&O!==null&&O.type===ji&&O.key===null;R&&(O=O.props.children);var V=typeof O=="object"&&O!==null;if(V)switch(O.$$typeof){case ou:e:{for(V=O.key,R=A;R!==null;){if(R.key===V){switch(R.tag){case 7:if(O.type===ji){r(E,R.sibling),A=i(R,O.props.children),A.return=E,E=A;break e}break;default:if(R.elementType===O.type){r(E,R.sibling),A=i(R,O.props),A.ref=$l(E,R,O),A.return=E,E=A;break e}}r(E,R);break}else e(E,R);R=R.sibling}O.type===ji?(A=Oo(O.props.children,E.mode,M,O.key),A.return=E,E=A):(M=Ef(O.type,O.key,O.props,null,E.mode,M),M.ref=$l(E,A,O),M.return=E,E=M)}return a(E);case ra:e:{for(R=O.key;A!==null;){if(A.key===R)if(A.tag===4&&A.stateNode.containerInfo===O.containerInfo&&A.stateNode.implementation===O.implementation){r(E,A.sibling),A=i(A,O.children||[]),A.return=E,E=A;break e}else{r(E,A);break}else e(E,A);A=A.sibling}A=vm(O,E.mode,M),A.return=E,E=A}return a(E)}if(typeof O=="string"||typeof O=="number")return O=""+O,A!==null&&A.tag===6?(r(E,A.sibling),A=i(A,O),A.return=E,E=A):(r(E,A),A=pm(O,E.mode,M),A.return=E,E=A),a(E);if(Nc(O))return S(E,A,O,M);if(Ll(O))return P(E,A,O,M);if(V&&Fc(E,O),typeof O>"u"&&!R)switch(E.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ee(152,xo(E.type)||"Component"))}return r(E,A)}}var rd=fC(!0),dC=fC(!1),Bh={},Wn=Cs(Bh),Xu=Cs(Bh),qu=Cs(Bh);function sa(t){if(t===Bh)throw Error(ee(174));return t}function Vg(t,e){switch(At(qu,e),At(Xu,t),At(Wn,Bh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sg(e,t)}vt(Wn),At(Wn,e)}function Ho(){vt(Wn),vt(Xu),vt(qu)}function _b(t){sa(qu.current);var e=sa(Wn.current),r=Sg(e,t.type);e!==r&&(At(Xu,t),At(Wn,r))}function p_(t){Xu.current===t&&(vt(Wn),vt(Xu))}var Pt=Cs(0);function nd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fi=null,qi=null,jn=!1;function pC(t,e){var r=an(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function wb(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function zg(t){if(jn){var e=qi;if(e){var r=e;if(!wb(t,e)){if(e=Eo(r.nextSibling),!e||!wb(t,e)){t.flags=t.flags&-1025|2,jn=!1,fi=t;return}pC(fi,r)}fi=t,qi=Eo(e.firstChild)}else t.flags=t.flags&-1025|2,jn=!1,fi=t}}function xb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fi=t}function Lc(t){if(t!==fi)return!1;if(!jn)return xb(t),jn=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Ng(e,t.memoizedProps))for(e=qi;e;)pC(t,e),e=Eo(e.nextSibling);if(xb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){qi=Eo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}qi=null}}else qi=fi?Eo(t.stateNode.nextSibling):null;return!0}function hm(){qi=fi=null,jn=!1}var Io=[];function v_(){for(var t=0;t<Io.length;t++)Io[t]._workInProgressVersionPrimary=null;Io.length=0}var bu=Oa.ReactCurrentDispatcher,ln=Oa.ReactCurrentBatchConfig,Ku=0,Dt=null,dr=null,ir=null,id=!1,Tu=!1;function Lr(){throw Error(ee(321))}function m_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!sn(t[r],e[r]))return!1;return!0}function g_(t,e,r,n,i,s){if(Ku=s,Dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bu.current=t===null||t.memoizedState===null?HF:$F,t=r(n,i),Tu){s=0;do{if(Tu=!1,!(25>s))throw Error(ee(301));s+=1,ir=dr=null,e.updateQueue=null,bu.current=WF,t=r(n,i)}while(Tu)}if(bu.current=ld,e=dr!==null&&dr.next!==null,Ku=0,ir=dr=Dt=null,id=!1,e)throw Error(ee(300));return t}function aa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?Dt.memoizedState=ir=t:ir=ir.next=t,ir}function Ma(){if(dr===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=dr.next;var e=ir===null?Dt.memoizedState:ir.next;if(e!==null)ir=e,dr=t;else{if(t===null)throw Error(ee(310));dr=t,t={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},ir===null?Dt.memoizedState=ir=t:ir=ir.next=t}return ir}function Fn(t,e){return typeof e=="function"?e(t):e}function Wl(t){var e=Ma(),r=e.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=dr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var u=a=s=null,c=i;do{var d=c.lane;if((Ku&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===t?c.eagerState:t(n,c.action);else{var m={lane:d,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};u===null?(a=u=m,s=n):u=u.next=m,Dt.lanes|=d,Vh|=d}c=c.next}while(c!==null&&c!==i);u===null?s=n:u.next=a,sn(n,e.memoizedState)||(_n=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=u,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function jl(t){var e=Ma(),r=e.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);sn(s,e.memoizedState)||(_n=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function bb(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(Ku&t)===t)&&(e._workInProgressVersionPrimary=n,Io.push(e))),t)return r(e._source);throw Io.push(e),Error(ee(350))}function vC(t,e,r,n){var i=Or;if(i===null)throw Error(ee(349));var s=e._getVersion,a=s(e._source),u=bu.current,c=u.useState(function(){return bb(i,e,r)}),d=c[1],m=c[0];c=ir;var _=t.memoizedState,w=_.refs,T=w.getSnapshot,S=_.source;_=_.subscribe;var P=Dt;return t.memoizedState={refs:w,source:e,subscribe:n},u.useEffect(function(){w.getSnapshot=r,w.setSnapshot=d;var E=s(e._source);if(!sn(a,E)){E=r(e._source),sn(m,E)||(d(E),E=as(P),i.mutableReadLanes|=E&i.pendingLanes),E=i.mutableReadLanes,i.entangledLanes|=E;for(var A=i.entanglements,O=E;0<O;){var M=31-gs(O),R=1<<M;A[M]|=E,O&=~R}}},[r,e,n]),u.useEffect(function(){return n(e._source,function(){var E=w.getSnapshot,A=w.setSnapshot;try{A(E(e._source));var O=as(P);i.mutableReadLanes|=O&i.pendingLanes}catch(M){A(function(){throw M})}})},[e,n]),sn(T,r)&&sn(S,e)&&sn(_,n)||(t={pending:null,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:m},t.dispatch=d=w_.bind(null,Dt,t),c.queue=t,c.baseQueue=null,m=bb(i,e,r),c.memoizedState=c.baseState=m),m}function mC(t,e,r){var n=Ma();return vC(n,t,e,r)}function Gl(t){var e=aa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:t},t=t.dispatch=w_.bind(null,Dt,t),[e.memoizedState,t]}function sd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Dt.updateQueue,e===null?(e={lastEffect:null},Dt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Tb(t){var e=aa();return t={current:t},e.memoizedState=t}function ad(){return Ma().memoizedState}function Hg(t,e,r,n){var i=aa();Dt.flags|=t,i.memoizedState=sd(1|e,r,void 0,n===void 0?null:n)}function y_(t,e,r,n){var i=Ma();n=n===void 0?null:n;var s=void 0;if(dr!==null){var a=dr.memoizedState;if(s=a.destroy,n!==null&&m_(n,a.deps)){sd(e,r,s,n);return}}Dt.flags|=t,i.memoizedState=sd(1|e,r,s,n)}function Sb(t,e){return Hg(516,4,t,e)}function od(t,e){return y_(516,4,t,e)}function gC(t,e){return y_(4,2,t,e)}function yC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _C(t,e,r){return r=r!=null?r.concat([t]):null,y_(4,2,yC.bind(null,e,t),r)}function __(){}function wC(t,e){var r=Ma();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&m_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function xC(t,e){var r=Ma();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&m_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function zF(t,e){var r=zo();_a(98>r?98:r,function(){t(!0)}),_a(97<r?97:r,function(){var n=ln.transition;ln.transition=1;try{t(!1),e()}finally{ln.transition=n}})}function w_(t,e,r){var n=Xr(),i=as(t),s={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s,a=t.alternate,t===Dt||a!==null&&a===Dt)Tu=id=!0;else{if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,c=a(u,r);if(s.eagerReducer=a,s.eagerState=c,sn(c,u))return}catch{}finally{}os(t,i,n)}}var ld={readContext:cn,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useOpaqueIdentifier:Lr,unstable_isNewReconciler:!1},HF={readContext:cn,useCallback:function(t,e){return aa().memoizedState=[t,e===void 0?null:e],t},useContext:cn,useEffect:Sb,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Hg(4,2,yC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Hg(4,2,t,e)},useMemo:function(t,e){var r=aa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=aa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=w_.bind(null,Dt,t),[n.memoizedState,t]},useRef:Tb,useState:Gl,useDebugValue:__,useDeferredValue:function(t){var e=Gl(t),r=e[0],n=e[1];return Sb(function(){var i=ln.transition;ln.transition=1;try{n(t)}finally{ln.transition=i}},[t]),r},useTransition:function(){var t=Gl(!1),e=t[0];return t=zF.bind(null,t[1]),Tb(t),[t,e]},useMutableSource:function(t,e,r){var n=aa();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},vC(n,t,e,r)},useOpaqueIdentifier:function(){if(jn){var t=!1,e=NF(function(){throw t||(t=!0,r("r:"+(om++).toString(36))),Error(ee(355))}),r=Gl(e)[1];return!(Dt.mode&2)&&(Dt.flags|=516,sd(5,function(){r("r:"+(om++).toString(36))},void 0,null)),e}return e="r:"+(om++).toString(36),Gl(e),e},unstable_isNewReconciler:!1},$F={readContext:cn,useCallback:wC,useContext:cn,useEffect:od,useImperativeHandle:_C,useLayoutEffect:gC,useMemo:xC,useReducer:Wl,useRef:ad,useState:function(){return Wl(Fn)},useDebugValue:__,useDeferredValue:function(t){var e=Wl(Fn),r=e[0],n=e[1];return od(function(){var i=ln.transition;ln.transition=1;try{n(t)}finally{ln.transition=i}},[t]),r},useTransition:function(){var t=Wl(Fn)[0];return[ad().current,t]},useMutableSource:mC,useOpaqueIdentifier:function(){return Wl(Fn)[0]},unstable_isNewReconciler:!1},WF={readContext:cn,useCallback:wC,useContext:cn,useEffect:od,useImperativeHandle:_C,useLayoutEffect:gC,useMemo:xC,useReducer:jl,useRef:ad,useState:function(){return jl(Fn)},useDebugValue:__,useDeferredValue:function(t){var e=jl(Fn),r=e[0],n=e[1];return od(function(){var i=ln.transition;ln.transition=1;try{n(t)}finally{ln.transition=i}},[t]),r},useTransition:function(){var t=jl(Fn)[0];return[ad().current,t]},useMutableSource:mC,useOpaqueIdentifier:function(){return jl(Fn)[0]},unstable_isNewReconciler:!1},jF=Oa.ReactCurrentOwner,_n=!1;function Vr(t,e,r,n){e.child=t===null?dC(e,null,r,n):rd(e,t.child,r,n)}function Eb(t,e,r,n,i){r=r.render;var s=e.ref;return Co(e,i),n=g_(t,e,r,n,s,i),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,di(t,e,i)):(e.flags|=1,Vr(t,e,n,i),e.child)}function Cb(t,e,r,n,i,s){if(t===null){var a=r.type;return typeof a=="function"&&!C_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,bC(t,e,a,n,i,s)):(t=Ef(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,!(i&s)&&(i=a.memoizedProps,r=r.compare,r=r!==null?r:Wu,r(i,n)&&t.ref===e.ref)?di(t,e,s):(e.flags|=1,t=ws(a,n),t.ref=e.ref,t.return=e,e.child=t)}function bC(t,e,r,n,i,s){if(t!==null&&Wu(t.memoizedProps,n)&&t.ref===e.ref)if(_n=!1,(s&i)!==0)t.flags&16384&&(_n=!0);else return e.lanes=t.lanes,di(t,e,s);return $g(t,e,r,n,s)}function cm(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},Bc(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},Bc(e,s!==null?s.baseLanes:r);else return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Bc(e,t),null;else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Bc(e,n);return Vr(t,e,i,r),e.child}function TC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function $g(t,e,r,n,i){var s=Hr(r)?ya:Tr.current;return s=Vo(e,s),Co(e,i),r=g_(t,e,r,n,s,i),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,di(t,e,i)):(e.flags|=1,Vr(t,e,r,i),e.child)}function Ib(t,e,r,n,i){if(Hr(r)){var s=!0;wf(e)}else s=!1;if(Co(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),cC(e,r,n),Bg(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=cn(d):(d=Hr(r)?ya:Tr.current,d=Vo(e,d));var m=r.getDerivedStateFromProps,_=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";_||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==n||c!==d)&&yb(e,a,n,d),Wi=!1;var w=e.memoizedState;a.state=w,Yu(e,n,a,i),c=e.memoizedState,u!==n||w!==c||zr.current||Wi?(typeof m=="function"&&(td(e,r,m,n),c=e.memoizedState),(u=Wi||gb(e,r,u,n,w,c,d))?(_||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4)):(typeof a.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=d,n=u):(typeof a.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{a=e.stateNode,uC(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:gn(e.type,u),a.props=d,_=e.pendingProps,w=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=cn(c):(c=Hr(r)?ya:Tr.current,c=Vo(e,c));var T=r.getDerivedStateFromProps;(m=typeof T=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==_||w!==c)&&yb(e,a,n,c),Wi=!1,w=e.memoizedState,a.state=w,Yu(e,n,a,i);var S=e.memoizedState;u!==_||w!==S||zr.current||Wi?(typeof T=="function"&&(td(e,r,T,n),S=e.memoizedState),(d=Wi||gb(e,r,d,n,w,S,c))?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,S,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,S,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=S),a.props=n,a.state=S,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=256),n=!1)}return Wg(t,e,r,n,s,i)}function Wg(t,e,r,n,i,s){TC(t,e);var a=(e.flags&64)!==0;if(!n&&!a)return i&&fb(e,r,!1),di(t,e,s);n=e.stateNode,jF.current=e;var u=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=rd(e,t.child,null,s),e.child=rd(e,null,u,s)):Vr(t,e,u,s),e.memoizedState=n.state,i&&fb(e,r,!0),e.child}function Pb(t){var e=t.stateNode;e.pendingContext?cb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cb(t,e.context,!1),Vg(t,e.containerInfo)}var Uc={dehydrated:null,retryLane:0};function Ab(t,e,r){var n=e.pendingProps,i=Pt.current,s=!1,a;return(a=(e.flags&64)!==0)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),At(Pt,i&1),t===null?(n.fallback!==void 0&&zg(e),t=n.children,i=n.fallback,s?(t=Ob(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Uc,t):typeof n.unstable_expectedLoadTime=="number"?(t=Ob(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Uc,e.lanes=33554432,t):(r=I_({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?s?(n=Mb(t,e,n.children,n.fallback,r),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},s.childLanes=t.childLanes&~r,e.memoizedState=Uc,n):(r=kb(t,e,n.children,r),e.memoizedState=null,r):s?(n=Mb(t,e,n.children,n.fallback,r),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},s.childLanes=t.childLanes&~r,e.memoizedState=Uc,n):(r=kb(t,e,n.children,r),e.memoizedState=null,r)}function Ob(t,e,r,n){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=e):s=I_(e,i,0,null),r=Oo(r,i,n,null),s.return=t,r.return=t,s.sibling=r,t.child=s,r}function kb(t,e,r,n){var i=t.child;return t=i.sibling,r=ws(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function Mb(t,e,r,n,i){var s=e.mode,a=t.child;t=a.sibling;var u={mode:"hidden",children:r};return!(s&2)&&e.child!==a?(r=e.child,r.childLanes=0,r.pendingProps=u,a=r.lastEffect,a!==null?(e.firstEffect=r.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):r=ws(a,u),t!==null?n=ws(t,n):(n=Oo(n,s,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function Db(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),lC(t.return,e)}function fm(t,e,r,n,i,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=s)}function Rb(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Vr(t,e,n.children,r),n=Pt.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Db(t,r);else if(t.tag===19)Db(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(At(Pt,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&nd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),fm(e,!1,i,r,s,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}fm(e,!0,r,null,s,e.lastEffect);break;case"together":fm(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function di(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Vh|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,r=ws(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ws(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var SC,jg,EC,CC;SC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jg=function(){};EC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,sa(Wn.current);var s=null;switch(r){case"input":i=yg(t,i),n=yg(t,n),s=[];break;case"option":i=xg(t,i),n=xg(t,n),s=[];break;case"select":i=Tt({},i,{value:void 0}),n=Tt({},n,{value:void 0}),s=[];break;case"textarea":i=bg(t,i),n=bg(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=qf)}Eg(r,n);var a;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(a in u)u.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Lu.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(u=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Lu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&pt("scroll",t),s||u===c||(s=[])):typeof c=="object"&&c!==null&&c.$$typeof===Y0?c.toString():(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};CC=function(t,e,r,n){r!==n&&(e.flags|=4)};function Yl(t,e){if(!jn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function GF(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Hr(e.type)&&Qf(),null;case 3:return Ho(),vt(zr),vt(Tr),v_(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Lc(e)?e.flags|=4:n.hydrate||(e.flags|=256)),jg(e),null;case 5:p_(e);var i=sa(qu.current);if(r=e.type,t!==null&&e.stateNode!=null)EC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(ee(166));return null}if(t=sa(Wn.current),Lc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Xi]=e,n[Kf]=s,r){case"dialog":pt("cancel",n),pt("close",n);break;case"iframe":case"object":case"embed":pt("load",n);break;case"video":case"audio":for(t=0;t<uu.length;t++)pt(uu[t],n);break;case"source":pt("error",n);break;case"img":case"image":case"link":pt("error",n),pt("load",n);break;case"details":pt("toggle",n);break;case"input":Rx(n,s),pt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},pt("invalid",n);break;case"textarea":Fx(n,s),pt("invalid",n)}Eg(r,s),t=null;for(var a in s)s.hasOwnProperty(a)&&(i=s[a],a==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):Lu.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&pt("scroll",n));switch(r){case"input":kc(n),Nx(n,s,!0);break;case"textarea":kc(n),Lx(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=qf)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,t===Tg.html&&(t=_2(r)),t===Tg.html?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Xi]=e,t[Kf]=n,SC(t,e,!1,!1),e.stateNode=t,a=Cg(r,n),r){case"dialog":pt("cancel",t),pt("close",t),i=n;break;case"iframe":case"object":case"embed":pt("load",t),i=n;break;case"video":case"audio":for(i=0;i<uu.length;i++)pt(uu[i],t);i=n;break;case"source":pt("error",t),i=n;break;case"img":case"image":case"link":pt("error",t),pt("load",t),i=n;break;case"details":pt("toggle",t),i=n;break;case"input":Rx(t,n),i=yg(t,n),pt("invalid",t);break;case"option":i=xg(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Tt({},n,{value:void 0}),pt("invalid",t);break;case"textarea":Fx(t,n),i=bg(t,n),pt("invalid",t);break;default:i=n}Eg(r,i);var u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?b2(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&w2(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Uu(t,c):typeof c=="number"&&Uu(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lu.hasOwnProperty(s)?c!=null&&s==="onScroll"&&pt("scroll",t):c!=null&&z0(t,s,c,a))}switch(r){case"input":kc(t),Nx(t,n,!1);break;case"textarea":kc(t),Lx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ms(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?bo(t,!!n.multiple,s,!1):n.defaultValue!=null&&bo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qf)}J2(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)CC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ee(166));r=sa(qu.current),sa(Wn.current),Lc(e)?(n=e.stateNode,r=e.memoizedProps,n[Xi]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xi]=e,e.stateNode=n)}return null;case 13:return vt(Pt),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&Lc(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Pt.current&1?or===0&&(or=3):((or===0||or===3)&&(or=4),Or===null||!(Vh&134217727)&&!(cl&134217727)||Po(Or,_r))),(n||r)&&(e.flags|=4),null);case 4:return Ho(),jg(e),t===null&&K2(e.stateNode.containerInfo),null;case 10:return f_(e),null;case 17:return Hr(e.type)&&Qf(),null;case 19:if(vt(Pt),n=e.memoizedState,n===null)return null;if(s=(e.flags&64)!==0,a=n.rendering,a===null)if(s)Yl(n,!1);else{if(or!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(a=nd(t),a!==null){for(e.flags|=64,Yl(n,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return At(Pt,Pt.current&1|2),e.child}t=t.sibling}n.tail!==null&&yr()>Qg&&(e.flags|=64,s=!0,Yl(n,!1),e.lanes=33554432)}else{if(!s)if(t=nd(a),t!==null){if(e.flags|=64,s=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Yl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!jn)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*yr()-n.renderingStartTime>Qg&&r!==1073741824&&(e.flags|=64,s=!0,Yl(n,!1),e.lanes=33554432);n.isBackwards?(a.sibling=e.child,e.child=a):(r=n.last,r!==null?r.sibling=a:e.child=a,n.last=a)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=yr(),r.sibling=null,e=Pt.current,At(Pt,s?e&1|2:e&1),r):null;case 23:case 24:return E_(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(ee(156,e.tag))}function YF(t){switch(t.tag){case 1:Hr(t.type)&&Qf();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Ho(),vt(zr),vt(Tr),v_(),e=t.flags,e&64)throw Error(ee(285));return t.flags=e&-4097|64,t;case 5:return p_(t),null;case 13:return vt(Pt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return vt(Pt),null;case 4:return Ho(),null;case 10:return f_(t),null;case 23:case 24:return E_(),null;default:return null}}function x_(t,e){try{var r="",n=e;do r+=IN(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function Gg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var XF=typeof WeakMap=="function"?WeakMap:Map;function IC(t,e,r){r=is(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){hd||(hd=!0,Zg=n),Gg(t,e)},r}function PC(t,e,r){r=is(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return Gg(t,e),n(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this),Gg(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}var qF=typeof WeakSet=="function"?WeakSet:Set;function Nb(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){ls(t,r)}else e.current=null}function KF(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:gn(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&l_(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ee(163))}function QF(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&(LC(r,t),sL(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:gn(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&mb(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}mb(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&J2(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&M2(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ee(163))}function Fb(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=x2("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Lb(t,e){if(fa&&typeof fa.onCommitFiberUnmount=="function")try{fa.onCommitFiberUnmount(u_,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)LC(e,r);else{n=e;try{i()}catch(s){ls(n,s)}}r=r.next}while(r!==t)}break;case 1:if(Nb(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){ls(e,s)}break;case 5:Nb(e);break;case 4:AC(t,e)}}function Ub(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function Bb(t){return t.tag===5||t.tag===3||t.tag===4}function Vb(t){e:{for(var e=t.return;e!==null;){if(Bb(e))break e;e=e.return}throw Error(ee(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(ee(161))}r.flags&16&&(Uu(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||Bb(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?Yg(t,r,e):Xg(t,r,e)}function Yg(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=qf));else if(n!==4&&(t=t.child,t!==null))for(Yg(t,e,r),t=t.sibling;t!==null;)Yg(t,e,r),t=t.sibling}function Xg(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Xg(t,e,r),t=t.sibling;t!==null;)Xg(t,e,r),t=t.sibling}function AC(t,e){for(var r=e,n=!1,i,s;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(ee(160));switch(i=n.stateNode,n.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var a=t,u=r,c=u;;)if(Lb(a,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s?(a=i,u=r.stateNode,a.nodeType===8?a.parentNode.removeChild(u):a.removeChild(u)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,s=!0,r.child.return=r,r=r.child;continue}}else if(Lb(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function dm(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(r[Kf]=n,t==="input"&&n.type==="radio"&&n.name!=null&&g2(r,n),Cg(t,i),e=Cg(t,n),i=0;i<s.length;i+=2){var a=s[i],u=s[i+1];a==="style"?b2(r,u):a==="dangerouslySetInnerHTML"?w2(r,u):a==="children"?Uu(r,u):z0(r,a,u,e)}switch(t){case"input":_g(r,n);break;case"textarea":y2(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,s=n.value,s!=null?bo(r,!!n.multiple,s,!1):t!==!!n.multiple&&(n.defaultValue!=null?bo(r,!!n.multiple,n.defaultValue,!0):bo(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(ee(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,M2(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(S_=yr(),Fb(e.child,!0)),zb(e);return;case 19:zb(e);return;case 17:return;case 23:case 24:Fb(e,e.memoizedState!==null);return}throw Error(ee(163))}function zb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new qF),e.forEach(function(n){var i=lL.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ZF(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var JF=Math.ceil,ud=Oa.ReactCurrentDispatcher,b_=Oa.ReactCurrentOwner,Ae=0,Or=null,Ht=null,_r=0,wa=0,qg=Cs(0),or=0,lp=null,hl=0,Vh=0,cl=0,T_=0,Kg=null,S_=0,Qg=1/0;function fl(){Qg=yr()+500}var fe=null,hd=!1,Zg=null,Ln=null,_s=!1,Su=null,hu=90,Jg=[],ey=[],yi=null,Eu=0,ty=null,bf=-1,hi=0,Tf=0,Cu=null,Sf=!1;function Xr(){return Ae&48?yr():bf!==-1?bf:bf=yr()}function as(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return zo()===99?1:2;if(hi===0&&(hi=hl),VF.transition!==0){Tf!==0&&(Tf=Kg!==null?Kg.pendingLanes:0),t=hi;var e=4186112&~Tf;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=zo(),Ae&4&&t===98?t=Yf(12,hi):(t=$N(t),t=Yf(t,hi)),t}function os(t,e,r){if(50<Eu)throw Eu=0,ty=null,Error(ee(185));if(t=up(t,e),t===null)return null;tp(t,e,r),t===Or&&(cl|=e,or===4&&Po(t,_r));var n=zo();e===1?Ae&8&&!(Ae&48)?ry(t):(fn(t,r),Ae===0&&(fl(),Qn())):(!(Ae&4)||n!==98&&n!==99||(yi===null?yi=new Set([t]):yi.add(t)),fn(t,r)),Kg=t}function up(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function fn(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-gs(a),c=1<<u,d=s[u];if(d===-1){if(!(c&n)||c&i){d=e,no(c);var m=ct;s[u]=10<=m?d+250:6<=m?d+5e3:-1}}else d<=e&&(t.expiredLanes|=c);a&=~c}if(n=Hu(t,t===Or?_r:0),e=ct,n===0)r!==null&&(r!==lm&&Lg(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==lm&&Lg(r)}e===15?(r=ry.bind(null,t),ui===null?(ui=[r],xf=h_(ap,oC)):ui.push(r),r=lm):e===14?r=Gu(99,ry.bind(null,t)):(r=WN(e),r=Gu(r,OC.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function OC(t){if(bf=-1,Tf=hi=0,Ae&48)throw Error(ee(327));var e=t.callbackNode;if(Is()&&t.callbackNode!==e)return null;var r=Hu(t,t===Or?_r:0);if(r===0)return null;var n=r,i=Ae;Ae|=16;var s=RC();(Or!==t||_r!==n)&&(fl(),Ao(t,n));do try{rL();break}catch(u){DC(t,u)}while(1);if(c_(),ud.current=s,Ae=i,Ht!==null?n=0:(Or=null,_r=0,n=or),hl&cl)Ao(t,0);else if(n!==0){if(n===2&&(Ae|=64,t.hydrate&&(t.hydrate=!1,l_(t.containerInfo)),r=B2(t),r!==0&&(n=cu(t,r))),n===1)throw e=lp,Ao(t,0),Po(t,r),fn(t,yr()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(ee(345));case 2:qs(t);break;case 3:if(Po(t,r),(r&62914560)===r&&(n=S_+500-yr(),10<n)){if(Hu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Xr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=lb(qs.bind(null,t),n);break}qs(t);break;case 4:if(Po(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var a=31-gs(r);s=1<<a,a=n[a],a>i&&(i=a),r&=~s}if(r=i,r=yr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JF(r/1960))-r,10<r){t.timeoutHandle=lb(qs.bind(null,t),r);break}qs(t);break;case 5:qs(t);break;default:throw Error(ee(329))}}return fn(t,yr()),t.callbackNode===e?OC.bind(null,t):null}function Po(t,e){for(e&=~T_,e&=~cl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-gs(e),n=1<<r;t[r]=-1,e&=~n}}function ry(t){if(Ae&48)throw Error(ee(327));if(Is(),t===Or&&t.expiredLanes&_r){var e=_r,r=cu(t,e);hl&cl&&(e=Hu(t,e),r=cu(t,e))}else e=Hu(t,0),r=cu(t,e);if(t.tag!==0&&r===2&&(Ae|=64,t.hydrate&&(t.hydrate=!1,l_(t.containerInfo)),e=B2(t),e!==0&&(r=cu(t,e))),r===1)throw r=lp,Ao(t,0),Po(t,e),fn(t,yr()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,qs(t),fn(t,yr()),null}function eL(){if(yi!==null){var t=yi;yi=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,fn(e,yr())})}Qn()}function kC(t,e){var r=Ae;Ae|=1;try{return t(e)}finally{Ae=r,Ae===0&&(fl(),Qn())}}function MC(t,e){var r=Ae;Ae&=-2,Ae|=8;try{return t(e)}finally{Ae=r,Ae===0&&(fl(),Qn())}}function Bc(t,e){At(qg,wa),wa|=e,hl|=e}function E_(){wa=qg.current,vt(qg)}function Ao(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,RF(r)),Ht!==null)for(r=Ht.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qf();break;case 3:Ho(),vt(zr),vt(Tr),v_();break;case 5:p_(n);break;case 4:Ho();break;case 13:vt(Pt);break;case 19:vt(Pt);break;case 10:f_(n);break;case 23:case 24:E_()}r=r.return}Or=t,Ht=ws(t.current,null),_r=wa=hl=e,or=0,lp=null,T_=cl=Vh=0}function DC(t,e){do{var r=Ht;try{if(c_(),bu.current=ld,id){for(var n=Dt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}id=!1}if(Ku=0,ir=dr=Dt=null,Tu=!1,b_.current=null,r===null||r.return===null){or=1,lp=e,Ht=null;break}e:{var s=t,a=r.return,u=r,c=e;if(e=_r,u.flags|=2048,u.firstEffect=u.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c;if(!(u.mode&2)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var _=(Pt.current&1)!==0,w=a;do{var T;if(T=w.tag===13){var S=w.memoizedState;if(S!==null)T=S.dehydrated!==null;else{var P=w.memoizedProps;T=P.fallback===void 0?!1:P.unstable_avoidThisFallback!==!0?!0:!_}}if(T){var E=w.updateQueue;if(E===null){var A=new Set;A.add(d),w.updateQueue=A}else E.add(d);if(!(w.mode&2)){if(w.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var O=is(-1,1);O.tag=2,ss(u,O)}u.lanes|=1;break e}c=void 0,u=e;var M=s.pingCache;if(M===null?(M=s.pingCache=new XF,c=new Set,M.set(d,c)):(c=M.get(d),c===void 0&&(c=new Set,M.set(d,c))),!c.has(u)){c.add(u);var R=oL.bind(null,s,d,u);d.then(R,R)}w.flags|=4096,w.lanes=e;break e}w=w.return}while(w!==null);c=Error((xo(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}or!==5&&(or=2),c=x_(c,u),w=a;do{switch(w.tag){case 3:s=c,w.flags|=4096,e&=-e,w.lanes|=e;var V=IC(w,s,e);vb(w,V);break e;case 1:s=c;var L=w.type,W=w.stateNode;if(!(w.flags&64)&&(typeof L.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Ln===null||!Ln.has(W)))){w.flags|=4096,e&=-e,w.lanes|=e;var j=PC(w,s,e);vb(w,j);break e}}w=w.return}while(w!==null)}FC(r)}catch(U){e=U,Ht===r&&r!==null&&(Ht=r=r.return);continue}break}while(1)}function RC(){var t=ud.current;return ud.current=ld,t===null?ld:t}function cu(t,e){var r=Ae;Ae|=16;var n=RC();Or===t&&_r===e||Ao(t,e);do try{tL();break}catch(i){DC(t,i)}while(1);if(c_(),Ae=r,ud.current=n,Ht!==null)throw Error(ee(261));return Or=null,_r=0,or}function tL(){for(;Ht!==null;)NC(Ht)}function rL(){for(;Ht!==null&&!LF();)NC(Ht)}function NC(t){var e=UC(t.alternate,t,wa);t.memoizedProps=t.pendingProps,e===null?FC(t):Ht=e,b_.current=null}function FC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=YF(e),r!==null){r.flags&=2047,Ht=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=GF(r,e,wa),r!==null){Ht=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||wa&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Ht=e;return}Ht=e=t}while(e!==null);or===0&&(or=5)}function qs(t){var e=zo();return _a(99,nL.bind(null,t,e)),null}function nL(t,e){do Is();while(Su!==null);if(Ae&48)throw Error(ee(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ee(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var a=t.eventTimes,u=t.expirationTimes;0<s;){var c=31-gs(s),d=1<<c;i[c]=0,a[c]=-1,u[c]=-1,s&=~d}if(yi!==null&&!(n&24)&&yi.has(t)&&yi.delete(t),t===Or&&(Ht=Or=null,_r=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Ae,Ae|=32,b_.current=null,sm=gf,a=tb(),Mg(a)){if("selectionStart"in a)u={start:a.selectionStart,end:a.selectionEnd};else e:if(u=(u=a.ownerDocument)&&u.defaultView||window,(d=u.getSelection&&u.getSelection())&&d.rangeCount!==0){u=d.anchorNode,s=d.anchorOffset,c=d.focusNode,d=d.focusOffset;try{u.nodeType,c.nodeType}catch{u=null;break e}var m=0,_=-1,w=-1,T=0,S=0,P=a,E=null;t:for(;;){for(var A;P!==u||s!==0&&P.nodeType!==3||(_=m+s),P!==c||d!==0&&P.nodeType!==3||(w=m+d),P.nodeType===3&&(m+=P.nodeValue.length),(A=P.firstChild)!==null;)E=P,P=A;for(;;){if(P===a)break t;if(E===u&&++T===s&&(_=m),E===c&&++S===d&&(w=m),(A=P.nextSibling)!==null)break;P=E,E=P.parentNode}P=A}u=_===-1||w===-1?null:{start:_,end:w}}else u=null;u=u||{start:0,end:0}}else u=null;am={focusedElem:a,selectionRange:u},gf=!1,Cu=null,Sf=!1,fe=n;do try{iL()}catch(U){if(fe===null)throw Error(ee(330));ls(fe,U),fe=fe.nextEffect}while(fe!==null);Cu=null,fe=n;do try{for(a=t;fe!==null;){var O=fe.flags;if(O&16&&Uu(fe.stateNode,""),O&128){var M=fe.alternate;if(M!==null){var R=M.ref;R!==null&&(typeof R=="function"?R(null):R.current=null)}}switch(O&1038){case 2:Vb(fe),fe.flags&=-3;break;case 6:Vb(fe),fe.flags&=-3,dm(fe.alternate,fe);break;case 1024:fe.flags&=-1025;break;case 1028:fe.flags&=-1025,dm(fe.alternate,fe);break;case 4:dm(fe.alternate,fe);break;case 8:u=fe,AC(a,u);var V=u.alternate;Ub(u),V!==null&&Ub(V)}fe=fe.nextEffect}}catch(U){if(fe===null)throw Error(ee(330));ls(fe,U),fe=fe.nextEffect}while(fe!==null);if(R=am,M=tb(),O=R.focusedElem,a=R.selectionRange,M!==O&&O&&O.ownerDocument&&Y2(O.ownerDocument.documentElement,O)){for(a!==null&&Mg(O)&&(M=a.start,R=a.end,R===void 0&&(R=M),"selectionStart"in O?(O.selectionStart=M,O.selectionEnd=Math.min(R,O.value.length)):(R=(M=O.ownerDocument||document)&&M.defaultView||window,R.getSelection&&(R=R.getSelection(),u=O.textContent.length,V=Math.min(a.start,u),a=a.end===void 0?V:Math.min(a.end,u),!R.extend&&V>a&&(u=a,a=V,V=u),u=eb(O,V),s=eb(O,a),u&&s&&(R.rangeCount!==1||R.anchorNode!==u.node||R.anchorOffset!==u.offset||R.focusNode!==s.node||R.focusOffset!==s.offset)&&(M=M.createRange(),M.setStart(u.node,u.offset),R.removeAllRanges(),V>a?(R.addRange(M),R.extend(s.node,s.offset)):(M.setEnd(s.node,s.offset),R.addRange(M)))))),M=[],R=O;R=R.parentNode;)R.nodeType===1&&M.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<M.length;O++)R=M[O],R.element.scrollLeft=R.left,R.element.scrollTop=R.top}gf=!!sm,am=sm=null,t.current=r,fe=n;do try{for(O=t;fe!==null;){var L=fe.flags;if(L&36&&QF(O,fe.alternate,fe),L&128){M=void 0;var W=fe.ref;if(W!==null){var j=fe.stateNode;switch(fe.tag){case 5:M=j;break;default:M=j}typeof W=="function"?W(M):W.current=M}}fe=fe.nextEffect}}catch(U){if(fe===null)throw Error(ee(330));ls(fe,U),fe=fe.nextEffect}while(fe!==null);fe=null,BF(),Ae=i}else t.current=r;if(_s)_s=!1,Su=t,hu=e;else for(fe=n;fe!==null;)e=fe.nextEffect,fe.nextEffect=null,fe.flags&8&&(L=fe,L.sibling=null,L.stateNode=null),fe=e;if(n=t.pendingLanes,n===0&&(Ln=null),n===1?t===ty?Eu++:(Eu=0,ty=t):Eu=0,r=r.stateNode,fa&&typeof fa.onCommitFiberRoot=="function")try{fa.onCommitFiberRoot(u_,r,void 0,(r.current.flags&64)===64)}catch{}if(fn(t,yr()),hd)throw hd=!1,t=Zg,Zg=null,t;return Ae&8||Qn(),null}function iL(){for(;fe!==null;){var t=fe.alternate;Sf||Cu===null||(fe.flags&8?Vx(fe,Cu)&&(Sf=!0):fe.tag===13&&ZF(t,fe)&&Vx(fe,Cu)&&(Sf=!0));var e=fe.flags;e&256&&KF(t,fe),!(e&512)||_s||(_s=!0,Gu(97,function(){return Is(),null})),fe=fe.nextEffect}}function Is(){if(hu!==90){var t=97<hu?97:hu;return hu=90,_a(t,aL)}return!1}function sL(t,e){Jg.push(e,t),_s||(_s=!0,Gu(97,function(){return Is(),null}))}function LC(t,e){ey.push(e,t),_s||(_s=!0,Gu(97,function(){return Is(),null}))}function aL(){if(Su===null)return!1;var t=Su;if(Su=null,Ae&48)throw Error(ee(331));var e=Ae;Ae|=32;var r=ey;ey=[];for(var n=0;n<r.length;n+=2){var i=r[n],s=r[n+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(c){if(s===null)throw Error(ee(330));ls(s,c)}}for(r=Jg,Jg=[],n=0;n<r.length;n+=2){i=r[n],s=r[n+1];try{var u=i.create;i.destroy=u()}catch(c){if(s===null)throw Error(ee(330));ls(s,c)}}for(u=t.current.firstEffect;u!==null;)t=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=t;return Ae=e,Qn(),!0}function Hb(t,e,r){e=x_(r,e),e=IC(t,e,1),ss(t,e),e=Xr(),t=up(t,1),t!==null&&(tp(t,1,e),fn(t,e))}function ls(t,e){if(t.tag===3)Hb(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){Hb(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ln===null||!Ln.has(n))){t=x_(e,t);var i=PC(r,t,1);if(ss(r,i),i=Xr(),r=up(r,1),r!==null)tp(r,1,i),fn(r,i);else if(typeof n.componentDidCatch=="function"&&(Ln===null||!Ln.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function oL(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Xr(),t.pingedLanes|=t.suspendedLanes&r,Or===t&&(_r&r)===r&&(or===4||or===3&&(_r&62914560)===_r&&500>yr()-S_?Ao(t,0):T_|=r),fn(t,e)}function lL(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(hi===0&&(hi=hl),e=io(62914560&~hi),e===0&&(e=4194304)):e=zo()===99?1:2:e=1),r=Xr(),t=up(t,e),t!==null&&(tp(t,e,r),fn(t,r))}var UC;UC=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||zr.current)_n=!0;else if(r&n)_n=!!(t.flags&16384);else{switch(_n=!1,e.tag){case 3:Pb(e),hm();break;case 5:_b(e);break;case 1:Hr(e.type)&&wf(e);break;case 4:Vg(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;At(Zf,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?Ab(t,e,r):(At(Pt,Pt.current&1),e=di(t,e,r),e!==null?e.sibling:null);At(Pt,Pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return Rb(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(Pt,Pt.current),n)break;return null;case 23:case 24:return e.lanes=0,cm(t,e,r)}return di(t,e,r)}else _n=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Vo(e,Tr.current),Co(e,r),i=g_(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hr(n)){var s=!0;wf(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,d_(e);var a=n.getDerivedStateFromProps;typeof a=="function"&&td(e,n,a,t),i.updater=op,e.stateNode=i,i._reactInternals=e,Bg(e,n,t,r),e=Wg(null,e,n,!0,s,r)}else e.tag=0,Vr(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=hL(i),t=gn(i,t),s){case 0:e=$g(null,e,i,t,r);break e;case 1:e=Ib(null,e,i,t,r);break e;case 11:e=Eb(null,e,i,t,r);break e;case 14:e=Cb(null,e,i,gn(i.type,t),n,r);break e}throw Error(ee(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),$g(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),Ib(t,e,n,i,r);case 3:if(Pb(e),n=e.updateQueue,t===null||n===null)throw Error(ee(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,uC(t,e),Yu(e,n,null,r),n=e.memoizedState.element,n===i)hm(),e=di(t,e,r);else{if(i=e.stateNode,(s=i.hydrate)&&(qi=Eo(e.stateNode.containerInfo.firstChild),fi=e,s=jn=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],Io.push(s);for(r=dC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Vr(t,e,n,r),hm();e=e.child}return e;case 5:return _b(e),t===null&&zg(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Ng(n,i)?a=null:s!==null&&Ng(n,s)&&(e.flags|=16),TC(t,e),Vr(t,e,a,r),e.child;case 6:return t===null&&zg(e),null;case 13:return Ab(t,e,r);case 4:return Vg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=rd(e,null,n,r):Vr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),Eb(t,e,n,i,r);case 7:return Vr(t,e,e.pendingProps,r),e.child;case 8:return Vr(t,e,e.pendingProps.children,r),e.child;case 12:return Vr(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value;var u=e.type._context;if(At(Zf,u._currentValue),u._currentValue=s,a!==null)if(u=a.value,s=sn(u,s)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(u,s):1073741823)|0,s===0){if(a.children===i.children&&!zr.current){e=di(t,e,r);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var c=u.dependencies;if(c!==null){a=u.child;for(var d=c.firstContext;d!==null;){if(d.context===n&&d.observedBits&s){u.tag===1&&(d=is(-1,r&-r),d.tag=2,ss(u,d)),u.lanes|=r,d=u.alternate,d!==null&&(d.lanes|=r),lC(u.return,r),c.lanes|=r;break}d=d.next}}else a=u.tag===10&&u.type===e.type?null:u.child;if(a!==null)a.return=u;else for(a=u;a!==null;){if(a===e){a=null;break}if(u=a.sibling,u!==null){u.return=a.return,a=u;break}a=a.return}u=a}Vr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,n=s.children,Co(e,r),i=cn(i,s.unstable_observedBits),n=n(i),e.flags|=1,Vr(t,e,n,r),e.child;case 14:return i=e.type,s=gn(i,e.pendingProps),s=gn(i.type,s),Cb(t,e,i,s,n,r);case 15:return bC(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Hr(n)?(t=!0,wf(e)):t=!1,Co(e,r),cC(e,n,i),Bg(e,n,i,r),Wg(null,e,n,!0,t,r);case 19:return Rb(t,e,r);case 23:return cm(t,e,r);case 24:return cm(t,e,r)}throw Error(ee(156,e.tag))};function uL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,r,n){return new uL(t,e,r,n)}function C_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hL(t){if(typeof t=="function")return C_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zd)return 11;if(t===Jd)return 14}return 2}function ws(t,e){var r=t.alternate;return r===null?(r=an(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ef(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")C_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ji:return Oo(r.children,i,s,e);case p2:a=8,i|=16;break;case H0:a=8,i|=1;break;case vu:return t=an(12,r,e,i|8),t.elementType=vu,t.type=vu,t.lanes=s,t;case mu:return t=an(13,r,e,i),t.type=mu,t.elementType=mu,t.lanes=s,t;case $f:return t=an(19,r,e,i),t.elementType=$f,t.lanes=s,t;case X0:return I_(r,i,s,e);case gg:return t=an(24,r,e,i),t.elementType=gg,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $0:a=10;break e;case W0:a=9;break e;case Zd:a=11;break e;case Jd:a=14;break e;case j0:a=16,n=null;break e;case G0:a=22;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=an(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Oo(t,e,r,n){return t=an(7,t,n,e),t.lanes=r,t}function I_(t,e,r,n){return t=an(23,t,n,e),t.elementType=X0,t.lanes=r,t}function pm(t,e,r){return t=an(6,t,null,e),t.lanes=r,t}function vm(t,e,r){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cL(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zv(0),this.expirationTimes=Zv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zv(0),this.mutableSourceEagerHydrationData=null}function fL(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ra,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function cd(t,e,r,n){var i=e.current,s=Xr(),a=as(i);e:if(r){r=r._reactInternals;t:{if(ka(r)!==r||r.tag!==1)throw Error(ee(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Hr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(ee(171))}if(r.tag===1){var c=r.type;if(Hr(c)){r=tC(r,c,u);break e}}r=u}else r=ys;return e.context===null?e.context=r:e.pendingContext=r,e=is(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),ss(i,e),os(i,a,s),a}function mm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $b(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function P_(t,e){$b(t,e),(t=t.alternate)&&$b(t,e)}function dL(){return null}function A_(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new cL(t,e,r!=null&&r.hydrate===!0),e=an(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,d_(e),t[ul]=r.current,K2(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}A_.prototype.render=function(t){cd(t,this._internalRoot,null,null)};A_.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;cd(null,t,null,function(){e[ul]=null})};function zh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pL(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new A_(t,0,e?{hydrate:!0}:void 0)}function hp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s._internalRoot;if(typeof i=="function"){var u=i;i=function(){var d=mm(a);u.call(d)}}cd(e,a,t,i)}else{if(s=r._reactRootContainer=pL(r,n),a=s._internalRoot,typeof i=="function"){var c=i;i=function(){var d=mm(a);c.call(d)}}MC(function(){cd(e,a,t,i)})}return mm(a)}A2=function(t){if(t.tag===13){var e=Xr();os(t,4,e),P_(t,4)}};J0=function(t){if(t.tag===13){var e=Xr();os(t,67108864,e),P_(t,67108864)}};O2=function(t){if(t.tag===13){var e=Xr(),r=as(t);os(t,r,e),P_(t,r)}};k2=function(t,e){return e()};Ig=function(t,e,r){switch(e){case"input":if(_g(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=sp(n);if(!i)throw Error(ee(90));m2(n),_g(n,i)}}}break;case"textarea":y2(t,r);break;case"select":e=r.value,e!=null&&bo(t,!!r.multiple,e,!1)}};K0=kC;E2=function(t,e,r,n,i){var s=Ae;Ae|=4;try{return _a(98,t.bind(null,e,r,n,i))}finally{Ae=s,Ae===0&&(fl(),Qn())}};Q0=function(){!(Ae&49)&&(eL(),Is())};C2=function(t,e){var r=Ae;Ae|=2;try{return t(e)}finally{Ae=r,Ae===0&&(fl(),Qn())}};function BC(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zh(e))throw Error(ee(200));return fL(t,e,null,r)}var vL={Events:[Uh,co,sp,T2,S2,Is,{current:!1}]},Xl={findFiberByHostInstance:ia,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},mL={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=P2(t),t===null?null:t.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||dL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{u_=Vc.inject(mL),fa=Vc}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vL;dn.createPortal=BC;dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):Error(ee(268,Object.keys(t)));return t=P2(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t,e){var r=Ae;if(r&48)return t(e);Ae|=1;try{if(t)return _a(99,t.bind(null,e))}finally{Ae=r,Qn()}};dn.hydrate=function(t,e,r){if(!zh(e))throw Error(ee(200));return hp(null,t,e,!0,r)};dn.render=function(t,e,r){if(!zh(e))throw Error(ee(200));return hp(null,t,e,!1,r)};dn.unmountComponentAtNode=function(t){if(!zh(t))throw Error(ee(40));return t._reactRootContainer?(MC(function(){hp(null,null,t,!1,function(){t._reactRootContainer=null,t[ul]=null})}),!0):!1};dn.unstable_batchedUpdates=kC;dn.unstable_createPortal=function(t,e){return BC(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};dn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!zh(r))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return hp(t,e,r,!1,n)};dn.version="17.0.2";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}e(),t.exports=dn})(h2);const gL=XE(h2.exports);class VC{constructor(e,r,n,i){q(this,"x");q(this,"y");q(this,"distance");q(this,"angle");q(this,"getVector",(e,r)=>{let n=r*Math.PI/180;return this.x=e*Math.cos(n),this.y=e*Math.sin(n),this});let s=n-e,a=i-r;this.distance=Math.sqrt(s*s+a*a),this.angle=Math.atan2(a,s)*180/Math.PI}}var zC={exports:{}},gm={exports:{}};/**
* A handy class to calculate color values.
*
* @version 1.0
* @author Robert Eisele <robert@xarg.org>
* @copyright Copyright (c) 2010, Robert Eisele
* @link http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/
* @license http://www.opensource.org/licenses/bsd-license.php BSD License
*
*/var Wb;function yL(){return Wb||(Wb=1,function(t){(function(){function e(a,u){for(var c=2;c<arguments.length;c++)for(var d=0;d<arguments[c].length;d++)a[u++]=arguments[c].charAt(d)}function r(a){return String.fromCharCode(a>>8&255,a&255)}function n(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function i(a){return String.fromCharCode(a&255,a>>8&255)}var s=function(a,u,c){this.width=a,this.height=u,this.depth=c,this.pix_size=u*(a+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=4+4+13+4,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=4+4+3*c+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=4+4+c+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=4+4+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=4+4+4,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=new Array,this.palette=new Object,this.pindex=0;for(var d=new Array,m=0;m<this.buffer_size;m++)this.buffer[m]="\0";e(this.buffer,this.ihdr_offs,n(this.ihdr_size-12),"IHDR",n(a),n(u),"\b"),e(this.buffer,this.plte_offs,n(this.plte_size-12),"PLTE"),e(this.buffer,this.trns_offs,n(this.trns_size-12),"tRNS"),e(this.buffer,this.idat_offs,n(this.idat_size-12),"IDAT"),e(this.buffer,this.iend_offs,n(this.iend_size-12),"IEND");var _=8+(7<<4)<<8|3<<6;_+=31-_%31,e(this.buffer,this.idat_offs+8,r(_));for(var m=0;(m<<16)-1<this.pix_size;m++){var w,T;m+65535<this.pix_size?(w=65535,T="\0"):(w=this.pix_size-(m<<16)-m,T=""),e(this.buffer,this.idat_offs+8+2+(m<<16)+(m<<2),T,i(w),i(~w))}for(var m=0;m<256;m++){for(var S=m,P=0;P<8;P++)S&1?S=-306674912^S>>1&2147483647:S=S>>1&2147483647;d[m]=S}this.index=function(E,A){var O=A*(this.width+1)+E+1,M=this.idat_offs+8+2+5*Math.floor(O/65535+1)+O;return M},this.color=function(E,A,O,M){M=M>=0?M:255;var R=((M<<8|E)<<8|A)<<8|O;if(typeof this.palette[R]>"u"){if(this.pindex==this.depth)return"\0";var V=this.plte_offs+8+3*this.pindex;this.buffer[V+0]=String.fromCharCode(E),this.buffer[V+1]=String.fromCharCode(A),this.buffer[V+2]=String.fromCharCode(O),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(M),this.palette[R]=String.fromCharCode(this.pindex++)}return this.palette[R]},this.getBase64=function(){var E=this.getDump(),A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",O,M,R,V,L,W,j,U=E.length,H=0,J="";do O=E.charCodeAt(H),V=O>>2,M=E.charCodeAt(H+1),L=(O&3)<<4|M>>4,R=E.charCodeAt(H+2),U<H+2?W=64:W=(M&15)<<2|R>>6,U<H+3?j=64:j=R&63,J+=A.charAt(V)+A.charAt(L)+A.charAt(W)+A.charAt(j);while((H+=3)<U);return J},this.getDump=function(){for(var E=65521,A=5552,O=1,M=0,R=A,V=0;V<this.height;V++)for(var L=-1;L<this.width;L++)O+=this.buffer[this.index(L,V)].charCodeAt(0),M+=O,(R-=1)==0&&(O%=E,M%=E,R=A);O%=E,M%=E,e(this.buffer,this.idat_offs+this.idat_size-8,n(M<<16|O));function W(j,U,H){for(var J=-1,se=4;se<H-4;se+=1)J=d[(J^j[U+se].charCodeAt(0))&255]^J>>8&16777215;e(j,U+H-4,n(J^-1))}return W(this.buffer,this.ihdr_offs,this.ihdr_size),W(this.buffer,this.plte_offs,this.plte_size),W(this.buffer,this.trns_offs,this.trns_size),W(this.buffer,this.idat_offs,this.idat_size),W(this.buffer,this.iend_offs,this.iend_size),`PNG\r

`+this.buffer.join("")}};t.exports=s})()}(gm)),gm.exports}(function(t){(function(){var e;e=yL();var r=function(i,s){if(typeof i!="string"||i.length<15)throw"A hash of at least 15 characters is required.";this.defaults={background:[240,240,240,255],margin:.08,size:64,saturation:.7,brightness:.5,format:"png"},this.options=typeof s=="object"?s:this.defaults,typeof arguments[1]=="number"&&(this.options.size=arguments[1]),arguments[2]&&(this.options.margin=arguments[2]),this.hash=i,this.background=this.options.background||this.defaults.background,this.size=this.options.size||this.defaults.size,this.format=this.options.format||this.defaults.format,this.margin=this.options.margin!==void 0?this.options.margin:this.defaults.margin;var a=parseInt(this.hash.substr(-7),16)/268435455,u=this.options.saturation||this.defaults.saturation,c=this.options.brightness||this.defaults.brightness;this.foreground=this.options.foreground||this.hsl2rgb(a,u,c)};r.prototype={background:null,foreground:null,hash:null,margin:null,size:null,format:null,image:function(){return this.isSvg()?new n(this.size,this.foreground,this.background):new e(this.size,this.size,256)},render:function(){var i=this.image(),s=this.size,a=Math.floor(s*this.margin),u=Math.floor((s-a*2)/5),c=Math.floor((s-u*5)/2),d=i.color.apply(i,this.background),m=i.color.apply(i,this.foreground),_,w;for(_=0;_<15;_++)w=parseInt(this.hash.charAt(_),16)%2?d:m,_<5?this.rectangle(2*u+c,_*u+c,u,u,w,i):_<10?(this.rectangle(1*u+c,(_-5)*u+c,u,u,w,i),this.rectangle(3*u+c,(_-5)*u+c,u,u,w,i)):_<15&&(this.rectangle(0*u+c,(_-10)*u+c,u,u,w,i),this.rectangle(4*u+c,(_-10)*u+c,u,u,w,i));return i},rectangle:function(i,s,a,u,c,d){if(this.isSvg())d.rectangles.push({x:i,y:s,w:a,h:u,color:c});else{var m,_;for(m=i;m<i+a;m++)for(_=s;_<s+u;_++)d.buffer[d.index(m,_)]=c}},hsl2rgb:function(i,s,a){return i*=6,s=[a+=s*=a<.5?a:1-a,a-i%1*s*2,a-=s*=2,a,a+i%1*s,a+s],[s[~~i%6]*255,s[(i|16)%6]*255,s[(i|8)%6]*255]},toString:function(i){return i?this.render().getDump():this.render().getBase64()},isSvg:function(){return this.format.match(/svg/i)}};var n=function(i,s,a){this.size=i,this.foreground=this.color.apply(this,s),this.background=this.color.apply(this,a),this.rectangles=[]};n.prototype={size:null,foreground:null,background:null,rectangles:null,color:function(i,s,a,u){var c=[i,s,a].map(Math.round);return c.push(u>=0&&u<=255?u/255:1),"rgba("+c.join(",")+")"},getDump:function(){var i,s,a,u=this.foreground,c=this.background,d=this.size*.005;for(s="<svg xmlns='http://www.w3.org/2000/svg' width='"+this.size+"' height='"+this.size+"' style='background-color:"+c+";'><g style='fill:"+u+"; stroke:"+u+"; stroke-width:"+d+";'>",i=0;i<this.rectangles.length;i++)a=this.rectangles[i],a.color!=c&&(s+="<rect  x='"+a.x+"' y='"+a.y+"' width='"+a.w+"' height='"+a.h+"'/>");return s+="</g></svg>",s},getBase64:function(){if(typeof btoa=="function")return btoa(this.getDump());if(Buffer)return new Buffer(this.getDump(),"binary").toString("base64");throw"Cannot generate base64 output"}},t.exports=r})()})(zC);const _L=zC.exports,jb=(t,e)=>{let r=t,n,i,s=e===void 0?2166136261:e;for(n=0,i=r.length;n<i;n++)s^=r.charCodeAt(n),s+=(s<<1)+(s<<4)+(s<<7)+(s<<8)+(s<<24);return("00000000"+(s>>>0).toString(16)).substr(-8)},Gb=async t=>{const e=await crypto.subtle.digest("SHA-512",new TextEncoder().encode(t));return Array.prototype.map.call(new Uint8Array(e),r=>("00"+r.toString(16)).slice(-2)).join("")},kn=(t,e)=>{e=e??{};let r=jb(t,12345)+jb(t,54321);return("data:image/svg+xml;base64,"+new _L(r,{background:e.background??[24,27,33,1],margin:e.margin??0,size:e.size??60,format:e.format??"svg"})).toString()};var HC={};(function(t){(function(e){var r=e.Promise,n=r&&"resolve"in r&&"reject"in r&&"all"in r&&"race"in r&&function(){var U;return new r(function(H){U=H}),typeof U=="function"}();t?(t.Promise=n?r:j,t.Polyfill=j):n||(e.Promise=j);var i="pending",s="sealed",a="fulfilled",u="rejected",c=function(){};function d(U){return Object.prototype.toString.call(U)==="[object Array]"}var m=typeof setImmediate<"u"?setImmediate:setTimeout,_=[],w;function T(){for(var U=0;U<_.length;U++)_[U][0](_[U][1]);_=[],w=!1}function S(U,H){_.push([U,H]),w||(w=!0,m(T,0))}function P(U,H){function J(te){O(H,te)}function se(te){R(H,te)}try{U(J,se)}catch(te){se(te)}}function E(U){var H=U.owner,J=H.state_,se=H.data_,te=U[J],Le=U.then;if(typeof te=="function"){J=a;try{se=te(se)}catch(ae){R(Le,ae)}}A(Le,se)||(J===a&&O(Le,se),J===u&&R(Le,se))}function A(U,H){var J;try{if(U===H)throw new TypeError("A promises callback cannot return that same promise.");if(H&&(typeof H=="function"||typeof H=="object")){var se=H.then;if(typeof se=="function")return se.call(H,function(te){J||(J=!0,H!==te?O(U,te):M(U,te))},function(te){J||(J=!0,R(U,te))}),!0}}catch(te){return J||R(U,te),!0}return!1}function O(U,H){(U===H||!A(U,H))&&M(U,H)}function M(U,H){U.state_===i&&(U.state_=s,U.data_=H,S(L,U))}function R(U,H){U.state_===i&&(U.state_=s,U.data_=H,S(W,U))}function V(U){var H=U.then_;U.then_=void 0;for(var J=0;J<H.length;J++)E(H[J])}function L(U){U.state_=a,V(U)}function W(U){U.state_=u,V(U)}function j(U){if(typeof U!="function")throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof j))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],P(U,this)}j.prototype={constructor:j,state_:i,then_:null,data_:void 0,then:function(U,H){var J={owner:this,then:new this.constructor(c),fulfilled:U,rejected:H};return this.state_===a||this.state_===u?S(E,J):this.then_.push(J),J.then},catch:function(U){return this.then(null,U)}},j.all=function(U){var H=this;if(!d(U))throw new TypeError("You must pass an array to Promise.all().");return new H(function(J,se){var te=[],Le=0;function ae(Je){return Le++,function(dt){te[Je]=dt,--Le||J(te)}}for(var le=0,re;le<U.length;le++)re=U[le],re&&typeof re.then=="function"?re.then(ae(le),se):te[le]=re;Le||J(te)})},j.race=function(U){var H=this;if(!d(U))throw new TypeError("You must pass an array to Promise.race().");return new H(function(J,se){for(var te=0,Le;te<U.length;te++)Le=U[te],Le&&typeof Le.then=="function"?Le.then(J,se):J(Le)})},j.resolve=function(U){var H=this;return U&&typeof U=="object"&&U.constructor===H?U:new H(function(J){J(U)})},j.reject=function(U){var H=this;return new H(function(J,se){se(U)})}})(typeof window<"u"?window:typeof ca<"u"?ca:typeof self<"u"?self:ca)})(HC);/*!
 * @pixi/polyfill - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */window.Promise||(window.Promise=HC.Polyfill);Object.assign||(Object.assign=D0);var wL=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(window.performance&&window.performance.now)){var xL=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-xL}}var ym=Date.now(),Yb=["ms","moz","webkit","o"];for(var _m=0;_m<Yb.length&&!window.requestAnimationFrame;++_m){var wm=Yb[_m];window.requestAnimationFrame=window[wm+"RequestAnimationFrame"],window.cancelAnimationFrame=window[wm+"CancelAnimationFrame"]||window[wm+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=wL+ym-e;return r<0&&(r=0),ym=e,window.setTimeout(function(){ym=Date.now(),t(performance.now())},r)});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint8Array||(window.Uint8Array=Array);window.Int32Array||(window.Int32Array=Array);var xm=/iPhone/i,Xb=/iPod/i,qb=/iPad/i,Kb=/\biOS-universal(?:.+)Mac\b/i,bm=/\bAndroid(?:.+)Mobile\b/i,Qb=/Android/i,Za=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,zc=/Silk/i,si=/Windows Phone/i,Zb=/\bWindows(?:.+)ARM\b/i,Jb=/BlackBerry/i,eT=/BB10/i,tT=/Opera Mini/i,rT=/\b(CriOS|Chrome)(?:.+)Mobile/i,nT=/Mobile(?:.+)Firefox\b/i,iT=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function bL(t){return function(e){return e.test(t)}}function TL(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=bL(r),s={apple:{phone:i(xm)&&!i(si),ipod:i(Xb),tablet:!i(xm)&&(i(qb)||iT(e))&&!i(si),universal:i(Kb),device:(i(xm)||i(Xb)||i(qb)||i(Kb)||iT(e))&&!i(si)},amazon:{phone:i(Za),tablet:!i(Za)&&i(zc),device:i(Za)||i(zc)},android:{phone:!i(si)&&i(Za)||!i(si)&&i(bm),tablet:!i(si)&&!i(Za)&&!i(bm)&&(i(zc)||i(Qb)),device:!i(si)&&(i(Za)||i(zc)||i(bm)||i(Qb))||i(/\bokhttp\b/i)},windows:{phone:i(si),tablet:i(Zb),device:i(si)||i(Zb)},other:{blackberry:i(Jb),blackberry10:i(eT),opera:i(tT),firefox:i(nT),chrome:i(rT),device:i(Jb)||i(eT)||i(tT)||i(nT)||i(rT)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}/*!
 * @pixi/settings - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Un=TL(window.navigator);function SL(t){var e=!0;if(Un.tablet||Un.phone){if(Un.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(Un.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function EL(){return!Un.apple.device}var Te={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:SL(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:Un.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:EL(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},$C={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,m){this.fn=c,this.context=d,this.once=m||!1}function s(c,d,m,_,w){if(typeof m!="function")throw new TypeError("The listener must be a function");var T=new i(m,_||c,w),S=r?r+d:d;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],T]:c._events[S].push(T):(c._events[S]=T,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],m,_;if(this._eventsCount===0)return d;for(_ in m=this._events)e.call(m,_)&&d.push(r?_.slice(1):_);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},u.prototype.listeners=function(d){var m=r?r+d:d,_=this._events[m];if(!_)return[];if(_.fn)return[_.fn];for(var w=0,T=_.length,S=new Array(T);w<T;w++)S[w]=_[w].fn;return S},u.prototype.listenerCount=function(d){var m=r?r+d:d,_=this._events[m];return _?_.fn?1:_.length:0},u.prototype.emit=function(d,m,_,w,T,S){var P=r?r+d:d;if(!this._events[P])return!1;var E=this._events[P],A=arguments.length,O,M;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),A){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,m),!0;case 3:return E.fn.call(E.context,m,_),!0;case 4:return E.fn.call(E.context,m,_,w),!0;case 5:return E.fn.call(E.context,m,_,w,T),!0;case 6:return E.fn.call(E.context,m,_,w,T,S),!0}for(M=1,O=new Array(A-1);M<A;M++)O[M-1]=arguments[M];E.fn.apply(E.context,O)}else{var R=E.length,V;for(M=0;M<R;M++)switch(E[M].once&&this.removeListener(d,E[M].fn,void 0,!0),A){case 1:E[M].fn.call(E[M].context);break;case 2:E[M].fn.call(E[M].context,m);break;case 3:E[M].fn.call(E[M].context,m,_);break;case 4:E[M].fn.call(E[M].context,m,_,w);break;default:if(!O)for(V=1,O=new Array(A-1);V<A;V++)O[V-1]=arguments[V];E[M].fn.apply(E[M].context,O)}}return!0},u.prototype.on=function(d,m,_){return s(this,d,m,_,!1)},u.prototype.once=function(d,m,_){return s(this,d,m,_,!0)},u.prototype.removeListener=function(d,m,_,w){var T=r?r+d:d;if(!this._events[T])return this;if(!m)return a(this,T),this;var S=this._events[T];if(S.fn)S.fn===m&&(!w||S.once)&&(!_||S.context===_)&&a(this,T);else{for(var P=0,E=[],A=S.length;P<A;P++)(S[P].fn!==m||w&&!S[P].once||_&&S[P].context!==_)&&E.push(S[P]);E.length?this._events[T]=E.length===1?E[0]:E:a(this,T)}return this},u.prototype.removeAllListeners=function(d){var m;return d?(m=r?r+d:d,this._events[m]&&a(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})($C);const Hh=$C.exports;var cp={exports:{}};cp.exports=fp;cp.exports.default=fp;function fp(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=WC(t,0,i,r,!0),a=[];if(!s||s.next===s.prev)return a;var u,c,d,m,_,w,T;if(n&&(s=OL(t,e,s,r)),t.length>80*r){u=d=t[0],c=m=t[1];for(var S=r;S<i;S+=r)_=t[S],w=t[S+1],_<u&&(u=_),w<c&&(c=w),_>d&&(d=_),w>m&&(m=w);T=Math.max(d-u,m-c),T=T!==0?32767/T:0}return Qu(s,a,r,u,c,T,0),a}function WC(t,e,r,n,i){var s,a;if(i===sy(t,e,r,n)>0)for(s=e;s<r;s+=n)a=sT(s,t[s],t[s+1],a);else for(s=r-n;s>=e;s-=n)a=sT(s,t[s],t[s+1],a);return a&&dp(a,a.next)&&(Ju(a),a=a.next),a}function xa(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(dp(r,r.next)||Ct(r.prev,r,r.next)===0)){if(Ju(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Qu(t,e,r,n,i,s,a){if(t){!a&&s&&NL(t,n,i,s);for(var u=t,c,d;t.prev!==t.next;){if(c=t.prev,d=t.next,s?IL(t,n,i,s):CL(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(d.i/r|0),Ju(t),t=d.next,u=d.next;continue}if(t=d,t===u){a?a===1?(t=PL(xa(t),e,r),Qu(t,e,r,n,i,s,2)):a===2&&AL(t,e,r,n,i,s):Qu(xa(t),e,r,n,i,s,1);break}}}}function CL(t){var e=t.prev,r=t,n=t.next;if(Ct(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,a=n.x,u=e.y,c=r.y,d=n.y,m=i<s?i<a?i:a:s<a?s:a,_=u<c?u<d?u:d:c<d?c:d,w=i>s?i>a?i:a:s>a?s:a,T=u>c?u>d?u:d:c>d?c:d,S=n.next;S!==e;){if(S.x>=m&&S.x<=w&&S.y>=_&&S.y<=T&&vo(i,u,s,c,a,d,S.x,S.y)&&Ct(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function IL(t,e,r,n){var i=t.prev,s=t,a=t.next;if(Ct(i,s,a)>=0)return!1;for(var u=i.x,c=s.x,d=a.x,m=i.y,_=s.y,w=a.y,T=u<c?u<d?u:d:c<d?c:d,S=m<_?m<w?m:w:_<w?_:w,P=u>c?u>d?u:d:c>d?c:d,E=m>_?m>w?m:w:_>w?_:w,A=ny(T,S,e,r,n),O=ny(P,E,e,r,n),M=t.prevZ,R=t.nextZ;M&&M.z>=A&&R&&R.z<=O;){if(M.x>=T&&M.x<=P&&M.y>=S&&M.y<=E&&M!==i&&M!==a&&vo(u,m,c,_,d,w,M.x,M.y)&&Ct(M.prev,M,M.next)>=0||(M=M.prevZ,R.x>=T&&R.x<=P&&R.y>=S&&R.y<=E&&R!==i&&R!==a&&vo(u,m,c,_,d,w,R.x,R.y)&&Ct(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;M&&M.z>=A;){if(M.x>=T&&M.x<=P&&M.y>=S&&M.y<=E&&M!==i&&M!==a&&vo(u,m,c,_,d,w,M.x,M.y)&&Ct(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;R&&R.z<=O;){if(R.x>=T&&R.x<=P&&R.y>=S&&R.y<=E&&R!==i&&R!==a&&vo(u,m,c,_,d,w,R.x,R.y)&&Ct(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function PL(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!dp(i,s)&&jC(i,n,n.next,s)&&Zu(i,s)&&Zu(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Ju(n),Ju(n.next),n=t=s),n=n.next}while(n!==t);return xa(n)}function AL(t,e,r,n,i,s){var a=t;do{for(var u=a.next.next;u!==a.prev;){if(a.i!==u.i&&UL(a,u)){var c=GC(a,u);a=xa(a,a.next),c=xa(c,c.next),Qu(a,e,r,n,i,s,0),Qu(c,e,r,n,i,s,0);return}u=u.next}a=a.next}while(a!==t)}function OL(t,e,r,n){var i=[],s,a,u,c,d;for(s=0,a=e.length;s<a;s++)u=e[s]*n,c=s<a-1?e[s+1]*n:t.length,d=WC(t,u,c,n,!1),d===d.next&&(d.steiner=!0),i.push(LL(d));for(i.sort(kL),s=0;s<i.length;s++)r=ML(i[s],r);return r}function kL(t,e){return t.x-e.x}function ML(t,e){var r=DL(t,e);if(!r)return e;var n=GC(r,t);return xa(n,n.next),xa(r,r.next)}function DL(t,e){var r=e,n=t.x,i=t.y,s=-1/0,a;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var u=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=n&&u>s&&(s=u,a=r.x<r.next.x?r:r.next,u===n))return a}r=r.next}while(r!==e);if(!a)return null;var c=a,d=a.x,m=a.y,_=1/0,w;r=a;do n>=r.x&&r.x>=d&&n!==r.x&&vo(i<m?n:s,i,d,m,i<m?s:n,i,r.x,r.y)&&(w=Math.abs(i-r.y)/(n-r.x),Zu(r,t)&&(w<_||w===_&&(r.x>a.x||r.x===a.x&&RL(a,r)))&&(a=r,_=w)),r=r.next;while(r!==c);return a}function RL(t,e){return Ct(t.prev,t,e.prev)<0&&Ct(e.next,t,t.next)<0}function NL(t,e,r,n){var i=t;do i.z===0&&(i.z=ny(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,FL(i)}function FL(t){var e,r,n,i,s,a,u,c,d=1;do{for(r=t,t=null,s=null,a=0;r;){for(a++,n=r,u=0,e=0;e<d&&(u++,n=n.nextZ,!!n);e++);for(c=d;u>0||c>0&&n;)u!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,d*=2}while(a>1);return t}function ny(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function LL(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function vo(t,e,r,n,i,s,a,u){return(i-a)*(e-u)>=(t-a)*(s-u)&&(t-a)*(n-u)>=(r-a)*(e-u)&&(r-a)*(s-u)>=(i-a)*(n-u)}function UL(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!BL(t,e)&&(Zu(t,e)&&Zu(e,t)&&VL(t,e)&&(Ct(t.prev,t,e.prev)||Ct(t,e.prev,e))||dp(t,e)&&Ct(t.prev,t,t.next)>0&&Ct(e.prev,e,e.next)>0)}function Ct(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function dp(t,e){return t.x===e.x&&t.y===e.y}function jC(t,e,r,n){var i=$c(Ct(t,e,r)),s=$c(Ct(t,e,n)),a=$c(Ct(r,n,t)),u=$c(Ct(r,n,e));return!!(i!==s&&a!==u||i===0&&Hc(t,r,e)||s===0&&Hc(t,n,e)||a===0&&Hc(r,t,n)||u===0&&Hc(r,e,n))}function Hc(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function $c(t){return t>0?1:t<0?-1:0}function BL(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&jC(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Zu(t,e){return Ct(t.prev,t,t.next)<0?Ct(t,e,t.next)>=0&&Ct(t,t.prev,e)>=0:Ct(t,e,t.prev)<0||Ct(t,t.next,e)<0}function VL(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function GC(t,e){var r=new iy(t.i,t.x,t.y),n=new iy(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function sT(t,e,r,n){var i=new iy(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Ju(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function iy(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}fp.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,a=Math.abs(sy(t,0,s,r));if(i)for(var u=0,c=e.length;u<c;u++){var d=e[u]*r,m=u<c-1?e[u+1]*r:t.length;a-=Math.abs(sy(t,d,m,r))}var _=0;for(u=0;u<n.length;u+=3){var w=n[u]*r,T=n[u+1]*r,S=n[u+2]*r;_+=Math.abs((t[w]-t[S])*(t[T+1]-t[w+1])-(t[w]-t[T])*(t[S+1]-t[w+1]))}return a===0&&_===0?0:Math.abs((_-a)/a)};function sy(t,e,r,n){for(var i=0,s=e,a=r-n;s<r;s+=n)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}fp.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var a=0;a<e;a++)r.vertices.push(t[i][s][a]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var dl={},ay={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof ca=="object"&&ca;(s.global===s||s.window===s||s.self===s)&&(r=s);var a,u=2147483647,c=36,d=1,m=26,_=38,w=700,T=72,S=128,P="-",E=/^xn--/,A=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=c-d,V=Math.floor,L=String.fromCharCode,W;function j(ue){throw RangeError(M[ue])}function U(ue,$){for(var X=ue.length,ne=[];X--;)ne[X]=$(ue[X]);return ne}function H(ue,$){var X=ue.split("@"),ne="";X.length>1&&(ne=X[0]+"@",ue=X[1]),ue=ue.replace(O,".");var we=ue.split("."),ie=U(we,$).join(".");return ne+ie}function J(ue){for(var $=[],X=0,ne=ue.length,we,ie;X<ne;)we=ue.charCodeAt(X++),we>=55296&&we<=56319&&X<ne?(ie=ue.charCodeAt(X++),(ie&64512)==56320?$.push(((we&1023)<<10)+(ie&1023)+65536):($.push(we),X--)):$.push(we);return $}function se(ue){return U(ue,function($){var X="";return $>65535&&($-=65536,X+=L($>>>10&1023|55296),$=56320|$&1023),X+=L($),X}).join("")}function te(ue){return ue-48<10?ue-22:ue-65<26?ue-65:ue-97<26?ue-97:c}function Le(ue,$){return ue+22+75*(ue<26)-(($!=0)<<5)}function ae(ue,$,X){var ne=0;for(ue=X?V(ue/w):ue>>1,ue+=V(ue/$);ue>R*m>>1;ne+=c)ue=V(ue/R);return V(ne+(R+1)*ue/(ue+_))}function le(ue){var $=[],X=ue.length,ne,we=0,ie=S,Pe=T,He,st,de,yt,We,me,at,Lt,Ut;for(He=ue.lastIndexOf(P),He<0&&(He=0),st=0;st<He;++st)ue.charCodeAt(st)>=128&&j("not-basic"),$.push(ue.charCodeAt(st));for(de=He>0?He+1:0;de<X;){for(yt=we,We=1,me=c;de>=X&&j("invalid-input"),at=te(ue.charCodeAt(de++)),(at>=c||at>V((u-we)/We))&&j("overflow"),we+=at*We,Lt=me<=Pe?d:me>=Pe+m?m:me-Pe,!(at<Lt);me+=c)Ut=c-Lt,We>V(u/Ut)&&j("overflow"),We*=Ut;ne=$.length+1,Pe=ae(we-yt,ne,yt==0),V(we/ne)>u-ie&&j("overflow"),ie+=V(we/ne),we%=ne,$.splice(we++,0,ie)}return se($)}function re(ue){var $,X,ne,we,ie,Pe,He,st,de,yt,We,me=[],at,Lt,Ut,Cn;for(ue=J(ue),at=ue.length,$=S,X=0,ie=T,Pe=0;Pe<at;++Pe)We=ue[Pe],We<128&&me.push(L(We));for(ne=we=me.length,we&&me.push(P);ne<at;){for(He=u,Pe=0;Pe<at;++Pe)We=ue[Pe],We>=$&&We<He&&(He=We);for(Lt=ne+1,He-$>V((u-X)/Lt)&&j("overflow"),X+=(He-$)*Lt,$=He,Pe=0;Pe<at;++Pe)if(We=ue[Pe],We<$&&++X>u&&j("overflow"),We==$){for(st=X,de=c;yt=de<=ie?d:de>=ie+m?m:de-ie,!(st<yt);de+=c)Cn=st-yt,Ut=c-yt,me.push(L(Le(yt+Cn%Ut,0))),st=V(Cn/Ut);me.push(L(Le(st,0))),ie=ae(X,Lt,ne==we),X=0,++ne}++X,++$}return me.join("")}function Je(ue){return H(ue,function($){return E.test($)?le($.slice(4).toLowerCase()):$})}function dt(ue){return H(ue,function($){return A.test($)?"xn--"+re($):$})}if(a={version:"1.3.2",ucs2:{decode:J,encode:se},decode:le,encode:re,toASCII:dt,toUnicode:Je},n&&i)if(t.exports==n)i.exports=a;else for(W in a)a.hasOwnProperty(W)&&(n[W]=a[W]);else r.punycode=a})(ca)})(ay,ay.exports);var zL={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},eh={};function HL(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var $L=function(t,e,r,n){e=e||"&",r=r||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var a=1e3;n&&typeof n.maxKeys=="number"&&(a=n.maxKeys);var u=t.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var d=t[c].replace(s,"%20"),m=d.indexOf(r),_,w,T,S;m>=0?(_=d.substr(0,m),w=d.substr(m+1)):(_=d,w=""),T=decodeURIComponent(_),S=decodeURIComponent(w),HL(i,T)?Array.isArray(i[T])?i[T].push(S):i[T]=[i[T],S]:i[T]=S}return i},ql=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},WL=function(t,e,r,n){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(ql(i))+r;return Array.isArray(t[i])?t[i].map(function(a){return s+encodeURIComponent(ql(a))}).join(e):s+encodeURIComponent(ql(t[i]))}).join(e):n?encodeURIComponent(ql(n))+r+encodeURIComponent(ql(t)):""};eh.decode=eh.parse=$L;eh.encode=eh.stringify=WL;var jL=ay.exports,Mn=zL,GL=dl.parse=$h;dl.resolve=r3;dl.resolveObject=n3;dl.format=t3;dl.Url=un;function un(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var YL=/^([a-z0-9.+-]+:)/i,XL=/:[0-9]*$/,qL=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,KL=["<",">",'"',"`"," ","\r",`
`,"	"],QL=["{","}","|","\\","^","`"].concat(KL),oy=["'"].concat(QL),aT=["%","/","?",";","#"].concat(oy),oT=["/","?","#"],ZL=255,lT=/^[+a-z0-9A-Z_-]{0,63}$/,JL=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,e3={javascript:!0,"javascript:":!0},ly={javascript:!0,"javascript:":!0},ko={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},uy=eh;function $h(t,e,r){if(t&&Mn.isObject(t)&&t instanceof un)return t;var n=new un;return n.parse(t,e,r),n}un.prototype.parse=function(t,e,r){if(!Mn.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),a=/\\/g;s[0]=s[0].replace(a,"/"),t=s.join(i);var u=t;if(u=u.trim(),!r&&t.split("#").length===1){var c=qL.exec(u);if(c)return this.path=u,this.href=u,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=uy.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=YL.exec(u);if(d){d=d[0];var m=d.toLowerCase();this.protocol=m,u=u.substr(d.length)}if(r||d||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var _=u.substr(0,2)==="//";_&&!(d&&ly[d])&&(u=u.substr(2),this.slashes=!0)}if(!ly[d]&&(_||d&&!ko[d])){for(var w=-1,T=0;T<oT.length;T++){var S=u.indexOf(oT[T]);S!==-1&&(w===-1||S<w)&&(w=S)}var P,E;w===-1?E=u.lastIndexOf("@"):E=u.lastIndexOf("@",w),E!==-1&&(P=u.slice(0,E),u=u.slice(E+1),this.auth=decodeURIComponent(P)),w=-1;for(var T=0;T<aT.length;T++){var S=u.indexOf(aT[T]);S!==-1&&(w===-1||S<w)&&(w=S)}w===-1&&(w=u.length),this.host=u.slice(0,w),u=u.slice(w),this.parseHost(),this.hostname=this.hostname||"";var A=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!A)for(var O=this.hostname.split(/\./),T=0,M=O.length;T<M;T++){var R=O[T];if(R&&!R.match(lT)){for(var V="",L=0,W=R.length;L<W;L++)R.charCodeAt(L)>127?V+="x":V+=R[L];if(!V.match(lT)){var j=O.slice(0,T),U=O.slice(T+1),H=R.match(JL);H&&(j.push(H[1]),U.unshift(H[2])),U.length&&(u="/"+U.join(".")+u),this.hostname=j.join(".");break}}}this.hostname.length>ZL?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=jL.toASCII(this.hostname));var J=this.port?":"+this.port:"",se=this.hostname||"";this.host=se+J,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!e3[m])for(var T=0,M=oy.length;T<M;T++){var te=oy[T];if(u.indexOf(te)!==-1){var Le=encodeURIComponent(te);Le===te&&(Le=escape(te)),u=u.split(te).join(Le)}}var ae=u.indexOf("#");ae!==-1&&(this.hash=u.substr(ae),u=u.slice(0,ae));var le=u.indexOf("?");if(le!==-1?(this.search=u.substr(le),this.query=u.substr(le+1),e&&(this.query=uy.parse(this.query)),u=u.slice(0,le)):e&&(this.search="",this.query={}),u&&(this.pathname=u),ko[m]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var J=this.pathname||"",re=this.search||"";this.path=J+re}return this.href=this.format(),this};function t3(t){return Mn.isString(t)&&(t=$h(t)),t instanceof un?t.format():un.prototype.format.call(t)}un.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Mn.isObject(this.query)&&Object.keys(this.query).length&&(s=uy.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||ko[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),a=a.replace("#","%23"),e+i+r+a+n};function r3(t,e){return $h(t,!1,!0).resolve(e)}un.prototype.resolve=function(t){return this.resolveObject($h(t,!1,!0)).format()};function n3(t,e){return t?$h(t,!1,!0).resolveObject(e):e}un.prototype.resolveObject=function(t){if(Mn.isString(t)){var e=new un;e.parse(t,!1,!0),t=e}for(var r=new un,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),u=0;u<a.length;u++){var c=a[u];c!=="protocol"&&(r[c]=t[c])}return ko[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!ko[t.protocol]){for(var d=Object.keys(t),m=0;m<d.length;m++){var _=d[m];r[_]=t[_]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!ly[t.protocol]){for(var M=(t.pathname||"").split("/");M.length&&!(t.host=M.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),M[0]!==""&&M.unshift(""),M.length<2&&M.unshift(""),r.pathname=M.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var w=r.pathname||"",T=r.search||"";r.path=w+T}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var S=r.pathname&&r.pathname.charAt(0)==="/",P=t.host||t.pathname&&t.pathname.charAt(0)==="/",E=P||S||r.host&&t.pathname,A=E,O=r.pathname&&r.pathname.split("/")||[],M=t.pathname&&t.pathname.split("/")||[],R=r.protocol&&!ko[r.protocol];if(R&&(r.hostname="",r.port=null,r.host&&(O[0]===""?O[0]=r.host:O.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(M[0]===""?M[0]=t.host:M.unshift(t.host)),t.host=null),E=E&&(M[0]===""||O[0]==="")),P)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,O=M;else if(M.length)O||(O=[]),O.pop(),O=O.concat(M),r.search=t.search,r.query=t.query;else if(!Mn.isNullOrUndefined(t.search)){if(R){r.hostname=r.host=O.shift();var V=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;V&&(r.auth=V.shift(),r.host=r.hostname=V.shift())}return r.search=t.search,r.query=t.query,(!Mn.isNull(r.pathname)||!Mn.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!O.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var L=O.slice(-1)[0],W=(r.host||t.host||O.length>1)&&(L==="."||L==="..")||L==="",j=0,U=O.length;U>=0;U--)L=O[U],L==="."?O.splice(U,1):L===".."?(O.splice(U,1),j++):j&&(O.splice(U,1),j--);if(!E&&!A)for(;j--;j)O.unshift("..");E&&O[0]!==""&&(!O[0]||O[0].charAt(0)!=="/")&&O.unshift(""),W&&O.join("/").substr(-1)!=="/"&&O.push("");var H=O[0]===""||O[0]&&O[0].charAt(0)==="/";if(R){r.hostname=r.host=H?"":O.length?O.shift():"";var V=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;V&&(r.auth=V.shift(),r.host=r.hostname=V.shift())}return E=E||r.host&&O.length,E&&!H&&O.unshift(""),O.length?r.pathname=O.join("/"):(r.pathname=null,r.path=null),(!Mn.isNull(r.pathname)||!Mn.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};un.prototype.parseHost=function(){var t=this.host,e=XL.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};/*!
 * @pixi/constants - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ci;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Ci||(Ci={}));var th;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(th||(th={}));var fd;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(fd||(fd={}));var Ee;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Ee||(Ee={}));var wn;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(wn||(wn={}));var rh;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(rh||(rh={}));var da;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(da||(da={}));var Vt;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Vt||(Vt={}));var pi;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(pi||(pi={}));var us;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(us||(us={}));var nh;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"})(nh||(nh={}));var xs;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(xs||(xs={}));var On;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(On||(On={}));var hy;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(hy||(hy={}));var Bn;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Bn||(Bn={}));var Gr;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(Gr||(Gr={}));var $o;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})($o||($o={}));/*!
 * @pixi/utils - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.RETINA_PREFIX=/@([0-9\.]+)x/;Te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var uT=!1,hT="5.3.12";function i3(t){var e;if(!uT){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+hT+" - ✰ "+t+` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,r)}else window.console&&window.console.log("PixiJS "+hT+" - "+t+" - http://www.pixijs.com/");uT=!0}}var Tm;function s3(){return typeof Tm>"u"&&(Tm=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:Te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Tm}function Wo(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function YC(t){var e=t.toString(16);return e="000000".substr(0,6-e.length)+e,"#"+e}function XC(t){return typeof t=="string"&&t[0]==="#"&&(t=t.substr(1)),parseInt(t,16)}function a3(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[Ee.NORMAL_NPM]=Ee.NORMAL,t[Ee.ADD_NPM]=Ee.ADD,t[Ee.SCREEN_NPM]=Ee.SCREEN,e[Ee.NORMAL]=Ee.NORMAL_NPM,e[Ee.ADD]=Ee.ADD_NPM,e[Ee.SCREEN]=Ee.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var qC=a3();function KC(t,e){return qC[e?1:0][t]}function o3(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function O_(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function QC(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function l3(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function dd(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function cT(t){return!(t&t-1)&&!!t}function fT(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Mo(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}}function mo(t){return t===0?0:t<0?-1:1}var u3=0;function jo(){return++u3}var dT={};function hs(t,e,r){if(r===void 0&&(r=3),!dT[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),dT[e]=!0}}var pT={},oi=Object.create(null),Ws=Object.create(null),vT=function(){function t(e,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||Te.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=e*this.resolution,this.canvas.height=r*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=e},enumerable:!1,configurable:!0}),t}();function h3(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r),s=i.data,a=s.length,u={top:null,left:null,right:null,bottom:null},c=null,d,m,_;for(d=0;d<a;d+=4)s[d+3]!==0&&(m=d/4%e,_=~~(d/4/e),u.top===null&&(u.top=_),(u.left===null||m<u.left)&&(u.left=m),(u.right===null||u.right<m)&&(u.right=m+1),(u.bottom===null||u.bottom<_)&&(u.bottom=_));return u.top!==null&&(e=u.right-u.left,r=u.bottom-u.top+1,c=n.getImageData(u.left,u.top,e,r)),{height:r,width:e,data:c}}var Wc;function c3(t,e){if(e===void 0&&(e=window.location),t.indexOf("data:")===0)return"";e=e||window.location,Wc||(Wc=document.createElement("a")),Wc.href=t;var r=GL(Wc.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function pd(t,e){var r=Te.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}/*!
 * @pixi/math - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ih=Math.PI*2,f3=180/Math.PI,d3=Math.PI/180,Mt;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(Mt||(Mt={}));var nt=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Mt.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this},t}(),p3=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=Mt.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n},t.prototype.getBounds=function(){return new nt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t}(),v3=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=Mt.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new nt(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),Iu=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var s=[],a=0,u=i.length;a<u;a++)s.push(i[a].x,i[a].y);i=s}this.points=i,this.type=Mt.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,s=0,a=i-1;s<i;a=s++){var u=this.points[s*2],c=this.points[s*2+1],d=this.points[a*2],m=this.points[a*2+1],_=c>r!=m>r&&e<(d-u)*((r-c)/(m-c))+u;_&&(n=!n)}return n},t}(),m3=function(){function t(e,r,n,i,s){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),s===void 0&&(s=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Mt.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){if(r>=this.y+this.radius&&r<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var n=e-(this.x+this.radius),i=r-(this.y+this.radius),s=this.radius*this.radius;if(n*n+i*i<=s||(n=e-(this.x+this.width-this.radius),n*n+i*i<=s)||(i=r-(this.y+this.height-this.radius),n*n+i*i<=s)||(n=e-(this.x+this.radius),n*n+i*i<=s))return!0}return!1},t}(),hr=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t}(),go=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Gt=function(){function t(e,r,n,i,s,a){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=0),a===void 0&&(a=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=a}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,s,a){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=a,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new hr;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new hr;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,a=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=a*r-this.ty*n,this.ty=a*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this},t.prototype.setTransform=function(e,r,n,i,s,a,u,c,d){return this.a=Math.cos(u+d)*s,this.b=Math.sin(u+d)*s,this.c=-Math.sin(u-c)*a,this.d=Math.cos(u-c)*a,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,s=this.d,a=-Math.atan2(-i,s),u=Math.atan2(n,r),c=Math.abs(a+u);return c<1e-5||Math.abs(ih-c)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx,e.position.y=this.ty,e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,a=e*i-r*n;return this.a=i/a,this.b=-r/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-i*s)/a,this.ty=-(e*this.ty-r*s)/a,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Ks=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Qs=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Zs=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Js=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],cy=[],ZC=[],jc=Math.sign;function g3(){for(var t=0;t<16;t++){var e=[];cy.push(e);for(var r=0;r<16;r++)for(var n=jc(Ks[t]*Ks[r]+Zs[t]*Qs[r]),i=jc(Qs[t]*Ks[r]+Js[t]*Qs[r]),s=jc(Ks[t]*Zs[r]+Zs[t]*Js[r]),a=jc(Qs[t]*Zs[r]+Js[t]*Js[r]),u=0;u<16;u++)if(Ks[u]===n&&Qs[u]===i&&Zs[u]===s&&Js[u]===a){e.push(u);break}}for(var t=0;t<16;t++){var c=new Gt;c.set(Ks[t],Qs[t],Zs[t],Js[t],0,0),ZC.push(c)}}g3();var St={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Ks[t]},uY:function(t){return Qs[t]},vX:function(t){return Zs[t]},vY:function(t){return Js[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return cy[t][e]},sub:function(t,e){return cy[t][St.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?St.S:St.N:Math.abs(e)*2<=Math.abs(t)?t>0?St.E:St.W:e>0?t>0?St.SE:St.SW:t>0?St.NE:St.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=ZC[St.inv(e)];i.tx=r,i.ty=n,t.append(i)}},JC=function(){function t(){this.worldTransform=new Gt,this.localTransform=new Gt,this.position=new go(this.onChange,this,0,0),this.scale=new go(this.onChange,this,1,1),this.pivot=new go(this.onChange,this,0,0),this.skew=new go(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.SORTABLE_CHILDREN=!1;var vd=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?nt.EMPTY:(e=e||new nt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,a=e[0],u=e[1];r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,a=e[2],u=e[3],r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,a=e[4],u=e[5],r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,a=e[6],u=e[7],r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s},t.prototype.addFrame=function(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)},t.prototype.addFrameMatrix=function(e,r,n,i,s){var a=e.a,u=e.b,c=e.c,d=e.d,m=e.tx,_=e.ty,w=this.minX,T=this.minY,S=this.maxX,P=this.maxY,E=a*r+c*n+m,A=u*r+d*n+_;w=E<w?E:w,T=A<T?A:T,S=E>S?E:S,P=A>P?A:P,E=a*i+c*n+m,A=u*i+d*n+_,w=E<w?E:w,T=A<T?A:T,S=E>S?E:S,P=A>P?A:P,E=a*r+c*s+m,A=u*r+d*s+_,w=E<w?E:w,T=A<T?A:T,S=E>S?E:S,P=A>P?A:P,E=a*i+c*s+m,A=u*i+d*s+_,w=E<w?E:w,T=A<T?A:T,S=E>S?E:S,P=A>P?A:P,this.minX=w,this.minY=T,this.maxX=S,this.maxY=P},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,s=this.minY,a=this.maxX,u=this.maxY,c=r;c<n;c+=2){var d=e[c],m=e[c+1];i=d<i?d:i,s=m<s?m:s,a=d>a?d:a,u=m>u?m:u}this.minX=i,this.minY=s,this.maxX=a,this.maxY=u},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,s,a){s===void 0&&(s=0),a===void 0&&(a=s);for(var u=e.a,c=e.b,d=e.c,m=e.d,_=e.tx,w=e.ty,T=this.minX,S=this.minY,P=this.maxX,E=this.maxY,A=n;A<i;A+=2){var O=r[A],M=r[A+1],R=u*O+d*M+_,V=m*M+c*O+w;T=Math.min(T,R-s),P=Math.max(P,R+s),S=Math.min(S,V-a),E=Math.max(E,V+a)}this.minX=T,this.minY=S,this.maxX=P,this.maxY=E},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,a=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=a){var u=this.minX,c=this.minY,d=this.maxX,m=this.maxY;this.minX=n<u?n:u,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=a>m?a:m}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,a=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=a){var u=this.minX,c=this.minY,d=this.maxX,m=this.maxY;this.minX=n<u?n:u,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=a>m?a:m}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,s,a){e-=s,r-=a,n+=s,i+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var fy=function(t,e){return fy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},fy(t,e)};function k_(t,e){fy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Yt=function(t){k_(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new JC,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new vd,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var s=n[i];Object.defineProperty(e.prototype,s,Object.getOwnPropertyDescriptor(r,s))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new nt),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new nt),r=this._localBoundsRect),this._localBounds||(this._localBounds=new vd);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var s=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var u=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=s,this._bounds.updateID+=this._boundsID-a,u},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,s){return n&&(r=n.toGlobal(r,i,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,s,a,u,c,d,m){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=1),a===void 0&&(a=0),u===void 0&&(u=0),c===void 0&&(c=0),d===void 0&&(d=0),m===void 0&&(m=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=s||1,this.rotation=a,this.skew.x=u,this.skew.y=c,this.pivot.x=d,this.pivot.y=m,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new eI),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*f3},set:function(r){this.transform.rotation=r*d3},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask){var n=this._mask.maskObject||this._mask;n.renderable=!0,n.isMask=!1}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n.renderable=!1,n.isMask=!0}},enumerable:!1,configurable:!0}),e}(Hh),eI=function(t){k_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(Yt);Yt.prototype.displayObjectUpdateTransform=Yt.prototype.updateTransform;function y3(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var bn=function(t){k_(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=Te.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var s=0;s<n.length;s++)this.addChild(n[s]);else{var a=n[0];a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),s=this.getChildIndex(n);this.children[i]=n,this.children[s]=r,this.onChildrenChange(i<s?i:s)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);Mo(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var s=0;s<n.length;s++)this.removeChild(n[s]);else{var a=n[0],u=this.children.indexOf(a);if(u===-1)return null;a.parent=null,a.transform._parentID=-1,Mo(this.children,u,1),this._boundsID++,this.onChildrenChange(u),a.emit("removed",this),this.emit("childRemoved",a,this,u)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,Mo(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,s=n,a=s-i,u;if(a>0&&a<=s){u=this.children.splice(i,a);for(var c=0;c<u.length;++c)u[c].parent=null,u[c].transform&&(u[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<u.length;++c)u[c].emit("removed",this),this.emit("childRemoved",u[c],this,c);return u}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var s=this.children[n];s._lastSortedIndex=n,!r&&s.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(y3),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var s=0,a=this.children.length;s<a;++s){var u=this.children[s];u.visible&&u.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){r.batch.flush();var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<n.length;s++)n[s].enabled&&this._enabledFilters.push(n[s]);this._enabledFilters.length&&r.filter.push(this,this._enabledFilters)}i&&r.mask.push(this,this._mask),this._render(r);for(var s=0,a=this.children.length;s<a;s++)this.children[s].render(r);r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var s=0;s<i.length;++s)i[s].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(Yt);bn.prototype.containerUpdateTransform=bn.prototype.updateTransform;/*!
 * @pixi/accessibility - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _3={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Yt.mixin(_3);var w3=9,Gc=100,x3=0,b3=0,mT=2,gT=1,T3=-1e3,S3=-1e3,E3=2,C3=function(){function t(e){this._hookDiv=null,(Un.tablet||Un.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=Gc+"px",r.style.height=Gc+"px",r.style.position="absolute",r.style.top=x3+"px",r.style.left=b3+"px",r.style.zIndex=mT.toString(),this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=gT+"px",r.style.height=gT+"px",r.style.position="absolute",r.style.top=T3+"px",r.style.left=S3+"px",r.style.zIndex=E3.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessability for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var r=e.children,n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(Un.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=this.renderer.resolution,i=r.width/this.renderer.width*n,s=r.height/this.renderer.height*n,a=this.div;a.style.left=r.left+"px",a.style.top=r.top+"px",a.style.width=this.renderer.width+"px",a.style.height=this.renderer.height+"px";for(var u=0;u<this.children.length;u++){var c=this.children[u];if(c.renderId!==this.renderId)c._accessibleActive=!1,Mo(this.children,u,1),this.div.removeChild(c._accessibleDiv),this.pool.push(c._accessibleDiv),c._accessibleDiv=null,u--;else{a=c._accessibleDiv;var d=c.hitArea,m=c.worldTransform;c.hitArea?(a.style.left=(m.tx+d.x*m.a)*i+"px",a.style.top=(m.ty+d.y*m.d)*s+"px",a.style.width=d.width*m.a*i+"px",a.style.height=d.height*m.d*s+"px"):(d=c.getBounds(),this.capHitArea(d),a.style.left=d.x*i+"px",a.style.top=d.y*s+"px",a.style.width=d.width*i+"px",a.style.height=d.height*s+"px",a.title!==c.accessibleTitle&&c.accessibleTitle!==null&&(a.title=c.accessibleTitle),a.getAttribute("aria-label")!==c.accessibleHint&&c.accessibleHint!==null&&a.setAttribute("aria-label",c.accessibleHint)),(c.accessibleTitle!==a.title||c.tabIndex!==a.tabIndex)&&(a.title=c.accessibleTitle,a.tabIndex=c.tabIndex,this.debug&&this.updateDebugHTML(a))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=Gc+"px",r.style.height=Gc+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=mT.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction;r.dispatchEvent(e.target.displayObject,"click",r.eventData),r.dispatchEvent(e.target.displayObject,"pointertap",r.eventData),r.dispatchEvent(e.target.displayObject,"tap",r.eventData)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction;r.dispatchEvent(e.target.displayObject,"mouseover",r.eventData)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction;r.dispatchEvent(e.target.displayObject,"mouseout",r.eventData)},t.prototype._onKeyDown=function(e){e.keyCode===w3&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();/*!
 * @pixi/ticker - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.TARGET_FPMS=.06;var Ii;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(Ii||(Ii={}));var Sm=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.fn=e,this.context=r,this.priority=n,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),Zt=function(){function t(){var e=this;this._head=new Sm(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/Te.TARGET_FPMS,this.elapsedMS=1/Te.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=Ii.NORMAL),this._addListener(new Sm(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=Ii.NORMAL),this._addListener(new Sm(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Te.TARGET_FPMS;for(var i=this._head,s=i.next;s;)s=s.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Te.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),I3=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Ii.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Zt.shared:new Zt,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t}();/*!
 * @pixi/interaction - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var yT=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new hr,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dy=function(t,e){return dy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},dy(t,e)};function P3(t,e){dy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var A3=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),Em=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),t}(),O3=function(){function t(){this._tempPoint=new hr}return t.prototype.recursiveFindHit=function(e,r,n,i,s){if(!r||!r.visible)return!1;var a=e.data.global;s=r.interactive||s;var u=!1,c=s,d=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(a,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?u=!0:(i=!1,d=!1)),c=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(a)||(i=!1)),d&&r.interactiveChildren&&r.children)for(var m=r.children,_=m.length-1;_>=0;_--){var w=m[_],T=this.recursiveFindHit(e,w,n,i,c);if(T){if(!w.parent)continue;c=!1,T&&(e.target&&(i=!1),u=!0)}}return s&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(a)&&(u=!0),r.interactive&&(u&&!e.target&&(e.target=r),n&&n(e,r,!!u))),u},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),k3={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Yt.mixin(k3);var Yc=1,Xc={target:null,data:{global:null}},M3=function(t){P3(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new yT,i.mouse.identifier=Yc,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Yc]=i.mouse,i.interactionDataPool=[],i.eventData=new A3,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new O3,i._tempDisplayObject=new eI,i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return Xc.target=null,Xc.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(Xc,n,null,!0),Xc.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Zt.system.add(this.tickerUpdate,this,Ii.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(Zt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){if(r=r||"default",this.currentCursorMode!==r){this.currentCursorMode=r;var n=this.cursorStyles[r];if(n)switch(typeof n){case"string":this.interactionDOMElement.style.cursor=n;break;case"function":n(r);break;case"object":Object.assign(this.interactionDOMElement.style,n);break}else typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var s;this.interactionDOMElement.parentElement?s=this.interactionDOMElement.getBoundingClientRect():s={x:0,y:0,width:0,height:0};var a=1/this.resolution;r.x=(n-s.left)*(this.interactionDOMElement.width/s.width)*a,r.y=(i-s.top)*(this.interactionDOMElement.height/s.height)*a},e.prototype.processInteractive=function(r,n,i,s){var a=this.search.findHit(r,n,i,s),u=this.delayedEvents;if(!u.length)return a;r.stopPropagationHint=!1;var c=u.length;this.delayedEvents=[];for(var d=0;d<c;d++){var m=u[d],_=m.displayObject,w=m.eventString,T=m.eventData;T.stopsPropagatingAt===_&&(T.stopPropagationHint=!0),this.dispatchEvent(_,w,T)}return a},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var s=n.length,a=0;a<s;a++){var u=n[a],c=this.getInteractionDataForPointerId(u),d=this.configureInteractionEventForDOMEvent(this.eventData,u,c);if(d.data.originalEvent=r,this.processInteractive(d,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",d),u.pointerType==="touch")this.emit("touchstart",d);else if(u.pointerType==="mouse"||u.pointerType==="pen"){var m=u.button===2;this.emit(m?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var s=r.data,a=r.data.identifier;if(i){if(n.trackedPointers[a]||(n.trackedPointers[a]=new Em(a)),this.dispatchEvent(n,"pointerdown",r),s.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var u=s.button===2;u?n.trackedPointers[a].rightDown=!0:n.trackedPointers[a].leftDown=!0,this.dispatchEvent(n,u?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){for(var s=this.normalizeToPointerData(r),a=s.length,u=r.target!==this.interactionDOMElement?"outside":"",c=0;c<a;c++){var d=s[c],m=this.getInteractionDataForPointerId(d),_=this.configureInteractionEventForDOMEvent(this.eventData,d,m);if(_.data.originalEvent=r,this.processInteractive(_,this.lastObjectRendered,i,n||!u),this.emit(n?"pointercancel":"pointerup"+u,_),d.pointerType==="mouse"||d.pointerType==="pen"){var w=d.button===2;this.emit(w?"rightup"+u:"mouseup"+u,_)}else d.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+u,_),this.releaseInteractionDataForPointerId(d.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,s=r.data.identifier;n.trackedPointers[s]!==void 0&&(delete n.trackedPointers[s],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var s=r.data,a=r.data.identifier,u=n.trackedPointers[a],c=s.pointerType==="touch",d=s.pointerType==="mouse"||s.pointerType==="pen",m=!1;if(d){var _=s.button===2,w=Em.FLAGS,T=_?w.RIGHT_DOWN:w.LEFT_DOWN,S=u!==void 0&&u.flags&T;i?(this.dispatchEvent(n,_?"rightup":"mouseup",r),S&&(this.dispatchEvent(n,_?"rightclick":"click",r),m=!0)):S&&this.dispatchEvent(n,_?"rightupoutside":"mouseupoutside",r),u&&(_?u.rightDown=!1:u.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),c&&this.dispatchEvent(n,"touchend",r),u&&((!d||m)&&this.dispatchEvent(n,"pointertap",r),c&&(this.dispatchEvent(n,"tap",r),u.over=!1))):u&&(this.dispatchEvent(n,"pointerupoutside",r),c&&this.dispatchEvent(n,"touchendoutside",r)),u&&u.none&&delete n.trackedPointers[a]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,s=0;s<i;s++){var a=n[s],u=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,u);c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",c),a.pointerType==="touch"&&this.emit("touchmove",c),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",c)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var s=r.data,a=s.pointerType==="touch",u=s.pointerType==="mouse"||s.pointerType==="pen";u&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),a&&this.dispatchEvent(n,"touchmove",r),u&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var s=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,s);a.data.originalEvent=i,this.processInteractive(a,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",a),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(s.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var s=r.data,a=r.data.identifier,u=s.pointerType==="mouse"||s.pointerType==="pen",c=n.trackedPointers[a];i&&!c&&(c=n.trackedPointers[a]=new Em(a)),c!==void 0&&(i&&this.mouseOverRenderer?(c.over||(c.over=!0,this.delayDispatchEvent(n,"pointerover",r),u&&this.delayDispatchEvent(n,"mouseover",r)),u&&this.cursor===null&&(this.cursor=n.cursor)):c.over&&(c.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),u&&this.dispatchEvent(n,"mouseout",r),c.none&&delete n.trackedPointers[a]))},e.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],s=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,s);a.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",a)},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===Yc||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new yT,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,s=r.changedTouches.length;i<s;i++){var a=r.changedTouches[i];typeof a.button>"u"&&(a.button=r.touches.length?1:0),typeof a.buttons>"u"&&(a.buttons=r.touches.length?1:0),typeof a.isPrimary>"u"&&(a.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,n.push(a)}else if(r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof window.PointerEvent))){var u=r;typeof u.isPrimary>"u"&&(u.isPrimary=!0),typeof u.width>"u"&&(u.width=1),typeof u.height>"u"&&(u.height=1),typeof u.tiltX>"u"&&(u.tiltX=0),typeof u.tiltY>"u"&&(u.tiltY=0),typeof u.pointerType>"u"&&(u.pointerType="mouse"),typeof u.pointerId>"u"&&(u.pointerId=Yc),typeof u.pressure>"u"&&(u.pressure=.5),typeof u.twist>"u"&&(u.twist=0),typeof u.tangentialPressure>"u"&&(u.tangentialPressure=0),u.isNormalized=!0,n.push(u)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(Hh);/*!
 * @pixi/runner - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var vr=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,s,a,u,c){if(arguments.length>8)throw new Error("max arguments reached");var d=this,m=d.name,_=d.items;this._aliasCount++;for(var w=0,T=_.length;w<T;w++)_[w][m](e,r,n,i,s,a,u,c);return _===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(vr.prototype,{dispatch:{value:vr.prototype.emit},run:{value:vr.prototype.emit}});/*!
 * @pixi/core - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.PREFER_ENV=Un.any?Ci.WEBGL:Ci.WEBGL2;Te.STRICT_TEXTURE_CACHE=!1;var py=[];function tI(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=py.length-1;i>=0;--i){var s=py[i];if(s.test&&s.test(t,r))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var vy=function(t,e){return vy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},vy(t,e)};function Ve(t,e){vy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sh=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new vr("setRealSize"),this.onUpdate=new vr("update"),this.onError=new vr("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),M_=function(t){Ve(e,t);function e(r,n){var i=this,s=n||{},a=s.width,u=s.height;if(!a||!u)throw new Error("BufferResource width or height invalid");return i=t.call(this,a,u)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var s=r.gl;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===xs.UNPACK),i.width===n.width&&i.height===n.height?s.texSubImage2D(n.target,0,0,0,n.width,n.height,n.format,n.type,this.data):(i.width=n.width,i.height=n.height,s.texImage2D(n.target,0,i.internalFormat,n.width,n.height,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(sh),D3={scaleMode:pi.NEAREST,format:rh.RGBA,alphaMode:xs.NPM},wt=function(t){Ve(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var s=n.alphaMode,a=n.mipmap,u=n.anisotropicLevel,c=n.scaleMode,d=n.width,m=n.height,_=n.wrapMode,w=n.format,T=n.type,S=n.target,P=n.resolution,E=n.resourceOptions;return r&&!(r instanceof sh)&&(r=tI(r,E),r.internal=!0),i.width=d||0,i.height=m||0,i.resolution=P||Te.RESOLUTION,i.mipmap=a!==void 0?a:Te.MIPMAP_TEXTURES,i.anisotropicLevel=u!==void 0?u:Te.ANISOTROPIC_LEVEL,i.wrapMode=_||Te.WRAP_MODE,i.scaleMode=c!==void 0?c:Te.SCALE_MODE,i.format=w||rh.RGBA,i.type=T||Vt.UNSIGNED_BYTE,i.target=S||da.TEXTURE_2D,i.alphaMode=s!==void 0?s:xs.UNPACK,n.premultiplyAlpha!==void 0&&(i.premultiplyAlpha=n.premultiplyAlpha),i.uid=jo(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=d>0&&m>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=r,this.height=n,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=r/this.resolution,this.height=n/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=cT(this.realWidth)&&cT(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=this.width*n/r,this.height=this.height*n/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ws[this.cacheId],delete oi[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=Te.STRICT_TEXTURE_CACHE);var s=typeof r=="string",a=null;s?a=r:(r._pixiId||(r._pixiId="pixiid_"+jo()),a=r._pixiId);var u=Ws[a];if(s&&i&&!u)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return u||(u=new e(r,n),u.cacheId=a,e.addToCache(u,a)),u},e.fromBuffer=function(r,n,i,s){r=r||new Float32Array(n*i*4);var a=new M_(r,{width:n,height:i}),u=r instanceof Float32Array?Vt.FLOAT:Vt.UNSIGNED_BYTE;return new e(a,Object.assign(D3,s||{width:n,height:i,type:u}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Ws[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),Ws[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=Ws[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Ws[r],n}}else if(r&&r.textureCacheIds){for(var s=0;s<r.textureCacheIds.length;++s)delete Ws[r.textureCacheIds[s]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(Hh),rI=function(t){Ve(e,t);function e(r,n){var i=this,s=n||{},a=s.width,u=s.height;i=t.call(this,a,u)||this,i.items=[],i.itemDirtyIds=[];for(var c=0;c<r;c++){var d=new wt;i.items.push(d),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof sh?this.addResourceAt(r[i],i):this.addResourceAt(tI(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(s){return s.resource}).filter(function(s){return s}),i=n.map(function(s){return s.load()});return this._load=Promise.all(i).then(function(){var s=r.items[0],a=s.realWidth,u=s.realHeight;return r.resize(a,u),Promise.resolve(r)}),this._load},e}(sh),R3=function(t){Ve(e,t);function e(r,n){var i=this,s=n||{},a=s.width,u=s.height,c,d;return Array.isArray(r)?(c=r,d=r.length):d=r,i=t.call(this,d,{width:a,height:u})||this,c&&i.initFromArray(c,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=da.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var s=this,a=s.length,u=s.itemDirtyIds,c=s.items,d=r.gl;i.dirtyId<0&&d.texImage3D(d.TEXTURE_2D_ARRAY,0,n.format,this._width,this._height,a,0,n.format,n.type,null);for(var m=0;m<a;m++){var _=c[m];u[m]<_.dirtyId&&(u[m]=_.dirtyId,_.valid&&d.texSubImage3D(d.TEXTURE_2D_ARRAY,0,0,0,m,_.resource.width,_.resource.height,1,n.format,n.type,_.resource.source))}return!0},e}(rI),bs=function(t){Ve(e,t);function e(r){var n=this,i=r,s=i.naturalWidth||i.videoWidth||i.width,a=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,s,a)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=c3(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,s){var a=r.gl,u=n.realWidth,c=n.realHeight;return s=s||this.source,a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===xs.UNPACK),!this.noSubImage&&n.target===a.TEXTURE_2D&&i.width===u&&i.height===c?a.texSubImage2D(a.TEXTURE_2D,0,0,0,n.format,n.type,s):(i.width=u,i.height=c,a.texImage2D(n.target,0,n.format,n.format,n.type,s)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(sh),nI=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.test=function(r){var n=window.OffscreenCanvas;return n&&r instanceof n?!0:r instanceof HTMLCanvasElement},e}(bs),N3=function(t){Ve(e,t);function e(r,n){var i=this,s=n||{},a=s.width,u=s.height,c=s.autoLoad,d=s.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:a,height:u})||this;for(var m=0;m<e.SIDES;m++)i.items[m].target=da.TEXTURE_CUBE_MAP_POSITIVE_X+m;return i.linkBaseTexture=d!==!1,r&&i.initFromArray(r,n),c!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=da.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(i===void 0&&(i=this.linkBaseTexture),!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=da.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var s=this.itemDirtyIds,a=0;a<e.SIDES;a++){var u=this.items[a];s[a]<u.dirtyId&&(u.valid&&u.resource?(u.resource.upload(r,u,i),s[a]=u.dirtyId):s[a]<-1&&(r.gl.texImage2D(u.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),s[a]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(rI),iI=function(t){Ve(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var s=new Image;bs.crossOrigin(s,r,n.crossorigin),s.src=r,r=s}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:Te.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,n.premultiplyAlpha!==void 0&&(i.premultiplyAlpha=n.premultiplyAlpha),i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,s){var a=n.source;n.url=a.src;var u=function(){n.destroyed||(a.onload=null,a.onerror=null,n.resize(a.width,a.height),n._load=null,n.createBitmap?i(n.process()):i(n))};a.complete&&a.src?u():(a.onload=u,a.onerror=function(c){s(c),n.onError.emit(c)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;return this._process!==null?this._process:this.bitmap!==null||!window.createImageBitmap?Promise.resolve(this):(this._process=window.createImageBitmap(n,0,0,n.width,n.height,{premultiplyAlpha:this.alphaMode===xs.UNPACK?"premultiply":"none"}).then(function(i){return r.destroyed?Promise.reject():(r.bitmap=i,r.update(),r._process=null,Promise.resolve(r))}),this._process)},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var s=!0,a=n._glTextures;for(var u in a){var c=a[u];if(c!==i&&c.dirtyId!==n.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(bs),F3=function(t){Ve(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},/^\<svg/.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;bs.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,s=n.height;if(!i||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var a=i*r.scale,u=s*r.scale;(r._overrideWidth||r._overrideHeight)&&(a=r._overrideWidth||r._overrideHeight/s*i,u=r._overrideHeight||r._overrideWidth/i*s),a=Math.round(a),u=Math.round(u);var c=r.source;c.width=a,c.height=u,c._pixiId="canvas_"+jo(),c.getContext("2d").drawImage(n,0,0,i,s,0,0,a,u),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&r.indexOf("<svg")===0},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(bs),L3=function(t){Ve(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var a=r[0].src||r[0];bs.crossOrigin(s,a,n.crossorigin);for(var u=0;u<r.length;++u){var c=document.createElement("source"),d=r[u],m=d.src,_=d.mime;m=m||r[u];var w=m.split("?").shift().toLowerCase(),T=w.substr(w.lastIndexOf(".")+1);_=_||e.MIME_TYPES[T]||"video/"+T,c.src=m,c.type=_,s.appendChild(c)}r=s}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=Zt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Zt.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&Zt.shared.remove(this.update,this);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Zt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(bs),U3=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.test=function(r){return!!window.createImageBitmap&&r instanceof ImageBitmap},e}(bs);py.push(iI,U3,nI,L3,F3,M_,N3,R3);var Zr=function(){function t(e){this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),B3=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var s=r.gl;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===xs.UNPACK),i.width===n.width&&i.height===n.height?s.texSubImage2D(n.target,0,0,0,n.width,n.height,n.format,n.type,this.data):(i.width=n.width,i.height=n.height,s.texImage2D(n.target,0,r.context.webGLVersion===1?s.DEPTH_COMPONENT:s.DEPTH_COMPONENT16,n.width,n.height,0,n.format,n.type,this.data)),!0},e}(M_),my=function(){function t(e,r){this.width=Math.ceil(e||100),this.height=Math.ceil(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new vr("disposeFramebuffer"),this.multisample=$o.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new wt(null,{scaleMode:pi.NEAREST,resolution:1,mipmap:nh.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new wt(new B3(null,{width:this.width,height:this.height}),{scaleMode:pi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:nh.OFF,format:rh.DEPTH_COMPONENT,type:Vt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.ceil(e),r=Math.ceil(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){var s=this.depthTexture.resolution;this.depthTexture.setSize(e/s,r/s)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),Cf=function(t){Ve(e,t);function e(r){var n=this;if(typeof r=="number"){var i=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];r={width:i,height:s,scaleMode:a,resolution:u}}n=t.call(this,null,r)||this;var c=r||{},d=c.width,m=c.height;return n.mipmap=0,n.width=Math.ceil(d)||100,n.height=Math.ceil(m)||100,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new my(n.width*n.resolution,n.height*n.resolution).addColorTexture(0,n),n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){r=Math.ceil(r),n=Math.ceil(n),this.framebuffer.resize(r*this.resolution,n*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(wt),sI=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,s=r.height;if(n){var a=e.width/2/i,u=e.height/2/s,c=e.x/i+a,d=e.y/s+u;n=St.add(n,St.NW),this.x0=c+a*St.uX(n),this.y0=d+u*St.uY(n),n=St.add(n,2),this.x1=c+a*St.uX(n),this.y1=d+u*St.uY(n),n=St.add(n,2),this.x2=c+a*St.uX(n),this.y2=d+u*St.uY(n),n=St.add(n,2),this.x3=c+a*St.uX(n),this.y3=d+u*St.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),_T=new sI,Me=function(t){Ve(e,t);function e(r,n,i,s,a,u){var c=t.call(this)||this;if(c.noFrame=!1,n||(c.noFrame=!0,n=new nt(0,0,1,1)),r instanceof e&&(r=r.baseTexture),c.baseTexture=r,c._frame=n,c.trim=s,c.valid=!1,c._uvs=_T,c.uvMatrix=null,c.orig=i||n,c._rotate=Number(a||0),a===!0)c._rotate=2;else if(c._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return c.defaultAnchor=u?new hr(u.x,u.y):new hr(0,0),c._updateID=0,c.textureCacheIds=[],r.valid?c.noFrame?r.valid&&c.onBaseTextureUpdated(r):c.frame=n:r.once("loaded",c.onBaseTextureUpdated,c),c.noFrame&&r.on("update",c.onBaseTextureUpdated,c),c}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture;n&&n.url&&oi[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===_T&&(this._uvs=new sI),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=Te.STRICT_TEXTURE_CACHE);var s=typeof r=="string",a=null;s?a=r:(r._pixiId||(r._pixiId="pixiid_"+jo()),a=r._pixiId);var u=oi[a];if(s&&i&&!u)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return u||(n.resolution||(n.resolution=pd(r)),u=new e(new wt(r,n)),u.baseTexture.cacheId=a,wt.addToCache(u.baseTexture,a),e.addToCache(u,a)),u},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),s=e.from(r,Object.assign({resourceOptions:i},n),!1),a=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):a.load().then(function(){return Promise.resolve(s)})},e.fromBuffer=function(r,n,i,s){return new e(wt.fromBuffer(r,n,i,s))},e.fromLoader=function(r,n,i){var s=new iI(r);s.url=n;var a=new wt(s,{scaleMode:Te.SCALE_MODE,resolution:pd(n)}),u=new e(a);return i||(i=n),wt.addToCache(u.baseTexture,i),e.addToCache(u,i),i!==n&&(wt.addToCache(u.baseTexture,n),e.addToCache(u,n)),u},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),oi[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),oi[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=oi[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete oi[r],n}}else if(r&&r.textureCacheIds){for(var s=0;s<r.textureCacheIds.length;++s)oi[r.textureCacheIds[s]]===r&&delete oi[r.textureCacheIds[s]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,s=r.width,a=r.height,u=n+s>this.baseTexture.width,c=i+a>this.baseTexture.height;if(u||c){var d=u&&c?"and":"or",m="X: "+n+" + "+s+" = "+(n+s)+" > "+this.baseTexture.width,_="Y: "+i+" + "+a+" = "+(i+a)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(m+" "+d+" "+_))}this.valid=s&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(Hh);function V3(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new Me(new wt(new nI(t)))}function pp(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Me.EMPTY=new Me(new wt);pp(Me.EMPTY);pp(Me.EMPTY.baseTexture);Me.WHITE=V3();pp(Me.WHITE);pp(Me.WHITE.baseTexture);var Go=function(t){Ve(e,t);function e(r,n){var i=this,s=null;if(!(r instanceof Cf)){var a=arguments[1],u=arguments[2],c=arguments[3],d=arguments[4];console.warn("Please use RenderTexture.create("+a+", "+u+") instead of the ctor directly."),s=arguments[0],n=null,r=new Cf({width:a,height:u,scaleMode:c,resolution:d})}return i=t.call(this,r,n)||this,i.legacyRenderer=s,i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0),r=Math.ceil(r),n=Math.ceil(n),this.valid=r>0&&n>0,this._frame.width=this.orig.width=r,this._frame.height=this.orig.height=n,i&&this.baseTexture.resize(r,n),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){return typeof r=="number"&&(r={width:r,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new Cf(r))},e}(Me),z3=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r){var n=new Cf(Object.assign({width:e,height:r,resolution:1},this.textureOptions));return new Go(n)},t.prototype.getOptimalTexture=function(e,r,n){n===void 0&&(n=1);var i=t.SCREEN_KEY;e*=n,r*=n,(!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight)&&(e=dd(e),r=dd(r),i=(e&65535)<<16|r&65535),this.texturePool[i]||(this.texturePool[i]=[]);var s=this.texturePool[i].pop();return s||(s=this.createTexture(e,r)),s.filterPoolKey=i,s.setResolution(n),s},t.prototype.getFilterTexture=function(e,r){var n=this.getOptimalTexture(e.width,e.height,r||e.resolution);return n.filterFrame=e.filterFrame,n},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){var r=t.SCREEN_KEY,n=this.texturePool[r];if(this.enableFullScreen=e.width>0&&e.height>0,n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),wT=function(){function t(e,r,n,i,s,a,u){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=5126),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=a,this.instance=u}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,s){return new t(e,r,n,i,s)},t}(),H3=0,ar=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=H3++,this.disposeRunner=new vr("disposeBuffer")}return t.prototype.update=function(e){this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function aI(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var $3={Float32Array,Uint32Array,Int32Array,Uint8Array};function W3(t,e){for(var r=0,n=0,i={},s=0;s<t.length;s++)n+=e[s],r+=t[s].length;for(var a=new ArrayBuffer(r*4),u=null,c=0,s=0;s<t.length;s++){var d=e[s],m=t[s],_=aI(m);i[_]||(i[_]=new $3[_](a)),u=i[_];for(var w=0;w<m.length;w++){var T=(w/d|0)*n+c,S=w%d;u[T+S]=m[w]}c+=d}return new Float32Array(a)}var xT={5126:4,5123:2,5121:1},j3=0,G3={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Wh=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=j3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new vr("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,s,a,u,c){if(n===void 0&&(n=0),i===void 0&&(i=!1),c===void 0&&(c=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof ar||(r instanceof Array&&(r=new Float32Array(r)),r=new ar(r));var d=e.split("|");if(d.length>1){for(var m=0;m<d.length;m++)this.addAttribute(d[m],r,n,i,s);return this}var _=this.buffers.indexOf(r);return _===-1&&(this.buffers.push(r),_=this.buffers.length-1),this.attributes[e]=new wT(_,n,i,s,a,u,c),this.instanced=this.instanced||c,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof ar||(e instanceof Array&&(e=new Uint16Array(e)),e=new ar(e)),e.index=!0,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new ar,i;for(i in this.attributes){var s=this.attributes[i],a=this.buffers[s.buffer];e.push(a.data),r.push(s.size*xT[s.type]/4),s.buffer=0}for(n.data=W3(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new ar(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new wT(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var r=new t,n=[],i=[],s=[],a,u=0;u<e.length;u++){a=e[u];for(var c=0;c<a.buffers.length;c++)i[c]=i[c]||0,i[c]+=a.buffers[c].data.length,s[c]=0}for(var u=0;u<a.buffers.length;u++)n[u]=new G3[aI(a.buffers[u].data)](i[u]),r.buffers[u]=new ar(n[u]);for(var u=0;u<e.length;u++){a=e[u];for(var c=0;c<a.buffers.length;c++)n[c].set(a.buffers[c].data,s[c]),s[c]+=a.buffers[c].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.index=!0;for(var d=0,m=0,_=0,w=0,u=0;u<a.buffers.length;u++)if(a.buffers[u]!==a.indexBuffer){w=u;break}for(var u in a.attributes){var T=a.attributes[u];(T.buffer|0)===w&&(m+=T.size*xT[T.type]/4)}for(var u=0;u<e.length;u++){for(var S=e[u].indexBuffer.data,c=0;c<S.length;c++)r.indexBuffer.data[c+_]+=d;d+=a.buffers[w].data.length/m,_+=S.length}}return r},t}(),Y3=function(t){Ve(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(Wh),oI=function(t){Ve(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new ar(r.vertices),r.uvBuffer=new ar(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,s=0;return this.uvs[0]=i,this.uvs[1]=s,this.uvs[2]=i+n.width/r.width,this.uvs[3]=s,this.uvs[4]=i+n.width/r.width,this.uvs[5]=s+n.height/r.height,this.uvs[6]=i,this.uvs[7]=s+n.height/r.height,i=n.x,s=n.y,this.vertices[0]=i,this.vertices[1]=s,this.vertices[2]=i+n.width,this.vertices[3]=s,this.vertices[4]=i+n.width,this.vertices[5]=s+n.height,this.vertices[6]=i,this.vertices[7]=s+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Wh),X3=0,pa=function(){function t(e,r){this.uniforms=e,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=X3++,this.static=!!r}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,r,n){this.uniforms[e]=new t(r,n)},t.from=function(e,r){return new t(e,r)},t}(),q3=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new nt,this.destinationFrame=new nt,this.filters=[]}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),K3=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.defaultFilterStack=[{}],n.texturePool=new z3,n.texturePool.setScreenSize(r.view),n.statePool=[],n.quad=new Y3,n.quadUv=new oI,n.tempRect=new nt,n.activeState={},n.globalUniforms=new pa({outputFrame:n.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),n.forceClear=!1,n.useMaxPadding=!1,n}return e.prototype.push=function(r,n){for(var i=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new q3,u=n[0].resolution,c=n[0].padding,d=n[0].autoFit,m=n[0].legacy,_=1;_<n.length;_++){var w=n[_];u=Math.min(u,w.resolution),c=this.useMaxPadding?Math.max(c,w.padding):c+w.padding,d=d&&w.autoFit,m=m||w.legacy}s.length===1&&(this.defaultFilterStack[0].renderTexture=i.renderTexture.current),s.push(a),a.resolution=u,a.legacy=m,a.target=r,a.sourceFrame.copyFrom(r.filterArea||r.getBounds(!0)),a.sourceFrame.pad(c),d&&a.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),a.sourceFrame.ceil(u),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,u),a.filters=n,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var T=this.tempRect;T.width=a.sourceFrame.width,T.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,i.renderTexture.bind(a.renderTexture,a.sourceFrame,T),i.renderTexture.clear()},e.prototype.pop=function(){var r=this.defaultFilterStack,n=r.pop(),i=n.filters;this.activeState=n;var s=this.globalUniforms.uniforms;s.outputFrame=n.sourceFrame,s.resolution=n.resolution;var a=s.inputSize,u=s.inputPixel,c=s.inputClamp;if(a[0]=n.destinationFrame.width,a[1]=n.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],u[0]=a[0]*n.resolution,u[1]=a[1]*n.resolution,u[2]=1/u[0],u[3]=1/u[1],c[0]=.5*u[2],c[1]=.5*u[3],c[2]=n.sourceFrame.width*a[2]-.5*u[2],c[3]=n.sourceFrame.height*a[3]-.5*u[3],n.legacy){var d=s.filterArea;d[0]=n.destinationFrame.width,d[1]=n.destinationFrame.height,d[2]=n.sourceFrame.x,d[3]=n.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();var m=r[r.length-1];if(n.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,n.renderTexture,m.renderTexture,On.BLEND,n),this.returnFilterTexture(n.renderTexture);else{var _=n.renderTexture,w=this.getOptimalFilterTexture(_.width,_.height,n.resolution);w.filterFrame=_.filterFrame;var T=0;for(T=0;T<i.length-1;++T){i[T].apply(this,_,w,On.CLEAR,n);var S=_;_=w,w=S}i[T].apply(this,_,m.renderTexture,On.BLEND,n),this.returnFilterTexture(_),this.returnFilterTexture(w)}n.clear(),this.statePool.push(n)},e.prototype.bindAndClear=function(r,n){if(n===void 0&&(n=On.CLEAR),r&&r.filterFrame){var i=this.tempRect;i.width=r.filterFrame.width,i.height=r.filterFrame.height,this.renderer.renderTexture.bind(r,r.filterFrame,i)}else this.renderer.renderTexture.bind(r);typeof n=="boolean"&&(n=n?On.CLEAR:On.BLEND,hs("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(n===On.CLEAR||n===On.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},e.prototype.applyFilter=function(r,n,i,s){var a=this.renderer;this.bindAndClear(i,s),r.uniforms.uSampler=n,r.uniforms.filterGlobals=this.globalUniforms,a.state.set(r.state),a.shader.bind(r),r.legacy?(this.quadUv.map(n._frame,n.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(wn.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(wn.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(r,n){var i=this.activeState,s=i.sourceFrame,a=i.destinationFrame,u=n._texture.orig,c=r.set(a.width,0,0,a.height,s.x,s.y),d=n.worldTransform.copyTo(Gt.TEMP_MATRIX);return d.invert(),c.prepend(d),c.scale(1/u.width,1/u.height),c.translate(n.anchor.x,n.anchor.y),c},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(r,n,i){return i===void 0&&(i=1),this.texturePool.getOptimalTexture(r,n,i)},e.prototype.getFilterTexture=function(r,n){if(typeof r=="number"){var i=r;r=n,n=i}r=r||this.activeState.renderTexture;var s=this.texturePool.getOptimalTexture(r.width,r.height,n||r.resolution);return s.filterFrame=r.filterFrame,s},e.prototype.returnFilterTexture=function(r){this.texturePool.returnTexture(r)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(Zr),vp=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),Q3=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.emptyRenderer=new vp(r),n.currentRenderer=n.emptyRenderer,n}return e.prototype.setObjectRenderer=function(r){this.currentRenderer!==r&&(this.currentRenderer.stop(),this.currentRenderer=r,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(r,n){for(var i=this.renderer.texture.boundTextures,s=n-1;s>=0;--s)r[s]=i[s]||null,r[s]&&(r[s]._batchLocation=s)},e.prototype.boundArray=function(r,n,i,s){for(var a=r.elements,u=r.ids,c=r.count,d=0,m=0;m<c;m++){var _=a[m],w=_._batchLocation;if(w>=0&&w<s&&n[w]===_){u[m]=w;continue}for(;d<s;){var T=n[d];if(T&&T._batchEnabled===i&&T._batchLocation===d){d++;continue}u[m]=d,_._batchLocation=d,n[d]=_;break}}},e}(Zr),bT=0,Z3=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.webGLVersion=1,n.extensions={},n.supports={uint32Indices:!1},n.handleContextLost=n.handleContextLost.bind(n),n.handleContextRestored=n.handleContextRestored.bind(n),r.view.addEventListener("webglcontextlost",n.handleContextLost,!1),r.view.addEventListener("webglcontextrestored",n.handleContextRestored,!1),n}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(r){this.gl=r,this.renderer.gl=r,this.renderer.CONTEXT_UID=bT++,r.isContextLost()&&r.getExtension("WEBGL_lose_context")&&r.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(r){this.gl=r,this.validateContext(r),this.renderer.gl=r,this.renderer.CONTEXT_UID=bT++,this.renderer.runners.contextChange.emit(r)},e.prototype.initFromOptions=function(r){var n=this.createContext(this.renderer.view,r);this.initFromContext(n)},e.prototype.createContext=function(r,n){var i;if(Te.PREFER_ENV>=Ci.WEBGL2&&(i=r.getContext("webgl2",n)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=r.getContext("webgl",n)||r.getContext("experimental-webgl",n),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var r=this.gl;this.webGLVersion===1?Object.assign(this.extensions,{drawBuffers:r.getExtension("WEBGL_draw_buffers"),depthTexture:r.getExtension("WEBGL_depth_texture"),loseContext:r.getExtension("WEBGL_lose_context"),vertexArrayObject:r.getExtension("OES_vertex_array_object")||r.getExtension("MOZ_OES_vertex_array_object")||r.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:r.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:r.getExtension("OES_element_index_uint"),floatTexture:r.getExtension("OES_texture_float"),floatTextureLinear:r.getExtension("OES_texture_float_linear"),textureHalfFloat:r.getExtension("OES_texture_half_float"),textureHalfFloatLinear:r.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,{anisotropicFiltering:r.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:r.getExtension("EXT_color_buffer_float"),floatTextureLinear:r.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(r){r.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var r=this.renderer.view;r.removeEventListener("webglcontextlost",this.handleContextLost),r.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(r){var n=r.getContextAttributes(),i="WebGL2RenderingContext"in window&&r instanceof window.WebGL2RenderingContext;i&&(this.webGLVersion=2),n.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var s=i||!!r.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(Zr),J3=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=$o.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}return t}(),e5=new nt,t5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.managedFramebuffers=[],n.unknownFramebuffer=new my(10,10),n.msaaSamples=null,n}return e.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new nt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var n=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;Te.PREFER_ENV===Ci.WEBGL_LEGACY&&(n=null,i=null),n?r.drawBuffers=function(s){return n.drawBuffersWEBGL(s)}:(this.hasMRT=!1,r.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=r.getInternalformatParameter(r.RENDERBUFFER,r.RGBA8,r.SAMPLES)},e.prototype.bind=function(r,n){var i=this.gl;if(r){var s=r.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(r);this.current!==r&&(this.current=r,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.dirtyId!==r.dirtyId&&(s.dirtyId=r.dirtyId,s.dirtyFormat!==r.dirtyFormat?(s.dirtyFormat=r.dirtyFormat,this.updateFramebuffer(r)):s.dirtySize!==r.dirtySize&&(s.dirtySize=r.dirtySize,this.resizeFramebuffer(r)));for(var a=0;a<r.colorTextures.length;a++){var u=r.colorTextures[a];this.renderer.texture.unbind(u.parentTextureArray||u)}r.depthTexture&&this.renderer.texture.unbind(r.depthTexture),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,r.width,r.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(r,n,i,s){var a=this.viewport;(a.width!==i||a.height!==s||a.x!==r||a.y!==n)&&(a.x=r,a.y=n,a.width=i,a.height=s,this.gl.viewport(r,n,i,s))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(r,n,i,s,a){a===void 0&&(a=fd.COLOR|fd.DEPTH);var u=this.gl;u.clearColor(r,n,i,s),u.clear(a)},e.prototype.initFramebuffer=function(r){var n=this.gl,i=new J3(n.createFramebuffer());return i.multisample=this.detectSamples(r.multisample),r.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(r),r.disposeRunner.add(this),i},e.prototype.resizeFramebuffer=function(r){var n=this.gl,i=r.glFramebuffers[this.CONTEXT_UID];i.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r.width,r.height));for(var s=r.colorTextures,a=0;a<s.length;a++)this.renderer.texture.bind(s[a],0);r.depthTexture&&this.renderer.texture.bind(r.depthTexture,0)},e.prototype.updateFramebuffer=function(r){var n=this.gl,i=r.glFramebuffers[this.CONTEXT_UID],s=r.colorTextures,a=s.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&(i.msaaBuffer=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,r.width,r.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer));for(var u=[],c=0;c<a;c++)if(!(c===0&&i.multisample>1)){var d=r.colorTextures[c],m=d.parentTextureArray||d;this.renderer.texture.bind(m,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,d.target,m._glTextures[this.CONTEXT_UID].texture,0),u.push(n.COLOR_ATTACHMENT0+c)}if(u.length>1&&n.drawBuffers(u),r.depthTexture){var _=this.writeDepthTexture;if(_){var w=r.depthTexture;this.renderer.texture.bind(w,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,w._glTextures[this.CONTEXT_UID].texture,0)}}!i.stencil&&(r.stencil||r.depth)&&(i.stencil=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r.width,r.height),r.depthTexture||n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil))},e.prototype.detectSamples=function(r){var n=this.msaaSamples,i=$o.NONE;if(r<=1||n===null)return i;for(var s=0;s<n.length;s++)if(n[s]<=r){i=n[s];break}return i===1&&(i=$o.NONE),i},e.prototype.blit=function(r,n,i){var s=this,a=s.current,u=s.renderer,c=s.gl,d=s.CONTEXT_UID;if(u.context.webGLVersion===2&&a){var m=a.glFramebuffers[d];if(m){if(!r){if(m.multisample<=1)return;m.blitFramebuffer||(m.blitFramebuffer=new my(a.width,a.height),m.blitFramebuffer.addColorTexture(0,a.colorTextures[0])),r=m.blitFramebuffer,r.width=a.width,r.height=a.height}n||(n=e5,n.width=a.width,n.height=a.height),i||(i=n);var _=n.width===i.width&&n.height===i.height;this.bind(r),c.bindFramebuffer(c.READ_FRAMEBUFFER,m.framebuffer),c.blitFramebuffer(n.x,n.y,n.width,n.height,i.x,i.y,i.width,i.height,c.COLOR_BUFFER_BIT,_?c.NEAREST:c.LINEAR)}}},e.prototype.disposeFramebuffer=function(r,n){var i=r.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(i){delete r.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(r);a>=0&&this.managedFramebuffers.splice(a,1),r.disposeRunner.remove(this),n||(s.deleteFramebuffer(i.framebuffer),i.stencil&&s.deleteRenderbuffer(i.stencil))}},e.prototype.disposeAll=function(r){var n=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<n.length;i++)this.disposeFramebuffer(n[i],r)},e.prototype.forceStencil=function(){var r=this.current;if(r){var n=r.glFramebuffers[this.CONTEXT_UID];if(!(!n||n.stencil)){r.enableStencil();var i=r.width,s=r.height,a=this.gl,u=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,u),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,i,s),n.stencil=u,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,u)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new nt},e}(Zr),r5=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),Cm={5126:4,5123:2,5121:1},n5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n._activeGeometry=null,n._activeVao=null,n.hasVao=!0,n.hasInstance=!0,n.canUseUInt32ElementIndex=!1,n.managedGeometries={},n.managedBuffers={},n}return e.prototype.contextChange=function(){this.disposeAll(!0);var r=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){var i=this.renderer.context.extensions.vertexArrayObject;Te.PREFER_ENV===Ci.WEBGL_LEGACY&&(i=null),i?(r.createVertexArray=function(){return i.createVertexArrayOES()},r.bindVertexArray=function(a){return i.bindVertexArrayOES(a)},r.deleteVertexArray=function(a){return i.deleteVertexArrayOES(a)}):(this.hasVao=!1,r.createVertexArray=function(){return null},r.bindVertexArray=function(){return null},r.deleteVertexArray=function(){return null})}if(n.webGLVersion!==2){var s=r.getExtension("ANGLE_instanced_arrays");s?(r.vertexAttribDivisor=function(a,u){return s.vertexAttribDivisorANGLE(a,u)},r.drawElementsInstanced=function(a,u,c,d,m){return s.drawElementsInstancedANGLE(a,u,c,d,m)},r.drawArraysInstanced=function(a,u,c,d){return s.drawArraysInstancedANGLE(a,u,c,d)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex},e.prototype.bind=function(r,n){n=n||this.renderer.shader.shader;var i=this.gl,s=r.glVertexArrayObjects[this.CONTEXT_UID],a=!1;s||(this.managedGeometries[r.id]=r,r.disposeRunner.add(this),r.glVertexArrayObjects[this.CONTEXT_UID]=s={},a=!0);var u=s[n.program.id]||this.initGeometryVao(r,n.program,a);this._activeGeometry=r,this._activeVao!==u&&(this._activeVao=u,this.hasVao?i.bindVertexArray(u):this.activateVao(r,n.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var r=this._activeGeometry,n=this.gl,i=0;i<r.buffers.length;i++){var s=r.buffers[i],a=s._glBuffers[this.CONTEXT_UID];if(s._updateID!==a.updateID){a.updateID=s._updateID;var u=s.index?n.ELEMENT_ARRAY_BUFFER:n.ARRAY_BUFFER;if(n.bindBuffer(u,a.buffer),this._boundBuffer=a,a.byteLength>=s.data.byteLength)n.bufferSubData(u,0,s.data);else{var c=s.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=s.data.byteLength,n.bufferData(u,s.data,c)}}}},e.prototype.checkCompatibility=function(r,n){var i=r.attributes,s=n.attributeData;for(var a in s)if(!i[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},e.prototype.getSignature=function(r,n){var i=r.attributes,s=n.attributeData,a=["g",r.id];for(var u in i)s[u]&&a.push(u);return a.join("-")},e.prototype.initGeometryVao=function(r,n,i){i===void 0&&(i=!0),this.checkCompatibility(r,n);var s=this.gl,a=this.CONTEXT_UID,u=this.getSignature(r,n),c=r.glVertexArrayObjects[this.CONTEXT_UID],d=c[u];if(d)return c[n.id]=d,d;var m=r.buffers,_=r.attributes,w={},T={};for(var S in m)w[S]=0,T[S]=0;for(var S in _)!_[S].size&&n.attributeData[S]?_[S].size=n.attributeData[S].size:_[S].size||console.warn("PIXI Geometry attribute '"+S+"' size cannot be determined (likely the bound shader does not have the attribute)"),w[_[S].buffer]+=_[S].size*Cm[_[S].type];for(var S in _){var P=_[S],E=P.size;P.stride===void 0&&(w[P.buffer]===E*Cm[P.type]?P.stride=0:P.stride=w[P.buffer]),P.start===void 0&&(P.start=T[P.buffer],T[P.buffer]+=E*Cm[P.type])}d=s.createVertexArray(),s.bindVertexArray(d);for(var A=0;A<m.length;A++){var O=m[A];O._glBuffers[a]||(O._glBuffers[a]=new r5(s.createBuffer()),this.managedBuffers[O.id]=O,O.disposeRunner.add(this)),i&&O._glBuffers[a].refCount++}return this.activateVao(r,n),this._activeVao=d,c[n.id]=d,c[u]=d,d},e.prototype.disposeBuffer=function(r,n){if(this.managedBuffers[r.id]){delete this.managedBuffers[r.id];var i=r._glBuffers[this.CONTEXT_UID],s=this.gl;r.disposeRunner.remove(this),i&&(n||s.deleteBuffer(i.buffer),delete r._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(r,n){if(this.managedGeometries[r.id]){delete this.managedGeometries[r.id];var i=r.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,a=r.buffers;if(r.disposeRunner.remove(this),!!i){for(var u=0;u<a.length;u++){var c=a[u]._glBuffers[this.CONTEXT_UID];c.refCount--,c.refCount===0&&!n&&this.disposeBuffer(a[u],n)}if(!n){for(var d in i)if(d[0]==="g"){var m=i[d];this._activeVao===m&&this.unbind(),s.deleteVertexArray(m)}}delete r.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(r){for(var n=Object.keys(this.managedGeometries),i=0;i<n.length;i++)this.disposeGeometry(this.managedGeometries[n[i]],r);n=Object.keys(this.managedBuffers);for(var i=0;i<n.length;i++)this.disposeBuffer(this.managedBuffers[n[i]],r)},e.prototype.activateVao=function(r,n){var i=this.gl,s=this.CONTEXT_UID,a=r.buffers,u=r.attributes;r.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,r.indexBuffer._glBuffers[s].buffer);var c=null;for(var d in u){var m=u[d],_=a[m.buffer],w=_._glBuffers[s];if(n.attributeData[d]){c!==w&&(i.bindBuffer(i.ARRAY_BUFFER,w.buffer),c=w);var T=n.attributeData[d].location;if(i.enableVertexAttribArray(T),i.vertexAttribPointer(T,m.size,m.type||i.FLOAT,m.normalized,m.stride,m.start),m.instance)if(this.hasInstance)i.vertexAttribDivisor(T,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},e.prototype.draw=function(r,n,i,s){var a=this.gl,u=this._activeGeometry;if(u.indexBuffer){var c=u.indexBuffer.data.BYTES_PER_ELEMENT,d=c===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;c===2||c===4&&this.canUseUInt32ElementIndex?u.instanced?a.drawElementsInstanced(r,n||u.indexBuffer.data.length,d,(i||0)*c,s||1):a.drawElements(r,n||u.indexBuffer.data.length,d,(i||0)*c):console.warn("unsupported index buffer type: uint32")}else u.instanced?a.drawArraysInstanced(r,i,n||u.getSize(),s||1):a.drawArrays(r,i,n||u.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(Zr),i5=function(){function t(e){e===void 0&&(e=null),this.type=Gr.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Gr.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function TT(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function lI(t,e,r,n){var i=TT(t,t.VERTEX_SHADER,e),s=TT(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,i),t.attachShader(a,s),n)for(var u in n)t.bindAttribLocation(a,n[u],u);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(t.getShaderParameter(i,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(i))),t.getShaderParameter(s,t.COMPILE_STATUS)||(console.warn(r),console.error(t.getShaderInfoLog(s))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),t.getProgramInfoLog(a)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(i),t.deleteShader(s),a}function Im(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function uI(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return Im(2*e);case"bvec3":return Im(3*e);case"bvec4":return Im(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var hI={},Kl=hI;function cI(){if(Kl===hI||Kl&&Kl.isContextLost()){var t=document.createElement("canvas"),e=void 0;Te.PREFER_ENV>=Ci.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Kl=e}return Kl}var qc;function s5(){if(!qc){qc=Bn.MEDIUM;var t=cI();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);qc=e.precision?Bn.HIGH:Bn.MEDIUM}}return qc}function ST(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===Bn.HIGH&&r!==Bn.HIGH&&(n=Bn.MEDIUM),"precision "+n+` float;
`+t}else if(r!==Bn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var a5={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function o5(t){return a5[t]}var Kc=null,ET={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function CT(t,e){if(!Kc){var r=Object.keys(ET);Kc={};for(var n=0;n<r.length;++n){var i=r[n];Kc[t[i]]=ET[i]}}return Kc[e]}var Pm=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],l5={float:`
    if(cv !== v)
    {
        cv.v = v;
        gl.uniform1f(location, v)
    }`,vec2:`
    if(cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},u5={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function h5(t,e){var r=[`
        var v = null;
        var cv = null
        var t = 0;
        var gl = renderer.gl
    `];for(var n in t.uniforms){var i=e[n];if(!i){t.uniforms[n].group&&r.push(`
                    renderer.shader.syncUniformGroup(uv["`+n+`"], syncData);
                `);continue}for(var s=t.uniforms[n],a=!1,u=0;u<Pm.length;u++)if(Pm[u].test(i,s)){r.push(Pm[u].code(n,s)),a=!0;break}if(!a){var c=i.size===1?l5:u5,d=c[i.type].replace("location",'ud["'+n+'"].location');r.push(`
            cv = ud["`+n+`"].value;
            v = uv["`+n+`"];
            `+d+";")}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}var c5=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function f5(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function d5(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=c5.replace(/%forloop%/gi,f5(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var Ql;function p5(){if(typeof Ql=="boolean")return Ql;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Ql=t({a:"b"},"a","b")===!0}catch{Ql=!1}return Ql}var v5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,m5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,g5=0,Qc={},mp=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=g5++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Qc[n]?(Qc[n]++,n+="-"+Qc[n]):Qc[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=ST(this.vertexSrc,Te.PRECISION_VERTEX,Bn.HIGH),this.fragmentSrc=ST(this.fragmentSrc,Te.PRECISION_FRAGMENT,s5())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(e,r){var n=cI();if(n){var i=lI(n,e,r);this.attributeData=this.getAttributeData(i,n),this.uniformData=this.getUniformData(i,n),n.deleteProgram(i)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(e,r){for(var n={},i=[],s=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES),a=0;a<s;a++){var u=r.getActiveAttrib(e,a),c=CT(r,u.type),d={type:c,name:u.name,size:o5(c),location:0};n[u.name]=d,i.push(d)}i.sort(function(m,_){return m.name>_.name?1:-1});for(var a=0;a<i.length;a++)i[a].location=a;return n},t.prototype.getUniformData=function(e,r){for(var n={},i=r.getProgramParameter(e,r.ACTIVE_UNIFORMS),s=0;s<i;s++){var a=r.getActiveUniform(e,s),u=a.name.replace(/\[.*?\]$/,""),c=a.name.match(/\[.*?\]$/),d=CT(r,a.type);n[u]={type:d,size:a.size,isArray:c,value:uI(d,a.size)}}return n},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return m5},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return v5},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,s=pT[i];return s||(pT[i]=s=new t(e,r,n)),s},t}(),ba=function(){function t(e,r){this.program=e,r?r instanceof pa?this.uniformGroup=r:this.uniformGroup=new pa(r):this.uniformGroup=new pa({});for(var n in e.uniformData)this.uniformGroup.uniforms[n]instanceof Array&&(this.uniformGroup.uniforms[n]=new Float32Array(this.uniformGroup.uniforms[n]))}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=mp.from(e,r);return new t(i,n)},t}(),Am=0,Om=1,km=2,Mm=3,Dm=4,Da=function(){function t(){this.data=0,this.blendMode=Ee.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<Am)},set:function(e){!!(this.data&1<<Am)!==e&&(this.data^=1<<Am)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<Om)},set:function(e){!!(this.data&1<<Om)!==e&&(this.data^=1<<Om)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<km)},set:function(e){!!(this.data&1<<km)!==e&&(this.data^=1<<km)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<Mm)},set:function(e){!!(this.data&1<<Mm)!==e&&(this.data^=1<<Mm)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Dm)},set:function(e){!!(this.data&1<<Dm)!==e&&(this.data^=1<<Dm)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==Ee.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),y5=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,_5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Ps=function(t){Ve(e,t);function e(r,n,i){var s=this,a=mp.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return s=t.call(this,a,i)||this,s.padding=0,s.resolution=Te.FILTER_RESOLUTION,s.enabled=!0,s.autoFit=!0,s.legacy=!!s.program.attributeData.aTextureCoord,s.state=new Da,s}return e.prototype.apply=function(r,n,i,s,a){r.applyFilter(this,n,i,s)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return y5},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return _5},enumerable:!1,configurable:!0}),e}(ba),w5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,x5=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,IT=new Gt,D_=function(){function t(e,r){this._texture=e,this.mapCoord=new Gt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var s=e[i],a=e[i+1];r[i]=s*n.a+a*n.c+n.tx,r[i+1]=s*n.b+a*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,s=r.trim;s&&(IT.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(IT));var a=r.baseTexture,u=this.uClampFrame,c=this.clampMargin/a.resolution,d=this.clampOffset;return u[0]=(r._frame.x+c+d)/a.width,u[1]=(r._frame.y+c+d)/a.height,u[2]=(r._frame.x+r._frame.width-c+d)/a.width,u[3]=(r._frame.y+r._frame.height-c+d)/a.height,this.uClampOffset[0]=d/a.realWidth,this.uClampOffset[1]=d/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0},t}(),b5=function(t){Ve(e,t);function e(r){var n=this,i=new Gt;return n=t.call(this,w5,x5)||this,r.renderable=!1,n.maskSprite=r,n.maskMatrix=i,n}return e.prototype.apply=function(r,n,i,s){var a=this.maskSprite,u=a._texture;u.valid&&(u.uvMatrix||(u.uvMatrix=new D_(u,0)),u.uvMatrix.update(),this.uniforms.npmAlpha=u.baseTexture.alphaMode?0:1,this.uniforms.mask=u,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,a).prepend(u.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=u.uvMatrix.uClampFrame,r.applyFilter(this,n,i,s))},e}(Ps),T5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.enableScissor=!1,n.alphaMaskPool=[],n.maskDataPool=[],n.maskStack=[],n.alphaMaskIndex=0,n}return e.prototype.setMaskStack=function(r){this.maskStack=r,this.renderer.scissor.setMaskStack(r),this.renderer.stencil.setMaskStack(r)},e.prototype.push=function(r,n){var i=n;if(!i.isMaskData){var s=this.maskDataPool.pop()||new i5;s.pooled=!0,s.maskObject=n,i=s}switch(i.autoDetect&&this.detect(i),i.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),i._target=r,i.type){case Gr.SCISSOR:this.maskStack.push(i),this.renderer.scissor.push(i);break;case Gr.STENCIL:this.maskStack.push(i),this.renderer.stencil.push(i);break;case Gr.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i),this.maskStack.push(i);break}},e.prototype.pop=function(r){var n=this.maskStack.pop();if(!(!n||n._target!==r)){switch(n.type){case Gr.SCISSOR:this.renderer.scissor.pop();break;case Gr.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case Gr.SPRITE:this.popSpriteMask();break}n.reset(),n.pooled&&this.maskDataPool.push(n)}},e.prototype.detect=function(r){var n=r.maskObject;if(n.isSprite){r.type=Gr.SPRITE;return}if(r.type=Gr.STENCIL,this.enableScissor&&n.isFastRect&&n.isFastRect()){var i=n.worldTransform,s=Math.atan2(i.b,i.a),a=Math.atan2(i.d,i.c);s=Math.round(s*(180/Math.PI)*100),a=Math.round(a*(180/Math.PI)*100)-s,s=(s%9e3+9e3)%9e3,a=(a%18e3+18e3)%18e3,s===0&&a===9e3&&(r.type=Gr.SCISSOR)}},e.prototype.pushSpriteMask=function(r){var n=r.maskObject,i=r._target,s=this.alphaMaskPool[this.alphaMaskIndex];s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new b5(n)]),s[0].resolution=this.renderer.resolution,s[0].maskSprite=n;var a=i.filterArea;i.filterArea=n.getBounds(!0),this.renderer.filter.push(i,s),i.filterArea=a,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(Zr),fI=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.maskStack=[],n.glConst=0,n}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(r){var n=this.renderer.gl,i=this.getStackLength();this.maskStack=r;var s=this.getStackLength();s!==i&&(s===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(Zr),S5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.push=function(r){var n=r.maskObject;n.renderable=!0;var i=r._scissorRect,s=n.getBounds(!0),a=this.renderer.gl;n.renderable=!1,i?s.fit(i):a.enable(a.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=s,this._useCurrent()},e.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n=this.renderer.renderTexture.current,i=this.renderer.projection,s=i.transform,a=i.sourceFrame,u=i.destinationFrame,c=n?n.resolution:this.renderer.resolution,d=(r.x-a.x)*c+u.x,m=(r.y-a.y)*c+u.y,_=r.width*c,w=r.height*c;s&&(d+=s.tx*c,m+=s.ty*c),n||(m=this.renderer.height-w-m),this.renderer.gl.scissor(d,m,_,w)},e}(fI),E5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,s=r._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,s,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?(n.disable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),n.clearStencil(0)):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(fI),C5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.destinationFrame=null,n.sourceFrame=null,n.defaultFrame=null,n.projectionMatrix=new Gt,n.transform=null,n}return e.prototype.update=function(r,n,i,s){this.destinationFrame=r||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||r,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,s),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(r,n,i,s){var a=this.projectionMatrix,u=s?-1:1;a.identity(),a.a=1/n.width*2,a.d=u*(1/n.height*2),a.tx=-1-n.x*a.a,a.ty=-u-n.y*a.d},e.prototype.setTransform=function(r){},e}(Zr),js=new nt,Zl=new nt,Jl=new nt,I5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.clearColor=r._backgroundColorRgba,n.defaultMaskStack=[],n.current=null,n.sourceFrame=new nt,n.destinationFrame=new nt,n}return e.prototype.bind=function(r,n,i){r===void 0&&(r=null);var s=this.renderer;this.current=r;var a,u,c;r?(a=r.baseTexture,c=a.resolution,n||(js.width=r.frame.width,js.height=r.frame.height,n=js),i||(Zl.x=r.frame.x,Zl.y=r.frame.y,Zl.width=n.width,Zl.height=n.height,i=Zl),u=a.framebuffer):(c=s.resolution,n||(js.width=s.screen.width,js.height=s.screen.height,n=js),i||(i=js,i.width=n.width,i.height=n.height)),Jl.x=i.x*c,Jl.y=i.y*c,Jl.width=i.width*c,Jl.height=i.height*c,this.renderer.framebuffer.bind(u,Jl),this.renderer.projection.update(i,n,c,!u),r?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(i)},e.prototype.clear=function(r,n){this.current?r=r||this.current.baseTexture.clearColor:r=r||this.clearColor,this.renderer.framebuffer.clear(r[0],r[1],r[2],r[3],n)},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(Zr),P5=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),A5=0,PT={textureCount:0},O5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.destroyed=!1,n.systemCheck(),n.gl=null,n.shader=null,n.program=null,n.cache={},n.id=A5++,n}return e.prototype.systemCheck=function(){if(!p5())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(r){this.gl=r,this.reset()},e.prototype.bind=function(r,n){r.uniforms.globals=this.renderer.globalUniforms;var i=r.program,s=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(r);return this.shader=r,this.program!==i&&(this.program=i,this.gl.useProgram(s.program)),n||(PT.textureCount=0,this.syncUniformGroup(r.uniformGroup,PT)),s},e.prototype.setUniforms=function(r){var n=this.shader.program,i=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(i.uniformData,r,this.renderer)},e.prototype.syncUniformGroup=function(r,n){var i=this.getglProgram();(!r.static||r.dirtyId!==i.uniformGroups[r.id])&&(i.uniformGroups[r.id]=r.dirtyId,this.syncUniforms(r,i,n))},e.prototype.syncUniforms=function(r,n,i){var s=r.syncUniforms[this.shader.program.id]||this.createSyncGroups(r);s(n.uniformData,r.uniforms,this.renderer,i)},e.prototype.createSyncGroups=function(r){var n=this.getSignature(r,this.shader.program.uniformData);return this.cache[n]||(this.cache[n]=h5(r,this.shader.program.uniformData)),r.syncUniforms[this.shader.program.id]=this.cache[n],r.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(r,n){var i=r.uniforms,s=[];for(var a in i)s.push(a),n[a]&&s.push(n[a].type);return s.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(r){var n=this.gl,i=r.program,s={};for(var a in i.attributeData)s[a]=i.attributeData[a].location;var u=lI(n,i.vertexSrc,i.fragmentSrc,s),c={};for(var a in i.uniformData){var d=i.uniformData[a];c[a]={location:n.getUniformLocation(u,a),value:uI(d.type,d.size)}}var m=new P5(u,c);return i.glPrograms[this.renderer.CONTEXT_UID]=m,m},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(Zr);function k5(t,e){return e===void 0&&(e=[]),e[Ee.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.ADD]=[t.ONE,t.ONE],e[Ee.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.NONE]=[0,0],e[Ee.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Ee.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Ee.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Ee.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ee.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Ee.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Ee.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Ee.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Ee.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ee.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var M5=0,D5=1,R5=2,N5=3,F5=4,L5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.gl=null,n.stateId=0,n.polygonOffset=0,n.blendMode=Ee.NONE,n._blendEq=!1,n.map=[],n.map[M5]=n.setBlend,n.map[D5]=n.setOffset,n.map[R5]=n.setCullFace,n.map[N5]=n.setDepthTest,n.map[F5]=n.setFrontFace,n.checks=[],n.defaultState=new Da,n.defaultState.blend=!0,n}return e.prototype.contextChange=function(r){this.gl=r,this.blendModes=k5(r),this.set(this.defaultState),this.reset()},e.prototype.set=function(r){if(r=r||this.defaultState,this.stateId!==r.data){for(var n=this.stateId^r.data,i=0;n;)n&1&&this.map[i].call(this,!!(r.data&1<<i)),n=n>>1,i++;this.stateId=r.data}for(var i=0;i<this.checks.length;i++)this.checks[i](this,r)},e.prototype.forceState=function(r){r=r||this.defaultState;for(var n=0;n<this.map.length;n++)this.map[n].call(this,!!(r.data&1<<n));for(var n=0;n<this.checks.length;n++)this.checks[n](this,r);this.stateId=r.data},e.prototype.setBlend=function(r){this.updateCheck(e.checkBlendMode,r),this.gl[r?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(r){this.updateCheck(e.checkPolygonOffset,r),this.gl[r?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(r){this.gl[r?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(r){this.gl[r?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(r){this.gl.frontFace(this.gl[r?"CW":"CCW"])},e.prototype.setBlendMode=function(r){if(r!==this.blendMode){this.blendMode=r;var n=this.blendModes[r],i=this.gl;n.length===2?i.blendFunc(n[0],n[1]):i.blendFuncSeparate(n[0],n[1],n[2],n[3]),n.length===6?(this._blendEq=!0,i.blendEquationSeparate(n[4],n[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},e.prototype.setPolygonOffset=function(r,n){this.gl.polygonOffset(r,n)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(r,n){var i=this.checks.indexOf(r);n&&i===-1?this.checks.push(r):!n&&i!==-1&&this.checks.splice(i,1)},e.checkBlendMode=function(r,n){r.setBlendMode(n.blendMode)},e.checkPolygonOffset=function(r,n){r.setPolygonOffset(1,n.polygonOffset)},e}(Zr),U5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.count=0,n.checkCount=0,n.maxIdle=Te.GC_MAX_IDLE,n.checkCountMax=Te.GC_MAX_CHECK_COUNT,n.mode=Te.GC_MODE,n}return e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==hy.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var r=this.renderer.texture,n=r.managedTextures,i=!1,s=0;s<n.length;s++){var a=n[s];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(r.destroyTexture(a,!0),n[s]=null,i=!0)}if(i){for(var u=0,s=0;s<n.length;s++)n[s]!==null&&(n[u++]=n[s]);n.length=u}},e.prototype.unload=function(r){var n=this.renderer.texture,i=r._texture;i&&!i.framebuffer&&n.destroyTexture(i);for(var s=r.children.length-1;s>=0;s--)this.unload(r.children[s])},e}(Zr),Rm=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}return t}(),B5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.boundTextures=[],n.currentLocation=-1,n.managedTextures=[],n._unknownBoundTextures=!1,n.unknownTexture=new wt,n}return e.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var n=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(var i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};var s=new Rm(r.createTexture());r.bindTexture(r.TEXTURE_2D,s.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[r.TEXTURE_2D]=s,this.emptyTextures[r.TEXTURE_CUBE_MAP]=new Rm(r.createTexture()),r.bindTexture(r.TEXTURE_CUBE_MAP,this.emptyTextures[r.TEXTURE_CUBE_MAP].texture);for(var i=0;i<6;i++)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,null);r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR);for(var i=0;i<this.boundTextures.length;i++)this.bind(null,i)},e.prototype.bind=function(r,n){n===void 0&&(n=0);var i=this.gl;if(r){if(r=r.castToBaseTexture(),r.parentTextureArray)return;if(r.valid){r.touched=this.renderer.textureGC.count;var s=r._glTextures[this.CONTEXT_UID]||this.initTexture(r);this.boundTextures[n]!==r&&(this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),i.bindTexture(r.target,s.texture)),s.dirtyId!==r.dirtyId&&(this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),this.updateTexture(r)),this.boundTextures[n]=r}}else this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[n]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]=this.unknownTexture},e.prototype.unbind=function(r){var n=this,i=n.gl,s=n.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<s.length;a++)s[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<s.length;a++)s[a]===r&&(this.currentLocation!==a&&(i.activeTexture(i.TEXTURE0+a),this.currentLocation=a),i.bindTexture(r.target,this.emptyTextures[r.target].texture),s[a]=null)},e.prototype.initTexture=function(r){var n=new Rm(this.gl.createTexture());return n.dirtyId=-1,r._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(r),r.on("dispose",this.destroyTexture,this),n},e.prototype.initTextureType=function(r,n){if(n.internalFormat=r.format,n.type=r.type,this.webGLVersion===2){var i=this.renderer.gl;r.type===i.FLOAT&&r.format===i.RGBA&&(n.internalFormat=i.RGBA32F),r.type===Vt.HALF_FLOAT&&(n.type=i.HALF_FLOAT),n.type===i.HALF_FLOAT&&r.format===i.RGBA&&(n.internalFormat=i.RGBA16F)}},e.prototype.updateTexture=function(r){var n=r._glTextures[this.CONTEXT_UID];if(n){var i=this.renderer;if(this.initTextureType(r,n),!(r.resource&&r.resource.upload(i,r,n))){var s=r.realWidth,a=r.realHeight,u=i.gl;(n.width!==s||n.height!==a||n.dirtyId<0)&&(n.width=s,n.height=a,u.texImage2D(r.target,0,n.internalFormat,s,a,0,r.format,n.type,null))}r.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(r),n.dirtyId=r.dirtyId}},e.prototype.destroyTexture=function(r,n){var i=this.gl;if(r=r.castToBaseTexture(),r._glTextures[this.CONTEXT_UID]&&(this.unbind(r),i.deleteTexture(r._glTextures[this.CONTEXT_UID].texture),r.off("dispose",this.destroyTexture,this),delete r._glTextures[this.CONTEXT_UID],!n)){var s=this.managedTextures.indexOf(r);s!==-1&&Mo(this.managedTextures,s,1)}},e.prototype.updateTextureStyle=function(r){var n=r._glTextures[this.CONTEXT_UID];n&&((r.mipmap===nh.POW2||this.webGLVersion!==2)&&!r.isPowerOfTwo?n.mipmap=!1:n.mipmap=r.mipmap>=1,this.webGLVersion!==2&&!r.isPowerOfTwo?n.wrapMode=us.CLAMP:n.wrapMode=r.wrapMode,r.resource&&r.resource.style(this.renderer,r,n)||this.setStyle(r,n),n.dirtyStyleId=r.dirtyStyleId)},e.prototype.setStyle=function(r,n){var i=this.gl;if(n.mipmap&&i.generateMipmap(r.target),i.texParameteri(r.target,i.TEXTURE_WRAP_S,n.wrapMode),i.texParameteri(r.target,i.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){i.texParameteri(r.target,i.TEXTURE_MIN_FILTER,r.scaleMode===pi.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var s=this.renderer.context.extensions.anisotropicFiltering;if(s&&r.anisotropicLevel>0&&r.scaleMode===pi.LINEAR){var a=Math.min(r.anisotropicLevel,i.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(r.target,s.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else i.texParameteri(r.target,i.TEXTURE_MIN_FILTER,r.scaleMode===pi.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(r.target,i.TEXTURE_MAG_FILTER,r.scaleMode===pi.LINEAR?i.LINEAR:i.NEAREST)},e}(Zr),Nm=new Gt,V5=function(t){Ve(e,t);function e(r,n){r===void 0&&(r=th.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},Te.RENDER_OPTIONS,n),n.roundPixels&&(Te.ROUND_PIXELS=n.roundPixels,hs("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),i.options=n,i.type=r,i.screen=new nt(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||Te.RESOLUTION,i.transparent=n.transparent,i.autoDensity=n.autoDensity||n.autoResize||!1,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.screen.width=r,this.screen.height=n,this.view.width=r*this.resolution,this.view.height=n*this.resolution,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=n+"px"),this.emit("resize",r,n)},e.prototype.generateTexture=function(r,n,i,s){s=s||r.getLocalBounds(null,!0),s.width===0&&(s.width=1),s.height===0&&(s.height=1);var a=Go.create({width:s.width|0,height:s.height|0,scaleMode:n,resolution:i});return Nm.tx=-s.x,Nm.ty=-s.y,this.render(r,a,!1,Nm,!!r.parent),a},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=th.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=YC(r),Wo(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),e}(Hh),As=function(t){Ve(e,t);function e(r){var n=t.call(this,th.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new vr("destroy"),contextChange:new vr("contextChange"),reset:new vr("reset"),update:new vr("update"),postrender:new vr("postrender"),prerender:new vr("prerender"),resize:new vr("resize")},n.globalUniforms=new pa({projectionMatrix:new Gt},!0),n.addSystem(T5,"mask").addSystem(Z3,"context").addSystem(L5,"state").addSystem(O5,"shader").addSystem(B5,"texture").addSystem(n5,"geometry").addSystem(t5,"framebuffer").addSystem(S5,"scissor").addSystem(E5,"stencil").addSystem(C5,"projection").addSystem(U5,"textureGC").addSystem(K3,"filter").addSystem(I5,"renderTexture").addSystem(Q3,"batch"),n.initPlugins(e.__plugins),r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.transparent,antialias:r.antialias,premultipliedAlpha:n.transparent&&n.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,i3(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(s3())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(r,n){n||(n=r.name);var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var s in this.runners)this.runners[s].add(i);return this},e.prototype.render=function(r,n,i,s,a){if(this.renderingToScreen=!n,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=s,!this.context.isLost){if(n||(this._lastObjectRendered=r),!a){var u=r.enableTempParent();r.updateTransform(),r.disableTempParent(u)}this.renderTexture.bind(n),this.batch.currentRenderer.start(),(i!==void 0?i:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),n&&n.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(r,n)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},e.registerPlugin=function(r,n){e.__plugins=e.__plugins||{},e.__plugins[r]=n},e}(V5);function z5(t){return As.create(t)}var H5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,dI=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,gy=function(){function t(){this.texArray=null,this.blend=0,this.type=wn.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),yy=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),$5=function(){function t(e){this.rawBinaryData=new ArrayBuffer(e),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),W5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Da.for2d(),n.size=Te.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;Te.PREFER_ENV===Ci.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),Te.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=d5(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,s=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new gy);for(;n.length<s;)n.push(new yy);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,s=e._textureArrayPool,a=this.renderer.batch,u=this._tempBoundTextures,c=this.renderer.textureGC.count,d=++wt._globalBatch,m=0,_=s[0],w=0;a.copyBoundTextures(u,i);for(var T=0;T<this._bufferSize;++T){var S=n[T];n[T]=null,S._batchEnabled!==d&&(_.count>=i&&(a.boundArray(_,u,d,i),this.buildDrawCalls(_,w,T),w=T,_=s[++m],++d),S._batchEnabled=d,S.touched=c,_.elements[_.count++]=S)}_.count>0&&(a.boundArray(_,u,d,i),this.buildDrawCalls(_,w,this._bufferSize),++m,++d);for(var T=0;T<u.length;T++)u[T]=null;wt._globalBatch=d},e.prototype.buildDrawCalls=function(r,n,i){var s=this,a=s._bufferedElements,u=s._attributeBuffer,c=s._indexBuffer,d=s.vertexSize,m=e._drawCallPool,_=this._dcIndex,w=this._aIndex,T=this._iIndex,S=m[_];S.start=this._iIndex,S.texArray=r;for(var P=n;P<i;++P){var E=a[P],A=E._texture.baseTexture,O=qC[A.alphaMode?1:0][E.blendMode];a[P]=null,n<P&&S.blend!==O&&(S.size=T-S.start,n=P,S=m[++_],S.texArray=r,S.start=T),this.packInterleavedGeometry(E,u,c,w,T),w+=E.vertexData.length/2*d,T+=E.indices.length,S.blend=O}n<i&&(S.size=T-S.start,++_),this._dcIndex=_,this._aIndex=w,this._iIndex=T},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,s=r._indexBuffer;Te.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,s=n.state,a=e._drawCallPool,u=null,c=0;c<r;c++){var d=a[c],m=d.texArray,_=d.type,w=d.size,T=d.start,S=d.blend;u!==m&&(u=m,this.bindAndClearTexArray(m)),this.state.blendMode=S,s.set(this.state),i.drawElements(_,w,i.UNSIGNED_SHORT,T*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),Te.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=dd(Math.ceil(r/8)),i=fT(n),s=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._aBuffers[s];return a||(this._aBuffers[s]=a=new $5(s*this.vertexSize*4)),a},e.prototype.getIndexBuffer=function(r){var n=dd(Math.ceil(r/12)),i=fT(n),s=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._iBuffers[i];return a||(this._iBuffers[i]=a=new Uint16Array(s)),a},e.prototype.packInterleavedGeometry=function(r,n,i,s,a){for(var u=n.uint32View,c=n.float32View,d=s/this.vertexSize,m=r.uvs,_=r.indices,w=r.vertexData,T=r._texture.baseTexture._batchLocation,S=Math.min(r.worldAlpha,1),P=S<1&&r._texture.baseTexture.alphaMode?O_(r._tintRGB,S):r._tintRGB+(S*255<<24),E=0;E<w.length;E+=2)c[s++]=w[E],c[s++]=w[E+1],c[s++]=m[E],c[s++]=m[E+1],u[s++]=P,c[s++]=T;for(var E=0;E<_.length;E++)i[a++]=d+_[E]},e._drawCallPool=[],e._textureArrayPool=[],e}(vp),j5=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=pa.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new mp(this.vertexSrc,i)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Gt,default:this.defaultGroupCache[e]};return new ba(this.programCache[e],s)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),pI=function(t){Ve(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new ar(null,r,!1),n._indexBuffer=new ar(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,Vt.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,Vt.FLOAT).addAttribute("aColor",n._buffer,4,!0,Vt.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,Vt.FLOAT).addIndex(n._indexBuffer),n}return e}(Wh),AT=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,OT=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,G5=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:AT,fragment:OT,geometryClass:pI,vertexSize:6},e),n=r.vertex,i=r.fragment,s=r.vertexSize,a=r.geometryClass;return function(u){Ve(c,u);function c(d){var m=u.call(this,d)||this;return m.shaderGenerator=new j5(n,i),m.geometryClass=a,m.vertexSize=s,m}return c}(W5)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return AT},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return OT},enumerable:!1,configurable:!0}),t}(),Y5=G5.create();/*!
 * @pixi/app - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var jh=function(){function t(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=z5(e),this.stage=new bn,t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(s){s.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t}();jh._plugins=[];var X5=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){window.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===window)n=window.innerWidth,i=window.innerHeight;else{var s=r._resizeTo,a=s.clientWidth,u=s.clientHeight;n=a,i=u}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();jh.registerPlugin(X5);/*!
 * @pixi/extract - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var kT=new nt,MT=4,q5=function(){function t(e){this.renderer=e,e.extract=this}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e){var r=this.renderer,n,i,s=!1,a,u=!1;e&&(e instanceof Go?a=e:(a=this.renderer.generateTexture(e),u=!0)),a?(n=a.baseTexture.resolution,i=a.frame,s=!1,r.renderTexture.bind(a)):(n=this.renderer.resolution,s=!0,i=kT,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var c=Math.floor(i.width*n+1e-4),d=Math.floor(i.height*n+1e-4),m=new vT(c,d,1),_=new Uint8Array(MT*c*d),w=r.gl;w.readPixels(i.x*n,i.y*n,c,d,w.RGBA,w.UNSIGNED_BYTE,_);var T=m.context.getImageData(0,0,c,d);if(t.arrayPostDivide(_,T.data),m.context.putImageData(T,0,0),s){var S=new vT(m.width,m.height,1);S.context.scale(1,-1),S.context.drawImage(m.canvas,0,-d),m.destroy(),m=S}return u&&a.destroy(!0),m.canvas},t.prototype.pixels=function(e){var r=this.renderer,n,i,s,a=!1;e&&(e instanceof Go?s=e:(s=this.renderer.generateTexture(e),a=!0)),s?(n=s.baseTexture.resolution,i=s.frame,r.renderTexture.bind(s)):(n=r.resolution,i=kT,i.width=r.width,i.height=r.height,r.renderTexture.bind(null));var u=i.width*n,c=i.height*n,d=new Uint8Array(MT*u*c),m=r.gl;return m.readPixels(i.x*n,i.y*n,u,c,m.RGBA,m.UNSIGNED_BYTE,d),a&&s.destroy(!0),t.arrayPostDivide(d,d),d},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t}(),vI=(t,e={})=>{if(!t)return;const r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={};let s=14;for(;s--;)i[r.key[s]]=n[s]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(a,u,c){u&&(i[r.q.name][u]=c)}),i};class Zc{constructor(e,r=!1,n){this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}detach(){return this._owner===null?!1:(this._owner.detach(this),!0)}}function DT(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}class ci{constructor(){this._head=this._tail=void 0}handlers(e=!1){let r=this._head;if(e)return!!r;const n=[];for(;r;)n.push(r),r=r._next;return n}has(e){if(!(e instanceof Zc))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}dispatch(){let e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}add(e,r=null){if(typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return DT(this,new Zc(e,!1,r))}once(e,r=null){if(typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return DT(this,new Zc(e,!0,r))}detach(e){if(!(e instanceof Zc))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)}detachAll(){let e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */function Gs(){}function RT(t,e,r,n){var i=0,s=t.length;(function a(u){if(u||i===s){r&&r(u);return}n?setTimeout(function(){e(t[i++],a)},1):e(t[i++],a)})()}function K5(t){return function(){if(t===null)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,arguments)}}function Q5(t,e){if(e==null)e=1;else if(e===0)throw new Error("Concurrency must not be zero");var r=0,n={_tasks:[],concurrency:e,saturated:Gs,unsaturated:Gs,buffer:e/4,empty:Gs,drain:Gs,error:Gs,started:!1,paused:!1,push:function(u,c){i(u,!1,c)},kill:function(){r=0,n.drain=Gs,n.started=!1,n._tasks=[]},unshift:function(u,c){i(u,!0,c)},process:function(){for(;!n.paused&&r<n.concurrency&&n._tasks.length;){var u=n._tasks.shift();n._tasks.length===0&&n.empty(),r+=1,r===n.concurrency&&n.saturated(),t(u.data,K5(s(u)))}},length:function(){return n._tasks.length},running:function(){return r},idle:function(){return n._tasks.length+r===0},pause:function(){n.paused!==!0&&(n.paused=!0)},resume:function(){if(n.paused!==!1){n.paused=!1;for(var u=1;u<=n.concurrency;u++)n.process()}}};function i(a,u,c){if(c!=null&&typeof c!="function")throw new Error("task callback must be a function");if(n.started=!0,a==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var d={data:a,callback:typeof c=="function"?c:Gs};u?n._tasks.unshift(d):n._tasks.push(d),setTimeout(function(){return n.process()},1)}function s(a){return function(){r-=1,a.callback.apply(a,arguments),arguments[0]!=null&&n.error(arguments[0],a.data),r<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}}return n}var Fm={};function Z5(t,e){var r=this;Fm[t.url]?(t.data=Fm[t.url],t.complete()):t.onComplete.once(function(){return Fm[r.url]=r.data}),e()}function NT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mI(t,e,r){return e&&NT(t.prototype,e),r&&NT(t,r),t}var J5=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),Jc=null,eU=0,FT=200,tU=204,rU=1223,nU=2;function iU(){}var Ce=function(){t.setExtensionLoadType=function(n,i){LT(t._loadTypeMap,n,i)},t.setExtensionXhrType=function(n,i){LT(t._xhrTypeMap,n,i)};function t(r,n,i){if(typeof r!="string"||typeof n!="string")throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,n.indexOf("data:")===0),this.name=r,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=i.crossOrigin===!0?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=iU,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new ci,this.onProgress=new ci,this.onComplete=new ci,this.onAfterMiddleware=new ci}var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(n){if(!this.error){if(this.error=new Error(n),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(n){var i=this;if(!this.isLoading){if(this.isComplete){n&&setTimeout(function(){return n(i)},1);return}else n&&this.onComplete.once(n);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:J5&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},e._hasFlag=function(n){return(this._flags&n)!==0},e._setFlag=function(n,i){this._flags=i?this._flags|n:this._flags&~n},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(n){this.metadata.loadElement?this.data=this.metadata.loadElement:n==="image"&&typeof window.Image<"u"?this.data=new Image:this.data=document.createElement(n),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(n){if(this.metadata.loadElement?this.data=this.metadata.loadElement:n==="audio"&&typeof window.Audio<"u"?this.data=new Audio:this.data=document.createElement(n),this.data===null){this.abort("Unsupported element: "+n);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var i=this.metadata.mimeType,s=0;s<this.url.length;++s)this.data.appendChild(this._createSource(n,this.url[s],Array.isArray(i)?i[s]:i));else{var a=this.metadata.mimeType;this.data.appendChild(this._createSource(n,this.url,Array.isArray(a)?a[0]:a))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var n=this.xhr=new XMLHttpRequest;n.open("GET",this.url,!0),n.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?n.responseType=t.XHR_RESPONSE_TYPE.TEXT:n.responseType=this.xhrType,n.addEventListener("error",this._boundXhrOnError,!1),n.addEventListener("timeout",this._boundXhrOnTimeout,!1),n.addEventListener("abort",this._boundXhrOnAbort,!1),n.addEventListener("progress",this._boundOnProgress,!1),n.addEventListener("load",this._boundXhrOnLoad,!1),n.send()},e._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var n=this.xhr=new XDomainRequest;n.timeout=this.timeout||5e3,n.onerror=this._boundXhrOnError,n.ontimeout=this._boundXhrOnTimeout,n.onprogress=this._boundOnProgress,n.onload=this._boundXhrOnLoad,n.open("GET",this.url,!0),setTimeout(function(){return n.send()},1)},e._createSource=function(n,i,s){s||(s=n+"/"+this._getExtension(i));var a=document.createElement("source");return a.src=i,a.type=s,a},e._onError=function(n){this.abort("Failed to load element using: "+n.target.nodeName)},e._onProgress=function(n){n&&n.lengthComputable&&this.onProgress.dispatch(this,n.loaded/n.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var n=this.xhr;this.abort(Lm(n)+" Request failed. Status: "+n.status+', text: "'+n.statusText+'"')},e._xhrOnTimeout=function(){var n=this.xhr;this.abort(Lm(n)+" Request timed out.")},e._xhrOnAbort=function(){var n=this.xhr;this.abort(Lm(n)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var n=this.xhr,i="",s=typeof n.status>"u"?FT:n.status;(n.responseType===""||n.responseType==="text"||typeof n.responseType>"u")&&(i=n.responseText),s===eU&&(i.length>0||n.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?s=FT:s===rU&&(s=tU);var a=s/100|0;if(a===nU)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(d){this.abort("Error trying to parse loaded json: "+d);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var u=new DOMParser;this.data=u.parseFromString(i,"text/xml")}else{var c=document.createElement("div");c.innerHTML=i,this.data=c}this.type=t.TYPE.XML}catch(d){this.abort("Error trying to parse loaded xml: "+d);return}else this.data=n.response||i;else{this.abort("["+n.status+"] "+n.statusText+": "+n.responseURL);return}this.complete()},e._determineCrossOrigin=function(n,i){if(n.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";i=i||window.location,Jc||(Jc=document.createElement("a")),Jc.href=n,n=vI(Jc.href,{strictMode:!0});var s=!n.port&&i.port===""||n.port===i.port,a=n.protocol?n.protocol+":":"";return n.host!==i.hostname||!s||a!==i.protocol?"anonymous":""},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var n=this.url,i="";if(this.isDataUrl){var s=n.indexOf("/");i=n.substring(s+1,n.indexOf(";",s))}else{var a=n.indexOf("?"),u=n.indexOf("#"),c=Math.min(a>-1?a:n.length,u>-1?u:n.length);n=n.substring(0,c),i=n.substring(n.lastIndexOf(".")+1)}return i.toLowerCase()},e._getMimeFromXhrType=function(n){switch(n){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},mI(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();Ce.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2};Ce.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};Ce.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};Ce.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};Ce._loadTypeMap={gif:Ce.LOAD_TYPE.IMAGE,png:Ce.LOAD_TYPE.IMAGE,bmp:Ce.LOAD_TYPE.IMAGE,jpg:Ce.LOAD_TYPE.IMAGE,jpeg:Ce.LOAD_TYPE.IMAGE,tif:Ce.LOAD_TYPE.IMAGE,tiff:Ce.LOAD_TYPE.IMAGE,webp:Ce.LOAD_TYPE.IMAGE,tga:Ce.LOAD_TYPE.IMAGE,svg:Ce.LOAD_TYPE.IMAGE,"svg+xml":Ce.LOAD_TYPE.IMAGE,mp3:Ce.LOAD_TYPE.AUDIO,ogg:Ce.LOAD_TYPE.AUDIO,wav:Ce.LOAD_TYPE.AUDIO,mp4:Ce.LOAD_TYPE.VIDEO,webm:Ce.LOAD_TYPE.VIDEO};Ce._xhrTypeMap={xhtml:Ce.XHR_RESPONSE_TYPE.DOCUMENT,html:Ce.XHR_RESPONSE_TYPE.DOCUMENT,htm:Ce.XHR_RESPONSE_TYPE.DOCUMENT,xml:Ce.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Ce.XHR_RESPONSE_TYPE.DOCUMENT,svg:Ce.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Ce.XHR_RESPONSE_TYPE.DOCUMENT,gif:Ce.XHR_RESPONSE_TYPE.BLOB,png:Ce.XHR_RESPONSE_TYPE.BLOB,bmp:Ce.XHR_RESPONSE_TYPE.BLOB,jpg:Ce.XHR_RESPONSE_TYPE.BLOB,jpeg:Ce.XHR_RESPONSE_TYPE.BLOB,tif:Ce.XHR_RESPONSE_TYPE.BLOB,tiff:Ce.XHR_RESPONSE_TYPE.BLOB,webp:Ce.XHR_RESPONSE_TYPE.BLOB,tga:Ce.XHR_RESPONSE_TYPE.BLOB,json:Ce.XHR_RESPONSE_TYPE.JSON,text:Ce.XHR_RESPONSE_TYPE.TEXT,txt:Ce.XHR_RESPONSE_TYPE.TEXT,ttf:Ce.XHR_RESPONSE_TYPE.BUFFER,otf:Ce.XHR_RESPONSE_TYPE.BUFFER};Ce.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function LT(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function Lm(t){return t.toString().replace("object ","")}var sU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function aU(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],s=0;s<n.length;++s)r<t.length?n[s]=t.charCodeAt(r++)&255:n[s]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var a=r-(t.length-1);switch(a){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var u=0;u<i.length;++u)e+=sU.charAt(i[u])}return e}var UT=window.URL||window.webkitURL;function oU(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===Ce.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+aU(t.xhr.responseText),t.type=Ce.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=UT.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=n,t.type=Ce.TYPE.IMAGE,t.data.onload=function(){UT.revokeObjectURL(n),t.data.onload=null,e()};return}}e()}var lU={caching:Z5,parsing:oU},Um=100,uU=/(#[\w-]+)?$/,_i=function(){function t(r,n){var i=this;r===void 0&&(r=""),n===void 0&&(n=10),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(u,c){return i._loadResource(u,c)},this._queue=Q5(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new ci,this.onError=new ci,this.onLoad=new ci,this.onStart=new ci,this.onComplete=new ci;for(var s=0;s<t._defaultBeforeMiddleware.length;++s)this.pre(t._defaultBeforeMiddleware[s]);for(var a=0;a<t._defaultAfterMiddleware.length;++a)this.use(t._defaultAfterMiddleware[a])}var e=t.prototype;return e.add=function(n,i,s,a){if(Array.isArray(n)){for(var u=0;u<n.length;++u)this.add(n[u]);return this}if(typeof n=="object"&&(a=i||n.callback||n.onComplete,s=n,i=n.url,n=n.name||n.key||n.url),typeof i!="string"&&(a=s,s=i,i=n),typeof i!="string")throw new Error("No url passed to add resource to loader.");if(typeof s=="function"&&(a=s,s=null),this.loading&&(!s||!s.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[n])throw new Error('Resource named "'+n+'" already exists.');if(i=this._prepareUrl(i),this.resources[n]=new Ce(n,i,s),typeof a=="function"&&this.resources[n].onAfterMiddleware.once(a),this.loading){for(var c=s.parentResource,d=[],m=0;m<c.children.length;++m)c.children[m].isComplete||d.push(c.children[m]);var _=c.progressChunk*(d.length+1),w=_/(d.length+2);c.children.push(this.resources[n]),c.progressChunk=w;for(var T=0;T<d.length;++T)d[T].progressChunk=w;this.resources[n].progressChunk=w}return this._queue.push(this.resources[n]),this},e.pre=function(n){return this._beforeMiddleware.push(n),this},e.use=function(n){return this._afterMiddleware.push(n),this},e.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var n in this.resources){var i=this.resources[n];i._onLoadBinding&&i._onLoadBinding.detach(),i.isLoading&&i.abort()}return this.resources={},this},e.load=function(n){if(typeof n=="function"&&this.onComplete.once(n),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var i=this._queue._tasks.length,s=Um/i,a=0;a<this._queue._tasks.length;++a)this._queue._tasks[a].data.progressChunk=s;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(n){var i=vI(n,{strictMode:!0}),s;if(i.protocol||!i.path||n.indexOf("//")===0?s=n:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&n.charAt(0)!=="/"?s=this.baseUrl+"/"+n:s=this.baseUrl+n,this.defaultQueryString){var a=uU.exec(s)[0];s=s.substr(0,s.length-a.length),s.indexOf("?")!==-1?s+="&"+this.defaultQueryString:s+="?"+this.defaultQueryString,s+=a}return s},e._loadResource=function(n,i){var s=this;n._dequeue=i,RT(this._beforeMiddleware,function(a,u){a.call(s,n,function(){u(n.isComplete?{}:null)})},function(){n.isComplete?s._onLoad(n):(n._onLoadBinding=n.onComplete.once(s._onLoad,s),n.load())},!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=Um,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(n){var i=this;n._onLoadBinding=null,this._resourcesParsing.push(n),n._dequeue(),RT(this._afterMiddleware,function(s,a){s.call(i,n,a)},function(){n.onAfterMiddleware.dispatch(n),i.progress=Math.min(Um,i.progress+n.progressChunk),i.onProgress.dispatch(i,n),n.error?i.onError.dispatch(n.error,i,n):i.onLoad.dispatch(i,n),i._resourcesParsing.splice(i._resourcesParsing.indexOf(n),1),i._queue.idle()&&i._resourcesParsing.length===0&&i._onComplete()},!0)},mI(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(n){this._queue.concurrency=n}}]),t}();_i._defaultBeforeMiddleware=[];_i._defaultAfterMiddleware=[];_i.pre=function(e){return _i._defaultBeforeMiddleware.push(e),_i};_i.use=function(e){return _i._defaultAfterMiddleware.push(e),_i};/*!
 * @pixi/loaders - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var If=Ce;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _y=function(t,e){return _y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_y(t,e)};function hU(t,e){_y(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var cU=function(){function t(){}return t.use=function(e,r){e.data&&e.type===Ce.TYPE.IMAGE&&(e.texture=Me.fromLoader(e.data,e.url,e.name)),r()},t}(),Yo=function(t){hU(e,t);function e(r,n){for(var i=t.call(this,r,n)||this,s=0;s<e._plugins.length;++s){var a=e._plugins[s],u=a.pre,c=a.use;u&&i.pre(u),c&&i.use(c)}return i._protected=!1,i}return e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var r=e._shared;return r||(r=new e,r._protected=!0,e._shared=r),r},enumerable:!1,configurable:!0}),e.registerPlugin=function(r){return e._plugins.push(r),r.add&&r.add(),e},e._plugins=[],e}(_i);Yo.registerPlugin({use:lU.parsing});Yo.registerPlugin(cU);var fU=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Yo.shared:new Yo},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}();/*!
 * @pixi/particles - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var wy=function(t,e){return wy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},wy(t,e)};function gI(t,e){wy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}(function(t){gI(e,t);function e(r,n,i,s){r===void 0&&(r=1500),i===void 0&&(i=16384),s===void 0&&(s=!1);var a=t.call(this)||this,u=16384;return i>u&&(i=u),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=i,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=Ee.NORMAL,a.autoResize=s,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,Wo(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e})(bn);var BT=function(){function t(e,r,n){this.geometry=new Wh,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Vt.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new ar(l3(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=new ar(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=a,a+=i.size,this.staticStride+=i.size}var u=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=new ar(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===Vt.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===Vt.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===Vt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===Vt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),dU=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,pU=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,vU=function(t){gI(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Gt,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Vt.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=ba.from(pU,dU,{}),n.state=Da.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,s=r._batchSize,a=this.renderer,u=n.length;if(u!==0){u>i&&!r.autoResize&&(u=i);var c=r._buffers;c||(c=r._buffers=this.generateBuffers(r));var d=n[0]._texture.baseTexture;this.state.blendMode=KC(r.blendMode,d.alphaMode),a.state.set(this.state);var m=a.gl,_=r.worldTransform.copyTo(this.tempMatrix);_.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=_.toArray(!0),this.shader.uniforms.uColor=o3(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,d.alphaMode),this.shader.uniforms.uSampler=d,this.renderer.shader.bind(this.shader);for(var w=!1,T=0,S=0;T<u;T+=s,S+=1){var P=u-T;P>s&&(P=s),S>=c.length&&c.push(this._generateOneMoreBuffer(r));var E=c[S];E.uploadDynamic(n,T,P);var A=r._bufferUpdateIDs[S]||0;w=w||E._updateID<A,w&&(E._updateID=r._updateID,E.uploadStatic(n,T,P)),a.geometry.bind(E.geometry),m.drawElements(m.TRIANGLES,P*6,m.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,s=r._batchSize,a=r._properties,u=0;u<i;u+=s)n.push(new BT(this.properties,a,s));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new BT(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,s,a,u){for(var c=0,d=0,m=0,_=0,w=0;w<i;++w){var T=r[n+w],S=T._texture,P=T.scale.x,E=T.scale.y,A=S.trim,O=S.orig;A?(d=A.x-T.anchor.x*O.width,c=d+A.width,_=A.y-T.anchor.y*O.height,m=_+A.height):(c=O.width*(1-T.anchor.x),d=O.width*-T.anchor.x,m=O.height*(1-T.anchor.y),_=O.height*-T.anchor.y),s[u]=d*P,s[u+1]=_*E,s[u+a]=c*P,s[u+a+1]=_*E,s[u+a*2]=c*P,s[u+a*2+1]=m*E,s[u+a*3]=d*P,s[u+a*3+1]=m*E,u+=a*4}},e.prototype.uploadPosition=function(r,n,i,s,a,u){for(var c=0;c<i;c++){var d=r[n+c].position;s[u]=d.x,s[u+1]=d.y,s[u+a]=d.x,s[u+a+1]=d.y,s[u+a*2]=d.x,s[u+a*2+1]=d.y,s[u+a*3]=d.x,s[u+a*3+1]=d.y,u+=a*4}},e.prototype.uploadRotation=function(r,n,i,s,a,u){for(var c=0;c<i;c++){var d=r[n+c].rotation;s[u]=d,s[u+a]=d,s[u+a*2]=d,s[u+a*3]=d,u+=a*4}},e.prototype.uploadUvs=function(r,n,i,s,a,u){for(var c=0;c<i;++c){var d=r[n+c]._texture._uvs;d?(s[u]=d.x0,s[u+1]=d.y0,s[u+a]=d.x1,s[u+a+1]=d.y1,s[u+a*2]=d.x2,s[u+a*2+1]=d.y2,s[u+a*3]=d.x3,s[u+a*3+1]=d.y3,u+=a*4):(s[u]=0,s[u+1]=0,s[u+a]=0,s[u+a+1]=0,s[u+a*2]=0,s[u+a*2+1]=0,s[u+a*3]=0,s[u+a*3+1]=0,u+=a*4)}},e.prototype.uploadTint=function(r,n,i,s,a,u){for(var c=0;c<i;++c){var d=r[n+c],m=d._texture.baseTexture.alphaMode>0,_=d.alpha,w=_<1&&m?O_(d._tintRGB,_):d._tintRGB+(_*255<<24);s[u]=w,s[u+a]=w,s[u+a*2]=w,s[u+a*3]=w,u+=a*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(vp);/*!
 * @pixi/graphics - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ki;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(Ki||(Ki={}));var Qi;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(Qi||(Qi={}));var ah={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},yI=function(){function t(){this.color=16777215,this.alpha=1,this.texture=Me.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Me.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var xy=function(t,e){return xy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},xy(t,e)};function gp(t,e){xy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _I={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,s=e.indices;if(r.length>=6){for(var a=[],u=0;u<n.length;u++){var c=n[u];a.push(r.length/2),r=r.concat(c.points)}var d=cp.exports(r,a,2);if(!d)return;for(var m=i.length/2,u=0;u<d.length;u+=3)s.push(d[u]+m),s.push(d[u+1]+m),s.push(d[u+2]+m);for(var u=0;u<r.length;u++)i.push(r[u])}}},VT={build:function(t){var e=t.shape,r=t.points,n=e.x,i=e.y,s,a;if(r.length=0,t.type===Mt.CIRC)s=e.radius,a=e.radius;else{var u=t.shape;s=u.width,a=u.height}if(!(s===0||a===0)){var c=Math.floor(30*Math.sqrt(e.radius))||Math.floor(15*Math.sqrt(s+a));c/=2.3;for(var d=Math.PI*2/c,m=0;m<c-.5;m++)r.push(n+Math.sin(-d*m)*s,i+Math.cos(-d*m)*a);r.push(r[0],r[1])}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,s=n.length/2,a=s,u=t.shape,c=t.matrix,d=u.x,m=u.y;n.push(t.matrix?c.a*d+c.c*m+c.tx:d,t.matrix?c.b*d+c.d*m+c.ty:m);for(var _=0;_<r.length;_+=2)n.push(r[_],r[_+1]),i.push(s++,a,s)}},mU={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,a=t.points;a.length=0,a.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Ja(t,e,r){var n=e-t;return t+n*r}function ef(t,e,r,n,i,s,a){a===void 0&&(a=[]);for(var u=20,c=a,d=0,m=0,_=0,w=0,T=0,S=0,P=0,E=0;P<=u;++P)E=P/u,d=Ja(t,r,E),m=Ja(e,n,E),_=Ja(r,i,E),w=Ja(n,s,E),T=Ja(d,_,E),S=Ja(m,w,E),c.push(T,S);return c}var gU={build:function(t){var e=t.shape,r=t.points,n=e.x,i=e.y,s=e.width,a=e.height,u=Math.max(0,Math.min(e.radius,Math.min(s,a)/2));r.length=0,u?(ef(n,i+u,n,i,n+u,i,r),ef(n+s-u,i,n+s,i,n+s,i+u,r),ef(n+s,i+a-u,n+s,i+a,n+s-u,i+a,r),ef(n+u,i+a,n,i+a,n,i+a-u,r)):r.push(n,i,n+s,i,n+s,i+a,n,i+a)},triangulate:function(t,e){for(var r=t.points,n=e.points,i=e.indices,s=n.length/2,a=cp.exports(r,null,2),u=0,c=a.length;u<c;u+=3)i.push(a[u]+s),i.push(a[u+1]+s),i.push(a[u+2]+s);for(var u=0,c=r.length;u<c;u++)n.push(r[u],r[++u])}};function zT(t,e,r,n,i,s,a,u){var c=t-r*i,d=e-n*i,m=t+r*s,_=e+n*s,w,T;a?(w=n,T=-r):(w=-n,T=r);var S=c+w,P=d+T,E=m+w,A=_+T;return u.push(S,P),u.push(E,A),2}function eo(t,e,r,n,i,s,a,u){var c=r-t,d=n-e,m=Math.atan2(c,d),_=Math.atan2(i-t,s-e);u&&m<_?m+=Math.PI*2:!u&&m>_&&(_+=Math.PI*2);var w=m,T=_-m,S=Math.abs(T),P=Math.sqrt(c*c+d*d),E=(15*S*Math.sqrt(P)/Math.PI>>0)+1,A=T/E;if(w+=A,u){a.push(t,e),a.push(r,n);for(var O=1,M=w;O<E;O++,M+=A)a.push(t,e),a.push(t+Math.sin(M)*P,e+Math.cos(M)*P);a.push(t,e),a.push(i,s)}else{a.push(r,n),a.push(t,e);for(var O=1,M=w;O<E;O++,M+=A)a.push(t+Math.sin(M)*P,e+Math.cos(M)*P),a.push(t,e);a.push(i,s),a.push(t,e)}return E*2}function yU(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var s=t.lineStyle,a=new hr(n[0],n[1]),u=new hr(n[n.length-2],n[n.length-1]),c=r.type!==Mt.POLY||r.closeStroke,d=Math.abs(a.x-u.x)<i&&Math.abs(a.y-u.y)<i;if(c){n=n.slice(),d&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));var m=(a.x+u.x)*.5,_=(u.y+a.y)*.5;n.unshift(m,_),n.push(m,_)}var w=e.points,T=n.length/2,S=n.length,P=w.length/2,E=s.width/2,A=E*E,O=s.miterLimit*s.miterLimit,M=n[0],R=n[1],V=n[2],L=n[3],W=0,j=0,U=-(R-L),H=M-V,J=0,se=0,te=Math.sqrt(U*U+H*H);U/=te,H/=te,U*=E,H*=E;var Le=s.alignment,ae=(1-Le)*2,le=Le*2;c||(s.cap===Qi.ROUND?S+=eo(M-U*(ae-le)*.5,R-H*(ae-le)*.5,M-U*ae,R-H*ae,M+U*le,R+H*le,w,!0)+2:s.cap===Qi.SQUARE&&(S+=zT(M,R,U,H,ae,le,!0,w))),w.push(M-U*ae,R-H*ae),w.push(M+U*le,R+H*le);for(var re=1;re<T-1;++re){M=n[(re-1)*2],R=n[(re-1)*2+1],V=n[re*2],L=n[re*2+1],W=n[(re+1)*2],j=n[(re+1)*2+1],U=-(R-L),H=M-V,te=Math.sqrt(U*U+H*H),U/=te,H/=te,U*=E,H*=E,J=-(L-j),se=V-W,te=Math.sqrt(J*J+se*se),J/=te,se/=te,J*=E,se*=E;var Je=V-M,dt=R-L,ue=V-W,$=j-L,X=dt*ue-$*Je,ne=X<0;if(Math.abs(X)<.1){w.push(V-U*ae,L-H*ae),w.push(V+U*le,L+H*le);continue}var we=(-U+M)*(-H+L)-(-U+V)*(-H+R),ie=(-J+W)*(-se+L)-(-J+V)*(-se+j),Pe=(Je*ie-ue*we)/X,He=($*we-dt*ie)/X,st=(Pe-V)*(Pe-V)+(He-L)*(He-L),de=V+(Pe-V)*ae,yt=L+(He-L)*ae,We=V-(Pe-V)*le,me=L-(He-L)*le,at=Math.min(Je*Je+dt*dt,ue*ue+$*$),Lt=ne?ae:le,Ut=at+Lt*Lt*A,Cn=st<=Ut;Cn?s.join===Ki.BEVEL||st/A>O?(ne?(w.push(de,yt),w.push(V+U*le,L+H*le),w.push(de,yt),w.push(V+J*le,L+se*le)):(w.push(V-U*ae,L-H*ae),w.push(We,me),w.push(V-J*ae,L-se*ae),w.push(We,me)),S+=2):s.join===Ki.ROUND?ne?(w.push(de,yt),w.push(V+U*le,L+H*le),S+=eo(V,L,V+U*le,L+H*le,V+J*le,L+se*le,w,!0)+4,w.push(de,yt),w.push(V+J*le,L+se*le)):(w.push(V-U*ae,L-H*ae),w.push(We,me),S+=eo(V,L,V-U*ae,L-H*ae,V-J*ae,L-se*ae,w,!1)+4,w.push(V-J*ae,L-se*ae),w.push(We,me)):(w.push(de,yt),w.push(We,me)):(w.push(V-U*ae,L-H*ae),w.push(V+U*le,L+H*le),s.join===Ki.BEVEL||st/A>O||(s.join===Ki.ROUND?ne?S+=eo(V,L,V+U*le,L+H*le,V+J*le,L+se*le,w,!0)+2:S+=eo(V,L,V-U*ae,L-H*ae,V-J*ae,L-se*ae,w,!1)+2:(ne?(w.push(We,me),w.push(We,me)):(w.push(de,yt),w.push(de,yt)),S+=2)),w.push(V-J*ae,L-se*ae),w.push(V+J*le,L+se*le),S+=2)}M=n[(T-2)*2],R=n[(T-2)*2+1],V=n[(T-1)*2],L=n[(T-1)*2+1],U=-(R-L),H=M-V,te=Math.sqrt(U*U+H*H),U/=te,H/=te,U*=E,H*=E,w.push(V-U*ae,L-H*ae),w.push(V+U*le,L+H*le),c||(s.cap===Qi.ROUND?S+=eo(V-U*(ae-le)*.5,L-H*(ae-le)*.5,V-U*ae,L-H*ae,V+U*le,L+H*le,w,!1)+2:s.cap===Qi.SQUARE&&(S+=zT(V,L,U,H,ae,le,!1,w)));for(var Ds=e.indices,ge=ah.epsilon*ah.epsilon,re=P;re<S+P-2;++re)M=w[re*2],R=w[re*2+1],V=w[(re+1)*2],L=w[(re+1)*2+1],W=w[(re+2)*2],j=w[(re+2)*2+1],!(Math.abs(M*(L-j)+V*(j-R)+W*(R-L))<ge)&&Ds.push(re,re+1,re+2)}}function _U(t,e){var r=0,n=t.shape,i=t.points||n.points,s=n.type!==Mt.POLY||n.closeStroke;if(i.length!==0){var a=e.points,u=e.indices,c=i.length/2,d=a.length/2,m=d;for(a.push(i[0],i[1]),r=1;r<c;r++)a.push(i[r*2],i[r*2+1]),u.push(m,m+1),m++;s&&u.push(m,d)}}function HT(t,e){t.lineStyle.native?_U(t,e):yU(t,e)}var wU=function(t){gp(e,t);function e(r,n,i,s,a,u){u===void 0&&(u=0);var c=this;a=a||s/2;for(var d=-1*Math.PI/2+u,m=i*2,_=ih/m,w=[],T=0;T<m;T++){var S=T%2?a:s,P=T*_+d;w.push(r+S*Math.cos(P),n+S*Math.sin(P))}return c=t.call(this,w)||this,c}return e}(Iu),$T=function(){function t(){}return t.curveTo=function(e,r,n,i,s,a){var u=a[a.length-2],c=a[a.length-1],d=c-r,m=u-e,_=i-r,w=n-e,T=Math.abs(d*w-m*_);if(T<1e-8||s===0)return(a[a.length-2]!==e||a[a.length-1]!==r)&&a.push(e,r),null;var S=d*d+m*m,P=_*_+w*w,E=d*_+m*w,A=s*Math.sqrt(S)/T,O=s*Math.sqrt(P)/T,M=A*E/S,R=O*E/P,V=A*w+O*m,L=A*_+O*d,W=m*(O+M),j=d*(O+M),U=w*(A+R),H=_*(A+R),J=Math.atan2(j-L,W-V),se=Math.atan2(H-L,U-V);return{cx:V+e,cy:L+r,radius:s,startAngle:J,endAngle:se,anticlockwise:m*_>w*d}},t.arc=function(e,r,n,i,s,a,u,c,d){for(var m=u-a,_=ah._segmentsCount(Math.abs(m)*s,Math.ceil(Math.abs(m)/ih)*40),w=m/(_*2),T=w*2,S=Math.cos(w),P=Math.sin(w),E=_-1,A=E%1/E,O=0;O<=E;++O){var M=O+A*O,R=w+a+T*M,V=Math.cos(R),L=-Math.sin(R);d.push((S*V+P*L)*s+n,(S*-L+P*V)*s+i)}},t}(),xU=function(){function t(){}return t.curveLength=function(e,r,n,i,s,a,u,c){for(var d=10,m=0,_=0,w=0,T=0,S=0,P=0,E=0,A=0,O=0,M=0,R=0,V=e,L=r,W=1;W<=d;++W)_=W/d,w=_*_,T=w*_,S=1-_,P=S*S,E=P*S,A=E*e+3*P*_*n+3*S*w*s+T*u,O=E*r+3*P*_*i+3*S*w*a+T*c,M=V-A,R=L-O,V=A,L=O,m+=Math.sqrt(M*M+R*R);return m},t.curveTo=function(e,r,n,i,s,a,u){var c=u[u.length-2],d=u[u.length-1];u.length-=2;var m=ah._segmentsCount(t.curveLength(c,d,e,r,n,i,s,a)),_=0,w=0,T=0,S=0,P=0;u.push(c,d);for(var E=1,A=0;E<=m;++E)A=E/m,_=1-A,w=_*_,T=w*_,S=A*A,P=S*A,u.push(T*c+3*w*A*e+3*_*S*n+P*s,T*d+3*w*A*r+3*_*S*i+P*a)},t}(),bU=function(){function t(){}return t.curveLength=function(e,r,n,i,s,a){var u=e-2*n+s,c=r-2*i+a,d=2*n-2*e,m=2*i-2*r,_=4*(u*u+c*c),w=4*(u*d+c*m),T=d*d+m*m,S=2*Math.sqrt(_+w+T),P=Math.sqrt(_),E=2*_*P,A=2*Math.sqrt(T),O=w/P;return(E*S+P*w*(S-A)+(4*T*_-w*w)*Math.log((2*P+O+S)/(O+A)))/(4*E)},t.curveTo=function(e,r,n,i,s){for(var a=s[s.length-2],u=s[s.length-1],c=ah._segmentsCount(t.curveLength(a,u,e,r,n,i)),d=0,m=0,_=1;_<=c;++_){var w=_/c;d=a+(e-a)*w,m=u+(r-u)*w,s.push(d+(e+(n-e)*w-d)*w,m+(r+(i-r)*w-m)*w)}},t}(),TU=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Ys,Bm=(Ys={},Ys[Mt.POLY]=_I,Ys[Mt.CIRC]=VT,Ys[Mt.ELIP]=VT,Ys[Mt.RECT]=mU,Ys[Mt.RREC]=gU,Ys),WT=[],tf=[],jT=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),to=new hr,SU=new vd,EU=function(t){gp(e,t);function e(){var r=t.call(this)||this;return r.uvsFloat32=null,r.indicesUint16=null,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.dirty=0,r.batchDirty=-1,r.cacheDirty=-1,r.clearDirty=0,r.drawCalls=[],r.batches=[],r.shapeIndex=0,r._bounds=new vd,r.boundsDirty=-1,r.boundsPadding=0,r.batchable=!1,r.indicesUint16=null,r.uvsFloat32=null,r.closePointEps=1e-4,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),tf.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),WT.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,s){n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=null);var a=new jT(r,n,i,s);return this.graphicsData.push(a),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new jT(r,null,null,n),s=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=s.lineStyle,s.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var s=n[i];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(r,to):to.copyFrom(r),s.shape.contains(to.x,to.y))){var a=!1;if(s.holes)for(var u=0;u<s.holes.length;u++){var c=s.holes[u];if(c.shape.contains(to.x,to.y)){a=!0;break}}if(!a)return!0}}return!1},e.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,s=null,a=null;this.batches.length>0&&(s=this.batches[this.batches.length-1],a=s.style);for(var u=this.shapeIndex;u<i.length;u++){this.shapeIndex++;var c=i[u],d=c.fillStyle,m=c.lineStyle,_=Bm[c.type];_.build(c),c.matrix&&this.transformPoints(c.points,c.matrix);for(var w=0;w<2;w++){var T=w===0?d:m;if(T.visible){var S=T.texture.baseTexture,P=this.indices.length,E=this.points.length/2;S.wrapMode=us.REPEAT,w===0?this.processFill(c):this.processLine(c);var A=this.points.length/2-E;A!==0&&(s&&!this._compareStyles(a,T)&&(s.end(P,E),s=null),s||(s=WT.pop()||new TU,s.begin(T,P,E),this.batches.push(s),a=T),this.addUvs(this.points,n,T.texture,E,A,T.matrix))}}}var O=this.indices.length,M=this.points.length/2;if(s&&s.end(O,M),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var R=M>65535&&r;this.indicesUint16=R?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],s=i.fillStyle,a=i.lineStyle;if(s&&!s.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var s=r[n],a=0;a<s.size;a++){var u=s.start+a;this.indicesUint16[u]=this.indicesUint16[u]-s.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++wt._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),tf.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,s=this.textureIds,a=tf.pop();a||(a=new gy,a.texArray=new yy),a.texArray.count=0,a.start=0,a.size=0,a.type=wn.TRIANGLES;var u=0,c=null,d=0,m=!1,_=wn.TRIANGLES,w=0;this.drawCalls.push(a);for(var n=0;n<this.batches.length;n++){var T=this.batches[n],S=8,P=T.style,E=P.texture.baseTexture;m!==!!P.native&&(m=!!P.native,_=m?wn.LINES:wn.TRIANGLES,c=null,u=S,r++),c!==E&&(c=E,E._batchEnabled!==r&&(u===S&&(r++,u=0,a.size>0&&(a=tf.pop(),a||(a=new gy,a.texArray=new yy),this.drawCalls.push(a)),a.start=w,a.size=0,a.texArray.count=0,a.type=_),E.touched=1,E._batchEnabled=r,E._batchLocation=u,E.wrapMode=10497,a.texArray.elements[a.texArray.count++]=E,u++)),a.size+=T.size,w+=T.size,d=E._batchLocation,this.addColors(i,P.color,P.alpha,T.attribSize,T.attribStart),this.addTextureIds(s,d,T.attribSize,T.attribStart)}wt._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,s=this.textureIds,a=new ArrayBuffer(r.length*3*4),u=new Float32Array(a),c=new Uint32Array(a),d=0,m=0;m<r.length/2;m++)u[d++]=r[m*2],u[d++]=r[m*2+1],u[d++]=n[m*2],u[d++]=n[m*2+1],c[d++]=i[m],u[d++]=s[m];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)this.processHoles(r.holes),_I.triangulate(r,this);else{var n=Bm[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){HT(r,this);for(var n=0;n<r.holes.length;n++)HT(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],s=Bm[i.type];s.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds,n=SU,i=Gt.IDENTITY;this._bounds.clear(),n.clear();for(var s=0;s<this.graphicsData.length;s++){var a=this.graphicsData[s],u=a.shape,c=a.type,d=a.lineStyle,m=a.matrix||Gt.IDENTITY,_=0;if(d&&d.visible){var w=d.alignment;_=d.width,c===Mt.POLY?_=_*(.5+Math.abs(.5-w)):_=_*Math.max(0,w)}if(i!==m&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=m),c===Mt.RECT||c===Mt.RREC){var T=u;n.addFramePad(T.x,T.y,T.x+T.width,T.y+T.height,_,_)}else if(c===Mt.CIRC){var S=u;n.addFramePad(S.x,S.y,S.x,S.y,S.radius+_,S.radius+_)}else if(c===Mt.ELIP){var P=u;n.addFramePad(P.x,P.y,P.x,P.y,P.width+_,P.height+_)}else{var E=u;r.addVerticesMatrix(i,E.points,0,E.points.length,_,_)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var s=r[i*2],a=r[i*2+1];r[i*2]=n.a*s+n.c*a+n.tx,r[i*2+1]=n.b*s+n.d*a+n.ty}},e.prototype.addColors=function(r,n,i,s,a){a===void 0&&(a=0);var u=(n>>16)+(n&65280)+((n&255)<<16),c=O_(u,i);r.length=Math.max(r.length,a+s);for(var d=0;d<s;d++)r[a+d]=c},e.prototype.addTextureIds=function(r,n,i,s){s===void 0&&(s=0),r.length=Math.max(r.length,s+i);for(var a=0;a<i;a++)r[s+a]=n},e.prototype.addUvs=function(r,n,i,s,a,u){u===void 0&&(u=null);for(var c=0,d=n.length,m=i.frame;c<a;){var _=r[(s+c)*2],w=r[(s+c)*2+1];if(u){var T=u.a*_+u.c*w+u.tx;w=u.b*_+u.d*w+u.ty,_=T}c++,n.push(_/m.width,w/m.height)}var S=i.baseTexture;(m.width<S.width||m.height<S.height)&&this.adjustUvs(n,i,d,a)},e.prototype.adjustUvs=function(r,n,i,s){for(var a=n.baseTexture,u=1e-6,c=i+s*2,d=n.frame,m=d.width/a.width,_=d.height/a.height,w=d.x/d.width,T=d.y/d.height,S=Math.floor(r[i]+u),P=Math.floor(r[i+1]+u),E=i+2;E<c;E+=2)S=Math.min(S,Math.floor(r[E]+u)),P=Math.min(P,Math.floor(r[E+1]+u));w-=S,T-=P;for(var E=i;E<c;E+=2)r[E]=(r[E]+w)*m,r[E+1]=(r[E+1]+T)*_},e.BATCHABLE_SIZE=100,e}(pI),CU=function(t){gp(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=Qi.BUTT,r.join=Ki.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(yI),IU=new Float32Array(3),Vm={},wI=function(t){gp(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n._geometry=r||new EU,n._geometry.refCount++,n.shader=null,n.state=Da.for2d(),n._fillStyle=new yI,n._lineStyle=new CU,n._matrix=null,n._holeMode=!1,n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n.pluginName="batch",n._transformID=-1,n.tint=16777215,n.blendMode=Ee.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r){if(r===void 0&&(r=null),typeof r=="number"){var n=arguments;r={width:n[0]||0,color:n[1]||0,alpha:n[2]!==void 0?n[2]:1,alignment:n[3]!==void 0?n[3]:.5,native:!!n[4]}}return this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){if(typeof r=="number"){hs("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var n=arguments,i=n[0],s=n[1],a=n[2],u=n[3],c=n[4],d=n[5],m=n[6];r={width:i,texture:s,color:a,alpha:u,matrix:c,alignment:d,native:m},Object.keys(r).forEach(function(w){return r[w]===void 0&&delete r[w]})}r=Object.assign({width:0,texture:Me.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Qi.BUTT,join:Ki.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var _=r.width>0&&r.alpha>0;return _?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:_},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new Iu,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new Iu,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,s=i[i.length-2],a=i[i.length-1];return(s!==r||a!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,s){this._initCurve();var a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),bU.curveTo(r,n,i,s,a),this},e.prototype.bezierCurveTo=function(r,n,i,s,a,u){return this._initCurve(),xU.curveTo(r,n,i,s,a,u,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,s,a){this._initCurve(r,n);var u=this.currentPath.points,c=$T.curveTo(r,n,i,s,a,u);if(c){var d=c.cx,m=c.cy,_=c.radius,w=c.startAngle,T=c.endAngle,S=c.anticlockwise;this.arc(d,m,_,w,T,S)}return this},e.prototype.arc=function(r,n,i,s,a,u){if(u===void 0&&(u=!1),s===a)return this;!u&&a<=s?a+=ih:u&&s<=a&&(s+=ih);var c=a-s;if(c===0)return this;var d=r+Math.cos(s)*i,m=n+Math.sin(s)*i,_=this._geometry.closePointEps,w=this.currentPath?this.currentPath.points:null;if(w){var T=Math.abs(w[w.length-2]-d),S=Math.abs(w[w.length-1]-m);T<_&&S<_||w.push(d,m)}else this.moveTo(d,m),w=this.currentPath.points;return $T.arc(d,m,r,n,i,s,a,u,w),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:Me.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){if(r instanceof Me){hs("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var n=arguments,i=n[0],s=n[1],a=n[2],u=n[3];r={texture:i,color:s,alpha:a,matrix:u},Object.keys(r).forEach(function(d){return r[d]===void 0&&delete r[d]})}r=Object.assign({texture:Me.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var c=r.alpha>0;return c?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:c},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,s){return this.drawShape(new nt(r,n,i,s))},e.prototype.drawRoundedRect=function(r,n,i,s,a){return this.drawShape(new m3(r,n,i,s,a))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new p3(r,n,i))},e.prototype.drawEllipse=function(r,n,i,s){return this.drawShape(new v3(r,n,i,s))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var s,a=!0,u=n[0];u.points?(a=u.closeStroke,s=u.points):Array.isArray(n[0])?s=n[0]:s=n;var c=new Iu(s);return c.closeStroke=a,this.drawShape(c),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(r,n,i,s,a,u){return u===void 0&&(u=0),this.drawPolygon(new wU(r,n,i,s,a,u))},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===Mt.RECT&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var s=0;s<i;s++){var a=r.batches[s],u=a.style.color,c=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),d=new Float32Array(r.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),m=new Uint16Array(r.indicesUint16.buffer,a.start*2,a.size),_={vertexData:c,blendMode:n,indices:m,uvs:d,_batchRGB:Wo(u),_tintRGB:u,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[s]=_}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var s=this.batches[n];s.worldAlpha=this.worldAlpha*s.alpha,r.plugins[this.pluginName].render(s)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,s=this.tint,a=this.worldAlpha,u=n.uniforms,c=i.drawCalls;u.translationMatrix=this.transform.worldTransform,u.tint[0]=(s>>16&255)/255*a,u.tint[1]=(s>>8&255)/255*a,u.tint[2]=(s&255)/255*a,u.tint[3]=a,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var d=0,m=c.length;d<m;d++)this._renderDrawCallDirect(r,i.drawCalls[d])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,s=n.type,a=n.size,u=n.start,c=i.count,d=0;d<c;d++)r.texture.bind(i.elements[d],d);r.geometry.draw(s,a,u)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!Vm[i]){for(var s=r.plugins.batch.MAX_TEXTURES,a=new Int32Array(s),u=0;u<s;u++)a[u]=u;var c={tint:new Float32Array([1,1,1,1]),translationMatrix:new Gt,default:pa.from({uSamplers:a},!0)},d=r.plugins[i]._shader.program;Vm[i]=new ba(d,c)}n=Vm[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,s=n.minY,a=n.maxX,u=n.maxY;this._bounds.addFrame(this.transform,i,s,a,u)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=Wo(this.tint,IU),n=0;n<this.batches.length;n++){var i=this.batches[n],s=i._batchRGB,a=r[0]*s[0]*255,u=r[1]*s[1]*255,c=r[2]*s[2]*255,d=(a<<16)+(u<<8)+(c|0);i._tintRGB=(d>>16)+(d&65280)+((d&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,s=n.b,a=n.c,u=n.d,c=n.tx,d=n.ty,m=this._geometry.points,_=this.vertexData,w=0,T=0;T<m.length;T+=2){var S=m[T],P=m[T+1];_[w++]=i*S+a*P+c,_[w++]=u*P+s*S+d}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e._TEMP_POINT=new hr,e}(bn);/*!
 * @pixi/sprite - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var by=function(t,e){return by=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},by(t,e)};function PU(t,e){by(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var eu=new hr,AU=new Uint16Array([0,1,2,0,2,3]),Ra=function(t){PU(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new go(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=Ee.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||Me.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=AU,n.pluginName="batch",n.isSprite=!0,n._roundPixels=Te.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=mo(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=mo(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,s=n.b,a=n.c,u=n.d,c=n.tx,d=n.ty,m=this.vertexData,_=r.trim,w=r.orig,T=this._anchor,S=0,P=0,E=0,A=0;if(_?(P=_.x-T._x*w.width,S=P+_.width,A=_.y-T._y*w.height,E=A+_.height):(P=-T._x*w.width,S=P+w.width,A=-T._y*w.height,E=A+w.height),m[0]=i*P+a*A+c,m[1]=u*A+s*P+d,m[2]=i*S+a*A+c,m[3]=u*A+s*S+d,m[4]=i*S+a*E+c,m[5]=u*E+s*S+d,m[6]=i*P+a*E+c,m[7]=u*E+s*P+d,this._roundPixels)for(var O=Te.RESOLUTION,M=0;M<m.length;++M)m[M]=Math.round((m[M]*O|0)/O)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,s=this._anchor,a=this.transform.worldTransform,u=a.a,c=a.b,d=a.c,m=a.d,_=a.tx,w=a.ty,T=-s._x*i.width,S=T+i.width,P=-s._y*i.height,E=P+i.height;n[0]=u*T+d*P+_,n[1]=m*P+c*T+w,n[2]=u*S+d*P+_,n[3]=m*P+c*S+w,n[4]=u*S+d*E+_,n[5]=m*E+c*S+w,n[6]=u*T+d*E+_,n[7]=m*E+c*T+w},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new nt),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,eu);var n=this._texture.orig.width,i=this._texture.orig.height,s=-n*this.anchor.x,a=0;return eu.x>=s&&eu.x<s+n&&(a=-i*this.anchor.y,eu.y>=a&&eu.y<a+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof Me?r:Me.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=mo(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=mo(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||Me.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(bn);/*!
 * @pixi/text - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ty=function(t,e){return Ty=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ty(t,e)};function OU(t,e){Ty(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var oh;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(oh||(oh={}));var zm={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:oh.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},kU=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Ta=function(){function t(e){this.styleID=0,this.reset(),$m(this,e,e)}return t.prototype.clone=function(){var e={};return $m(e,this,zm),new t(e)},t.prototype.reset=function(){$m(this,zm,zm)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=Hm(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=Hm(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){MU(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=Hm(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&kU.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function GT(t){return typeof t=="number"?YC(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function Hm(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=GT(t[e]);return t}else return GT(t)}function MU(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function $m(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var qr=function(){function t(e,r,n,i,s,a,u,c,d){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=a,this.lineHeight=u,this.maxLineWidth=c,this.fontProperties=d}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var s=r.toFontString(),a=t.measureFont(s);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);var u=i.getContext("2d");u.font=s;for(var c=n?t.wordWrap(e,r,i):e,d=c.split(/(?:\r\n|\r|\n)/),m=new Array(d.length),_=0,w=0;w<d.length;w++){var T=u.measureText(d[w]).width+(d[w].length-1)*r.letterSpacing;m[w]=T,_=Math.max(_,T)}var S=_+r.strokeThickness;r.dropShadow&&(S+=r.dropShadowDistance);var P=r.lineHeight||a.fontSize+r.strokeThickness,E=Math.max(P,a.fontSize+r.strokeThickness)+(d.length-1)*(P+r.leading);return r.dropShadow&&(E+=r.dropShadowDistance),new t(e,r,S,E,d,m,P+r.leading,_,a)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d"),s=0,a="",u="",c=Object.create(null),d=r.letterSpacing,m=r.whiteSpace,_=t.collapseSpaces(m),w=t.collapseNewlines(m),T=!_,S=r.wordWrapWidth+d,P=t.tokenize(e),E=0;E<P.length;E++){var A=P[E];if(t.isNewline(A)){if(!w){u+=t.addLine(a),T=!_,a="",s=0;continue}A=" "}if(_){var O=t.isBreakingSpace(A),M=t.isBreakingSpace(a[a.length-1]);if(O&&M)continue}var R=t.getFromCache(A,d,c,i);if(R>S)if(a!==""&&(u+=t.addLine(a),a="",s=0),t.canBreakWords(A,r.breakWords))for(var V=t.wordWrapSplit(A),L=0;L<V.length;L++){for(var W=V[L],j=1;V[L+j];){var U=V[L+j],H=W[W.length-1];if(!t.canBreakChars(H,U,A,L,r.breakWords))W+=U;else break;j++}L+=W.length-1;var J=t.getFromCache(W,d,c,i);J+s>S&&(u+=t.addLine(a),T=!1,a="",s=0),a+=W,s+=J}else{a.length>0&&(u+=t.addLine(a),a="",s=0);var se=E===P.length-1;u+=t.addLine(A,!se),T=!1,a="",s=0}else R+s>S&&(T=!1,u+=t.addLine(a),a="",s=0),(a.length>0||!t.isBreakingSpace(A)||T)&&(a+=A,s+=R)}return u+=t.addLine(a,!1),u},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var s=n[e];if(typeof s!="number"){var a=e.length*r;s=i.measureText(e).width+a,n[e]=s}return s},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var s=e[i];if(t.isBreakingSpace(s)||t.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,s){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var s=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(i.measureText(s).width),u=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),c=2*u;u=u*t.BASELINE_MULTIPLIER|0,n.width=a,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,a,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,u);var d=i.getImageData(0,0,a,c).data,m=d.length,_=a*4,w=0,T=0,S=!1;for(w=0;w<u;++w){for(var P=0;P<_;P+=4)if(d[T+P]!==255){S=!0;break}if(!S)T+=_;else break}for(r.ascent=u-w,T=m-_,S=!1,w=c;w>u;--w){for(var P=0;P<_;P+=4)if(d[T+P]!==255){S=!0;break}if(!S)T-=_;else break}return r.descent=w-u,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),md=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch{return document.createElement("canvas")}}();md.width=md.height=10;qr._canvas=md;qr._context=md.getContext("2d");qr._fonts={};qr.METRICS_STRING="|ÉqÅ";qr.BASELINE_SYMBOL="M";qr.BASELINE_MULTIPLIER=1.4;qr._newlines=[10,13];qr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var DU={texture:!0,children:!1,baseTexture:!0},R_=function(t){OU(e,t);function e(r,n,i){var s=this,a=!1;i||(i=document.createElement("canvas"),a=!0),i.width=3,i.height=3;var u=Me.from(i);return u.orig=new nt,u.trim=new nt,s=t.call(this,u)||this,s._ownCanvas=a,s.canvas=i,s.context=s.canvas.getContext("2d"),s._resolution=Te.RESOLUTION,s._autoResolution=!0,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=r,s.style=n,s.localStyleID=-1,s}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,s=qr.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,u=s.height,c=s.lines,d=s.lineHeight,m=s.lineWidths,_=s.maxLineWidth,w=s.fontProperties;this.canvas.width=Math.ceil((Math.max(1,a)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,u)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var T,S,P=n.dropShadow?2:1,E=0;E<P;++E){var A=n.dropShadow&&E===0,O=A?Math.ceil(Math.max(1,u)+n.padding*2):0,M=O*this._resolution;if(A){i.fillStyle="black",i.strokeStyle="black";var R=n.dropShadowColor,V=Wo(typeof R=="number"?R:XC(R)),L=n.dropShadowBlur*this._resolution,W=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+V[0]*255+","+V[1]*255+","+V[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=L,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*W,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*W+M}else i.fillStyle=this._generateFillStyle(n,c,s),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;for(var j=0;j<c.length;j++)T=n.strokeThickness/2,S=n.strokeThickness/2+j*d+w.ascent,n.align==="right"?T+=_-m[j]:n.align==="center"&&(T+=(_-m[j])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(c[j],T+n.padding,S+n.padding-O,!0),n.fill&&this.drawLetterSpacing(c[j],T+n.padding,S+n.padding-O)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,s){s===void 0&&(s=!1);var a=this._style,u=a.letterSpacing;if(u===0){s?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var c=n,d=Array.from?Array.from(r):r.split(""),m=this.context.measureText(r).width,_=0,w=0;w<d.length;++w){var T=d[w];s?this.context.strokeText(T,c,i):this.context.fillText(T,c,i),_=this.context.measureText(r.substring(w+1)).width,c+=m-_+u,m=_}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=h3(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,s=this._style,a=s.trim?0:s.padding,u=i.baseTexture;i.trim.width=i._frame.width=Math.ceil(r.width/this._resolution),i.trim.height=i._frame.height=Math.ceil(r.height/this._resolution),i.trim.x=-a,i.trim.y=-a,i.orig.width=i._frame.width-a*2,i.orig.height=i._frame.height-a*2,this._onTextureUpdate(),u.setRealSize(r.width,r.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var s=r.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;var a,u=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,d=Math.ceil(this.canvas.width/this._resolution)-u-c*2,m=Math.ceil(this.canvas.height/this._resolution)-u-c*2,_=s.slice(),w=r.fillGradientStops.slice();if(!w.length)for(var T=_.length+1,S=1;S<T;++S)w.push(S/T);if(_.unshift(s[0]),w.unshift(0),_.push(s[s.length-1]),w.push(1),r.fillGradientType===oh.LINEAR_VERTICAL){a=this.context.createLinearGradient(d/2,c,d/2,m+c);for(var P=0,E=i.fontProperties.fontSize+r.strokeThickness,A=E/m,S=0;S<n.length;S++)for(var O=i.lineHeight*S,M=0;M<_.length;M++){var R=0;typeof w[M]=="number"?R=w[M]:R=M/_.length;var V=O/m+R*A,L=Math.max(P,V);L=Math.min(L,1),a.addColorStop(L,_[M]),P=L}}else{a=this.context.createLinearGradient(c,m/2,d+c,m/2);for(var W=_.length+1,j=1,S=0;S<_.length;S++){var U=void 0;typeof w[S]=="number"?U=w[S]:U=j/W,a.addColorStop(U,_[S]),j++}}return a},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},DU,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=mo(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=mo(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof Ta?this._style=r:this._style=new Ta(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e}(Ra);/*!
 * @pixi/prepare - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Sy=function(t,e){return Sy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Sy(t,e)};function RU(t,e){Sy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var NU=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function FU(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof Me){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function LU(t,e){if(t.baseTexture instanceof wt){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function UU(t,e){if(t._texture&&t._texture instanceof Me){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function BU(t,e){return e instanceof R_?(e.updateText(!0),!0):!1}function VU(t,e){if(e instanceof Ta){var r=e.toFontString();return qr.measureFont(r),!0}return!1}function zU(t,e){if(t instanceof R_){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function HU(t,e){return t instanceof Ta?(e.indexOf(t)===-1&&e.push(t),!0):!1}var $U=function(){function t(e){var r=this;this.limiter=new NU(Te.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(zU),this.registerFindHook(HU),this.registerFindHook(FU),this.registerFindHook(LU),this.registerFindHook(UU),this.registerUploadHook(BU),this.registerUploadHook(VU)}return t.prototype.upload=function(e,r){typeof e=="function"&&(r=e,e=null),e&&this.add(e),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,Zt.system.addOnce(this.tick,this,Ii.UTILITY))):r&&r()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Zt.system.addOnce(this.tick,this,Ii.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(var n=0,i=s.length;n<i;n++)s[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof bn)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&Zt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function xI(t,e){return e instanceof wt?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function WU(t,e){if(!(e instanceof wI))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var s=n[i].style.texture;s&&xI(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function jU(t,e){return t instanceof wI?(e.push(t),!0):!1}var GU=function(t){RU(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(jU),n.registerUploadHook(xI),n.registerUploadHook(WU),n}return e}($U);/*!
 * @pixi/spritesheet - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var YU=function(){function t(e,r,n){n===void 0&&(n=null),this._texture=e instanceof Me?e:null,this.baseTexture=e instanceof wt?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=pd(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],s=this._frames[i],a=s.frame;if(a){var u=null,c=null,d=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,m=new nt(0,0,Math.floor(d.w)/this.resolution,Math.floor(d.h)/this.resolution);s.rotated?u=new nt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):u=new nt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(c=new nt(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new Me(this.baseTexture,u,m,c,s.rotated?2:0,s.anchor),Me.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),XU=function(){function t(){}return t.use=function(e,r){var n=this,i=e.name+"_image";if(!e.data||e.type!==If.TYPE.JSON||!e.data.frames||n.resources[i]){r();return}var s={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},a=t.getResourcePath(e,n.baseUrl);n.add(i,a,s,function(c){if(c.error){r(c.error);return}var d=new YU(c.texture,e.data,e.url);d.parse(function(){e.spritesheet=d,e.textures=d.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:dl.resolve(e.url.replace(r,""),e.data.meta.image)},t}();/*!
 * @pixi/sprite-tiling - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ey=function(t,e){return Ey=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ey(t,e)};function bI(t,e){Ey(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var tu=new hr;(function(t){bI(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var s=t.call(this,r)||this;return s.tileTransform=new JC,s._width=n,s._height=i,s.uvMatrix=s.texture.uvMatrix||new D_(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,s)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new nt),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,tu);var n=this._width,i=this._height,s=-n*this.anchor._x;if(tu.x>=s&&tu.x<s+n){var a=-i*this.anchor._y;if(tu.y>=a&&tu.y<a+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){return typeof n=="number"&&(hs("5.3.0","TilingSprite.from use options instead of width and height args"),n={width:n,height:arguments[2]}),new e(Me.from(r,n),n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e})(Ra);var YT=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,qU=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture2D(uSampler, coord);
    gl_FragColor = texSample * uColor;
}
`,KU=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,rf=new Gt,QU=function(t){bI(e,t);function e(r){var n=t.call(this,r)||this,i={globals:n.renderer.globalUniforms};return n.shader=ba.from(YT,qU,i),n.simpleShader=ba.from(YT,KU,i),n.quad=new oI,n.state=Da.for2d(),n}return e.prototype.render=function(r){var n=this.renderer,i=this.quad,s=i.vertices;s[0]=s[6]=r._width*-r.anchor.x,s[1]=s[3]=r._height*-r.anchor.y,s[2]=s[4]=r._width*(1-r.anchor.x),s[5]=s[7]=r._height*(1-r.anchor.y),r.uvRespectAnchor&&(s=i.uvs,s[0]=s[6]=-r.anchor.x,s[1]=s[3]=-r.anchor.y,s[2]=s[4]=1-r.anchor.x,s[5]=s[7]=1-r.anchor.y),i.invalidate();var a=r._texture,u=a.baseTexture,c=r.tileTransform.localTransform,d=r.uvMatrix,m=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;m&&(u._glTextures[n.CONTEXT_UID]?m=u.wrapMode!==us.CLAMP:u.wrapMode===us.CLAMP&&(u.wrapMode=us.REPEAT));var _=m?this.simpleShader:this.shader,w=a.width,T=a.height,S=r._width,P=r._height;rf.set(c.a*w/S,c.b*w/P,c.c*T/S,c.d*T/P,c.tx/S,c.ty/P),rf.invert(),m?rf.prepend(d.mapCoord):(_.uniforms.uMapCoord=d.mapCoord.toArray(!0),_.uniforms.uClampFrame=d.uClampFrame,_.uniforms.uClampOffset=d.uClampOffset),_.uniforms.uTransform=rf.toArray(!0),_.uniforms.uColor=QC(r.tint,r.worldAlpha,_.uniforms.uColor,u.alphaMode),_.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),_.uniforms.uSampler=a,n.shader.bind(_),n.geometry.bind(i),this.state.blendMode=KC(r.blendMode,u.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(vp);/*!
 * @pixi/mesh - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Cy=function(t,e){return Cy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Cy(t,e)};function N_(t,e){Cy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ZU=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),Wm=new hr,XT=new Iu,lh=function(t){N_(e,t);function e(r,n,i,s){s===void 0&&(s=wn.TRIANGLES);var a=t.call(this)||this;return a.geometry=r,r.refCount++,a.shader=n,a.state=i||Da.for2d(),a.drawMode=s,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=0,a._transformID=-1,a._roundPixels=Te.ROUND_PIXELS,a.batchUvs=null,a}return Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this.shader.tint},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===wn.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.program.uniformData.translationMatrix&&(n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var i=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[i]),r.plugins[i].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0].data;if(!(r.vertexDirtyId===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));for(var i=this.transform.worldTransform,s=i.a,a=i.b,u=i.c,c=i.d,d=i.tx,m=i.ty,_=this.vertexData,w=0;w<_.length/2;w++){var T=n[w*2],S=n[w*2+1];_[w*2]=s*T+u*S+d,_[w*2+1]=a*T+c*S+m}if(this._roundPixels)for(var P=Te.RESOLUTION,w=0;w<_.length;++w)_[w]=Math.round((_[w]*P|0)/P);this.vertexDirty=r.vertexDirtyId}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new ZU(r,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,Wm);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=XT.points,s=this.geometry.getIndex().data,a=s.length,u=this.drawMode===4?3:1,c=0;c+2<a;c+=u){var d=s[c]*2,m=s[c+1]*2,_=s[c+2]*2;if(i[0]=n[d],i[1]=n[d+1],i[2]=n[m],i[3]=n[m+1],i[4]=n[_],i[5]=n[_+1],XT.contains(Wm.x,Wm.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.geometry.refCount--,this.geometry.refCount===0&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(bn),JU=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,eB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,yp=function(t){N_(e,t);function e(r,n){var i=this,s={uSampler:r,alpha:1,uTextureMatrix:Gt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(s,n.uniforms),i=t.call(this,n.program||mp.from(eB,JU),s)||this,i._colorDirty=!1,i.uvMatrix=new D_(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;QC(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(ba),_p=function(t){N_(e,t);function e(r,n,i){var s=t.call(this)||this,a=new ar(r),u=new ar(n,!0),c=new ar(i,!0,!0);return s.addAttribute("aVertexPosition",a,2,!1,Vt.FLOAT).addAttribute("aTextureCoord",u,2,!1,Vt.FLOAT).addIndex(c),s._updateId=-1,s}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Wh);/*!
 * @pixi/text-bitmap - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Iy=function(t,e){return Iy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Iy(t,e)};function tB(t,e){Iy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gd=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}return t}(),rB=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var i in r){var s=r[i].match(/^[a-z]+/gm)[0],a=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),u={};for(var c in a){var d=a[c].split("="),m=d[0],_=d[1].replace(/"/gm,""),w=parseFloat(_),T=isNaN(w)?_:w;u[m]=T}n[s].push(u)}var S=new gd;return n.info.forEach(function(P){return S.info.push({face:P.face,size:parseInt(P.size,10)})}),n.common.forEach(function(P){return S.common.push({lineHeight:parseInt(P.lineHeight,10)})}),n.page.forEach(function(P){return S.page.push({id:parseInt(P.id,10),file:P.file})}),n.char.forEach(function(P){return S.char.push({id:parseInt(P.id,10),page:parseInt(P.page,10),x:parseInt(P.x,10),y:parseInt(P.y,10),width:parseInt(P.width,10),height:parseInt(P.height,10),xoffset:parseInt(P.xoffset,10),yoffset:parseInt(P.yoffset,10),xadvance:parseInt(P.xadvance,10)})}),n.kerning.forEach(function(P){return S.kerning.push({first:parseInt(P.first,10),second:parseInt(P.second,10),amount:parseInt(P.amount,10)})}),S},t}(),Py=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new gd,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),u=e.getElementsByTagName("kerning"),c=0;c<n.length;c++)r.info.push({face:n[c].getAttribute("face"),size:parseInt(n[c].getAttribute("size"),10)});for(var c=0;c<i.length;c++)r.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(var c=0;c<s.length;c++)r.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(var c=0;c<a.length;c++){var d=a[c];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(var c=0;c<u.length;c++)r.kerning.push({first:parseInt(u[c].getAttribute("first"),10),second:parseInt(u[c].getAttribute("second"),10),amount:parseInt(u[c].getAttribute("amount"),10)});return r},t}(),nB=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new self.DOMParser().parseFromString(e,"text/xml");return Py.test(r)}return!1},t.parse=function(e){var r=new window.DOMParser().parseFromString(e,"text/xml");return Py.parse(r)},t}(),jm=[rB,Py,nB];function TI(t){for(var e=0;e<jm.length;e++)if(jm[e].test(t))return jm[e];return null}function iB(t,e,r,n,i,s){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var u,c=r.dropShadow?r.dropShadowDistance:0,d=r.padding||0,m=Math.ceil(t.width/n)-c-d*2,_=Math.ceil(t.height/n)-c-d*2,w=a.slice(),T=r.fillGradientStops.slice();if(!T.length)for(var S=w.length+1,P=1;P<S;++P)T.push(P/S);if(w.unshift(a[0]),T.unshift(0),w.push(a[a.length-1]),T.push(1),r.fillGradientType===oh.LINEAR_VERTICAL){u=e.createLinearGradient(m/2,d,m/2,_+d);for(var E=0,A=s.fontProperties.fontSize+r.strokeThickness,O=A/_,P=0;P<i.length;P++)for(var M=s.lineHeight*P,R=0;R<w.length;R++){var V=0;typeof T[R]=="number"?V=T[R]:V=R/w.length;var L=M/_+V*O,W=Math.max(E,L);W=Math.min(W,1),u.addColorStop(W,w[R]),E=W}}else{u=e.createLinearGradient(d,_/2,m+d,_/2);for(var j=w.length+1,U=1,P=0;P<w.length;P++){var H=void 0;typeof T[P]=="number"?H=T[P]:H=U/j,u.addColorStop(H,w[P]),U++}}return u}function sB(t,e,r,n,i,s,a){var u=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);var d=a.strokeThickness/2,m=-(a.strokeThickness/2);if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=iB(t,e,a,s,[u],r),e.strokeStyle=a.stroke,a.dropShadow){var _=a.dropShadowColor,w=Wo(typeof _=="number"?_:XC(_)),T=a.dropShadowBlur*s,S=a.dropShadowDistance*s;e.shadowColor="rgba("+w[0]*255+","+w[1]*255+","+w[2]*255+","+a.dropShadowAlpha+")",e.shadowBlur=T,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*S,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*S}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(u,d,m+r.lineHeight-c.descent),a.fill&&e.fillText(u,d,m+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function aB(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var s=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<s)throw new Error("[BitmapFont]: Invalid character range.");for(var u=s,c=a;u<=c;u++)e.push(String.fromCharCode(u))}else e.push.apply(e,i.split(""))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}var ea=function(){function t(e,r,n){var i=e.info[0],s=e.common[0],a=e.page[0],u=pd(a.file),c={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=c;for(var d=0;d<e.page.length;d++){var m=e.page[d],_=m.id,w=m.file;c[_]=r instanceof Array?r[d]:r[w]}for(var d=0;d<e.char.length;d++){var T=e.char[d],_=T.id,S=T.page,P=e.char[d],E=P.x,A=P.y,O=P.width,M=P.height,R=P.xoffset,V=P.yoffset,L=P.xadvance;E/=u,A/=u,O/=u,M/=u,R/=u,V/=u,L/=u;var W=new nt(E+c[S].frame.x/u,A+c[S].frame.y/u,O,M);this.chars[_]={xOffset:R,yOffset:V,xAdvance:L,kerning:{},texture:new Me(c[S].baseTexture,W),page:S}}for(var d=0;d<e.kerning.length;d++){var j=e.kerning[d],U=j.first,H=j.second,J=j.amount;U/=u,H/=u,J/=u,this.chars[H]&&(this.chars[H].kerning[U]=J)}}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof gd)i=e;else{var s=TI(e);if(!s)throw new Error("Unrecognized data format for font.");i=s.parse(e)}r instanceof Me&&(r=[r]);var a=new t(i,r,n);return t.available[a.font]=a,a},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),s=i.chars,a=i.padding,u=i.resolution,c=i.textureWidth,d=i.textureHeight,m=aB(s),_=r instanceof Ta?r:new Ta(r),w=c,T=new gd;T.info[0]={face:_.fontFamily,size:_.fontSize},T.common[0]={lineHeight:_.fontSize};for(var S=0,P=0,E,A,O,M=0,R=[],V=0;V<m.length;V++){E||(E=document.createElement("canvas"),E.width=c,E.height=d,A=E.getContext("2d"),O=new wt(E,{resolution:u}),R.push(new Me(O)),T.page.push({id:R.length-1,file:""}));var L=qr.measureText(m[V],_,!1,E),W=L.width,j=Math.ceil(L.height),U=Math.ceil((_.fontStyle==="italic"?2:1)*W);if(P>=d-j*u){if(P===0)throw new Error("[BitmapFont] textureHeight "+d+"px is "+("too small for "+_.fontSize+"px fonts"));--V,E=null,A=null,O=null,P=0,S=0,M=0;continue}if(M=Math.max(j+L.fontProperties.descent,M),U*u+S>=w){--V,P+=M*u,P=Math.ceil(P),S=0,M=0;continue}sB(E,A,L,S,P,u,_);var H=L.text.charCodeAt(0);T.char.push({id:H,page:R.length-1,x:S/u,y:P/u,width:U,height:j,xoffset:0,yoffset:0,xadvance:Math.ceil(W-(_.dropShadow?_.dropShadowDistance:0)-(_.stroke?_.strokeThickness:0))}),S+=(U+2*a)*u,S=Math.ceil(S)}var J=new t(T,R,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=J,J},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),qT=[],KT=[];(function(t){tB(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215,n.font&&(hs("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),i._upgradeStyle(n));var s=Object.assign({},e.styleDefaults,n),a=s.align,u=s.tint,c=s.maxWidth,d=s.letterSpacing,m=s.fontName,_=s.fontSize;if(!ea.available[m])throw new Error('Missing BitmapFont "'+m+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=u,i._fontName=m,i._fontSize=_||ea.available[m].size,i._text=r,i._maxWidth=c,i._maxLineHeight=0,i._letterSpacing=d,i._anchor=new go(function(){i.dirty=!0},i,0,0),i._roundPixels=Te.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=ea.available[this._fontName],i=this._fontSize/n.size,s=new hr,a=[],u=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",d=c.length,m=this._maxWidth*n.size/this._fontSize,_=null,w=0,T=0,S=0,P=-1,E=0,A=0,O=0,M=0;M<d;M++){var R=c.charCodeAt(M),V=c.charAt(M);if(/(?:\s)/.test(V)&&(P=M,E=w),V==="\r"||V===`
`){u.push(w),T=Math.max(T,w),++S,++A,s.x=0,s.y+=n.lineHeight,_=null;continue}var L=n.chars[R];if(L){_&&L.kerning[_]&&(s.x+=L.kerning[_]);var W=KT.pop()||{texture:Me.EMPTY,line:0,charCode:0,position:new hr};W.texture=L.texture,W.line=S,W.charCode=R,W.position.x=s.x+L.xOffset+this._letterSpacing/2,W.position.y=s.y+L.yOffset,a.push(W),s.x+=L.xAdvance+this._letterSpacing,w=s.x,O=Math.max(O,L.yOffset+L.texture.height),_=R,P!==-1&&m>0&&s.x>m&&(++A,Mo(a,1+P-A,1+M-P),M=P,P=-1,u.push(E),T=Math.max(T,E),S++,s.x=0,s.y+=n.lineHeight,_=null)}}var j=c.charAt(c.length-1);j!=="\r"&&j!==`
`&&(/(?:\s)/.test(j)&&(w=E),u.push(w),T=Math.max(T,w));for(var U=[],M=0;M<=S;M++){var H=0;this._align==="right"?H=T-u[M]:this._align==="center"&&(H=(T-u[M])/2),U.push(H)}for(var J=a.length,se={},te=[],Le=this._activePagesMeshData,M=0;M<Le.length;M++)qT.push(Le[M]);for(var M=0;M<J;M++){var ae=a[M].texture,le=ae.baseTexture.uid;if(!se[le]){var re=qT.pop();if(!re){var Je=new _p,dt=new yp(Me.EMPTY),ue=new lh(Je,dt);re={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:ue,vertices:null,uvs:null,indices:null}}re.index=0,re.indexCount=0,re.vertexCount=0,re.uvsCount=0,re.total=0;var $=this._textureCache;$[le]=$[le]||new Me(ae.baseTexture),re.mesh.texture=$[le],re.mesh.tint=this._tint,te.push(re),se[le]=re}se[le].total++}for(var M=0;M<Le.length;M++)te.indexOf(Le[M])===-1&&this.removeChild(Le[M].mesh);for(var M=0;M<te.length;M++)te[M].mesh.parent!==this&&this.addChild(te[M].mesh);this._activePagesMeshData=te;for(var M in se){var re=se[M],X=re.total;if(!(((r=re.indices)===null||r===void 0?void 0:r.length)>6*X)||re.vertices.length<lh.BATCHABLE_SIZE*2)re.vertices=new Float32Array(4*2*X),re.uvs=new Float32Array(4*2*X),re.indices=new Uint16Array(6*X);else for(var ne=re.total,we=re.vertices,ie=ne*4*2;ie<we.length;ie++)we[ie]=0;re.mesh.size=6*X}for(var M=0;M<J;M++){var V=a[M],Pe=V.position.x+U[V.line];this._roundPixels&&(Pe=Math.round(Pe));var He=Pe*i,st=V.position.y*i,ae=V.texture,de=se[ae.baseTexture.uid],yt=ae.frame,We=ae._uvs,me=de.index++;de.indices[me*6+0]=0+me*4,de.indices[me*6+1]=1+me*4,de.indices[me*6+2]=2+me*4,de.indices[me*6+3]=0+me*4,de.indices[me*6+4]=2+me*4,de.indices[me*6+5]=3+me*4,de.vertices[me*8+0]=He,de.vertices[me*8+1]=st,de.vertices[me*8+2]=He+yt.width*i,de.vertices[me*8+3]=st,de.vertices[me*8+4]=He+yt.width*i,de.vertices[me*8+5]=st+yt.height*i,de.vertices[me*8+6]=He,de.vertices[me*8+7]=st+yt.height*i,de.uvs[me*8+0]=We.x0,de.uvs[me*8+1]=We.y0,de.uvs[me*8+2]=We.x1,de.uvs[me*8+3]=We.y1,de.uvs[me*8+4]=We.x2,de.uvs[me*8+5]=We.y2,de.uvs[me*8+6]=We.x3,de.uvs[me*8+7]=We.y3}this._textWidth=T*i,this._textHeight=(s.y+n.lineHeight)*i;for(var M in se){var re=se[M];if(this.anchor.x!==0||this.anchor.y!==0)for(var at=0,Lt=this._textWidth*this.anchor.x,Ut=this._textHeight*this.anchor.y,Cn=0;Cn<re.total;Cn++)re.vertices[at++]-=Lt,re.vertices[at++]-=Ut,re.vertices[at++]-=Lt,re.vertices[at++]-=Ut,re.vertices[at++]-=Lt,re.vertices[at++]-=Ut,re.vertices[at++]-=Lt,re.vertices[at++]-=Ut;this._maxLineHeight=O*i;var Ds=re.mesh.geometry.getBuffer("aVertexPosition"),ge=re.mesh.geometry.getBuffer("aTextureCoord"),Rs=re.mesh.geometry.getIndex();Ds.data=re.vertices,ge.data=re.uvs,Rs.data=re.indices,Ds.update(),ge.update(),Rs.update()}for(var M=0;M<a.length;M++)KT.push(a[M])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!ea.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype._upgradeStyle=function(r){if(typeof r.font=="string"){var n=r.font.split(" ");r.fontName=n.length===1?n[0]:n.slice(1).join(" "),n.length>=2&&(r.fontSize=parseInt(n[0],10))}else r.fontName=r.font.name,r.fontSize=typeof r.font.size=="number"?r.font.size:parseInt(r.font.size,10)},e.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var s=n[i];s.destroy(),delete n[i]}this._textureCache=null,t.prototype.destroy.call(this,r)},e.registerFont=function(r,n){return hs("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),ea.install(r,n)},Object.defineProperty(e,"fonts",{get:function(){return hs("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),ea.available},enumerable:!1,configurable:!0}),e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e})(bn);var oB=function(){function t(){}return t.add=function(){If.setExtensionXhrType("fnt",If.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=TI(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),s=n.parse(e.data),a={},u=function(P){a[P.metadata.pageFile]=P.texture,Object.keys(a).length===s.page.length&&(e.bitmapFont=ea.install(s,a,!0),r())},c=0;c<s.page.length;++c){var d=s.page[c].file,m=i+d,_=!1;for(var w in this.resources){var T=this.resources[w];if(T.url===m){T.metadata.pageFile=d,T.texture?u(T):T.onAfterMiddleware.add(u),_=!0;break}}if(!_){var S={crossOrigin:e.crossOrigin,loadType:If.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:d},e.metadata.imageMetadata),parentResource:e};this.add(m,S,u)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t}();/*!
 * @pixi/filter-alpha - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ay=function(t,e){return Ay=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ay(t,e)};function lB(t,e){Ay(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var uB=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;(function(t){lB(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,H5,uB,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e})(Ps);/*!
 * @pixi/filter-blur - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Oy=function(t,e){return Oy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Oy(t,e)};function SI(t,e){Oy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hB=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function cB(t,e){var r=Math.ceil(t/2),n=hB,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var u=s.replace("%index%",a.toString());u=u.replace("%sampleIndex%",a-(r-1)+".0"),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var fB={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},dB=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function pB(t){for(var e=fB[t],r=e.length,n=dB,i="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",a,u=0;u<t;u++){var c=s.replace("%index%",u.toString());a=u,u>=r&&(a=t-u-1),c=c.replace("%value%",e[a].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var QT;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(QT||(QT={}));var ZT;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(ZT||(ZT={}));var JT;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(JT||(JT={}));var eS;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(eS||(eS={}));var tS;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(tS||(tS={}));var rS;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(rS||(rS={}));var nS;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(nS||(nS={}));var iS;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(iS||(iS={}));var sS;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(sS||(sS={}));var aS;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(aS||(aS={}));var oS;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"})(oS||(oS={}));var lS;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(lS||(lS={}));var uh;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(uh||(uh={}));var uS;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(uS||(uS={}));var hS;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(hS||(hS={}));var cS;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(cS||(cS={}));var fS;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(fS||(fS={}));var dS=function(t){SI(e,t);function e(r,n,i,s,a){n===void 0&&(n=8),i===void 0&&(i=4),s===void 0&&(s=Te.FILTER_RESOLUTION),a===void 0&&(a=5);var u=this,c=cB(a,r),d=pB(a);return u=t.call(this,c,d)||this,u.horizontal=r,u.resolution=s,u._quality=0,u.quality=i,u.blur=n,u}return e.prototype.apply=function(r,n,i,s){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,s);else{var a=r.getFilterTexture(),u=r.renderer,c=n,d=a;this.state.blend=!1,r.applyFilter(this,c,d,uh.CLEAR);for(var m=1;m<this.passes-1;m++){r.bindAndClear(c,uh.BLIT),this.uniforms.uSampler=d;var _=d;d=c,c=_,u.shader.bind(this),u.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,d,i,s),r.returnFilterTexture(a)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(Ps);(function(t){SI(e,t);function e(r,n,i,s){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=Te.FILTER_RESOLUTION),s===void 0&&(s=5);var a=t.call(this)||this;return a.blurXFilter=new dS(!0,r,n,i,s),a.blurYFilter=new dS(!1,r,n,i,s),a.resolution=i,a.quality=n,a.blur=r,a.repeatEdgePixels=!1,a}return e.prototype.apply=function(r,n,i,s){var a=Math.abs(this.blurXFilter.strength),u=Math.abs(this.blurYFilter.strength);if(a&&u){var c=r.getFilterTexture();this.blurXFilter.apply(r,n,c,uh.CLEAR),this.blurYFilter.apply(r,c,i,s),r.returnFilterTexture(c)}else u?this.blurYFilter.apply(r,n,i,s):this.blurXFilter.apply(r,n,i,s)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e})(Ps);/*!
 * @pixi/filter-color-matrix - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ky=function(t,e){return ky=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ky(t,e)};function vB(t,e){ky(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var mB=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,pS=function(t){vB(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,dI,mB,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),s=Math.sin(r),a=Math.sqrt,u=1/3,c=a(u),d=i+(1-i)*u,m=u*(1-i)-c*s,_=u*(1-i)+c*s,w=u*(1-i)+c*s,T=i+u*(1-i),S=u*(1-i)-c*s,P=u*(1-i)-c*s,E=u*(1-i)+c*s,A=i+u*(1-i),O=[d,m,_,0,0,w,T,S,0,0,P,E,A,0,0,0,0,0,1,0];this._loadMatrix(O,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,s=-.5*(i-1),a=[i,0,0,0,s,0,i,0,0,s,0,0,i,0,s,0,0,0,1,0];this._loadMatrix(a,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,s=(i-1)*-.5,a=[i,s,s,0,0,s,i,s,0,0,s,s,i,0,0,0,0,0,1,0];this._loadMatrix(a,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,s,a){r=r||.2,n=n||.15,i=i||16770432,s=s||3375104;var u=(i>>16&255)/255,c=(i>>8&255)/255,d=(i&255)/255,m=(s>>16&255)/255,_=(s>>8&255)/255,w=(s&255)/255,T=[.3,.59,.11,0,0,u,c,d,r,0,m,_,w,n,0,u-m,c-_,d-w,0,0];this._loadMatrix(T,a)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(Ps);pS.prototype.grayscale=pS.prototype.greyscale;/*!
 * @pixi/filter-displacement - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var My=function(t,e){return My=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},My(t,e)};function gB(t,e){My(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var yB=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,_B=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;(function(t){gB(e,t);function e(r,n){var i=this,s=new Gt;return r.renderable=!1,i=t.call(this,_B,yB,{mapSampler:r._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=s,n==null&&(n=20),i.scale=new hr(n,n),i}return e.prototype.apply=function(r,n,i,s){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var a=this.maskSprite.worldTransform,u=Math.sqrt(a.a*a.a+a.b*a.b),c=Math.sqrt(a.c*a.c+a.d*a.d);u!==0&&c!==0&&(this.uniforms.rotation[0]=a.a/u,this.uniforms.rotation[1]=a.b/u,this.uniforms.rotation[2]=a.c/c,this.uniforms.rotation[3]=a.d/c),r.applyFilter(this,n,i,s)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e})(Ps);/*!
 * @pixi/filter-fxaa - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Dy=function(t,e){return Dy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Dy(t,e)};function wB(t,e){Dy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var xB=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputPixel;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,bB=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputPixel;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;(function(t){wB(e,t);function e(){return t.call(this,xB,bB)||this}return e})(Ps);/*!
 * @pixi/filter-noise - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ry=function(t,e){return Ry=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ry(t,e)};function TB(t,e){Ry(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var SB=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;(function(t){TB(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,dI,SB,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e})(Ps);/*!
 * @pixi/mixin-cache-as-bitmap - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var EI=new Gt;Yt.prototype._cacheAsBitmap=!1;Yt.prototype._cacheData=null;var EB=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(Yt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new EB),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});Yt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Yt.prototype._initCachedDisplayObject=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.alpha;this.alpha=1,e.batch.flush();var n=this.getLocalBounds(null,!0).clone();if(this.filters){var i=this.filters[0].padding;n.pad(i)}n.ceil(Te.RESOLUTION);var s=e.renderTexture.current,a=e.renderTexture.sourceFrame.clone(),u=e.renderTexture.destinationFrame.clone(),c=e.projection.transform,d=Go.create({width:n.width,height:n.height}),m="cacheAsBitmap_"+jo();this._cacheData.textureCacheId=m,wt.addToCache(d.baseTexture,m),Me.addToCache(d,m);var _=this.transform.localTransform.copyTo(EI).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,d,!0,_,!1),e.projection.transform=c,e.renderTexture.bind(s,a,u),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var w=new Ra(d);w.transform.worldTransform=this.transform.worldTransform,w.anchor.x=-(n.x/n.width),w.anchor.y=-(n.y/n.height),w.alpha=r,w._bounds=this._bounds,this._cacheData.sprite=w,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=w.containsPoint.bind(w)}};Yt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Yt.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,s=e._projTransform;r.ceil(Te.RESOLUTION);var a=Go.create({width:r.width,height:r.height}),u="cacheAsBitmap_"+jo();this._cacheData.textureCacheId=u,wt.addToCache(a.baseTexture,u),Me.addToCache(a,u);var c=EI;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=r.x,c.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,a,!0,c,!1),e.context=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var d=new Ra(a);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(r.x/r.width),d.anchor.y=-(r.y/r.height),d.alpha=n,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)}};Yt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Yt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Yt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,wt.removeFromCache(this._cacheData.textureCacheId),Me.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Yt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Yt.prototype.name=null;bn.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var s=this.children[n];if(s.getChildByName){var a=this.children[n].getChildByName(e,!0);if(a)return a}}return null};/*!
 * @pixi/mixin-get-global-position - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Yt.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new hr),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/mesh-extras - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ny=function(t,e){return Ny=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ny(t,e)};function pl(t,e){Ny(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var CB=function(t){pl(e,t);function e(r,n,i,s){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),s===void 0&&(s=10);var a=t.call(this)||this;return a.segWidth=i,a.segHeight=s,a.width=r,a.height=n,a.build(),a}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],s=[],a=this.segWidth-1,u=this.segHeight-1,c=this.width/a,d=this.height/u,m=0;m<r;m++){var _=m%this.segWidth,w=m/this.segWidth|0;n.push(_*c,w*d),i.push(_/a,w/u)}for(var T=a*u,m=0;m<T;m++){var S=m%a,P=m/a|0,E=P*this.segWidth+S,A=P*this.segWidth+S+1,O=(P+1)*this.segWidth+S,M=(P+1)*this.segWidth+S+1;s.push(E,A,O,A,M,O)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(_p),IB=function(t){pl(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var s=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return s.points=n,s._width=r,s.textureScale=i,s.build(),s}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),s=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),s.data=new Uint16Array((r.length-1)*6));var a=i.data,u=s.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;for(var c=0,d=r[0],m=this._width*this.textureScale,_=r.length,w=0;w<_;w++){var T=w*4;if(this.textureScale>0){var S=d.x-r[w].x,P=d.y-r[w].y,E=Math.sqrt(S*S+P*P);d=r[w],c+=E/m}else c=w/(_-1);a[T]=c,a[T+1]=0,a[T+2]=c,a[T+3]=1}for(var A=0,w=0;w<_-1;w++){var T=w*2;u[A++]=T,u[A++]=T+1,u[A++]=T+2,u[A++]=T+2,u[A++]=T+1,u[A++]=T+3}i.update(),s.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,s=0,a=0,u=this.buffers[0].data,c=r.length,d=0;d<c;d++){var m=r[d],_=d*4;d<r.length-1?i=r[d+1]:i=m,a=-(i.x-n.x),s=i.y-n.y;var w=Math.sqrt(s*s+a*a),T=this.textureScale>0?this.textureScale*this._width/2:this._width/2;s/=w,a/=w,s*=T,a*=T,u[_]=m.x+s,u[_+1]=m.y+a,u[_+2]=m.x-s,u[_+3]=m.y-a,n=m}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(_p);(function(t){pl(e,t);function e(r,n,i){i===void 0&&(i=0);var s=this,a=new IB(r.height,n,i),u=new yp(r);return i>0&&(r.baseTexture.wrapMode=us.REPEAT),s=t.call(this,a,u)||this,s.autoUpdate=!0,s}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e})(lh);var PB=function(t){pl(e,t);function e(r,n,i){var s=this,a=new CB(r.width,r.height,n,i),u=new yp(Me.WHITE);return s=t.call(this,a,u)||this,s.texture=r,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry;r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(lh);(function(t){pl(e,t);function e(r,n,i,s,a){r===void 0&&(r=Me.EMPTY);var u=this,c=new _p(n,i,s);c.getBuffer("aVertexPosition").static=!1;var d=new yp(r);return u=t.call(this,c,d,null,a)||this,u.autoUpdate=!0,u}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e})(lh);var nf=10;(function(t){pl(e,t);function e(r,n,i,s,a){n===void 0&&(n=nf),i===void 0&&(i=nf),s===void 0&&(s=nf),a===void 0&&(a=nf);var u=t.call(this,Me.WHITE,4,4)||this;return u._origWidth=r.orig.width,u._origHeight=r.orig.height,u._width=u._origWidth,u._height=u._origHeight,u._leftWidth=n,u._rightWidth=s,u._topHeight=i,u._bottomHeight=a,u.texture=r,u}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,s=this._height>i?1:this._height/i,a=Math.min(n,s);return a},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,s=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=s*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e})(PB);/*!
 * @pixi/sprite-animated - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Fy=function(t,e){return Fy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Fy(t,e)};function AB(t,e){Fy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var OB=function(t){AB(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof Me?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Zt.shared.add(this.update,this,Ii.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var s=this._currentTime%1*this._durations[this.currentFrame];for(s+=n/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Me.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Me.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof Me)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Zt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(Ra);/*!
 * pixi.js - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */As.registerPlugin("accessibility",C3);As.registerPlugin("extract",q5);As.registerPlugin("interaction",M3);As.registerPlugin("particle",vU);As.registerPlugin("prepare",GU);As.registerPlugin("batch",Y5);As.registerPlugin("tilingSprite",QU);Yo.registerPlugin(oB);Yo.registerPlugin(XU);jh.registerPlugin(I3);jh.registerPlugin(fU);class F_{constructor(e,r){q(this,"container");q(this,"parts",{});q(this,"spawned");q(this,"tag","entity");q(this,"timeSinceSpawned",()=>performance.now()-this.spawned);q(this,"sprite",e=>{let r=new Ra.from(e);return r.anchor.set(.5),this.parts.sprite=r,this.container.addChild(this.parts.sprite),this.parts.sprite});q(this,"part",e=>this.parts[e]);q(this,"add",(e,r)=>{this.parts[e]=r,this.container.addChild(r)});q(this,"onUpdate",e=>{});q(this,"onEvent",(e,r)=>{});q(this,"draw",e=>{});let n=new bn;n.pivot.x=Math.round(n.width/2),n.pivot.y=Math.round(n.height/2),n.x=e,n.y=r,this.container=n,this.spawned=performance.now()}}const kB=kn("bullet");class MB extends F_{constructor(r,n,i){super(r,n);q(this,"width",10);q(this,"height",10);q(this,"target");q(this,"enemyDelta");q(this,"onUpdate",r=>{let n=this.enemyDelta.getVector(this.enemyDelta.distance,this.enemyDelta.angle);this.container.x+=n.x*(r/10),this.container.y+=n.y*(r/10),this.hit()&&(this.target.takeDamage(),Qo.remove(this))});q(this,"hit",()=>this.container.x>=this.target.container.x-this.target.container.width/2&&this.container.x<=this.target.container.x+this.target.container.width/2&&this.container.y>=this.target.container.y-this.target.container.height/2&&this.container.y<=this.target.container.y+this.target.container.height/2);q(this,"draw",()=>{});this.sprite(kB),this.part("sprite").width=this.width,this.part("sprite").height=this.height,this.target=i,this.enemyDelta=new VC(this.container.x,this.container.y,this.target.container.x,this.target.container.y)}}class yo{constructor(){q(this,"on",(e,r)=>{this.events[e]||(this.events[e]=[]),this.events[e].push(r)});q(this,"emit",(e,...r)=>{this.events[e].forEach(n=>{n(...r)})});this.events={}}static getInstance(){return yo._instance||(yo._instance=new yo),yo._instance}}const et=function(){return yo.getInstance()}();class DB extends F_{constructor(r,n,i){super(n,i);q(this,"width",40);q(this,"height",40);q(this,"target");q(this,"name");q(this,"shouldResetTarget",r=>r.toLowerCase()=="backspace"&&this.target!==null);q(this,"onEvent",(r,n)=>{if(r!=="keydown")return;const{key:i}=n;this.shouldResetTarget(i)&&(this.target.isTargeted(!1),this.target=null);let s=this.getTarget(i);s&&this.makeAttack(s,i)});q(this,"getTarget",r=>{if(this.target)return this.target;let n=Qo.find("enemy").filter(s=>s.word.toLowerCase().startsWith(r.toLowerCase()));if(n.length===0)return;n=n.sort((s,a)=>s.container.y-a.container.y);let i=n.pop();return this.target=i,this.target.isTargeted(!0),this.target});q(this,"makeAttack",(r,n)=>{let i=!0;r.word.toLowerCase().startsWith(n.toLowerCase())&&(Qo.add(new MB(this.container.x,this.container.y,r)),r.takeHit(),r.isDead()&&(this.target=null),i=!1),et.emit("shotFired",i)});this.name=r,this.sprite(kn(r)),this.part("sprite").width=this.width,this.part("sprite").height=this.height}}class RB extends F_{constructor(r,n,i,s){super(Math.random()*(400-20)+20,Math.random()*(-100-50)+-50);q(this,"angle",0);q(this,"velocity",2);q(this,"rotationSpeed",.01);q(this,"maxRotationSpeed",.02);q(this,"playerDelta");q(this,"follow",!1);q(this,"alertTime",1e3);q(this,"word");q(this,"originalWord");q(this,"targeted",!1);q(this,"dead",!1);q(this,"target",null);q(this,"image");q(this,"width",30);q(this,"height",30);q(this,"life",1);q(this,"stunned",0);q(this,"velocityCalculator");q(this,"draw",r=>{this.targeted?this.part("text").style.fill=16748288:this.part("text").style.fill=16777215,this.drawWord()});q(this,"drawWord",()=>{let r=qr.measureText(this.word,this.part("text").style);this.part("blackBar").width=r.width+10,this.word===""&&(this.part("blackBar").alpha=0),this.part("text").text=this.word});q(this,"onUpdate",r=>{if(this.stunned){this.stunned-=Zt.shared.elapsedMS,this.stunned<=0&&(this.stunned=0);return}this.container.x>=this.target.container.x-this.target.container.width/2&&this.container.x<=this.target.container.x+this.target.container.width/2&&this.container.y>=this.target.container.y-this.target.container.height/2&&this.container.y<=this.target.container.y+this.target.container.height/2&&(et.emit("playerDeath"),console.log("Player should be dead now. Killed by word: ",this.word)),this.follow||(this.follow=this.timeSinceSpawned()-this.alertTime>0,this.container.x<150&&this.container.x>350&&(this.follow=!0));let n=this.container.x-this.target.container.x,i=this.container.y-this.target.container.y,s=Math.atan2(i,n),a=s-this.angle;this.follow&&a!==0&&(a>0?this.angle+=this.rotationSpeed*r:this.angle-=this.rotationSpeed*r,a>-.01&&a<.01&&(this.angle=s));let u=this.container.x,c=this.container.y;this.container.x-=this.velocity*r*Math.cos(this.angle),this.container.y-=this.velocity*r*Math.sin(this.angle),this.part("sprite").angle=Math.atan2(c-this.container.y,u-this.container.x)*180/Math.PI+90});q(this,"takeDamage",()=>{this.life--,this.stunned=100,this.parts.sprite.tint=16711680,setTimeout(()=>{this.parts.sprite.tint=16777215},100),this.life===0&&(et.emit("enemyDeath"),this.deathAnimation(()=>{Qo.remove(this)}))});q(this,"deathAnimation",r=>{let n=[kn("asd"),kn("3433"),kn("dsds"),kn("Math.random()"),kn("ssssMath.random()")],i=[];for(let a=0;a<4;a++){let u=Me.from(n[a]);i.push(u)}this.parts.sprite.removeChild();let s=new OB(i);s.width=30,s.height=30,s.anchor.set(.5),s.onComplete=()=>{r()},s.loop=!1,this.container.addChild(s),s.play()});q(this,"takeHit",()=>{this.word=this.word.substring(1),this.word.length===0&&(this.dead=!0)});q(this,"isDead",()=>this.dead);q(this,"isTargeted",r=>{r&&et.emit("enemyTargeted",this),this.targeted=r});q(this,"createBlackBar",(r,n)=>{let i=new Ra.from(Me.WHITE);return i.anchor.set(.5),i.width=r,i.height=n,i.tint=0,i.y=30,i});q(this,"createWordText",r=>{let n=new Ta({fontFamily:"Poppins",fontSize:16,align:"center",fill:16777215}),i=new R_(r,n);return i.anchor.set(.5),i.y=30,i});this.sprite(kn(r)),this.part("sprite").width=30,this.part("sprite").height=30,this.velocity=s.calculate(i),this.rotationSpeed=(Math.floor(Math.random()*(this.maxRotationSpeed*1e4))+100)/1e4;let a=this.createWordText(r),u=a.style,c=qr.measureText(r,u);this.add("blackBar",this.createBlackBar(c.width,c.height)),this.add("text",a),this.life=r.length,this.tag="enemy",this.word=r,this.originalWord=r,this.target=n,this.alertTime=Math.floor(Math.random()*(3e3-1e3))+1e3;let d=Math.floor(Math.random()*60)-30;this.angle=(-90+d)*Math.PI/180,this.playerDelta=new VC(this.container.x,this.container.y,this.target.container.x,this.target.container.y)}}function CI(t,e){return function(){return t.apply(e,arguments)}}const{toString:II}=Object.prototype,{getPrototypeOf:L_}=Object,U_=(t=>e=>{const r=II.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ni=t=>(t=t.toLowerCase(),e=>U_(e)===t),wp=t=>e=>typeof e===t,{isArray:vl}=Array,hh=wp("undefined");function NB(t){return t!==null&&!hh(t)&&t.constructor!==null&&!hh(t.constructor)&&Sa(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const PI=Ni("ArrayBuffer");function FB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&PI(t.buffer),e}const LB=wp("string"),Sa=wp("function"),AI=wp("number"),B_=t=>t!==null&&typeof t=="object",UB=t=>t===!0||t===!1,Pf=t=>{if(U_(t)!=="object")return!1;const e=L_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},BB=Ni("Date"),VB=Ni("File"),zB=Ni("Blob"),HB=Ni("FileList"),$B=t=>B_(t)&&Sa(t.pipe),WB=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||II.call(t)===e||Sa(t.toString)&&t.toString()===e)},jB=Ni("URLSearchParams"),GB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gh(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),vl(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let u;for(n=0;n<a;n++)u=s[n],e.call(null,t[u],u,t)}}function OI(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const kI=typeof self>"u"?typeof global>"u"?globalThis:global:self,MI=t=>!hh(t)&&t!==kI;function Ly(){const{caseless:t}=MI(this)&&this||{},e={},r=(n,i)=>{const s=t&&OI(e,i)||i;Pf(e[s])&&Pf(n)?e[s]=Ly(e[s],n):Pf(n)?e[s]=Ly({},n):vl(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Gh(arguments[n],r);return e}const YB=(t,e,r,{allOwnKeys:n}={})=>(Gh(e,(i,s)=>{r&&Sa(i)?t[s]=CI(i,r):t[s]=i},{allOwnKeys:n}),t),XB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),qB=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},KB=(t,e,r,n)=>{let i,s,a;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!u[a]&&(e[a]=t[a],u[a]=!0);t=r!==!1&&L_(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},QB=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},ZB=t=>{if(!t)return null;if(vl(t))return t;let e=t.length;if(!AI(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},JB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&L_(Uint8Array)),e4=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},t4=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},r4=Ni("HTMLFormElement"),n4=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),vS=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),i4=Ni("RegExp"),DI=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Gh(r,(i,s)=>{e(i,s,t)!==!1&&(n[s]=i)}),Object.defineProperties(t,n)},s4=t=>{DI(t,(e,r)=>{if(Sa(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Sa(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},a4=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return vl(t)?n(t):n(String(t).split(e)),r},o4=()=>{},l4=(t,e)=>(t=+t,Number.isFinite(t)?t:e),u4=t=>{const e=new Array(10),r=(n,i)=>{if(B_(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=vl(n)?[]:{};return Gh(n,(a,u)=>{const c=r(a,i+1);!hh(c)&&(s[u]=c)}),e[i]=void 0,s}}return n};return r(t,0)},G={isArray:vl,isArrayBuffer:PI,isBuffer:NB,isFormData:WB,isArrayBufferView:FB,isString:LB,isNumber:AI,isBoolean:UB,isObject:B_,isPlainObject:Pf,isUndefined:hh,isDate:BB,isFile:VB,isBlob:zB,isRegExp:i4,isFunction:Sa,isStream:$B,isURLSearchParams:jB,isTypedArray:JB,isFileList:HB,forEach:Gh,merge:Ly,extend:YB,trim:GB,stripBOM:XB,inherits:qB,toFlatObject:KB,kindOf:U_,kindOfTest:Ni,endsWith:QB,toArray:ZB,forEachEntry:e4,matchAll:t4,isHTMLForm:r4,hasOwnProperty:vS,hasOwnProp:vS,reduceDescriptors:DI,freezeMethods:s4,toObjectSet:a4,toCamelCase:n4,noop:o4,toFiniteNumber:l4,findKey:OI,global:kI,isContextDefined:MI,toJSONObject:u4};function Xe(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}G.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const RI=Xe.prototype,NI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{NI[t]={value:t}});Object.defineProperties(Xe,NI);Object.defineProperty(RI,"isAxiosError",{value:!0});Xe.from=(t,e,r,n,i,s)=>{const a=Object.create(RI);return G.toFlatObject(t,a,function(c){return c!==Error.prototype},u=>u!=="isAxiosError"),Xe.call(a,t.message,e,r,n,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};var h4=typeof self=="object"?self.FormData:window.FormData;const c4=h4;function Uy(t){return G.isPlainObject(t)||G.isArray(t)}function FI(t){return G.endsWith(t,"[]")?t.slice(0,-2):t}function mS(t,e,r){return t?t.concat(e).map(function(i,s){return i=FI(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function f4(t){return G.isArray(t)&&!t.some(Uy)}const d4=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function p4(t){return t&&G.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function xp(t,e,r){if(!G.isObject(t))throw new TypeError("target must be an object");e=e||new(c4||FormData),r=G.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,E){return!G.isUndefined(E[P])});const n=r.metaTokens,i=r.visitor||m,s=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&p4(e);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function d(S){if(S===null)return"";if(G.isDate(S))return S.toISOString();if(!c&&G.isBlob(S))throw new Xe("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(S)||G.isTypedArray(S)?c&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function m(S,P,E){let A=S;if(S&&!E&&typeof S=="object"){if(G.endsWith(P,"{}"))P=n?P:P.slice(0,-2),S=JSON.stringify(S);else if(G.isArray(S)&&f4(S)||G.isFileList(S)||G.endsWith(P,"[]")&&(A=G.toArray(S)))return P=FI(P),A.forEach(function(M,R){!(G.isUndefined(M)||M===null)&&e.append(a===!0?mS([P],R,s):a===null?P:P+"[]",d(M))}),!1}return Uy(S)?!0:(e.append(mS(E,P,s),d(S)),!1)}const _=[],w=Object.assign(d4,{defaultVisitor:m,convertValue:d,isVisitable:Uy});function T(S,P){if(!G.isUndefined(S)){if(_.indexOf(S)!==-1)throw Error("Circular reference detected in "+P.join("."));_.push(S),G.forEach(S,function(A,O){(!(G.isUndefined(A)||A===null)&&i.call(e,A,G.isString(O)?O.trim():O,P,w))===!0&&T(A,P?P.concat(O):[O])}),_.pop()}}if(!G.isObject(t))throw new TypeError("data must be an object");return T(t),e}function gS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function V_(t,e){this._pairs=[],t&&xp(t,this,e)}const LI=V_.prototype;LI.append=function(e,r){this._pairs.push([e,r])};LI.toString=function(e){const r=e?function(n){return e.call(this,n,gS)}:gS;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function v4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function UI(t,e,r){if(!e)return t;const n=r&&r.encode||v4,i=r&&r.serialize;let s;if(i?s=i(e,r):s=G.isURLSearchParams(e)?e.toString():new V_(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class m4{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(n){n!==null&&e(n)})}}const yS=m4,BI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g4=typeof URLSearchParams<"u"?URLSearchParams:V_,y4=FormData,_4=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),w4=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Vn={isBrowser:!0,classes:{URLSearchParams:g4,FormData:y4,Blob},isStandardBrowserEnv:_4,isStandardBrowserWebWorkerEnv:w4,protocols:["http","https","file","blob","url","data"]};function x4(t,e){return xp(t,new Vn.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return Vn.isNode&&G.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function b4(t){return G.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function T4(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function VI(t){function e(r,n,i,s){let a=r[s++];const u=Number.isFinite(+a),c=s>=r.length;return a=!a&&G.isArray(i)?i.length:a,c?(G.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!u):((!i[a]||!G.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&G.isArray(i[a])&&(i[a]=T4(i[a])),!u)}if(G.isFormData(t)&&G.isFunction(t.entries)){const r={};return G.forEachEntry(t,(n,i)=>{e(b4(n),i,r,0)}),r}return null}const S4={"Content-Type":void 0};function E4(t,e,r){if(G.isString(t))try{return(e||JSON.parse)(t),G.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const bp={transitional:BI,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=G.isObject(e);if(s&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return i&&i?JSON.stringify(VI(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return x4(e,this.formSerializer).toString();if((u=G.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return xp(u?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),E4(e)):e}],transformResponse:[function(e){const r=this.transitional||bp.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&G.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(a)throw u.name==="SyntaxError"?Xe.from(u,Xe.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vn.classes.FormData,Blob:Vn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};G.forEach(["delete","get","head"],function(e){bp.headers[e]={}});G.forEach(["post","put","patch"],function(e){bp.headers[e]=G.merge(S4)});const z_=bp,C4=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),I4=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&C4[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},_S=Symbol("internals");function ru(t){return t&&String(t).trim().toLowerCase()}function Af(t){return t===!1||t==null?t:G.isArray(t)?t.map(Af):String(t)}function P4(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}function A4(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function wS(t,e,r,n){if(G.isFunction(n))return n.call(this,e,r);if(G.isString(e)){if(G.isString(n))return e.indexOf(n)!==-1;if(G.isRegExp(n))return n.test(e)}}function O4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function k4(t,e){const r=G.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}class Tp{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(u,c,d){const m=ru(c);if(!m)throw new Error("header name must be a non-empty string");const _=G.findKey(i,m);(!_||i[_]===void 0||d===!0||d===void 0&&i[_]!==!1)&&(i[_||c]=Af(u))}const a=(u,c)=>G.forEach(u,(d,m)=>s(d,m,c));return G.isPlainObject(e)||e instanceof this.constructor?a(e,r):G.isString(e)&&(e=e.trim())&&!A4(e)?a(I4(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=ru(e),e){const n=G.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return P4(i);if(G.isFunction(r))return r.call(this,i,n);if(G.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ru(e),e){const n=G.findKey(this,e);return!!(n&&(!r||wS(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=ru(a),a){const u=G.findKey(n,a);u&&(!r||wS(n,n[u],u,r))&&(delete n[u],i=!0)}}return G.isArray(e)?e.forEach(s):s(e),i}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const r=this,n={};return G.forEach(this,(i,s)=>{const a=G.findKey(n,s);if(a){r[a]=Af(i),delete r[s];return}const u=e?O4(s):String(s).trim();u!==s&&delete r[s],r[u]=Af(i),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return G.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&G.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[_S]=this[_S]={accessors:{}}).accessors,i=this.prototype;function s(a){const u=ru(a);n[u]||(k4(i,a),n[u]=!0)}return G.isArray(e)?e.forEach(s):s(e),this}}Tp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);G.freezeMethods(Tp.prototype);G.freezeMethods(Tp);const wi=Tp;function Gm(t,e){const r=this||z_,n=e||r,i=wi.from(n.headers);let s=n.data;return G.forEach(t,function(u){s=u.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function zI(t){return!!(t&&t.__CANCEL__)}function Yh(t,e,r){Xe.call(this,t??"canceled",Xe.ERR_CANCELED,e,r),this.name="CanceledError"}G.inherits(Yh,Xe,{__CANCEL__:!0});const M4=null;function D4(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Xe("Request failed with status code "+r.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const R4=Vn.isStandardBrowserEnv?function(){return{write:function(r,n,i,s,a,u){const c=[];c.push(r+"="+encodeURIComponent(n)),G.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),G.isString(s)&&c.push("path="+s),G.isString(a)&&c.push("domain="+a),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function N4(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function F4(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function HI(t,e){return t&&!N4(e)?F4(t,e):e}const L4=Vn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let a=s;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){const u=G.isString(a)?i(a):a;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}();function U4(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function B4(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),m=n[s];a||(a=d),r[i]=c,n[i]=d;let _=s,w=0;for(;_!==i;)w+=r[_++],_=_%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-a<e)return;const T=m&&d-m;return T?Math.round(w*1e3/T):void 0}}function xS(t,e){let r=0;const n=B4(50,250);return i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,u=s-r,c=n(u),d=s<=a;r=s;const m={loaded:s,total:a,progress:a?s/a:void 0,bytes:u,rate:c||void 0,estimated:c&&a&&d?(a-s)/c:void 0,event:i};m[e?"download":"upload"]=!0,t(m)}}const V4=typeof XMLHttpRequest<"u",z4=V4&&function(t){return new Promise(function(r,n){let i=t.data;const s=wi.from(t.headers).normalize(),a=t.responseType;let u;function c(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}G.isFormData(i)&&(Vn.isStandardBrowserEnv||Vn.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let d=new XMLHttpRequest;if(t.auth){const T=t.auth.username||"",S=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(T+":"+S))}const m=HI(t.baseURL,t.url);d.open(t.method.toUpperCase(),UI(m,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function _(){if(!d)return;const T=wi.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),P={data:!a||a==="text"||a==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:T,config:t,request:d};D4(function(A){r(A),c()},function(A){n(A),c()},P),d=null}if("onloadend"in d?d.onloadend=_:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(_)},d.onabort=function(){d&&(n(new Xe("Request aborted",Xe.ECONNABORTED,t,d)),d=null)},d.onerror=function(){n(new Xe("Network Error",Xe.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let S=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const P=t.transitional||BI;t.timeoutErrorMessage&&(S=t.timeoutErrorMessage),n(new Xe(S,P.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,t,d)),d=null},Vn.isStandardBrowserEnv){const T=(t.withCredentials||L4(m))&&t.xsrfCookieName&&R4.read(t.xsrfCookieName);T&&s.set(t.xsrfHeaderName,T)}i===void 0&&s.setContentType(null),"setRequestHeader"in d&&G.forEach(s.toJSON(),function(S,P){d.setRequestHeader(P,S)}),G.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),a&&a!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",xS(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",xS(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=T=>{d&&(n(!T||T.type?new Yh(null,t,d):T),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const w=U4(m);if(w&&Vn.protocols.indexOf(w)===-1){n(new Xe("Unsupported protocol "+w+":",Xe.ERR_BAD_REQUEST,t));return}d.send(i||null)})},Of={http:M4,xhr:z4};G.forEach(Of,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const H4={getAdapter:t=>{t=G.isArray(t)?t:[t];const{length:e}=t;let r,n;for(let i=0;i<e&&(r=t[i],!(n=G.isString(r)?Of[r.toLowerCase()]:r));i++);if(!n)throw n===!1?new Xe(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(G.hasOwnProp(Of,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!G.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:Of};function Ym(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Yh(null,t)}function bS(t){return Ym(t),t.headers=wi.from(t.headers),t.data=Gm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),H4.getAdapter(t.adapter||z_.adapter)(t).then(function(n){return Ym(t),n.data=Gm.call(t,t.transformResponse,n),n.headers=wi.from(n.headers),n},function(n){return zI(n)||(Ym(t),n&&n.response&&(n.response.data=Gm.call(t,t.transformResponse,n.response),n.response.headers=wi.from(n.response.headers))),Promise.reject(n)})}const TS=t=>t instanceof wi?t.toJSON():t;function Xo(t,e){e=e||{};const r={};function n(d,m,_){return G.isPlainObject(d)&&G.isPlainObject(m)?G.merge.call({caseless:_},d,m):G.isPlainObject(m)?G.merge({},m):G.isArray(m)?m.slice():m}function i(d,m,_){if(G.isUndefined(m)){if(!G.isUndefined(d))return n(void 0,d,_)}else return n(d,m,_)}function s(d,m){if(!G.isUndefined(m))return n(void 0,m)}function a(d,m){if(G.isUndefined(m)){if(!G.isUndefined(d))return n(void 0,d)}else return n(void 0,m)}function u(d,m,_){if(_ in e)return n(d,m);if(_ in t)return n(void 0,d)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:(d,m)=>i(TS(d),TS(m),!0)};return G.forEach(Object.keys(t).concat(Object.keys(e)),function(m){const _=c[m]||i,w=_(t[m],e[m],m);G.isUndefined(w)&&_!==u||(r[m]=w)}),r}const $I="1.2.1",H_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{H_[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const SS={};H_.transitional=function(e,r,n){function i(s,a){return"[Axios v"+$I+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,u)=>{if(e===!1)throw new Xe(i(a," has been removed"+(r?" in "+r:"")),Xe.ERR_DEPRECATED);return r&&!SS[a]&&(SS[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,u):!0}};function $4(t,e,r){if(typeof t!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const u=t[s],c=u===void 0||a(u,s,t);if(c!==!0)throw new Xe("option "+s+" must be "+c,Xe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Xe("Unknown option "+s,Xe.ERR_BAD_OPTION)}}const By={assertOptions:$4,validators:H_},Hi=By.validators;class yd{constructor(e){this.defaults=e,this.interceptors={request:new yS,response:new yS}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Xo(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&By.assertOptions(n,{silentJSONParsing:Hi.transitional(Hi.boolean),forcedJSONParsing:Hi.transitional(Hi.boolean),clarifyTimeoutError:Hi.transitional(Hi.boolean)},!1),i!==void 0&&By.assertOptions(i,{encode:Hi.function,serialize:Hi.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a;a=s&&G.merge(s.common,s[r.method]),a&&G.forEach(["delete","get","head","post","put","patch","common"],S=>{delete s[S]}),r.headers=wi.concat(a,s);const u=[];let c=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(r)===!1||(c=c&&P.synchronous,u.unshift(P.fulfilled,P.rejected))});const d=[];this.interceptors.response.forEach(function(P){d.push(P.fulfilled,P.rejected)});let m,_=0,w;if(!c){const S=[bS.bind(this),void 0];for(S.unshift.apply(S,u),S.push.apply(S,d),w=S.length,m=Promise.resolve(r);_<w;)m=m.then(S[_++],S[_++]);return m}w=u.length;let T=r;for(_=0;_<w;){const S=u[_++],P=u[_++];try{T=S(T)}catch(E){P.call(this,E);break}}try{m=bS.call(this,T)}catch(S){return Promise.reject(S)}for(_=0,w=d.length;_<w;)m=m.then(d[_++],d[_++]);return m}getUri(e){e=Xo(this.defaults,e);const r=HI(e.baseURL,e.url);return UI(r,e.params,e.paramsSerializer)}}G.forEach(["delete","get","head","options"],function(e){yd.prototype[e]=function(r,n){return this.request(Xo(n||{},{method:e,url:r,data:(n||{}).data}))}});G.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,u){return this.request(Xo(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}yd.prototype[e]=r(),yd.prototype[e+"Form"]=r(!0)});const kf=yd;class $_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(u=>{n.subscribe(u),s=u}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,u){n.reason||(n.reason=new Yh(s,a,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new $_(function(i){e=i}),cancel:e}}}const W4=$_;function j4(t){return function(r){return t.apply(null,r)}}function G4(t){return G.isObject(t)&&t.isAxiosError===!0}function WI(t){const e=new kf(t),r=CI(kf.prototype.request,e);return G.extend(r,kf.prototype,e,{allOwnKeys:!0}),G.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return WI(Xo(t,i))},r}const er=WI(z_);er.Axios=kf;er.CanceledError=Yh;er.CancelToken=W4;er.isCancel=zI;er.VERSION=$I;er.toFormData=xp;er.AxiosError=Xe;er.Cancel=er.CanceledError;er.all=function(e){return Promise.all(e)};er.spread=j4;er.isAxiosError=G4;er.mergeConfig=Xo;er.AxiosHeaders=wi;er.formToJSON=t=>VI(G.isHTMLForm(t)?new FormData(t):t);er.default=er;const Y4=er;var jI="1.13.6",ES=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Sp=Array.prototype,W_=Object.prototype,CS=typeof Symbol<"u"?Symbol.prototype:null,X4=Sp.push,Xh=Sp.slice,ch=W_.toString,q4=W_.hasOwnProperty,GI=typeof ArrayBuffer<"u",K4=typeof DataView<"u",Q4=Array.isArray,IS=Object.keys,PS=Object.create,AS=GI&&ArrayBuffer.isView,Z4=isNaN,J4=isFinite,YI=!{toString:null}.propertyIsEnumerable("toString"),OS=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],eV=Math.pow(2,53)-1;function $r(t,e){return e=e==null?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=n,t.apply(this,s)}}function Na(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function tV(t){return t===null}function XI(t){return t===void 0}function qI(t){return t===!0||t===!1||ch.call(t)==="[object Boolean]"}function rV(t){return!!(t&&t.nodeType===1)}function Er(t){var e="[object "+t+"]";return function(r){return ch.call(r)===e}}const j_=Er("String"),KI=Er("Number"),nV=Er("Date"),iV=Er("RegExp"),sV=Er("Error"),QI=Er("Symbol"),ZI=Er("ArrayBuffer");var JI=Er("Function"),aV=ES.document&&ES.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof aV!="function"&&(JI=function(t){return typeof t=="function"||!1});const kr=JI,eP=Er("Object");var tP=K4&&eP(new DataView(new ArrayBuffer(8))),G_=typeof Map<"u"&&eP(new Map),oV=Er("DataView");function lV(t){return t!=null&&kr(t.getInt8)&&ZI(t.buffer)}const _d=tP?lV:oV,Fa=Q4||Er("Array");function Os(t,e){return t!=null&&q4.call(t,e)}var Vy=Er("Arguments");(function(){Vy(arguments)||(Vy=function(t){return Os(t,"callee")})})();const Y_=Vy;function uV(t){return!QI(t)&&J4(t)&&!isNaN(parseFloat(t))}function rP(t){return KI(t)&&Z4(t)}function nP(t){return function(){return t}}function iP(t){return function(e){var r=t(e);return typeof r=="number"&&r>=0&&r<=eV}}function sP(t){return function(e){return e==null?void 0:e[t]}}const wd=sP("byteLength"),hV=iP(wd);var cV=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function fV(t){return AS?AS(t)&&!_d(t):hV(t)&&cV.test(ch.call(t))}const aP=GI?fV:nP(!1),Wr=sP("length");function dV(t){for(var e={},r=t.length,n=0;n<r;++n)e[t[n]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,t.push(i)}}}function oP(t,e){e=dV(e);var r=OS.length,n=t.constructor,i=kr(n)&&n.prototype||W_,s="constructor";for(Os(t,s)&&!e.contains(s)&&e.push(s);r--;)s=OS[r],s in t&&t[s]!==i[s]&&!e.contains(s)&&e.push(s)}function tr(t){if(!Na(t))return[];if(IS)return IS(t);var e=[];for(var r in t)Os(t,r)&&e.push(r);return YI&&oP(t,e),e}function pV(t){if(t==null)return!0;var e=Wr(t);return typeof e=="number"&&(Fa(t)||j_(t)||Y_(t))?e===0:Wr(tr(t))===0}function lP(t,e){var r=tr(e),n=r.length;if(t==null)return!n;for(var i=Object(t),s=0;s<n;s++){var a=r[s];if(e[a]!==i[a]||!(a in i))return!1}return!0}function it(t){if(t instanceof it)return t;if(!(this instanceof it))return new it(t);this._wrapped=t}it.VERSION=jI;it.prototype.value=function(){return this._wrapped};it.prototype.valueOf=it.prototype.toJSON=it.prototype.value;it.prototype.toString=function(){return String(this._wrapped)};function kS(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,wd(t))}var MS="[object DataView]";function zy(t,e,r,n){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:uP(t,e,r,n)}function uP(t,e,r,n){t instanceof it&&(t=t._wrapped),e instanceof it&&(e=e._wrapped);var i=ch.call(t);if(i!==ch.call(e))return!1;if(tP&&i=="[object Object]"&&_d(t)){if(!_d(e))return!1;i=MS}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return CS.valueOf.call(t)===CS.valueOf.call(e);case"[object ArrayBuffer]":case MS:return uP(kS(t),kS(e),r,n)}var s=i==="[object Array]";if(!s&&aP(t)){var a=wd(t);if(a!==wd(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var u=t.constructor,c=e.constructor;if(u!==c&&!(kr(u)&&u instanceof u&&kr(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var d=r.length;d--;)if(r[d]===t)return n[d]===e;if(r.push(t),n.push(e),s){if(d=t.length,d!==e.length)return!1;for(;d--;)if(!zy(t[d],e[d],r,n))return!1}else{var m=tr(t),_;if(d=m.length,tr(e).length!==d)return!1;for(;d--;)if(_=m[d],!(Os(e,_)&&zy(t[_],e[_],r,n)))return!1}return r.pop(),n.pop(),!0}function vV(t,e){return zy(t,e)}function qh(t){if(!Na(t))return[];var e=[];for(var r in t)e.push(r);return YI&&oP(t,e),e}function X_(t){var e=Wr(t);return function(r){if(r==null)return!1;var n=qh(r);if(Wr(n))return!1;for(var i=0;i<e;i++)if(!kr(r[t[i]]))return!1;return t!==fP||!kr(r[q_])}}var q_="forEach",hP="has",K_=["clear","delete"],cP=["get",hP,"set"],mV=K_.concat(q_,cP),fP=K_.concat(cP),gV=["add"].concat(K_,q_,hP);const yV=G_?X_(mV):Er("Map"),_V=G_?X_(fP):Er("WeakMap"),wV=G_?X_(gV):Er("Set"),xV=Er("WeakSet");function ml(t){for(var e=tr(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n}function bV(t){for(var e=tr(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n}function dP(t){for(var e={},r=tr(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e}function Hy(t){var e=[];for(var r in t)kr(t[r])&&e.push(r);return e.sort()}function Q_(t,e){return function(r){var n=arguments.length;if(e&&(r=Object(r)),n<2||r==null)return r;for(var i=1;i<n;i++)for(var s=arguments[i],a=t(s),u=a.length,c=0;c<u;c++){var d=a[c];(!e||r[d]===void 0)&&(r[d]=s[d])}return r}}const pP=Q_(qh),xd=Q_(tr),vP=Q_(qh,!0);function TV(){return function(){}}function mP(t){if(!Na(t))return{};if(PS)return PS(t);var e=TV();e.prototype=t;var r=new e;return e.prototype=null,r}function SV(t,e){var r=mP(t);return e&&xd(r,e),r}function EV(t){return Na(t)?Fa(t)?t.slice():pP({},t):t}function CV(t,e){return e(t),t}function gP(t){return Fa(t)?t:[t]}it.toPath=gP;function Kh(t){return it.toPath(t)}function Z_(t,e){for(var r=e.length,n=0;n<r;n++){if(t==null)return;t=t[e[n]]}return r?t:void 0}function yP(t,e,r){var n=Z_(t,Kh(e));return XI(n)?r:n}function IV(t,e){e=Kh(e);for(var r=e.length,n=0;n<r;n++){var i=e[n];if(!Os(t,i))return!1;t=t[i]}return!!r}function J_(t){return t}function fh(t){return t=xd({},t),function(e){return lP(e,t)}}function e1(t){return t=Kh(t),function(e){return Z_(e,t)}}function Qh(t,e,r){if(e===void 0)return t;switch(r??3){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,s){return t.call(e,n,i,s)};case 4:return function(n,i,s,a){return t.call(e,n,i,s,a)}}return function(){return t.apply(e,arguments)}}function _P(t,e,r){return t==null?J_:kr(t)?Qh(t,e,r):Na(t)&&!Fa(t)?fh(t):e1(t)}function t1(t,e){return _P(t,e,1/0)}it.iteratee=t1;function jr(t,e,r){return it.iteratee!==t1?it.iteratee(t,e):_P(t,e,r)}function PV(t,e,r){e=jr(e,r);for(var n=tr(t),i=n.length,s={},a=0;a<i;a++){var u=n[a];s[u]=e(t[u],u,t)}return s}function wP(){}function AV(t){return t==null?wP:function(e){return yP(t,e)}}function OV(t,e,r){var n=Array(Math.max(0,t));e=Qh(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n}function $y(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const dh=Date.now||function(){return new Date().getTime()};function xP(t){var e=function(s){return t[s]},r="(?:"+tr(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(s){return s=s==null?"":""+s,n.test(s)?s.replace(i,e):s}}const bP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},kV=xP(bP),MV=dP(bP),DV=xP(MV),RV=it.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Xm=/(.)^/,NV={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},FV=/\\|'|\r|\n|\u2028|\u2029/g;function LV(t){return"\\"+NV[t]}var UV=/^\s*(\w|\$)+\s*$/;function BV(t,e,r){!e&&r&&(e=r),e=vP({},e,it.templateSettings);var n=RegExp([(e.escape||Xm).source,(e.interpolate||Xm).source,(e.evaluate||Xm).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(n,function(d,m,_,w,T){return s+=t.slice(i,T).replace(FV,LV),i=T+d.length,m?s+=`'+
((__t=(`+m+`))==null?'':_.escape(__t))+
'`:_?s+=`'+
((__t=(`+_+`))==null?'':__t)+
'`:w&&(s+=`';
`+w+`
__p+='`),d}),s+=`';
`;var a=e.variable;if(a){if(!UV.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var u;try{u=new Function(a,"_",s)}catch(d){throw d.source=s,d}var c=function(d){return u.call(this,d,it)};return c.source="function("+a+`){
`+s+"}",c}function VV(t,e,r){e=Kh(e);var n=e.length;if(!n)return kr(r)?r.call(t):r;for(var i=0;i<n;i++){var s=t==null?void 0:t[e[i]];s===void 0&&(s=r,i=n),t=kr(s)?s.call(t):s}return t}var zV=0;function HV(t){var e=++zV+"";return t?t+e:e}function $V(t){var e=it(t);return e._chain=!0,e}function TP(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var s=mP(t.prototype),a=t.apply(s,i);return Na(a)?a:s}var gl=$r(function(t,e){var r=gl.placeholder,n=function(){for(var i=0,s=e.length,a=Array(s),u=0;u<s;u++)a[u]=e[u]===r?arguments[i++]:e[u];for(;i<arguments.length;)a.push(arguments[i++]);return TP(t,n,this,this,a)};return n});gl.placeholder=it;const SP=$r(function(t,e,r){if(!kr(t))throw new TypeError("Bind must be called on a function");var n=$r(function(i){return TP(t,n,e,this,r.concat(i))});return n}),Jr=iP(Wr);function La(t,e,r,n){if(n=n||[],!e&&e!==0)e=1/0;else if(e<=0)return n.concat(t);for(var i=n.length,s=0,a=Wr(t);s<a;s++){var u=t[s];if(Jr(u)&&(Fa(u)||Y_(u)))if(e>1)La(u,e-1,r,n),i=n.length;else for(var c=0,d=u.length;c<d;)n[i++]=u[c++];else r||(n[i++]=u)}return n}const WV=$r(function(t,e){e=La(e,!1,!1);var r=e.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=e[r];t[n]=SP(t[n],t)}return t});function jV(t,e){var r=function(n){var i=r.cache,s=""+(e?e.apply(this,arguments):n);return Os(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return r.cache={},r}const EP=$r(function(t,e,r){return setTimeout(function(){return t.apply(null,r)},e)}),GV=gl(EP,it,1);function YV(t,e,r){var n,i,s,a,u=0;r||(r={});var c=function(){u=r.leading===!1?0:dh(),n=null,a=t.apply(i,s),n||(i=s=null)},d=function(){var m=dh();!u&&r.leading===!1&&(u=m);var _=e-(m-u);return i=this,s=arguments,_<=0||_>e?(n&&(clearTimeout(n),n=null),u=m,a=t.apply(i,s),n||(i=s=null)):!n&&r.trailing!==!1&&(n=setTimeout(c,_)),a};return d.cancel=function(){clearTimeout(n),u=0,n=i=s=null},d}function XV(t,e,r){var n,i,s,a,u,c=function(){var m=dh()-i;e>m?n=setTimeout(c,e-m):(n=null,r||(a=t.apply(u,s)),n||(s=u=null))},d=$r(function(m){return u=this,s=m,i=dh(),n||(n=setTimeout(c,e),r&&(a=t.apply(u,s))),a});return d.cancel=function(){clearTimeout(n),n=s=u=null},d}function qV(t,e){return gl(e,t)}function r1(t){return function(){return!t.apply(this,arguments)}}function KV(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}}function QV(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function CP(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}}const ZV=gl(CP,2);function IP(t,e,r){e=jr(e,r);for(var n=tr(t),i,s=0,a=n.length;s<a;s++)if(i=n[s],e(t[i],i,t))return i}function PP(t){return function(e,r,n){r=jr(r,n);for(var i=Wr(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(r(e[s],s,e))return s;return-1}}const n1=PP(1),AP=PP(-1);function OP(t,e,r,n){r=jr(r,n,1);for(var i=r(e),s=0,a=Wr(t);s<a;){var u=Math.floor((s+a)/2);r(t[u])<i?s=u+1:a=u}return s}function kP(t,e,r){return function(n,i,s){var a=0,u=Wr(n);if(typeof s=="number")t>0?a=s>=0?s:Math.max(s+u,a):u=s>=0?Math.min(s+1,u):s+u+1;else if(r&&s&&u)return s=r(n,i),n[s]===i?s:-1;if(i!==i)return s=e(Xh.call(n,a,u),rP),s>=0?s+a:-1;for(s=t>0?a:u-1;s>=0&&s<u;s+=t)if(n[s]===i)return s;return-1}}const MP=kP(1,n1,OP),JV=kP(-1,AP);function Wy(t,e,r){var n=Jr(t)?n1:IP,i=n(t,e,r);if(i!==void 0&&i!==-1)return t[i]}function e6(t,e){return Wy(t,fh(e))}function Pi(t,e,r){e=Qh(e,r);var n,i;if(Jr(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var s=tr(t);for(n=0,i=s.length;n<i;n++)e(t[s[n]],s[n],t)}return t}function Ea(t,e,r){e=jr(e,r);for(var n=!Jr(t)&&tr(t),i=(n||t).length,s=Array(i),a=0;a<i;a++){var u=n?n[a]:a;s[a]=e(t[u],u,t)}return s}function DP(t){var e=function(r,n,i,s){var a=!Jr(r)&&tr(r),u=(a||r).length,c=t>0?0:u-1;for(s||(i=r[a?a[c]:c],c+=t);c>=0&&c<u;c+=t){var d=a?a[c]:c;i=n(i,r[d],d,r)}return i};return function(r,n,i,s){var a=arguments.length>=3;return e(r,Qh(n,s,4),i,a)}}const qm=DP(1),DS=DP(-1);function qo(t,e,r){var n=[];return e=jr(e,r),Pi(t,function(i,s,a){e(i,s,a)&&n.push(i)}),n}function t6(t,e,r){return qo(t,r1(jr(e)),r)}function RS(t,e,r){e=jr(e,r);for(var n=!Jr(t)&&tr(t),i=(n||t).length,s=0;s<i;s++){var a=n?n[s]:s;if(!e(t[a],a,t))return!1}return!0}function NS(t,e,r){e=jr(e,r);for(var n=!Jr(t)&&tr(t),i=(n||t).length,s=0;s<i;s++){var a=n?n[s]:s;if(e(t[a],a,t))return!0}return!1}function xi(t,e,r,n){return Jr(t)||(t=ml(t)),(typeof r!="number"||n)&&(r=0),MP(t,e,r)>=0}const r6=$r(function(t,e,r){var n,i;return kr(e)?i=e:(e=Kh(e),n=e.slice(0,-1),e=e[e.length-1]),Ea(t,function(s){var a=i;if(!a){if(n&&n.length&&(s=Z_(s,n)),s==null)return;a=s[e]}return a==null?a:a.apply(s,r)})});function i1(t,e){return Ea(t,e1(e))}function n6(t,e){return qo(t,fh(e))}function RP(t,e,r){var n=-1/0,i=-1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Jr(t)?t:ml(t);for(var u=0,c=t.length;u<c;u++)s=t[u],s!=null&&s>n&&(n=s)}else e=jr(e,r),Pi(t,function(d,m,_){a=e(d,m,_),(a>i||a===-1/0&&n===-1/0)&&(n=d,i=a)});return n}function i6(t,e,r){var n=1/0,i=1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Jr(t)?t:ml(t);for(var u=0,c=t.length;u<c;u++)s=t[u],s!=null&&s<n&&(n=s)}else e=jr(e,r),Pi(t,function(d,m,_){a=e(d,m,_),(a<i||a===1/0&&n===1/0)&&(n=d,i=a)});return n}var s6=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function NP(t){return t?Fa(t)?Xh.call(t):j_(t)?t.match(s6):Jr(t)?Ea(t,J_):ml(t):[]}function FP(t,e,r){if(e==null||r)return Jr(t)||(t=ml(t)),t[$y(t.length-1)];var n=NP(t),i=Wr(n);e=Math.max(Math.min(e,i),0);for(var s=i-1,a=0;a<e;a++){var u=$y(a,s),c=n[a];n[a]=n[u],n[u]=c}return n.slice(0,e)}function a6(t){return FP(t,1/0)}function o6(t,e,r){var n=0;return e=jr(e,r),i1(Ea(t,function(i,s,a){return{value:i,index:n++,criteria:e(i,s,a)}}).sort(function(i,s){var a=i.criteria,u=s.criteria;if(a!==u){if(a>u||a===void 0)return 1;if(a<u||u===void 0)return-1}return i.index-s.index}),"value")}function Ep(t,e){return function(r,n,i){var s=e?[[],[]]:{};return n=jr(n,i),Pi(r,function(a,u){var c=n(a,u,r);t(s,a,c)}),s}}const l6=Ep(function(t,e,r){Os(t,r)?t[r].push(e):t[r]=[e]}),u6=Ep(function(t,e,r){t[r]=e}),h6=Ep(function(t,e,r){Os(t,r)?t[r]++:t[r]=1}),c6=Ep(function(t,e,r){t[r?0:1].push(e)},!0);function f6(t){return t==null?0:Jr(t)?t.length:tr(t).length}function d6(t,e,r){return e in r}const LP=$r(function(t,e){var r={},n=e[0];if(t==null)return r;kr(n)?(e.length>1&&(n=Qh(n,e[1])),e=qh(t)):(n=d6,e=La(e,!1,!1),t=Object(t));for(var i=0,s=e.length;i<s;i++){var a=e[i],u=t[a];n(u,a,t)&&(r[a]=u)}return r}),p6=$r(function(t,e){var r=e[0],n;return kr(r)?(r=r1(r),e.length>1&&(n=e[1])):(e=Ea(La(e,!1,!1),String),r=function(i,s){return!xi(e,s)}),LP(t,r,n)});function UP(t,e,r){return Xh.call(t,0,Math.max(0,t.length-(e==null||r?1:e)))}function Km(t,e,r){return t==null||t.length<1?e==null||r?void 0:[]:e==null||r?t[0]:UP(t,t.length-e)}function Mf(t,e,r){return Xh.call(t,e==null||r?1:e)}function v6(t,e,r){return t==null||t.length<1?e==null||r?void 0:[]:e==null||r?t[t.length-1]:Mf(t,Math.max(0,t.length-e))}function m6(t){return qo(t,Boolean)}function g6(t,e){return La(t,e,!1)}const BP=$r(function(t,e){return e=La(e,!0,!0),qo(t,function(r){return!xi(e,r)})}),y6=$r(function(t,e){return BP(t,e)});function jy(t,e,r,n){qI(e)||(n=r,r=e,e=!1),r!=null&&(r=jr(r,n));for(var i=[],s=[],a=0,u=Wr(t);a<u;a++){var c=t[a],d=r?r(c,a,t):c;e&&!r?((!a||s!==d)&&i.push(c),s=d):r?xi(s,d)||(s.push(d),i.push(c)):xi(i,c)||i.push(c)}return i}const _6=$r(function(t){return jy(La(t,!0,!0))});function w6(t){for(var e=[],r=arguments.length,n=0,i=Wr(t);n<i;n++){var s=t[n];if(!xi(e,s)){var a;for(a=1;a<r&&xi(arguments[a],s);a++);a===r&&e.push(s)}}return e}function Gy(t){for(var e=t&&RP(t,Wr).length||0,r=Array(e),n=0;n<e;n++)r[n]=i1(t,n);return r}const x6=$r(Gy);function b6(t,e){for(var r={},n=0,i=Wr(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r}function T6(t,e,r){e==null&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),s=0;s<n;s++,t+=r)i[s]=t;return i}function S6(t,e){if(e==null||e<1)return[];for(var r=[],n=0,i=t.length;n<i;)r.push(Xh.call(t,n,n+=e));return r}function s1(t,e){return t._chain?it(e).chain():e}function VP(t){return Pi(Hy(t),function(e){var r=it[e]=t[e];it.prototype[e]=function(){var n=[this._wrapped];return X4.apply(n,arguments),s1(this,r.apply(it,n))}}),it}Pi(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Sp[t];it.prototype[t]=function(){var r=this._wrapped;return r!=null&&(e.apply(r,arguments),(t==="shift"||t==="splice")&&r.length===0&&delete r[0]),s1(this,r)}});Pi(["concat","join","slice"],function(t){var e=Sp[t];it.prototype[t]=function(){var r=this._wrapped;return r!=null&&(r=e.apply(r,arguments)),s1(this,r)}});const E6=Object.freeze(Object.defineProperty({__proto__:null,VERSION:jI,restArguments:$r,isObject:Na,isNull:tV,isUndefined:XI,isBoolean:qI,isElement:rV,isString:j_,isNumber:KI,isDate:nV,isRegExp:iV,isError:sV,isSymbol:QI,isArrayBuffer:ZI,isDataView:_d,isArray:Fa,isFunction:kr,isArguments:Y_,isFinite:uV,isNaN:rP,isTypedArray:aP,isEmpty:pV,isMatch:lP,isEqual:vV,isMap:yV,isWeakMap:_V,isSet:wV,isWeakSet:xV,keys:tr,allKeys:qh,values:ml,pairs:bV,invert:dP,functions:Hy,methods:Hy,extend:pP,extendOwn:xd,assign:xd,defaults:vP,create:SV,clone:EV,tap:CV,get:yP,has:IV,mapObject:PV,identity:J_,constant:nP,noop:wP,toPath:gP,property:e1,propertyOf:AV,matcher:fh,matches:fh,times:OV,random:$y,now:dh,escape:kV,unescape:DV,templateSettings:RV,template:BV,result:VV,uniqueId:HV,chain:$V,iteratee:t1,partial:gl,bind:SP,bindAll:WV,memoize:jV,delay:EP,defer:GV,throttle:YV,debounce:XV,wrap:qV,negate:r1,compose:KV,after:QV,before:CP,once:ZV,findKey:IP,findIndex:n1,findLastIndex:AP,sortedIndex:OP,indexOf:MP,lastIndexOf:JV,find:Wy,detect:Wy,findWhere:e6,each:Pi,forEach:Pi,map:Ea,collect:Ea,reduce:qm,foldl:qm,inject:qm,reduceRight:DS,foldr:DS,filter:qo,select:qo,reject:t6,every:RS,all:RS,some:NS,any:NS,contains:xi,includes:xi,include:xi,invoke:r6,pluck:i1,where:n6,max:RP,min:i6,shuffle:a6,sample:FP,sortBy:o6,groupBy:l6,indexBy:u6,countBy:h6,partition:c6,toArray:NP,size:f6,pick:LP,omit:p6,first:Km,head:Km,take:Km,initial:UP,last:v6,rest:Mf,tail:Mf,drop:Mf,compact:m6,flatten:g6,without:y6,uniq:jy,unique:jy,union:_6,intersection:w6,difference:BP,unzip:Gy,transpose:Gy,zip:x6,object:b6,range:T6,chunk:S6,mixin:VP,default:it},Symbol.toStringTag,{value:"Module"}));var bd=VP(E6);bd._=bd;class C6{constructor(){q(this,"text");q(this,"list");q(this,"counter",0);q(this,"load",async()=>{let r=(await Y4.get(window.location.href+"/data/test.txt")).data;return this.text=r,this.split(),this.list});q(this,"split",()=>{let e=this.text.split(/[\s,.()\/\\=?<>`´!"#¤%&\[\]§_:;\*'^~¨\-\+{}|]/gm).filter(n=>n.length>0).map(n=>n.toLowerCase().trim());console.log("Words is",e);let r=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]];e.forEach(n=>{switch(!0){case n.startsWith("a"):r[0].push(n);break;case n.startsWith("b"):r[1].push(n);break;case n.startsWith("c"):r[2].push(n);break;case n.startsWith("d"):r[3].push(n);break;case n.startsWith("e"):r[4].push(n);break;case n.startsWith("f"):r[5].push(n);break;case n.startsWith("g"):r[6].push(n);break;case n.startsWith("h"):r[7].push(n);break;case n.startsWith("i"):r[8].push(n);break;case n.startsWith("j"):r[9].push(n);break;case n.startsWith("k"):r[10].push(n);break;case n.startsWith("l"):r[11].push(n);break;case n.startsWith("m"):r[12].push(n);break;case n.startsWith("n"):r[13].push(n);break;case n.startsWith("o"):r[14].push(n);break;case n.startsWith("p"):r[15].push(n);break;case n.startsWith("q"):r[16].push(n);break;case n.startsWith("r"):r[17].push(n);break;case n.startsWith("s"):r[18].push(n);break;case n.startsWith("t"):r[19].push(n);break;case n.startsWith("u"):r[20].push(n);break;case n.startsWith("v"):r[21].push(n);break;case n.startsWith("w"):r[22].push(n);break;case n.startsWith("x"):r[23].push(n);break;case n.startsWith("y"):r[24].push(n);break;case n.startsWith("z"):r[25].push(n);break}}),this.list=r,console.log(this.list)});q(this,"setOrdered",e=>{this.orderedMode=e});q(this,"next",()=>{this.counter>=this.list.length-1&&(this.counter=0);let e=this.list[this.counter],r=bd.sample(e);return this.counter++,r})}}const I6=t=>new Promise(e=>setTimeout(e,t)),zP=t=>{let e=t;if(t<1e3)return t;const r=["","k","m","b","t"],n=Math.floor((""+t).length/3);let i="";for(var s=2;s>=1;s--){i=parseFloat((n!=0?t/Math.pow(1e3,n):t).toPrecision(s));var a=(i+"").replace(/[^a-zA-Z 0-9]+/g,"");if(a.length<=2)break}return i%1!=0&&(i=i.toFixed(1)),e=i+r[n],e},P6=(t,e)=>t.length>e?t.substr(0,e-1)+"...":t,FS=.475,A6=4,O6=.025;class k6{constructor(){q(this,"maxVelocity",A6);q(this,"minVelocity",FS);q(this,"velocity",FS);q(this,"wave",0);q(this,"calculate",e=>this._hasReachedMaximumVelocity()?this.maxVelocity:(this.wave!=e&&(this.velocity+=O6,this.wave=e),console.log(this.velocity),this.velocity));q(this,"_hasReachedMaximumVelocity",()=>this.velocity>=this.maxVelocity)}}let Ur,LS,US,Df,Td=!1,Pu=[],Gi=[],Rf=!1,HP=!1,a1=0,Sd=0,ph=0,vh=0,mh=0,M6=new k6;const D6=async(t,e)=>{for(let r=1;r<=t;r++){let n=Pu.next();for(;!n;)n=Pu.next();Ko.add(new RB(n,Df,e,M6)),r%3===0&&await I6(1e3)}},R6=()=>{HP||(console.log("Setting up events"),window.addEventListener("keydown",t=>{Rf||Gi.forEach(e=>{e.onEvent("keydown",t)})}),et.on("enemyDeath",()=>{ph++}),et.on("enemyTargeted",t=>{Ko.remove(t),Ko.add(t)}),et.on("shotFired",t=>{t&&mh++,vh++}),et.on("playerDeath",()=>{Td||(Td=!0,Sd=Date.now(),et.emit("gameOver",{waveStart:a1,waveEnd:Sd,enemiesKilled:ph,shotsFired:vh,shotsMissed:mh}))}))},N6=t=>{if(Td){Ur.ticker.stop();return}if(Gi.forEach(e=>{e.onUpdate(t)}),Gi.forEach(e=>{e.draw(t)}),!Ko.find("enemy").length){Sd=Date.now(),et.emit("waveEnd",{waveStart:a1,waveEnd:Sd,enemiesKilled:ph,shotsFired:vh,shotsMissed:mh}),Ur.ticker.stop();return}},Ko={start:async t=>{Ur=new jh({width:500,height:800,antialias:!0,autoResize:!0,backgroundColor:1777702,resolution:window.devicePixelRatio}),document.body.querySelector(".grid").appendChild(Ur.view),LS=Ur.screen.width,US=Ur.screen.height,Pu=new C6,await Pu.load(),Df=new DB(t,LS/2,US-60),Ko.add(Df),R6(),Ur.ticker.stop(),Ur.ticker.add(N6)},nextWave:t=>{a1=Date.now(),vh=0,mh=0,ph=0;let e=3,r=3;D6(e+Math.ceil(t/4)*r,t),Ur.ticker.start()},add:t=>{Gi.push(t),Ur.stage.addChild(t.container)},find:t=>Gi.filter(e=>e.tag===t),remove:t=>{Ur.stage.removeChild(t.container);const e=Gi.indexOf(t);e>-1&&Gi.splice(e,1)},pause:t=>{Rf=t,Rf?Ur.ticker.stop():Ur.ticker.start()},reset:()=>{HP=!0,Rf=!1,vh=0,mh=0,ph=0,Td=!1,Ur.ticker.destroy(),Pu=[],Gi=[],Df=null}},Qo=Ko;class F6 extends fr.exports.Component{constructor(e){super(e)}render(){const{hidden:e}=this.props,r="background"+(e?" hidden":"");return Et("div",{className:r,children:[ve("svg",{className:"front",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",children:ve("path",{fill:"#0099ff",fillOpacity:"1",d:"M0,128L34.3,112C68.6,96,137,64,206,58.7C274.3,53,343,75,411,112C480,149,549,203,617,224C685.7,245,754,235,823,224C891.4,213,960,203,1029,218.7C1097.1,235,1166,277,1234,277.3C1302.9,277,1371,235,1406,213.3L1440,192L1440,320L1405.7,320C1371.4,320,1303,320,1234,320C1165.7,320,1097,320,1029,320C960,320,891,320,823,320C754.3,320,686,320,617,320C548.6,320,480,320,411,320C342.9,320,274,320,206,320C137.1,320,69,320,34,320L0,320Z"})}),ve("div",{className:"front filler"}),ve("svg",{className:"back",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",children:ve("path",{fill:"#0099ff",fillOpacity:"0.6",d:"M0,256L34.3,213.3C68.6,171,137,85,206,58.7C274.3,32,343,64,411,101.3C480,139,549,181,617,213.3C685.7,245,754,267,823,272C891.4,277,960,267,1029,224C1097.1,181,1166,107,1234,96C1302.9,85,1371,139,1406,165.3L1440,192L1440,320L1405.7,320C1371.4,320,1303,320,1234,320C1165.7,320,1097,320,1029,320C960,320,891,320,823,320C754.3,320,686,320,617,320C548.6,320,480,320,411,320C342.9,320,274,320,206,320C137.1,320,69,320,34,320L0,320Z"})}),ve("div",{className:"back filler"}),ve("svg",{className:"bumpy",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",children:ve("path",{fill:"#0099ff",fillOpacity:"0.2",d:"M0,192L34.3,181.3C68.6,171,137,149,206,149.3C274.3,149,343,171,411,160C480,149,549,107,617,90.7C685.7,75,754,85,823,90.7C891.4,96,960,96,1029,112C1097.1,128,1166,160,1234,149.3C1302.9,139,1371,85,1406,58.7L1440,32L1440,320L1405.7,320C1371.4,320,1303,320,1234,320C1165.7,320,1097,320,1029,320C960,320,891,320,823,320C754.3,320,686,320,617,320C548.6,320,480,320,411,320C342.9,320,274,320,206,320C137.1,320,69,320,34,320L0,320Z"})}),ve("div",{className:"bumpy filler"})]})}}class zn extends fr.exports.Component{constructor(r){super(r);q(this,"_handleKeyDown",r=>{let n=r.key,i=this.props.hint;i&&(i.toLowerCase()==="ret"&&(i="Enter"),i.toLowerCase()==="esc"&&(i="Escape"),n.toLowerCase()===i.toLowerCase()&&(r.preventDefault(),r.stopPropagation(),this.props.onClick()))})}componentDidMount(){document.addEventListener("keydown",this._handleKeyDown,!1)}componentWillUnmount(){document.removeEventListener("keydown",this._handleKeyDown,!1)}render(){const{hint:r,text:n,onClick:i,mini:s,disabled:a,danger:u}=this.props;let c=r?"":"rounded",d="buttonContainer"+(u?" danger":"")+(s?" sub":"")+(a?" disabled":"");return Et("div",{className:d,children:[ve("div",{className:c,onClick:a?()=>{}:i,children:a||n}),r&&ve("div",{className:"shortcutHint",children:r})]})}}var $P={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},o1={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},L6=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Ed={CSS:{},springs:{}};function Hn(t,e,r){return Math.min(Math.max(t,e),r)}function Au(t,e){return t.indexOf(e)>-1}function Qm(t,e){return t.apply(null,e)}var xe={arr:function(t){return Array.isArray(t)},obj:function(t){return Au(Object.prototype.toString.call(t),"Object")},pth:function(t){return xe.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||xe.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t>"u"},nil:function(t){return xe.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return xe.hex(t)||xe.rgb(t)||xe.hsl(t)},key:function(t){return!$P.hasOwnProperty(t)&&!o1.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function WP(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(r){return parseFloat(r)}):[]}function jP(t,e){var r=WP(t),n=Hn(xe.und(r[0])?1:r[0],.1,100),i=Hn(xe.und(r[1])?100:r[1],.1,100),s=Hn(xe.und(r[2])?10:r[2],.1,100),a=Hn(xe.und(r[3])?0:r[3],.1,100),u=Math.sqrt(i/n),c=s/(2*Math.sqrt(i*n)),d=c<1?u*Math.sqrt(1-c*c):0,m=1,_=c<1?(c*u+-a)/d:-a+u;function w(S){var P=e?e*S/1e3:S;return c<1?P=Math.exp(-P*c*u)*(m*Math.cos(d*P)+_*Math.sin(d*P)):P=(m+_*P)*Math.exp(-P*u),S===0||S===1?S:1-P}function T(){var S=Ed.springs[t];if(S)return S;for(var P=1/6,E=0,A=0;;)if(E+=P,w(E)===1){if(A++,A>=16)break}else A=0;var O=E*P*1e3;return Ed.springs[t]=O,O}return e?w:T}function U6(t){return t===void 0&&(t=10),function(e){return Math.ceil(Hn(e,1e-6,1)*t)*(1/t)}}var B6=function(){var t=11,e=1/(t-1);function r(m,_){return 1-3*_+3*m}function n(m,_){return 3*_-6*m}function i(m){return 3*m}function s(m,_,w){return((r(_,w)*m+n(_,w))*m+i(_))*m}function a(m,_,w){return 3*r(_,w)*m*m+2*n(_,w)*m+i(_)}function u(m,_,w,T,S){var P,E,A=0;do E=_+(w-_)/2,P=s(E,T,S)-m,P>0?w=E:_=E;while(Math.abs(P)>1e-7&&++A<10);return E}function c(m,_,w,T){for(var S=0;S<4;++S){var P=a(_,w,T);if(P===0)return _;var E=s(_,w,T)-m;_-=E/P}return _}function d(m,_,w,T){if(!(0<=m&&m<=1&&0<=w&&w<=1))return;var S=new Float32Array(t);if(m!==_||w!==T)for(var P=0;P<t;++P)S[P]=s(P*e,m,w);function E(A){for(var O=0,M=1,R=t-1;M!==R&&S[M]<=A;++M)O+=e;--M;var V=(A-S[M])/(S[M+1]-S[M]),L=O+V*e,W=a(L,m,w);return W>=.001?c(A,L,m,w):W===0?L:u(A,O,O+e,m,w)}return function(A){return m===_&&w===T||A===0||A===1?A:s(E(A),_,T)}}return d}(),GP=function(){var t={linear:function(){return function(n){return n}}},e={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var i,s=4;n<((i=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((i*3-2)/22-n,2)}},Elastic:function(n,i){n===void 0&&(n=1),i===void 0&&(i=.5);var s=Hn(n,1,10),a=Hn(i,.1,2);return function(u){return u===0||u===1?u:-s*Math.pow(2,10*(u-1))*Math.sin((u-1-a/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/a)}}},r=["Quad","Cubic","Quart","Quint","Expo"];return r.forEach(function(n,i){e[n]=function(){return function(s){return Math.pow(s,i+2)}}}),Object.keys(e).forEach(function(n){var i=e[n];t["easeIn"+n]=i,t["easeOut"+n]=function(s,a){return function(u){return 1-i(s,a)(1-u)}},t["easeInOut"+n]=function(s,a){return function(u){return u<.5?i(s,a)(u*2)/2:1-i(s,a)(u*-2+2)/2}},t["easeOutIn"+n]=function(s,a){return function(u){return u<.5?(1-i(s,a)(1-u*2))/2:(i(s,a)(u*2-1)+1)/2}}}),t}();function l1(t,e){if(xe.fnc(t))return t;var r=t.split("(")[0],n=GP[r],i=WP(t);switch(r){case"spring":return jP(t,e);case"cubicBezier":return Qm(B6,i);case"steps":return Qm(U6,i);default:return Qm(n,i)}}function YP(t){try{var e=document.querySelectorAll(t);return e}catch{return}}function Cp(t,e){for(var r=t.length,n=arguments.length>=2?arguments[1]:void 0,i=[],s=0;s<r;s++)if(s in t){var a=t[s];e.call(n,a,s,t)&&i.push(a)}return i}function Ip(t){return t.reduce(function(e,r){return e.concat(xe.arr(r)?Ip(r):r)},[])}function BS(t){return xe.arr(t)?t:(xe.str(t)&&(t=YP(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function u1(t,e){return t.some(function(r){return r===e})}function h1(t){var e={};for(var r in t)e[r]=t[r];return e}function Yy(t,e){var r=h1(t);for(var n in t)r[n]=e.hasOwnProperty(n)?e[n]:t[n];return r}function Pp(t,e){var r=h1(t);for(var n in e)r[n]=xe.und(t[n])?e[n]:t[n];return r}function V6(t){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?"rgba("+e[1]+",1)":t}function z6(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=t.replace(e,function(u,c,d,m){return c+c+d+d+m+m}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),i=parseInt(n[1],16),s=parseInt(n[2],16),a=parseInt(n[3],16);return"rgba("+i+","+s+","+a+",1)"}function H6(t){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),r=parseInt(e[1],10)/360,n=parseInt(e[2],10)/100,i=parseInt(e[3],10)/100,s=e[4]||1;function a(w,T,S){return S<0&&(S+=1),S>1&&(S-=1),S<1/6?w+(T-w)*6*S:S<1/2?T:S<2/3?w+(T-w)*(2/3-S)*6:w}var u,c,d;if(n==0)u=c=d=i;else{var m=i<.5?i*(1+n):i+n-i*n,_=2*i-m;u=a(_,m,r+1/3),c=a(_,m,r),d=a(_,m,r-1/3)}return"rgba("+u*255+","+c*255+","+d*255+","+s+")"}function $6(t){if(xe.rgb(t))return V6(t);if(xe.hex(t))return z6(t);if(xe.hsl(t))return H6(t)}function bi(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function W6(t){if(Au(t,"translate")||t==="perspective")return"px";if(Au(t,"rotate")||Au(t,"skew"))return"deg"}function Xy(t,e){return xe.fnc(t)?t(e.target,e.id,e.total):t}function $n(t,e){return t.getAttribute(e)}function c1(t,e,r){var n=bi(e);if(u1([r,"deg","rad","turn"],n))return e;var i=Ed.CSS[e+r];if(!xe.und(i))return i;var s=100,a=document.createElement(t.tagName),u=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;u.appendChild(a),a.style.position="absolute",a.style.width=s+r;var c=s/a.offsetWidth;u.removeChild(a);var d=c*parseFloat(e);return Ed.CSS[e+r]=d,d}function XP(t,e,r){if(e in t.style){var n=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=t.style[e]||getComputedStyle(t).getPropertyValue(n)||"0";return r?c1(t,i,r):i}}function f1(t,e){if(xe.dom(t)&&!xe.inp(t)&&(!xe.nil($n(t,e))||xe.svg(t)&&t[e]))return"attribute";if(xe.dom(t)&&u1(L6,e))return"transform";if(xe.dom(t)&&e!=="transform"&&XP(t,e))return"css";if(t[e]!=null)return"object"}function qP(t){if(xe.dom(t)){for(var e=t.style.transform||"",r=/(\w+)\(([^)]*)\)/g,n=new Map,i;i=r.exec(e);)n.set(i[1],i[2]);return n}}function j6(t,e,r,n){var i=Au(e,"scale")?1:0+W6(e),s=qP(t).get(e)||i;return r&&(r.transforms.list.set(e,s),r.transforms.last=e),n?c1(t,s,n):s}function d1(t,e,r,n){switch(f1(t,e)){case"transform":return j6(t,e,n,r);case"css":return XP(t,e,r);case"attribute":return $n(t,e);default:return t[e]||0}}function p1(t,e){var r=/^(\*=|\+=|-=)/.exec(t);if(!r)return t;var n=bi(t)||0,i=parseFloat(e),s=parseFloat(t.replace(r[0],""));switch(r[0][0]){case"+":return i+s+n;case"-":return i-s+n;case"*":return i*s+n}}function KP(t,e){if(xe.col(t))return $6(t);if(/\s/g.test(t))return t;var r=bi(t),n=r?t.substr(0,t.length-r.length):t;return e?n+e:n}function v1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function G6(t){return Math.PI*2*$n(t,"r")}function Y6(t){return $n(t,"width")*2+$n(t,"height")*2}function X6(t){return v1({x:$n(t,"x1"),y:$n(t,"y1")},{x:$n(t,"x2"),y:$n(t,"y2")})}function QP(t){for(var e=t.points,r=0,n,i=0;i<e.numberOfItems;i++){var s=e.getItem(i);i>0&&(r+=v1(n,s)),n=s}return r}function q6(t){var e=t.points;return QP(t)+v1(e.getItem(e.numberOfItems-1),e.getItem(0))}function ZP(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return G6(t);case"rect":return Y6(t);case"line":return X6(t);case"polyline":return QP(t);case"polygon":return q6(t)}}function K6(t){var e=ZP(t);return t.setAttribute("stroke-dasharray",e),e}function Q6(t){for(var e=t.parentNode;xe.svg(e)&&xe.svg(e.parentNode);)e=e.parentNode;return e}function JP(t,e){var r=e||{},n=r.el||Q6(t),i=n.getBoundingClientRect(),s=$n(n,"viewBox"),a=i.width,u=i.height,c=r.viewBox||(s?s.split(" "):[0,0,a,u]);return{el:n,viewBox:c,x:c[0]/1,y:c[1]/1,w:a,h:u,vW:c[2],vH:c[3]}}function Z6(t,e){var r=xe.str(t)?YP(t)[0]:t,n=e||100;return function(i){return{property:i,el:r,svg:JP(r),totalLength:ZP(r)*(n/100)}}}function J6(t,e,r){function n(m){m===void 0&&(m=0);var _=e+m>=1?e+m:0;return t.el.getPointAtLength(_)}var i=JP(t.el,t.svg),s=n(),a=n(-1),u=n(1),c=r?1:i.w/i.vW,d=r?1:i.h/i.vH;switch(t.property){case"x":return(s.x-i.x)*c;case"y":return(s.y-i.y)*d;case"angle":return Math.atan2(u.y-a.y,u.x-a.x)*180/Math.PI}}function VS(t,e){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=KP(xe.pth(t)?t.totalLength:t,e)+"";return{original:n,numbers:n.match(r)?n.match(r).map(Number):[0],strings:xe.str(t)||e?n.split(r):[]}}function m1(t){var e=t?Ip(xe.arr(t)?t.map(BS):BS(t)):[];return Cp(e,function(r,n,i){return i.indexOf(r)===n})}function eA(t){var e=m1(t);return e.map(function(r,n){return{target:r,id:n,total:e.length,transforms:{list:qP(r)}}})}function ez(t,e){var r=h1(e);if(/^spring/.test(r.easing)&&(r.duration=jP(r.easing)),xe.arr(t)){var n=t.length,i=n===2&&!xe.obj(t[0]);i?t={value:t}:xe.fnc(e.duration)||(r.duration=e.duration/n)}var s=xe.arr(t)?t:[t];return s.map(function(a,u){var c=xe.obj(a)&&!xe.pth(a)?a:{value:a};return xe.und(c.delay)&&(c.delay=u?0:e.delay),xe.und(c.endDelay)&&(c.endDelay=u===s.length-1?e.endDelay:0),c}).map(function(a){return Pp(a,r)})}function tz(t){for(var e=Cp(Ip(t.map(function(s){return Object.keys(s)})),function(s){return xe.key(s)}).reduce(function(s,a){return s.indexOf(a)<0&&s.push(a),s},[]),r={},n=function(s){var a=e[s];r[a]=t.map(function(u){var c={};for(var d in u)xe.key(d)?d==a&&(c.value=u[d]):c[d]=u[d];return c})},i=0;i<e.length;i++)n(i);return r}function rz(t,e){var r=[],n=e.keyframes;n&&(e=Pp(tz(n),e));for(var i in e)xe.key(i)&&r.push({name:i,tweens:ez(e[i],t)});return r}function nz(t,e){var r={};for(var n in t){var i=Xy(t[n],e);xe.arr(i)&&(i=i.map(function(s){return Xy(s,e)}),i.length===1&&(i=i[0])),r[n]=i}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function iz(t,e){var r;return t.tweens.map(function(n){var i=nz(n,e),s=i.value,a=xe.arr(s)?s[1]:s,u=bi(a),c=d1(e.target,t.name,u,e),d=r?r.to.original:c,m=xe.arr(s)?s[0]:d,_=bi(m)||bi(c),w=u||_;return xe.und(a)&&(a=d),i.from=VS(m,w),i.to=VS(p1(a,m),w),i.start=r?r.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=l1(i.easing,i.duration),i.isPath=xe.pth(s),i.isPathTargetInsideSVG=i.isPath&&xe.svg(e.target),i.isColor=xe.col(i.from.original),i.isColor&&(i.round=1),r=i,i})}var tA={css:function(t,e,r){return t.style[e]=r},attribute:function(t,e,r){return t.setAttribute(e,r)},object:function(t,e,r){return t[e]=r},transform:function(t,e,r,n,i){if(n.list.set(e,r),e===n.last||i){var s="";n.list.forEach(function(a,u){s+=u+"("+a+") "}),t.style.transform=s}}};function rA(t,e){var r=eA(t);r.forEach(function(n){for(var i in e){var s=Xy(e[i],n),a=n.target,u=bi(s),c=d1(a,i,u,n),d=u||bi(c),m=p1(KP(s,d),c),_=f1(a,i);tA[_](a,i,m,n.transforms,!0)}})}function sz(t,e){var r=f1(t.target,e.name);if(r){var n=iz(e,t),i=n[n.length-1];return{type:r,property:e.name,animatable:t,tweens:n,duration:i.end,delay:n[0].delay,endDelay:i.endDelay}}}function az(t,e){return Cp(Ip(t.map(function(r){return e.map(function(n){return sz(r,n)})})),function(r){return!xe.und(r)})}function nA(t,e){var r=t.length,n=function(s){return s.timelineOffset?s.timelineOffset:0},i={};return i.duration=r?Math.max.apply(Math,t.map(function(s){return n(s)+s.duration})):e.duration,i.delay=r?Math.min.apply(Math,t.map(function(s){return n(s)+s.delay})):e.delay,i.endDelay=r?i.duration-Math.max.apply(Math,t.map(function(s){return n(s)+s.duration-s.endDelay})):e.endDelay,i}var zS=0;function oz(t){var e=Yy($P,t),r=Yy(o1,t),n=rz(r,t),i=eA(t.targets),s=az(i,n),a=nA(s,r),u=zS;return zS++,Pp(e,{id:u,children:[],animatables:i,animations:s,duration:a.duration,delay:a.delay,endDelay:a.endDelay})}var yn=[],iA=function(){var t;function e(){!t&&(!HS()||!It.suspendWhenDocumentHidden)&&yn.length>0&&(t=requestAnimationFrame(r))}function r(i){for(var s=yn.length,a=0;a<s;){var u=yn[a];u.paused?(yn.splice(a,1),s--):(u.tick(i),a++)}t=a>0?requestAnimationFrame(r):void 0}function n(){It.suspendWhenDocumentHidden&&(HS()?t=cancelAnimationFrame(t):(yn.forEach(function(i){return i._onDocumentVisibility()}),iA()))}return typeof document<"u"&&document.addEventListener("visibilitychange",n),e}();function HS(){return!!document&&document.hidden}function It(t){t===void 0&&(t={});var e=0,r=0,n=0,i,s=0,a=null;function u(O){var M=window.Promise&&new Promise(function(R){return a=R});return O.finished=M,M}var c=oz(t);u(c);function d(){var O=c.direction;O!=="alternate"&&(c.direction=O!=="normal"?"normal":"reverse"),c.reversed=!c.reversed,i.forEach(function(M){return M.reversed=c.reversed})}function m(O){return c.reversed?c.duration-O:O}function _(){e=0,r=m(c.currentTime)*(1/It.speed)}function w(O,M){M&&M.seek(O-M.timelineOffset)}function T(O){if(c.reversePlayback)for(var R=s;R--;)w(O,i[R]);else for(var M=0;M<s;M++)w(O,i[M])}function S(O){for(var M=0,R=c.animations,V=R.length;M<V;){var L=R[M],W=L.animatable,j=L.tweens,U=j.length-1,H=j[U];U&&(H=Cp(j,function(Pe){return O<Pe.end})[0]||H);for(var J=Hn(O-H.start-H.delay,0,H.duration)/H.duration,se=isNaN(J)?1:H.easing(J),te=H.to.strings,Le=H.round,ae=[],le=H.to.numbers.length,re=void 0,Je=0;Je<le;Je++){var dt=void 0,ue=H.to.numbers[Je],$=H.from.numbers[Je]||0;H.isPath?dt=J6(H.value,se*ue,H.isPathTargetInsideSVG):dt=$+se*(ue-$),Le&&(H.isColor&&Je>2||(dt=Math.round(dt*Le)/Le)),ae.push(dt)}var X=te.length;if(!X)re=ae[0];else{re=te[0];for(var ne=0;ne<X;ne++){te[ne];var we=te[ne+1],ie=ae[ne];isNaN(ie)||(we?re+=ie+we:re+=ie+" ")}}tA[L.type](W.target,L.property,re,W.transforms),L.currentValue=re,M++}}function P(O){c[O]&&!c.passThrough&&c[O](c)}function E(){c.remaining&&c.remaining!==!0&&c.remaining--}function A(O){var M=c.duration,R=c.delay,V=M-c.endDelay,L=m(O);c.progress=Hn(L/M*100,0,100),c.reversePlayback=L<c.currentTime,i&&T(L),!c.began&&c.currentTime>0&&(c.began=!0,P("begin")),!c.loopBegan&&c.currentTime>0&&(c.loopBegan=!0,P("loopBegin")),L<=R&&c.currentTime!==0&&S(0),(L>=V&&c.currentTime!==M||!M)&&S(M),L>R&&L<V?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,P("changeBegin")),P("change"),S(L)):c.changeBegan&&(c.changeCompleted=!0,c.changeBegan=!1,P("changeComplete")),c.currentTime=Hn(L,0,M),c.began&&P("update"),O>=M&&(r=0,E(),c.remaining?(e=n,P("loopComplete"),c.loopBegan=!1,c.direction==="alternate"&&d()):(c.paused=!0,c.completed||(c.completed=!0,P("loopComplete"),P("complete"),!c.passThrough&&"Promise"in window&&(a(),u(c)))))}return c.reset=function(){var O=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.loopBegan=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed=O==="reverse",c.remaining=c.loop,i=c.children,s=i.length;for(var M=s;M--;)c.children[M].reset();(c.reversed&&c.loop!==!0||O==="alternate"&&c.loop===1)&&c.remaining++,S(c.reversed?c.duration:0)},c._onDocumentVisibility=_,c.set=function(O,M){return rA(O,M),c},c.tick=function(O){n=O,e||(e=n),A((n+(r-e))*It.speed)},c.seek=function(O){A(m(O))},c.pause=function(){c.paused=!0,_()},c.play=function(){c.paused&&(c.completed&&c.reset(),c.paused=!1,yn.push(c),_(),iA())},c.reverse=function(){d(),c.completed=!c.reversed,_()},c.restart=function(){c.reset(),c.play()},c.remove=function(O){var M=m1(O);sA(M,c)},c.reset(),c.autoplay&&c.play(),c}function $S(t,e){for(var r=e.length;r--;)u1(t,e[r].animatable.target)&&e.splice(r,1)}function sA(t,e){var r=e.animations,n=e.children;$S(t,r);for(var i=n.length;i--;){var s=n[i],a=s.animations;$S(t,a),!a.length&&!s.children.length&&n.splice(i,1)}!r.length&&!n.length&&e.pause()}function lz(t){for(var e=m1(t),r=yn.length;r--;){var n=yn[r];sA(e,n)}}function uz(t,e){e===void 0&&(e={});var r=e.direction||"normal",n=e.easing?l1(e.easing):null,i=e.grid,s=e.axis,a=e.from||0,u=a==="first",c=a==="center",d=a==="last",m=xe.arr(t),_=parseFloat(m?t[0]:t),w=m?parseFloat(t[1]):0,T=bi(m?t[1]:t)||0,S=e.start||0+(m?_:0),P=[],E=0;return function(A,O,M){if(u&&(a=0),c&&(a=(M-1)/2),d&&(a=M-1),!P.length){for(var R=0;R<M;R++){if(!i)P.push(Math.abs(a-R));else{var V=c?(i[0]-1)/2:a%i[0],L=c?(i[1]-1)/2:Math.floor(a/i[0]),W=R%i[0],j=Math.floor(R/i[0]),U=V-W,H=L-j,J=Math.sqrt(U*U+H*H);s==="x"&&(J=-U),s==="y"&&(J=-H),P.push(J)}E=Math.max.apply(Math,P)}n&&(P=P.map(function(te){return n(te/E)*E})),r==="reverse"&&(P=P.map(function(te){return s?te<0?te*-1:-te:Math.abs(E-te)}))}var se=m?(w-_)/E:_;return S+se*(Math.round(P[O]*100)/100)+T}}function hz(t){t===void 0&&(t={});var e=It(t);return e.duration=0,e.add=function(r,n){var i=yn.indexOf(e),s=e.children;i>-1&&yn.splice(i,1);function a(w){w.passThrough=!0}for(var u=0;u<s.length;u++)a(s[u]);var c=Pp(r,Yy(o1,t));c.targets=c.targets||t.targets;var d=e.duration;c.autoplay=!1,c.direction=e.direction,c.timelineOffset=xe.und(n)?d:p1(n,d),a(e),e.seek(c.timelineOffset);var m=It(c);a(m),s.push(m);var _=nA(s,t);return e.delay=_.delay,e.endDelay=_.endDelay,e.duration=_.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}It.version="3.2.1";It.speed=1;It.suspendWhenDocumentHidden=!0;It.running=yn;It.remove=lz;It.get=d1;It.set=rA;It.convertPx=c1;It.path=Z6;It.setDashoffset=K6;It.stagger=uz;It.timeline=hz;It.easing=l1;It.penner=GP;It.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};function aA(){return(aA=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function cz(t){const e=[];return oA(t,e),e}function oA(t,e){for(let r=0;r<t.length;r++){const n=t[r];Array.isArray(n)?oA(n,e):e.push(n)}}function qy(t){const e=fr.exports.useRef([]),r=fr.exports.useRef([]),n=fr.exports.useRef([]),i=fr.exports.useRef(new Set),s=()=>{for(let d of e.current)d.completed&&(e.current=e.current.filter(m=>m!=d));r.current=r.current.filter(d=>d!=null&&d!=null),n.current=n.current.filter(d=>d&&d.current!=null)},a=fr.exports.useCallback(()=>{(d=>{s(),r.current.length>0&&It.remove(r),r.current=[];for(let _ of n.current)_.current&&!i.current.has(_.current)&&r.current.push(_.current);const m=aA({},d,{targets:r.current,complete:_=>{d.complete&&d.complete(_),_.animatables.map(w=>i.current.add(w.target)),s()}});delete m.children,e.current.push(It(m))})(t)},[t]);fr.exports.useEffect(()=>{a()},[a]);const u=n.current;let c=Array.isArray(t.children)?t.children:[t.children];return c=cz(c),ve(fr.exports.Fragment,{children:c.map((d,m)=>(u.push(fr.exports.createRef()),ve(t.component?t.component:"div",Object.assign({ref:u[u.length-1]},{children:d}),`__anime__${m}`)))},void 0)}let fz={scale:[.9,1]};const dz={default:t=>ve(qy,{...fz,children:t})};class Ua extends fr.exports.Component{constructor(r){super(r);q(this,"smoothly",r=>dz.default(r));this.state={}}}class pz extends Ua{constructor(r){super(r);q(this,"unpauseGame",()=>{et.emit("unpause")});q(this,"restartGame",()=>{et.emit("restartGame")})}render(){return this.smoothly(Et("div",{className:"pauseMenu menu",children:[ve("h1",{className:"pauseHeader header",children:"Paused"}),ve(zn,{hint:"esc",text:"Continue",onClick:this.unpauseGame}),ve(zn,{danger:!0,text:"Back to Menu",onClick:this.restartGame})]}))}}class vz extends Ua{constructor(r){super(r);q(this,"startGame",()=>{et.emit("gameStarted")});q(this,"openSettings",()=>{et.emit("settingsOpened")});q(this,"openLeaderboard",()=>{et.emit("leaderboardOpened")})}render(){const{playerName:r,playerSignature:n}=this.props;return this.smoothly(Et("div",{className:"startMenu menu",children:[Et("header",{children:[ve("h1",{className:"startHeader header",children:"XTYPE"}),Et("div",{className:"username",children:["Playing as ",r]})]}),ve(zn,{hint:"P",text:"Singleplayer",onClick:this.startGame,disabled:(!r||!n)&&"Update settings to play"}),ve(zn,{disabled:"multiplayer is in development",hint:"M",text:"Multiplayer",onClick:()=>console.log("Multiplayer is WIP")}),ve("div",{className:"spacer"}),ve(zn,{mini:!0,hint:"S",text:"Settings",onClick:this.openSettings}),ve(zn,{mini:!0,hint:"L",text:"Leaderboard",onClick:this.openLeaderboard})]}))}}class mz extends Ua{constructor(r){super(r);q(this,"handleFocus",r=>r.target.select());q(this,"handleNameChange",r=>{r.stopPropagation(),r.preventDefault(),this.setState({playerName:r.target.value},()=>{this.updateShip()})});q(this,"handleSignatureChange",r=>{r.stopPropagation(),r.preventDefault(),this.setState({playerSignature:r.target.value})});q(this,"updateShip",()=>{this.setState(r=>({playerShip:kn(r.playerName,{size:200})}))});q(this,"saveSettings",()=>{const{playerName:r,playerSignature:n}=this.state;et.emit("settingsSaved",r,n)});this.state={playerName:r.playerName,playerSignature:r.playerSignature,playerShip:""},this.changed=!1}componentDidMount(){this.updateShip(),this.changed=!0}render(){const{playerShip:r,playerName:n,playerSignature:i}=this.state;let s=Et("div",{className:"settingsMenu menu",children:[ve("div",{className:"settingsHeader",children:ve("img",{src:r,alt:"Visual representation of the player ship"})}),ve("input",{type:"text",placeholder:"input ship name",defaultValue:n,onChange:this.handleNameChange,onFocus:this.handleFocus,required:!0,autoFocus:!0}),ve("input",{type:"password",placeholder:"input unique signature",defaultValue:i,onChange:this.handleSignatureChange,onFocus:this.handleFocus,required:!0}),ve("div",{className:"signature-description-text",children:"identification on the global leaderboard (keep this to yourself)"}),ve(zn,{text:"Save",hint:"ret",onClick:this.saveSettings,disabled:(!n||!i)&&"fill in all fields to continue"})]});return this.changed?s:this.smoothly(s)}}const sf=window.localStorage,Zi={set:(t,e)=>{sf.setItem(t,e)},get:t=>sf.getItem(t),del:t=>{sf.removeItem(t)},push:(t,e)=>{let r=get(t);r&&(r=JSON.parse(r)),typeof r!="object"&&(r=[]),r.push(e),set(t,JSON.stringify(r))},pop:t=>{let e=get(t);if(e&&(e=JSON.parse(e)),typeof e!="object")return null;let r=e.pop();return set(t,JSON.stringify(e)),r},first:t=>{let e=get(t);return e?typeof e!="object"&&value.constructor!==Array?e:e[0]:null},last:t=>{let e=get(t);return e?typeof e!="object"&&value.constructor!==Array?e:e[e.length-1]:null},exists:t=>!!sf.getItem(t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},gz=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],u=t[r++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},uA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,m=s>>2,_=(s&3)<<4|u>>4;let w=(u&15)<<2|d>>6,T=d&63;c||(T=64,a||(w=64)),n.push(r[m],r[_],r[w],r[T])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const _=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||u==null||d==null||_==null)throw Error();const w=s<<2|u>>4;if(n.push(w),d!==64){const T=u<<4&240|d>>2;if(n.push(T),_!==64){const S=d<<6&192|_;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},yz=function(t){const e=lA(t);return uA.encodeByteArray(e,!0)},Cd=function(t){return yz(t).replace(/\./g,"")},_z=function(t){try{return uA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wz(){try{return typeof indexedDB=="object"}catch{return!1}}function xz(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function bz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=()=>bz().__FIREBASE_DEFAULTS__,Sz=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ez=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_z(t[1]);return e&&JSON.parse(e)},hA=()=>{try{return Tz()||Sz()||Ez()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Cz=t=>{var e,r;return(r=(e=hA())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Iz=t=>{const e=Cz(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Pz=()=>{var t;return(t=hA())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[Cd(JSON.stringify(r)),Cd(JSON.stringify(a)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz="FirebaseError";class yl extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=kz,Object.setPrototypeOf(this,yl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cA.prototype.create)}}class cA{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Mz(s,n):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new yl(i,u,n)}}function Mz(t,e){return t.replace(Dz,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Dz=/\{\$([^}]+)}/g;function Ky(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(WS(s)&&WS(a)){if(!Ky(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function WS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){return t&&t._delegate?t._delegate:t}class yh{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Az;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fz(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);n===u&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Nz(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nz(t){return t===ta?void 0:t}function Fz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Rz(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const Uz={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},Bz=tt.INFO,Vz={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},zz=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=Vz[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fA{constructor(e){this.name=e,this._logLevel=Bz,this._logHandler=zz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Uz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const Hz=(t,e)=>e.some(r=>t instanceof r);let jS,GS;function $z(){return jS||(jS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wz(){return GS||(GS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dA=new WeakMap,Qy=new WeakMap,pA=new WeakMap,Zm=new WeakMap,g1=new WeakMap;function jz(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(cs(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&dA.set(r,t)}).catch(()=>{}),g1.set(e,t),e}function Gz(t){if(Qy.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Qy.set(t,e)}let Zy={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Qy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pA.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return cs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Yz(t){Zy=t(Zy)}function Xz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Jm(this),e,...r);return pA.set(n,e.sort?e.sort():[e]),cs(n)}:Wz().includes(t)?function(...e){return t.apply(Jm(this),e),cs(dA.get(this))}:function(...e){return cs(t.apply(Jm(this),e))}}function qz(t){return typeof t=="function"?Xz(t):(t instanceof IDBTransaction&&Gz(t),Hz(t,$z())?new Proxy(t,Zy):t)}function cs(t){if(t instanceof IDBRequest)return jz(t);if(Zm.has(t))return Zm.get(t);const e=qz(t);return e!==t&&(Zm.set(t,e),g1.set(e,t)),e}const Jm=t=>g1.get(t);function Kz(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),u=cs(a);return n&&a.addEventListener("upgradeneeded",c=>{n(cs(a.result),c.oldVersion,c.newVersion,cs(a.transaction))}),r&&a.addEventListener("blocked",()=>r()),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),u}const Qz=["get","getKey","getAll","getAllKeys","count"],Zz=["put","add","delete","clear"],eg=new Map;function YS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eg.get(e))return eg.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Zz.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Qz.includes(r)))return;const s=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(u.shift())),(await Promise.all([d[r](...u),i&&c.done]))[0]};return eg.set(e,s),s}Yz(t=>({...t,get:(e,r,n)=>YS(e,r)||t.get(e,r,n),has:(e,r)=>!!YS(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(eH(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function eH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jy="@firebase/app",XS="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new fA("@firebase/app"),tH="@firebase/app-compat",rH="@firebase/analytics-compat",nH="@firebase/analytics",iH="@firebase/app-check-compat",sH="@firebase/app-check",aH="@firebase/auth",oH="@firebase/auth-compat",lH="@firebase/database",uH="@firebase/database-compat",hH="@firebase/functions",cH="@firebase/functions-compat",fH="@firebase/installations",dH="@firebase/installations-compat",pH="@firebase/messaging",vH="@firebase/messaging-compat",mH="@firebase/performance",gH="@firebase/performance-compat",yH="@firebase/remote-config",_H="@firebase/remote-config-compat",wH="@firebase/storage",xH="@firebase/storage-compat",bH="@firebase/firestore",TH="@firebase/firestore-compat",SH="firebase",EH="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="[DEFAULT]",CH={[Jy]:"fire-core",[tH]:"fire-core-compat",[nH]:"fire-analytics",[rH]:"fire-analytics-compat",[sH]:"fire-app-check",[iH]:"fire-app-check-compat",[aH]:"fire-auth",[oH]:"fire-auth-compat",[lH]:"fire-rtdb",[uH]:"fire-rtdb-compat",[hH]:"fire-fn",[cH]:"fire-fn-compat",[fH]:"fire-iid",[dH]:"fire-iid-compat",[pH]:"fire-fcm",[vH]:"fire-fcm-compat",[mH]:"fire-perf",[gH]:"fire-perf-compat",[yH]:"fire-rc",[_H]:"fire-rc-compat",[wH]:"fire-gcs",[xH]:"fire-gcs-compat",[bH]:"fire-fst",[TH]:"fire-fst-compat","fire-js":"fire-js",[SH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=new Map,t0=new Map;function IH(t,e){try{t.container.addComponent(e)}catch(r){Ca.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Pd(t){const e=t.name;if(t0.has(e))return Ca.debug(`There were multiple attempts to register component ${e}.`),!1;t0.set(e,t);for(const r of Id.values())IH(r,t);return!0}function PH(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},fs=new cA("app","Firebase",AH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new yh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH=EH;function vA(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:e0,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw fs.create("bad-app-name",{appName:String(i)});if(r||(r=Pz()),!r)throw fs.create("no-options");const s=Id.get(i);if(s){if(Ky(r,s.options)&&Ky(n,s.config))return s;throw fs.create("duplicate-app",{appName:i})}const a=new Lz(i);for(const c of t0.values())a.addComponent(c);const u=new OH(r,n,a);return Id.set(i,u),u}function MH(t=e0){const e=Id.get(t);if(!e&&t===e0)return vA();if(!e)throw fs.create("no-app",{appName:t});return e}function Do(t,e,r){var n;let i=(n=CH[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ca.warn(u.join(" "));return}Pd(new yh(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH="firebase-heartbeat-database",RH=1,_h="firebase-heartbeat-store";let tg=null;function mA(){return tg||(tg=Kz(DH,RH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_h)}}}).catch(t=>{throw fs.create("idb-open",{originalErrorMessage:t.message})})),tg}async function NH(t){try{return(await mA()).transaction(_h).objectStore(_h).get(gA(t))}catch(e){if(e instanceof yl)Ca.warn(e.message);else{const r=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ca.warn(r.message)}}}async function qS(t,e){try{const n=(await mA()).transaction(_h,"readwrite");return await n.objectStore(_h).put(e,gA(t)),n.done}catch(r){if(r instanceof yl)Ca.warn(r.message);else{const n=fs.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ca.warn(n.message)}}}function gA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=1024,LH=30*24*60*60*1e3;class UH{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new VH(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=KS();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=LH}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=KS(),{heartbeatsToSend:r,unsentEntries:n}=BH(this._heartbeatsCache.heartbeats),i=Cd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function KS(){return new Date().toISOString().substring(0,10)}function BH(t,e=FH){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),QS(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),QS(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class VH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wz()?xz().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await NH(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return qS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return qS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function QS(t){return Cd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(t){Pd(new yh("platform-logger",e=>new Jz(e),"PRIVATE")),Pd(new yh("heartbeat",e=>new UH(e),"PRIVATE")),Do(Jy,XS,t),Do(Jy,XS,"esm2017"),Do("fire-js","")}zH("");var HH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ye,y1=y1||{},ke=HH||self;function Ad(){}function Ap(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Zh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function $H(t){return Object.prototype.hasOwnProperty.call(t,rg)&&t[rg]||(t[rg]=++WH)}var rg="closure_uid_"+(1e9*Math.random()>>>0),WH=0;function jH(t,e,r){return t.call.apply(t.bind,arguments)}function GH(t,e,r){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function wr(t,e,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wr=jH:wr=GH,wr.apply(null,arguments)}function af(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var n=r.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function cr(t,e){function r(){}r.prototype=e.prototype,t.X=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.Wb=function(n,i,s){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[i].apply(n,a)}}function ks(){this.s=this.s,this.o=this.o}var YH=0;ks.prototype.s=!1;ks.prototype.na=function(){!this.s&&(this.s=!0,this.M(),YH!=0)&&$H(this)};ks.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let r=0;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1};function _1(t){const e=t.length;if(0<e){const r=Array(e);for(let n=0;n<e;n++)r[n]=t[n];return r}return[]}function ZS(t,e){for(let r=1;r<arguments.length;r++){const n=arguments[r];if(Ap(n)){const i=t.length||0,s=n.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=n[a]}else t.push(n)}}function xr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}xr.prototype.h=function(){this.defaultPrevented=!0};var XH=function(){if(!ke.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ke.addEventListener("test",Ad,e),ke.removeEventListener("test",Ad,e)}catch{}return t}();function Od(t){return/^[\s\xa0]*$/.test(t)}var JS=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ng(t,e){return t<e?-1:t>e?1:0}function Op(){var t=ke.navigator;return t&&(t=t.userAgent)?t:""}function Dn(t){return Op().indexOf(t)!=-1}function w1(t){return w1[" "](t),t}w1[" "]=Ad;function qH(t){var e=ZH;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var KH=Dn("Opera"),Zo=Dn("Trident")||Dn("MSIE"),_A=Dn("Edge"),r0=_A||Zo,wA=Dn("Gecko")&&!(Op().toLowerCase().indexOf("webkit")!=-1&&!Dn("Edge"))&&!(Dn("Trident")||Dn("MSIE"))&&!Dn("Edge"),QH=Op().toLowerCase().indexOf("webkit")!=-1&&!Dn("Edge");function xA(){var t=ke.document;return t?t.documentMode:void 0}var kd;e:{var ig="",sg=function(){var t=Op();if(wA)return/rv:([^\);]+)(\)|;)/.exec(t);if(_A)return/Edge\/([\d\.]+)/.exec(t);if(Zo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(QH)return/WebKit\/(\S+)/.exec(t);if(KH)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(sg&&(ig=sg?sg[1]:""),Zo){var ag=xA();if(ag!=null&&ag>parseFloat(ig)){kd=String(ag);break e}}kd=ig}var ZH={};function JH(){return qH(function(){let t=0;const e=JS(String(kd)).split("."),r=JS("9").split("."),n=Math.max(e.length,r.length);for(let a=0;t==0&&a<n;a++){var i=e[a]||"",s=r[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=ng(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||ng(i[2].length==0,s[2].length==0)||ng(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var n0;if(ke.document&&Zo){var eE=xA();n0=eE||parseInt(kd,10)||void 0}else n0=void 0;var e$=n0;function wh(t,e){if(xr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var r=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(wA){e:{try{w1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else r=="mouseover"?e=t.fromElement:r=="mouseout"&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:t$[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&wh.X.h.call(this)}}cr(wh,xr);var t$={2:"touch",3:"pen",4:"mouse"};wh.prototype.h=function(){wh.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jh="closure_listenable_"+(1e6*Math.random()|0),r$=0;function n$(t,e,r,n,i){this.listener=t,this.proxy=null,this.src=e,this.type=r,this.capture=!!n,this.ha=i,this.key=++r$,this.ba=this.ea=!1}function kp(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function x1(t,e,r){for(const n in t)e.call(r,t[n],n,t)}function bA(t){const e={};for(const r in t)e[r]=t[r];return e}const tE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TA(t,e){let r,n;for(let i=1;i<arguments.length;i++){n=arguments[i];for(r in n)t[r]=n[r];for(let s=0;s<tE.length;s++)r=tE[s],Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}}function Mp(t){this.src=t,this.g={},this.h=0}Mp.prototype.add=function(t,e,r,n,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=s0(t,e,n,i);return-1<a?(e=t[a],r||(e.ea=!1)):(e=new n$(e,this.src,s,!!n,i),e.ea=r,t.push(e)),e};function i0(t,e){var r=e.type;if(r in t.g){var n=t.g[r],i=yA(n,e),s;(s=0<=i)&&Array.prototype.splice.call(n,i,1),s&&(kp(e),t.g[r].length==0&&(delete t.g[r],t.h--))}}function s0(t,e,r,n){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!r&&s.ha==n)return i}return-1}var b1="closure_lm_"+(1e6*Math.random()|0),og={};function SA(t,e,r,n,i){if(n&&n.once)return CA(t,e,r,n,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)SA(t,e[s],r,n,i);return null}return r=E1(r),t&&t[Jh]?t.N(e,r,Zh(n)?!!n.capture:!!n,i):EA(t,e,r,!1,n,i)}function EA(t,e,r,n,i,s){if(!e)throw Error("Invalid event type");var a=Zh(i)?!!i.capture:!!i,u=S1(t);if(u||(t[b1]=u=new Mp(t)),r=u.add(e,r,n,a,s),r.proxy)return r;if(n=i$(),r.proxy=n,n.src=t,n.listener=r,t.addEventListener)XH||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),n,i);else if(t.attachEvent)t.attachEvent(PA(e.toString()),n);else if(t.addListener&&t.removeListener)t.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return r}function i$(){function t(r){return e.call(t.src,t.listener,r)}const e=s$;return t}function CA(t,e,r,n,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)CA(t,e[s],r,n,i);return null}return r=E1(r),t&&t[Jh]?t.O(e,r,Zh(n)?!!n.capture:!!n,i):EA(t,e,r,!0,n,i)}function IA(t,e,r,n,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)IA(t,e[s],r,n,i);else n=Zh(n)?!!n.capture:!!n,r=E1(r),t&&t[Jh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],r=s0(s,r,n,i),-1<r&&(kp(s[r]),Array.prototype.splice.call(s,r,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=S1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=s0(e,r,n,i)),(r=-1<t?e[t]:null)&&T1(r))}function T1(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Jh])i0(e.i,t);else{var r=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(r,n,t.capture):e.detachEvent?e.detachEvent(PA(r),n):e.addListener&&e.removeListener&&e.removeListener(n),(r=S1(e))?(i0(r,t),r.h==0&&(r.src=null,e[b1]=null)):kp(t)}}}function PA(t){return t in og?og[t]:og[t]="on"+t}function s$(t,e){if(t.ba)t=!0;else{e=new wh(e,this);var r=t.listener,n=t.ha||t.src;t.ea&&T1(t),t=r.call(n,e)}return t}function S1(t){return t=t[b1],t instanceof Mp?t:null}var lg="__closure_events_fn_"+(1e9*Math.random()>>>0);function E1(t){return typeof t=="function"?t:(t[lg]||(t[lg]=function(e){return t.handleEvent(e)}),t[lg])}function rr(){ks.call(this),this.i=new Mp(this),this.P=this,this.I=null}cr(rr,ks);rr.prototype[Jh]=!0;rr.prototype.removeEventListener=function(t,e,r,n){IA(this,t,e,r,n)};function lr(t,e){var r,n=t.I;if(n)for(r=[];n;n=n.I)r.push(n);if(t=t.P,n=e.type||e,typeof e=="string")e=new xr(e,t);else if(e instanceof xr)e.target=e.target||t;else{var i=e;e=new xr(n,t),TA(e,i)}if(i=!0,r)for(var s=r.length-1;0<=s;s--){var a=e.g=r[s];i=of(a,n,!0,e)&&i}if(a=e.g=t,i=of(a,n,!0,e)&&i,i=of(a,n,!1,e)&&i,r)for(s=0;s<r.length;s++)a=e.g=r[s],i=of(a,n,!1,e)&&i}rr.prototype.M=function(){if(rr.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)kp(r[n]);delete t.g[e],t.h--}}this.I=null};rr.prototype.N=function(t,e,r,n){return this.i.add(String(t),e,!1,r,n)};rr.prototype.O=function(t,e,r,n){return this.i.add(String(t),e,!0,r,n)};function of(t,e,r,n){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.ba&&a.capture==r){var u=a.listener,c=a.ha||a.src;a.ea&&i0(t.i,a),i=u.call(c,n)!==!1&&i}}return i&&!n.defaultPrevented}var C1=ke.JSON.stringify;function a$(){var t=kA;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class o${constructor(){this.h=this.g=null}add(e,r){const n=AA.get();n.set(e,r),this.h?this.h.next=n:this.g=n,this.h=n}}var AA=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new l$,t=>t.reset());class l${constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function u$(t){ke.setTimeout(()=>{throw t},0)}function OA(t,e){a0||h$(),o0||(a0(),o0=!0),kA.add(t,e)}var a0;function h$(){var t=ke.Promise.resolve(void 0);a0=function(){t.then(c$)}}var o0=!1,kA=new o$;function c$(){for(var t;t=a$();){try{t.h.call(t.g)}catch(r){u$(r)}var e=AA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}o0=!1}function Dp(t,e){rr.call(this),this.h=t||1,this.g=e||ke,this.j=wr(this.lb,this),this.l=Date.now()}cr(Dp,rr);ye=Dp.prototype;ye.ca=!1;ye.R=null;ye.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),lr(this,"tick"),this.ca&&(I1(this),this.start()))}};ye.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function I1(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}ye.M=function(){Dp.X.M.call(this),I1(this),delete this.g};function P1(t,e,r){if(typeof t=="function")r&&(t=wr(t,r));else if(t&&typeof t.handleEvent=="function")t=wr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ke.setTimeout(t,e||0)}function MA(t){t.g=P1(()=>{t.g=null,t.i&&(t.i=!1,MA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class f$ extends ks{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:MA(this)}M(){super.M(),this.g&&(ke.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xh(t){ks.call(this),this.h=t,this.g={}}cr(xh,ks);var rE=[];function DA(t,e,r,n){Array.isArray(r)||(r&&(rE[0]=r.toString()),r=rE);for(var i=0;i<r.length;i++){var s=SA(e,r[i],n||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function RA(t){x1(t.g,function(e,r){this.g.hasOwnProperty(r)&&T1(e)},t),t.g={}}xh.prototype.M=function(){xh.X.M.call(this),RA(this)};xh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Rp(){this.g=!0}Rp.prototype.Aa=function(){this.g=!1};function d$(t,e,r,n,i,s){t.info(function(){if(t.g)if(s)for(var a="",u=s.split("&"),c=0;c<u.length;c++){var d=u[c].split("=");if(1<d.length){var m=d[0];d=d[1];var _=m.split("_");a=2<=_.length&&_[1]=="type"?a+(m+"="+d+"&"):a+(m+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+e+`
`+r+`
`+a})}function p$(t,e,r,n,i,s,a){t.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+e+`
`+r+`
`+s+" "+a})}function _o(t,e,r,n){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+m$(t,r)+(n?" "+n:"")})}function v$(t,e){t.info(function(){return"TIMEOUT: "+e})}Rp.prototype.info=function(){};function m$(t,e){if(!t.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r){for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var n=r[t];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return C1(r)}catch{return e}}var Ba={},nE=null;function Np(){return nE=nE||new rr}Ba.Pa="serverreachability";function NA(t){xr.call(this,Ba.Pa,t)}cr(NA,xr);function bh(t){const e=Np();lr(e,new NA(e))}Ba.STAT_EVENT="statevent";function FA(t,e){xr.call(this,Ba.STAT_EVENT,t),this.stat=e}cr(FA,xr);function Ar(t){const e=Np();lr(e,new FA(e,t))}Ba.Qa="timingevent";function LA(t,e){xr.call(this,Ba.Qa,t),this.size=e}cr(LA,xr);function ec(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ke.setTimeout(function(){t()},e)}var Fp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},UA={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function A1(){}A1.prototype.h=null;function iE(t){return t.h||(t.h=t.i())}function BA(){}var tc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function O1(){xr.call(this,"d")}cr(O1,xr);function k1(){xr.call(this,"c")}cr(k1,xr);var l0;function Lp(){}cr(Lp,A1);Lp.prototype.g=function(){return new XMLHttpRequest};Lp.prototype.i=function(){return{}};l0=new Lp;function rc(t,e,r,n){this.l=t,this.j=e,this.m=r,this.U=n||1,this.S=new xh(this),this.O=g$,t=r0?125:void 0,this.T=new Dp(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new VA}function VA(){this.i=null,this.g="",this.h=!1}var g$=45e3,u0={},Md={};ye=rc.prototype;ye.setTimeout=function(t){this.O=t};function h0(t,e,r){t.K=1,t.v=Bp(Ai(e)),t.s=r,t.P=!0,zA(t,null)}function zA(t,e){t.F=Date.now(),nc(t),t.A=Ai(t.v);var r=t.A,n=t.U;Array.isArray(n)||(n=[String(n)]),qA(r.i,"t",n),t.C=0,r=t.l.H,t.h=new VA,t.g=mO(t.l,r?e:null,!t.s),0<t.N&&(t.L=new f$(wr(t.La,t,t.g),t.N)),DA(t.S,t.g,"readystatechange",t.ib),e=t.H?bA(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),bh(),d$(t.j,t.u,t.A,t.m,t.U,t.s)}ye.ib=function(t){t=t.target;const e=this.L;e&&vi(t)==3?e.l():this.La(t)};ye.La=function(t){try{if(t==this.g)e:{const m=vi(this.g);var e=this.g.Ea();const _=this.g.aa();if(!(3>m)&&(m!=3||r0||this.g&&(this.h.h||this.g.fa()||lE(this.g)))){this.I||m!=4||e==7||(e==8||0>=_?bh(3):bh(2)),Up(this);var r=this.g.aa();this.Y=r;t:if(HA(this)){var n=lE(this.g);t="";var i=n.length,s=vi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oa(this),Ou(this);var a="";break t}this.h.i=new ke.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:s&&e==i-1});n.splice(0,i),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=r==200,p$(this.j,this.u,this.A,this.m,this.U,m,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Od(u)){var d=u;break t}}d=null}if(r=d)_o(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,c0(this,r);else{this.i=!1,this.o=3,Ar(12),oa(this),Ou(this);break e}}this.P?($A(this,m,a),r0&&this.i&&m==3&&(DA(this.S,this.T,"tick",this.hb),this.T.start())):(_o(this.j,this.m,a,null),c0(this,a)),m==4&&oa(this),this.i&&!this.I&&(m==4?fO(this.l,this):(this.i=!1,nc(this)))}else r==400&&0<a.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),oa(this),Ou(this)}}}catch{}finally{}};function HA(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function $A(t,e,r){let n=!0,i;for(;!t.I&&t.C<r.length;)if(i=y$(t,r),i==Md){e==4&&(t.o=4,Ar(14),n=!1),_o(t.j,t.m,null,"[Incomplete Response]");break}else if(i==u0){t.o=4,Ar(15),_o(t.j,t.m,r,"[Invalid Chunk]"),n=!1;break}else _o(t.j,t.m,i,null),c0(t,i);HA(t)&&i!=Md&&i!=u0&&(t.h.g="",t.C=0),e!=4||r.length!=0||t.h.h||(t.o=1,Ar(16),n=!1),t.i=t.i&&n,n?0<r.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+r.length),U1(e),e.K=!0,Ar(11))):(_o(t.j,t.m,r,"[Invalid Chunked Response]"),oa(t),Ou(t))}ye.hb=function(){if(this.g){var t=vi(this.g),e=this.g.fa();this.C<e.length&&(Up(this),$A(this,t,e),this.i&&t!=4&&nc(this))}};function y$(t,e){var r=t.C,n=e.indexOf(`
`,r);return n==-1?Md:(r=Number(e.substring(r,n)),isNaN(r)?u0:(n+=1,n+r>e.length?Md:(e=e.substr(n,r),t.C=n+r,e)))}ye.cancel=function(){this.I=!0,oa(this)};function nc(t){t.V=Date.now()+t.O,WA(t,t.O)}function WA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ec(wr(t.gb,t),e)}function Up(t){t.B&&(ke.clearTimeout(t.B),t.B=null)}ye.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(v$(this.j,this.A),this.K!=2&&(bh(),Ar(17)),oa(this),this.o=2,Ou(this)):WA(this,this.V-t)};function Ou(t){t.l.G==0||t.I||fO(t.l,t)}function oa(t){Up(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,I1(t.T),RA(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function c0(t,e){try{var r=t.l;if(r.G!=0&&(r.g==t||f0(r.h,t))){if(!t.J&&f0(r.h,t)&&r.G==3){try{var n=r.Fa.g.parse(e)}catch{n=null}if(Array.isArray(n)&&n.length==3){var i=n;if(i[0]==0){e:if(!r.u){if(r.g)if(r.g.F+3e3<t.F)Nd(r),Hp(r);else break e;L1(r),Ar(18)}}else r.Ba=i[1],0<r.Ba-r.T&&37500>i[2]&&r.L&&r.A==0&&!r.v&&(r.v=ec(wr(r.cb,r),6e3));if(1>=ZA(r.h)&&r.ja){try{r.ja()}catch{}r.ja=void 0}}else la(r,11)}else if((t.J||r.g==t)&&Nd(r),!Od(e))for(i=r.Fa.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(r.T=d[0],d=d[1],r.G==2)if(d[0]=="c"){r.I=d[1],r.ka=d[2];const m=d[3];m!=null&&(r.ma=m,r.j.info("VER="+r.ma));const _=d[4];_!=null&&(r.Ca=_,r.j.info("SVER="+r.Ca));const w=d[5];w!=null&&typeof w=="number"&&0<w&&(n=1.5*w,r.J=n,r.j.info("backChannelRequestTimeoutMs_="+n)),n=r;const T=t.g;if(T){const S=T.g?T.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var s=n.h;s.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(M1(s,s.h),s.h=null))}if(n.D){const P=T.g?T.g.getResponseHeader("X-HTTP-Session-Id"):null;P&&(n.za=P,xt(n.F,n.D,P))}}r.G=3,r.l&&r.l.xa(),r.$&&(r.P=Date.now()-t.F,r.j.info("Handshake RTT: "+r.P+"ms")),n=r;var a=t;if(n.sa=vO(n,n.H?n.ka:null,n.V),a.J){JA(n.h,a);var u=a,c=n.J;c&&u.setTimeout(c),u.B&&(Up(u),nc(u)),n.g=a}else hO(n);0<r.i.length&&$p(r)}else d[0]!="stop"&&d[0]!="close"||la(r,7);else r.G==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?la(r,7):F1(r):d[0]!="noop"&&r.l&&r.l.wa(d),r.A=0)}}bh(4)}catch{}}function _$(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ap(t)){for(var e=[],r=t.length,n=0;n<r;n++)e.push(t[n]);return e}e=[],r=0;for(n in t)e[r++]=t[n];return e}function w$(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ap(t)||typeof t=="string"){var e=[];t=t.length;for(var r=0;r<t;r++)e.push(r);return e}e=[],r=0;for(const n in t)e[r++]=n;return e}}}function jA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ap(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var r=w$(t),n=_$(t),i=n.length,s=0;s<i;s++)e.call(void 0,n[s],r&&r[s],t)}var GA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function x$(t,e){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var n=t[r].indexOf("="),i=null;if(0<=n){var s=t[r].substring(0,n);i=t[r].substring(n+1)}else s=t[r];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function va(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof va){this.h=e!==void 0?e:t.h,Dd(this,t.j),this.s=t.s,this.g=t.g,Rd(this,t.m),this.l=t.l,e=t.i;var r=new Th;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),sE(this,r),this.o=t.o}else t&&(r=String(t).match(GA))?(this.h=!!e,Dd(this,r[1]||"",!0),this.s=fu(r[2]||""),this.g=fu(r[3]||"",!0),Rd(this,r[4]),this.l=fu(r[5]||"",!0),sE(this,r[6]||"",!0),this.o=fu(r[7]||"")):(this.h=!!e,this.i=new Th(null,this.h))}va.prototype.toString=function(){var t=[],e=this.j;e&&t.push(du(e,aE,!0),":");var r=this.g;return(r||e=="file")&&(t.push("//"),(e=this.s)&&t.push(du(e,aE,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&t.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&t.push("/"),t.push(du(r,r.charAt(0)=="/"?S$:T$,!0))),(r=this.i.toString())&&t.push("?",r),(r=this.o)&&t.push("#",du(r,C$)),t.join("")};function Ai(t){return new va(t)}function Dd(t,e,r){t.j=r?fu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Rd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function sE(t,e,r){e instanceof Th?(t.i=e,I$(t.i,t.h)):(r||(e=du(e,E$)),t.i=new Th(e,t.h))}function xt(t,e,r){t.i.set(e,r)}function Bp(t){return xt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function du(t,e,r){return typeof t=="string"?(t=encodeURI(t).replace(e,b$),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function b$(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var aE=/[#\/\?@]/g,T$=/[#\?:]/g,S$=/[#\?]/g,E$=/[#\?@]/g,C$=/#/g;function Th(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ms(t){t.g||(t.g=new Map,t.h=0,t.i&&x$(t.i,function(e,r){t.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}ye=Th.prototype;ye.add=function(t,e){Ms(this),this.i=null,t=_l(this,t);var r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(e),this.h+=1,this};function YA(t,e){Ms(t),e=_l(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function XA(t,e){return Ms(t),e=_l(t,e),t.g.has(e)}ye.forEach=function(t,e){Ms(this),this.g.forEach(function(r,n){r.forEach(function(i){t.call(e,i,n,this)},this)},this)};ye.oa=function(){Ms(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let n=0;n<e.length;n++){const i=t[n];for(let s=0;s<i.length;s++)r.push(e[n])}return r};ye.W=function(t){Ms(this);let e=[];if(typeof t=="string")XA(this,t)&&(e=e.concat(this.g.get(_l(this,t))));else{t=Array.from(this.g.values());for(let r=0;r<t.length;r++)e=e.concat(t[r])}return e};ye.set=function(t,e){return Ms(this),this.i=null,t=_l(this,t),XA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ye.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function qA(t,e,r){YA(t,e),0<r.length&&(t.i=null,t.g.set(_l(t,e),_1(r)),t.h+=r.length)}ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var n=e[r];const s=encodeURIComponent(String(n)),a=this.W(n);for(n=0;n<a.length;n++){var i=s;a[n]!==""&&(i+="="+encodeURIComponent(String(a[n]))),t.push(i)}}return this.i=t.join("&")};function _l(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function I$(t,e){e&&!t.j&&(Ms(t),t.i=null,t.g.forEach(function(r,n){var i=n.toLowerCase();n!=i&&(YA(this,n),qA(this,i,r))},t)),t.j=e}var P$=class{constructor(e,r){this.h=e,this.g=r}};function KA(t){this.l=t||A$,ke.PerformanceNavigationTiming?(t=ke.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ke.g&&ke.g.Ga&&ke.g.Ga()&&ke.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var A$=10;function QA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ZA(t){return t.h?1:t.g?t.g.size:0}function f0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function M1(t,e){t.g?t.g.add(e):t.h=e}function JA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}KA.prototype.cancel=function(){if(this.i=eO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function eO(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const r of t.g.values())e=e.concat(r.D);return e}return _1(t.i)}function D1(){}D1.prototype.stringify=function(t){return ke.JSON.stringify(t,void 0)};D1.prototype.parse=function(t){return ke.JSON.parse(t,void 0)};function O$(){this.g=new D1}function k$(t,e,r){const n=r||"";try{jA(t,function(i,s){let a=i;Zh(i)&&(a=C1(i)),e.push(n+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(n+"type="+encodeURIComponent("_badmap")),i}}function M$(t,e){const r=new Rp;if(ke.Image){const n=new Image;n.onload=af(lf,r,n,"TestLoadImage: loaded",!0,e),n.onerror=af(lf,r,n,"TestLoadImage: error",!1,e),n.onabort=af(lf,r,n,"TestLoadImage: abort",!1,e),n.ontimeout=af(lf,r,n,"TestLoadImage: timeout",!1,e),ke.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=t}else e(!1)}function lf(t,e,r,n,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(n)}catch{}}function ic(t){this.l=t.ac||null,this.j=t.jb||!1}cr(ic,A1);ic.prototype.g=function(){return new Vp(this.l,this.j)};ic.prototype.i=function(t){return function(){return t}}({});function Vp(t,e){rr.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=R1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cr(Vp,rr);var R1=0;ye=Vp.prototype;ye.open=function(t,e){if(this.readyState!=R1)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Sh(this)};ye.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ke).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sc(this)),this.readyState=R1};ye.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Sh(this)),this.g&&(this.readyState=3,Sh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ke.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tO(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function tO(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}ye.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sc(this):Sh(this),this.readyState==3&&tO(this)}};ye.Va=function(t){this.g&&(this.response=this.responseText=t,sc(this))};ye.Ua=function(t){this.g&&(this.response=t,sc(this))};ye.ga=function(){this.g&&sc(this)};function sc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Sh(t)}ye.setRequestHeader=function(t,e){this.v.append(t,e)};ye.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ye.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var r=e.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=e.next();return t.join(`\r
`)};function Sh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Vp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var D$=ke.JSON.parse;function Ot(t){rr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rO,this.K=this.L=!1}cr(Ot,rr);var rO="",R$=/^https?$/i,N$=["POST","PUT"];ye=Ot.prototype;ye.Ka=function(t){this.L=t};ye.da=function(t,e,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():l0.g(),this.C=this.u?iE(this.u):iE(l0),this.g.onreadystatechange=wr(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){oE(this,s);return}if(t=r||"",r=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var i in n)r.set(i,n[i]);else if(typeof n.keys=="function"&&typeof n.get=="function")for(const s of n.keys())r.set(s,n.get(s));else throw Error("Unknown input type for opt_headers: "+String(n));n=Array.from(r.keys()).find(s=>s.toLowerCase()=="content-type"),i=ke.FormData&&t instanceof ke.FormData,!(0<=yA(N$,e))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of r)this.g.setRequestHeader(s,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sO(this),0<this.B&&((this.K=F$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wr(this.qa,this)):this.A=P1(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){oE(this,s)}};function F$(t){return Zo&&JH()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ye.qa=function(){typeof y1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lr(this,"timeout"),this.abort(8))};function oE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,nO(t),zp(t)}function nO(t){t.D||(t.D=!0,lr(t,"complete"),lr(t,"error"))}ye.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,lr(this,"complete"),lr(this,"abort"),zp(this))};ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zp(this,!0)),Ot.X.M.call(this)};ye.Ha=function(){this.s||(this.F||this.v||this.l?iO(this):this.fb())};ye.fb=function(){iO(this)};function iO(t){if(t.h&&typeof y1<"u"&&(!t.C[1]||vi(t)!=4||t.aa()!=2)){if(t.v&&vi(t)==4)P1(t.Ha,0,t);else if(lr(t,"readystatechange"),vi(t)==4){t.h=!1;try{const u=t.aa();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var n;if(n=u===0){var i=String(t.H).match(GA)[1]||null;if(!i&&ke.self&&ke.self.location){var s=ke.self.location.protocol;i=s.substr(0,s.length-1)}n=!R$.test(i?i.toLowerCase():"")}r=n}if(r)lr(t,"complete"),lr(t,"success");else{t.m=6;try{var a=2<vi(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.aa()+"]",nO(t)}}finally{zp(t)}}}}function zp(t,e){if(t.g){sO(t);const r=t.g,n=t.C[0]?Ad:null;t.g=null,t.C=null,e||lr(t,"ready");try{r.onreadystatechange=n}catch{}}}function sO(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ke.clearTimeout(t.A),t.A=null)}function vi(t){return t.g?t.g.readyState:0}ye.aa=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}};ye.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ye.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),D$(e)}};function lE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case rO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ye.Ea=function(){return this.m};ye.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function aO(t){let e="";return x1(t,function(r,n){e+=n,e+=":",e+=r,e+=`\r
`}),e}function N1(t,e,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=aO(r),typeof t=="string"?r!=null&&encodeURIComponent(String(r)):xt(t,e,r))}function nu(t,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||e}function oO(t){this.Ca=0,this.i=[],this.j=new Rp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=nu("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=nu("baseRetryDelayMs",5e3,t),this.bb=nu("retryDelaySeedMs",1e4,t),this.$a=nu("forwardChannelMaxRetries",2,t),this.ta=nu("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new KA(t&&t.concurrentRequestLimit),this.Fa=new O$,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ye=oO.prototype;ye.ma=8;ye.G=1;function F1(t){if(lO(t),t.G==3){var e=t.U++,r=Ai(t.F);xt(r,"SID",t.I),xt(r,"RID",e),xt(r,"TYPE","terminate"),ac(t,r),e=new rc(t,t.j,e,void 0),e.K=2,e.v=Bp(Ai(r)),r=!1,ke.navigator&&ke.navigator.sendBeacon&&(r=ke.navigator.sendBeacon(e.v.toString(),"")),!r&&ke.Image&&(new Image().src=e.v,r=!0),r||(e.g=mO(e.l,null),e.g.da(e.v)),e.F=Date.now(),nc(e)}pO(t)}function Hp(t){t.g&&(U1(t),t.g.cancel(),t.g=null)}function lO(t){Hp(t),t.u&&(ke.clearTimeout(t.u),t.u=null),Nd(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ke.clearTimeout(t.m),t.m=null)}function $p(t){QA(t.h)||t.m||(t.m=!0,OA(t.Ja,t),t.C=0)}function L$(t,e){return ZA(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=ec(wr(t.Ja,t,e),dO(t,t.C)),t.C++,!0)}ye.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new rc(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=bA(s),TA(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,r=0;r<this.i.length;r++){t:{var n=this.i[r];if("__data__"in n.g&&(n=n.g.__data__,typeof n=="string")){n=n.length;break t}n=void 0}if(n===void 0)break;if(e+=n,4096<e){e=r;break e}if(e===4096||r===this.i.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=uO(this,i,e),r=Ai(this.F),xt(r,"RID",t),xt(r,"CVER",22),this.D&&xt(r,"X-HTTP-Session-Id",this.D),ac(this,r),s&&(this.N?e="headers="+encodeURIComponent(String(aO(s)))+"&"+e:this.o&&N1(r,this.o,s)),M1(this.h,i),this.Ya&&xt(r,"TYPE","init"),this.O?(xt(r,"$req",e),xt(r,"SID","null"),i.Z=!0,h0(i,r,null)):h0(i,r,e),this.G=2}}else this.G==3&&(t?uE(this,t):this.i.length==0||QA(this.h)||uE(this))};function uE(t,e){var r;e?r=e.m:r=t.U++;const n=Ai(t.F);xt(n,"SID",t.I),xt(n,"RID",r),xt(n,"AID",t.T),ac(t,n),t.o&&t.s&&N1(n,t.o,t.s),r=new rc(t,t.j,r,t.C+1),t.o===null&&(r.H=t.s),e&&(t.i=e.D.concat(t.i)),e=uO(t,r,1e3),r.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),M1(t.h,r),h0(r,n,e)}function ac(t,e){t.ia&&x1(t.ia,function(r,n){xt(e,n,r)}),t.l&&jA({},function(r,n){xt(e,n,r)})}function uO(t,e,r){r=Math.min(t.i.length,r);var n=t.l?wr(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const a=["count="+r];s==-1?0<r?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);let u=!0;for(let c=0;c<r;c++){let d=i[c].h;const m=i[c].g;if(d-=s,0>d)s=Math.max(0,i[c].h-100),u=!1;else try{k$(m,a,"req"+d+"_")}catch{n&&n(m)}}if(u){n=a.join("&");break e}}}return t=t.i.splice(0,r),e.D=t,n}function hO(t){t.g||t.u||(t.Z=1,OA(t.Ia,t),t.A=0)}function L1(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=ec(wr(t.Ia,t),dO(t,t.A)),t.A++,!0)}ye.Ia=function(){if(this.u=null,cO(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=ec(wr(this.eb,this),t)}};ye.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ar(10),Hp(this),cO(this))};function U1(t){t.B!=null&&(ke.clearTimeout(t.B),t.B=null)}function cO(t){t.g=new rc(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Ai(t.sa);xt(e,"RID","rpc"),xt(e,"SID",t.I),xt(e,"CI",t.L?"0":"1"),xt(e,"AID",t.T),xt(e,"TYPE","xmlhttp"),ac(t,e),t.o&&t.s&&N1(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var r=t.g;t=t.ka,r.K=1,r.v=Bp(Ai(e)),r.s=null,r.P=!0,zA(r,t)}ye.cb=function(){this.v!=null&&(this.v=null,Hp(this),L1(this),Ar(19))};function Nd(t){t.v!=null&&(ke.clearTimeout(t.v),t.v=null)}function fO(t,e){var r=null;if(t.g==e){Nd(t),U1(t),t.g=null;var n=2}else if(f0(t.h,e))r=e.D,JA(t.h,e),n=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(n==1){r=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;n=Np(),lr(n,new LA(n,r)),$p(t)}else hO(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(n==1&&L$(t,e)||n==2&&L1(t)))switch(r&&0<r.length&&(e=t.h,e.i=e.i.concat(r)),i){case 1:la(t,5);break;case 4:la(t,10);break;case 3:la(t,6);break;default:la(t,2)}}}function dO(t,e){let r=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(r*=2),r*e}function la(t,e){if(t.j.info("Error code "+e),e==2){var r=null;t.l&&(r=null);var n=wr(t.kb,t);r||(r=new va("//www.google.com/images/cleardot.gif"),ke.location&&ke.location.protocol=="http"||Dd(r,"https"),Bp(r)),M$(r.toString(),n)}else Ar(2);t.G=0,t.l&&t.l.va(e),pO(t),lO(t)}ye.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Ar(2)):(this.j.info("Failed to ping google.com"),Ar(1))};function pO(t){if(t.G=0,t.la=[],t.l){const e=eO(t.h);(e.length!=0||t.i.length!=0)&&(ZS(t.la,e),ZS(t.la,t.i),t.h.i.length=0,_1(t.i),t.i.length=0),t.l.ua()}}function vO(t,e,r){var n=r instanceof va?Ai(r):new va(r,void 0);if(n.g!="")e&&(n.g=e+"."+n.g),Rd(n,n.m);else{var i=ke.location;n=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new va(null,void 0);n&&Dd(s,n),e&&(s.g=e),i&&Rd(s,i),r&&(s.l=r),n=s}return r=t.D,e=t.za,r&&e&&xt(n,r,e),xt(n,"VER",t.ma),ac(t,n),n}function mO(t,e,r){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=r&&t.Da&&!t.ra?new Ot(new ic({jb:!0})):new Ot(t.ra),e.Ka(t.H),e}function gO(){}ye=gO.prototype;ye.xa=function(){};ye.wa=function(){};ye.va=function(){};ye.ua=function(){};ye.Ra=function(){};function Fd(){if(Zo&&!(10<=Number(e$)))throw Error("Environmental error: no available transport.")}Fd.prototype.g=function(t,e){return new Kr(t,e)};function Kr(t,e){rr.call(this),this.g=new oO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Od(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Od(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new wl(this)}cr(Kr,rr);Kr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,r=this.h||void 0;Ar(0),t.V=e,t.ia=r||{},t.L=t.Y,t.F=vO(t,null,t.V),$p(t)};Kr.prototype.close=function(){F1(this.g)};Kr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var r={};r.__data__=t,t=r}else this.v&&(r={},r.__data__=C1(t),t=r);e.i.push(new P$(e.ab++,t)),e.G==3&&$p(e)};Kr.prototype.M=function(){this.g.l=null,delete this.j,F1(this.g),delete this.g,Kr.X.M.call(this)};function yO(t){O1.call(this);var e=t.__sm__;if(e){e:{for(const r in e){t=r;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}cr(yO,O1);function _O(){k1.call(this),this.status=1}cr(_O,k1);function wl(t){this.g=t}cr(wl,gO);wl.prototype.xa=function(){lr(this.g,"a")};wl.prototype.wa=function(t){lr(this.g,new yO(t))};wl.prototype.va=function(t){lr(this.g,new _O)};wl.prototype.ua=function(){lr(this.g,"b")};Fd.prototype.createWebChannel=Fd.prototype.g;Kr.prototype.send=Kr.prototype.u;Kr.prototype.open=Kr.prototype.m;Kr.prototype.close=Kr.prototype.close;Fp.NO_ERROR=0;Fp.TIMEOUT=8;Fp.HTTP_ERROR=6;UA.COMPLETE="complete";BA.EventType=tc;tc.OPEN="a";tc.CLOSE="b";tc.ERROR="c";tc.MESSAGE="d";rr.prototype.listen=rr.prototype.N;Ot.prototype.listenOnce=Ot.prototype.O;Ot.prototype.getLastError=Ot.prototype.Oa;Ot.prototype.getLastErrorCode=Ot.prototype.Ea;Ot.prototype.getStatus=Ot.prototype.aa;Ot.prototype.getResponseJson=Ot.prototype.Sa;Ot.prototype.getResponseText=Ot.prototype.fa;Ot.prototype.send=Ot.prototype.da;Ot.prototype.setWithCredentials=Ot.prototype.Ka;var U$=function(){return new Fd},B$=function(){return Np()},ug=Fp,V$=UA,z$=Ba,hE={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},H$=ic,uf=BA,$$=Ot;const cE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl="9.15.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new fA("@firebase/firestore");function fE(){return Ia.logLevel}function _e(t,...e){if(Ia.logLevel<=tt.DEBUG){const r=e.map(B1);Ia.debug(`Firestore (${xl}): ${t}`,...r)}}function Oi(t,...e){if(Ia.logLevel<=tt.ERROR){const r=e.map(B1);Ia.error(`Firestore (${xl}): ${t}`,...r)}}function d0(t,...e){if(Ia.logLevel<=tt.WARN){const r=e.map(B1);Ia.warn(`Firestore (${xl}): ${t}`,...r)}}function B1(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t="Unexpected state"){const e=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: `+t;throw Oi(e),new Error(e)}function ft(t,e){t||Oe()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends yl{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(pr.UNAUTHENTICATED))}shutdown(){}}class j${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class G${constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let s=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ds,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ds)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ft(typeof n.accessToken=="string"),new wO(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string"),new pr(e)}}class Y${constructor(e,r,n,i){this.h=e,this.l=r,this.m=n,this.g=i,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ft(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class X${constructor(e,r,n,i){this.h=e,this.l=r,this.m=n,this.g=i}getToken(){return Promise.resolve(new Y$(this.h,this.l,this.m,this.g))}start(e,r){e.enqueueRetryable(()=>r(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K${constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,r){const n=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.A;return this.A=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ft(typeof r.token=="string"),this.A=r.token,new q$(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=Q$(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function rt(t,e){return t<e?-1:t>e?1:0}function Jo(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ie(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ie(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ie(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Wt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Wt(0,0))}static max(){return new Re(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,r,n){r===void 0?r=0:r>e.length&&Oe(),n===void 0?n=e.length-r:n>e.length-r&&Oe(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Eh.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Eh?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class bt extends Eh{construct(e,r,n){return new bt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ie(Q.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new bt(r)}static emptyPath(){return new bt([])}}const Z$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends Eh{construct(e,r,n){return new gr(e,r,n)}static isValidIdentifier(e){return Z$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Ie(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ie(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ie(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(n+=u,i++):(s(),i++)}if(s(),a)throw new Ie(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(r)}static emptyPath(){return new gr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(bt.fromString(e))}static fromName(e){return new Se(bt.fromString(e).popFirst(5))}static empty(){return new Se(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return bt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new bt(e.slice()))}}function J$(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(n===1e9?new Wt(r+1,0):new Wt(r,n));return new Ts(i,Se.empty(),e)}function eW(t){return new Ts(t.readTime,t.key,-1)}class Ts{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ts(Re.min(),Se.empty(),-1)}static max(){return new Ts(Re.max(),Se.empty(),-1)}}function tW(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Se.comparator(t.documentKey,e.documentKey),r!==0?r:rt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==rW)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Z((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Z?r:Z.resolve(r)}catch(r){return Z.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Z.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Z.reject(r)}static resolve(e){return new Z((r,n)=>{r(e)})}static reject(e){return new Z((r,n)=>{n(e)})}static waitFor(e){return new Z((r,n)=>{let i=0,s=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++s,a&&s===i&&r()},c=>n(c))}),a=!0,s===i&&r()})}static or(e){let r=Z.resolve(!1);for(const n of e)r=r.next(i=>i?Z.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new Z((n,i)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const d=c;r(e[d]).next(m=>{a[d]=m,++u,u===s&&n(a)},m=>i(m))}})}static doWhile(e,r){return new Z((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function lc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ut(n),this.ct=n=>r.writeSequenceNumber(n))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}V1.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e,r,n,i,s,a,u,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=c}}class Ch{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ch("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ch&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function bl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function bO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t){return t==null}function Ld(t){return t===0&&1/t==-1/0}function sW(t){return typeof t=="number"&&Number.isInteger(t)&&!Ld(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new Sr(r)}static fromUint8Array(e){const r=function(n){let i="";for(let s=0;s<n.length;++s)i+=String.fromCharCode(n[s]);return i}(e);return new Sr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const aW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(t){if(ft(!!t),typeof t=="string"){let e=0;const r=aW.exec(t);if(ft(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function el(t){return typeof t=="string"?Sr.fromBase64String(t):Sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function SO(t){const e=t.mapValue.fields.__previous_value__;return TO(e)?SO(e):e}function Ih(t){const e=Ss(t.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?TO(t)?4:oW(t)?9007199254740991:10:Oe()}function Xn(t,e){if(t===e)return!0;const r=Pa(t);if(r!==Pa(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ih(t).isEqual(Ih(e));case 3:return function(n,i){if(typeof n.timestampValue=="string"&&typeof i.timestampValue=="string"&&n.timestampValue.length===i.timestampValue.length)return n.timestampValue===i.timestampValue;const s=Ss(n.timestampValue),a=Ss(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(n,i){return el(n.bytesValue).isEqual(el(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(n,i){return Ft(n.geoPointValue.latitude)===Ft(i.geoPointValue.latitude)&&Ft(n.geoPointValue.longitude)===Ft(i.geoPointValue.longitude)}(t,e);case 2:return function(n,i){if("integerValue"in n&&"integerValue"in i)return Ft(n.integerValue)===Ft(i.integerValue);if("doubleValue"in n&&"doubleValue"in i){const s=Ft(n.doubleValue),a=Ft(i.doubleValue);return s===a?Ld(s)===Ld(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:return function(n,i){const s=n.mapValue.fields||{},a=i.mapValue.fields||{};if(dE(s)!==dE(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Xn(s[u],a[u])))return!1;return!0}(t,e);default:return Oe()}}function Ph(t,e){return(t.values||[]).find(r=>Xn(r,e))!==void 0}function tl(t,e){if(t===e)return 0;const r=Pa(t),n=Pa(e);if(r!==n)return rt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const a=Ft(i.integerValue||i.doubleValue),u=Ft(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return pE(t.timestampValue,e.timestampValue);case 4:return pE(Ih(t),Ih(e));case 5:return rt(t.stringValue,e.stringValue);case 6:return function(i,s){const a=el(i),u=el(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=rt(a[c],u[c]);if(d!==0)return d}return rt(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const a=rt(Ft(i.latitude),Ft(s.latitude));return a!==0?a:rt(Ft(i.longitude),Ft(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const a=i.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const d=tl(a[c],u[c]);if(d)return d}return rt(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===hf.mapValue&&s===hf.mapValue)return 0;if(i===hf.mapValue)return 1;if(s===hf.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const _=rt(u[m],d[m]);if(_!==0)return _;const w=tl(a[u[m]],c[d[m]]);if(w!==0)return w}return rt(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Oe()}}function pE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const r=Ss(t),n=Ss(e),i=rt(r.seconds,n.seconds);return i!==0?i:rt(r.nanos,n.nanos)}function rl(t){return p0(t)}function p0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ss(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?el(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,Se.fromName(r).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=p0(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const u of i)a?a=!1:s+=",",s+=`${u}:${p0(n.fields[u])}`;return s+"}"}(t.mapValue):Oe();var e,r}function v0(t){return!!t&&"integerValue"in t}function z1(t){return!!t&&"arrayValue"in t}function vE(t){return!!t&&"nullValue"in t}function mE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nf(t){return!!t&&"mapValue"in t}function ku(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=ku(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ku(t.arrayValue.values[r]);return e}return Object.assign({},t)}function oW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,r){this.position=e,this.inclusive=r}}function gE(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Se.comparator(Se.fromName(a.referenceValue),r.key):n=tl(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function yE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Xn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{}class zt extends EO{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new hW(e,r,n):r==="array-contains"?new dW(e,n):r==="in"?new pW(e,n):r==="not-in"?new vW(e,n):r==="array-contains-any"?new mW(e,n):new zt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new cW(e,n):new fW(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(tl(r,this.value)):r!==null&&Pa(this.value)===Pa(r)&&this.matchesComparison(tl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qn extends EO{constructor(e,r){super(),this.filters=e,this.op=r,this.ht=null}static create(e,r){return new qn(e,r)}matches(e){return CO(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(r=>r.isInequality());return e!==null?e.field:null}lt(e){for(const r of this.getFlattenedFilters())if(e(r))return r;return null}}function CO(t){return t.op==="and"}function lW(t){return uW(t)&&CO(t)}function uW(t){for(const e of t.filters)if(e instanceof qn)return!1;return!0}function IO(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+rl(t.value);{const e=t.filters.map(r=>IO(r)).join(",");return`${t.op}(${e})`}}function PO(t,e){return t instanceof zt?function(r,n){return n instanceof zt&&r.op===n.op&&r.field.isEqual(n.field)&&Xn(r.value,n.value)}(t,e):t instanceof qn?function(r,n){return n instanceof qn&&r.op===n.op&&r.filters.length===n.filters.length?r.filters.reduce((i,s,a)=>i&&PO(s,n.filters[a]),!0):!1}(t,e):void Oe()}function AO(t){return t instanceof zt?function(e){return`${e.field.canonicalString()} ${e.op} ${rl(e.value)}`}(t):t instanceof qn?function(e){return e.op.toString()+" {"+e.getFilters().map(AO).join(" ,")+"}"}(t):"Filter"}class hW extends zt{constructor(e,r,n){super(e,r,n),this.key=Se.fromName(n.referenceValue)}matches(e){const r=Se.comparator(e.key,this.key);return this.matchesComparison(r)}}class cW extends zt{constructor(e,r){super(e,"in",r),this.keys=OO("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class fW extends zt{constructor(e,r){super(e,"not-in",r),this.keys=OO("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function OO(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Se.fromName(n.referenceValue))}class dW extends zt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return z1(r)&&Ph(r.arrayValue,this.value)}}class pW extends zt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ph(this.value.arrayValue,r)}}class vW extends zt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ph(this.value.arrayValue,r)}}class mW extends zt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!z1(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Ph(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,r="asc"){this.field=e,this.dir=r}}function gW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,r){this.comparator=e,this.root=r||sr.EMPTY}insert(e,r){return new Xt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cf(this.root,e,this.comparator,!0)}}class cf{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sr{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??sr.RED,this.left=i??sr.EMPTY,this.right=s??sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new sr(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return sr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(t,e,r,n,i){return this}insert(t,e,r){return new sr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new _E(this.data.getIterator())}getIteratorFrom(e){return new _E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new jt(this.comparator);return r.data=e,r}}class _E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new Gn([])}unionWith(e){let r=new jt(gr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Gn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Nf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ku(r)}setAll(e){let r=gr.emptyPath(),n={},i=[];e.forEach((a,u)=>{if(!r.isImmediateParentOf(u)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=u.popLast()}a?n[u.lastSegment()]=ku(a):i.push(u.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());Nf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Nf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){bl(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new on(ku(this.value))}}function kO(t){const e=[];return bl(t.fields,(r,n)=>{const i=new gr([r]);if(Nf(n)){const s=kO(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,r,n,i,s,a,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new mr(e,0,Re.min(),Re.min(),Re.min(),on.empty(),0)}static newFoundDocument(e,r,n,i){return new mr(e,1,r,Re.min(),n,i,0)}static newNoDocument(e,r){return new mr(e,2,r,Re.min(),Re.min(),on.empty(),0)}static newUnknownDocument(e,r){return new mr(e,3,r,Re.min(),Re.min(),on.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e,r=null,n=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.ft=null}}function wE(t,e=null,r=[],n=[],i=null,s=null,a=null){return new yW(t,e,r,n,i,s,a)}function H1(t){const e=Fe(t);if(e.ft===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>IO(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Wp(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>rl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>rl(n)).join(",")),e.ft=r}return e.ft}function $1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!gW(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!PO(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yE(t.startAt,e.startAt)&&yE(t.endAt,e.endAt)}function m0(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,r=null,n=[],i=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.dt=null,this._t=null,this.startAt,this.endAt}}function _W(t,e,r,n,i,s,a,u){return new jp(t,e,r,n,i,s,a,u)}function MO(t){return new jp(t)}function xE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wW(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function xW(t){for(const e of t.filters){const r=e.getFirstInequalityField();if(r!==null)return r}return null}function bW(t){return t.collectionGroup!==null}function Ro(t){const e=Fe(t);if(e.dt===null){e.dt=[];const r=xW(e),n=wW(e);if(r!==null&&n===null)r.isKeyField()||e.dt.push(new Mu(r)),e.dt.push(new Mu(gr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Mu(gr.keyField(),s))}}}return e.dt}function ki(t){const e=Fe(t);if(!e._t)if(e.limitType==="F")e._t=wE(e.path,e.collectionGroup,Ro(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const s of Ro(e)){const a=s.dir==="desc"?"asc":"desc";r.push(new Mu(s.field,a))}const n=e.endAt?new Ud(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ud(e.startAt.position,e.startAt.inclusive):null;e._t=wE(e.path,e.collectionGroup,r,e.filters,e.limit,n,i)}return e._t}function g0(t,e,r){return new jp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Gp(t,e){return $1(ki(t),ki(e))&&t.limitType===e.limitType}function DO(t){return`${H1(ki(t))}|lt:${t.limitType}`}function y0(t){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(n=>AO(n)).join(", ")}]`),Wp(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(n=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(n)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>rl(n)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>rl(n)).join(",")),`Target(${r})`}(ki(t))}; limitType=${t.limitType})`}function W1(t,e){return e.isFoundDocument()&&function(r,n){const i=n.key.path;return r.collectionGroup!==null?n.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,n){for(const i of Ro(r))if(!i.field.isKeyField()&&n.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,n){for(const i of r.filters)if(!i.matches(n))return!1;return!0}(t,e)&&function(r,n){return!(r.startAt&&!function(i,s,a){const u=gE(i,s,a);return i.inclusive?u<=0:u<0}(r.startAt,Ro(r),n)||r.endAt&&!function(i,s,a){const u=gE(i,s,a);return i.inclusive?u>=0:u>0}(r.endAt,Ro(r),n))}(t,e)}function TW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RO(t){return(e,r)=>{let n=!1;for(const i of Ro(t)){const s=SW(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function SW(t,e,r){const n=t.field.isKeyField()?Se.comparator(e.key,r.key):function(i,s,a){const u=s.data.field(i),c=a.data.field(i);return u!==null&&c!==null?tl(u,c):Oe()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ld(e)?"-0":e}}function FO(t){return{integerValue:""+t}}function EW(t,e){return sW(e)?FO(e):NO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this._=void 0}}function CW(t,e,r){return t instanceof Bd?function(n,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(r,e):t instanceof Ah?UO(t,e):t instanceof Oh?BO(t,e):function(n,i){const s=LO(n,i),a=bE(s)+bE(n.gt);return v0(s)&&v0(n.gt)?FO(a):NO(n.yt,a)}(t,e)}function IW(t,e,r){return t instanceof Ah?UO(t,e):t instanceof Oh?BO(t,e):r}function LO(t,e){return t instanceof Vd?v0(r=e)||function(n){return!!n&&"doubleValue"in n}(r)?e:{integerValue:0}:null;var r}class Bd extends Yp{}class Ah extends Yp{constructor(e){super(),this.elements=e}}function UO(t,e){const r=VO(e);for(const n of t.elements)r.some(i=>Xn(i,n))||r.push(n);return{arrayValue:{values:r}}}class Oh extends Yp{constructor(e){super(),this.elements=e}}function BO(t,e){let r=VO(e);for(const n of t.elements)r=r.filter(i=>!Xn(i,n));return{arrayValue:{values:r}}}class Vd extends Yp{constructor(e,r){super(),this.yt=e,this.gt=r}}function bE(t){return Ft(t.integerValue||t.doubleValue)}function VO(t){return z1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function PW(t,e){return t.field.isEqual(e.field)&&function(r,n){return r instanceof Ah&&n instanceof Ah||r instanceof Oh&&n instanceof Oh?Jo(r.elements,n.elements,Xn):r instanceof Vd&&n instanceof Vd?Xn(r.gt,n.gt):r instanceof Bd&&n instanceof Bd}(t.transform,e.transform)}class AW{constructor(e,r){this.version=e,this.transformResults=r}}class Ti{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xp{}function zO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $O(t.key,Ti.none()):new uc(t.key,t.data,Ti.none());{const r=t.data,n=on.empty();let i=new jt(gr.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Va(t.key,n,new Gn(i.toArray()),Ti.none())}}function OW(t,e,r){t instanceof uc?function(n,i,s){const a=n.value.clone(),u=SE(n.fieldTransforms,i,s.transformResults);a.setAll(u),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,r):t instanceof Va?function(n,i,s){if(!Ff(n.precondition,i))return void i.convertToUnknownDocument(s.version);const a=SE(n.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(HO(n)),u.setAll(a),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,r):function(n,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function Du(t,e,r,n){return t instanceof uc?function(i,s,a,u){if(!Ff(i.precondition,s))return a;const c=i.value.clone(),d=EE(i.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof Va?function(i,s,a,u){if(!Ff(i.precondition,s))return a;const c=EE(i.fieldTransforms,u,s),d=s.data;return d.setAll(HO(i)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(i,s,a){return Ff(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,r)}function kW(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=LO(n.transform,i||null);s!=null&&(r===null&&(r=on.empty()),r.set(n.field,s))}return r||null}function TE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,n){return r===void 0&&n===void 0||!(!r||!n)&&Jo(r,n,(i,s)=>PW(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uc extends Xp{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Va extends Xp{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function HO(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function SE(t,e,r){const n=new Map;ft(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,u=e.data.field(s.field);n.set(s.field,IW(a,u,r[i]))}return n}function EE(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,CW(s,a,e))}return n}class $O extends Xp{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MW extends Xp{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Ge;function RW(t){switch(t){default:return Oe();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function WO(t){if(t===void 0)return Oi("GRPC error has no .code"),Q.UNKNOWN;switch(t){case Nt.OK:return Q.OK;case Nt.CANCELLED:return Q.CANCELLED;case Nt.UNKNOWN:return Q.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Q.INTERNAL;case Nt.UNAVAILABLE:return Q.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Q.NOT_FOUND;case Nt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Nt.ABORTED:return Q.ABORTED;case Nt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Nt.DATA_LOSS:return Q.DATA_LOSS;default:return Oe()}}(Ge=Nt||(Nt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bl(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return bO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW=new Xt(Se.comparator);function Mi(){return NW}const jO=new Xt(Se.comparator);function pu(...t){let e=jO;for(const r of t)e=e.insert(r.key,r);return e}function GO(t){let e=jO;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ua(){return Ru()}function YO(){return Ru()}function Ru(){return new Tl(t=>t.toString(),(t,e)=>t.isEqual(e))}const FW=new Xt(Se.comparator),LW=new jt(Se.comparator);function $e(...t){let e=LW;for(const r of t)e=e.add(r);return e}const UW=new jt(rt);function XO(){return UW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,hc.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new qp(Re.min(),i,XO(),Mi(),$e())}}class hc{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new hc(n,r,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,r,n,i){this.It=e,this.removedTargetIds=r,this.key=n,this.Tt=i}}class qO{constructor(e,r){this.targetId=e,this.Et=r}}class KO{constructor(e,r,n=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class CE{constructor(){this.At=0,this.Rt=PE(),this.bt=Sr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=$e(),r=$e(),n=$e();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Oe()}}),new hc(this.bt,this.Pt,e,r,n)}xt(){this.vt=!1,this.Rt=PE()}Nt(e,r){this.vt=!0,this.Rt=this.Rt.insert(e,r)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class BW{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Mi(),this.qt=IE(),this.Ut=new jt(rt)}Kt(e){for(const r of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt);for(const r of e.removedTargetIds)this.Qt(r,e.key,e.Tt)}jt(e){this.forEachTarget(e,r=>{const n=this.Wt(r);switch(e.state){case 0:this.zt(r)&&n.Dt(e.resumeToken);break;case 1:n.Mt(),n.Vt||n.xt(),n.Dt(e.resumeToken);break;case 2:n.Mt(),n.Vt||this.removeTarget(r);break;case 3:this.zt(r)&&(n.Ft(),n.Dt(e.resumeToken));break;case 4:this.zt(r)&&(this.Ht(r),n.Dt(e.resumeToken));break;default:Oe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Bt.forEach((n,i)=>{this.zt(i)&&r(i)})}Jt(e){const r=e.targetId,n=e.Et.count,i=this.Yt(r);if(i){const s=i.target;if(m0(s))if(n===0){const a=new Se(s.path);this.Qt(r,a,mr.newNoDocument(a,Re.min()))}else ft(n===1);else this.Xt(r)!==n&&(this.Ht(r),this.Ut=this.Ut.add(r))}}Zt(e){const r=new Map;this.Bt.forEach((s,a)=>{const u=this.Yt(a);if(u){if(s.current&&m0(u.target)){const c=new Se(u.target.path);this.Lt.get(c)!==null||this.te(a,c)||this.Qt(a,c,mr.newNoDocument(c,e))}s.St&&(r.set(a,s.Ct()),s.xt())}});let n=$e();this.qt.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const d=this.Yt(c);return!d||d.purpose===2||(u=!1,!1)}),u&&(n=n.add(s))}),this.Lt.forEach((s,a)=>a.setReadTime(e));const i=new qp(e,r,this.Ut,this.Lt,n);return this.Lt=Mi(),this.qt=IE(),this.Ut=new jt(rt),i}Gt(e,r){if(!this.zt(e))return;const n=this.te(e,r.key)?2:0;this.Wt(e).Nt(r.key,n),this.Lt=this.Lt.insert(r.key,r),this.qt=this.qt.insert(r.key,this.ee(r.key).add(e))}Qt(e,r,n){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,r)?i.Nt(r,1):i.kt(r),this.qt=this.qt.insert(r,this.ee(r).delete(e)),n&&(this.Lt=this.Lt.insert(r,n))}removeTarget(e){this.Bt.delete(e)}Xt(e){const r=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let r=this.Bt.get(e);return r||(r=new CE,this.Bt.set(e,r)),r}ee(e){let r=this.qt.get(e);return r||(r=new jt(rt),this.qt=this.qt.insert(e,r)),r}zt(e){const r=this.Yt(e)!==null;return r||_e("WatchChangeAggregator","Detected inactive target",e),r}Yt(e){const r=this.Bt.get(e);return r&&r.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new CE),this.$t.getRemoteKeysForTarget(e).forEach(r=>{this.Qt(e,r,null)})}te(e,r){return this.$t.getRemoteKeysForTarget(e).has(r)}}function IE(){return new Xt(Se.comparator)}function PE(){return new Xt(Se.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),zW=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),HW=(()=>({and:"AND",or:"OR"}))();class $W{constructor(e,r){this.databaseId=e,this.wt=r}}function zd(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QO(t,e){return t.wt?e.toBase64():e.toUint8Array()}function WW(t,e){return zd(t,e.toTimestamp())}function Yn(t){return ft(!!t),Re.fromTimestamp(function(e){const r=Ss(e);return new Wt(r.seconds,r.nanos)}(t))}function j1(t,e){return function(r){return new bt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function ZO(t){const e=bt.fromString(t);return ft(rk(e)),e}function _0(t,e){return j1(t.databaseId,e.path)}function hg(t,e){const r=ZO(e);if(r.get(1)!==t.databaseId.projectId)throw new Ie(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ie(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Se(JO(r))}function w0(t,e){return j1(t.databaseId,e)}function jW(t){const e=ZO(t);return e.length===4?bt.emptyPath():JO(e)}function x0(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JO(t){return ft(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function AE(t,e,r){return{name:_0(t,e),fields:r.value.mapValue.fields}}function GW(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.wt?(ft(d===void 0||typeof d=="string"),Sr.fromBase64String(d||"")):(ft(d===void 0||d instanceof Uint8Array),Sr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(c){const d=c.code===void 0?Q.UNKNOWN:WO(c.code);return new Ie(d,c.message||"")}(a);r=new KO(n,i,s,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=hg(t,n.document.name),s=Yn(n.document.updateTime),a=n.document.createTime?Yn(n.document.createTime):Re.min(),u=new on({mapValue:{fields:n.document.fields}}),c=mr.newFoundDocument(i,s,a,u),d=n.targetIds||[],m=n.removedTargetIds||[];r=new Lf(d,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=hg(t,n.document),s=n.readTime?Yn(n.readTime):Re.min(),a=mr.newNoDocument(i,s),u=n.removedTargetIds||[];r=new Lf([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=hg(t,n.document),s=n.removedTargetIds||[];r=new Lf([],s,i,null)}else{if(!("filter"in e))return Oe();{e.filter;const n=e.filter;n.targetId;const i=n.count||0,s=new DW(i),a=n.targetId;r=new qO(a,s)}}return r}function YW(t,e){let r;if(e instanceof uc)r={update:AE(t,e.key,e.value)};else if(e instanceof $O)r={delete:_0(t,e.key)};else if(e instanceof Va)r={update:AE(t,e.key,e.data),updateMask:rj(e.fieldMask)};else{if(!(e instanceof MW))return Oe();r={verify:_0(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,s){const a=s.transform;if(a instanceof Bd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ah)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Vd)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw Oe()}(0,n))),e.precondition.isNone||(r.currentDocument=function(n,i){return i.updateTime!==void 0?{updateTime:WW(n,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Oe()}(t,e.precondition)),r}function XW(t,e){return t&&t.length>0?(ft(e!==void 0),t.map(r=>function(n,i){let s=n.updateTime?Yn(n.updateTime):Yn(i);return s.isEqual(Re.min())&&(s=Yn(i)),new AW(s,n.transformResults||[])}(r,e))):[]}function qW(t,e){return{documents:[w0(t,e.path)]}}function KW(t,e){const r={structuredQuery:{}},n=e.path;e.collectionGroup!==null?(r.parent=w0(t,n),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=w0(t,n.popLast()),r.structuredQuery.from=[{collectionId:n.lastSegment()}]);const i=function(c){if(c.length!==0)return tk(qn.create(c,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:so(m.field),direction:JW(m.dir)}}(d))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const a=function(c,d){return c.wt||Wp(d)?d:{value:d}}(t,e.limit);var u;return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),r}function QW(t){let e=jW(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ft(n===1);const m=r.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];r.where&&(s=function(m){const _=ek(m);return _ instanceof qn&&lW(_)?_.getFilters():[_]}(r.where));let a=[];r.orderBy&&(a=r.orderBy.map(m=>function(_){return new Mu(ao(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m)));let u=null;r.limit&&(u=function(m){let _;return _=typeof m=="object"?m.value:m,Wp(_)?null:_}(r.limit));let c=null;r.startAt&&(c=function(m){const _=!!m.before,w=m.values||[];return new Ud(w,_)}(r.startAt));let d=null;return r.endAt&&(d=function(m){const _=!m.before,w=m.values||[];return new Ud(w,_)}(r.endAt)),_W(e,i,a,s,u,"F",c,d)}function ZW(t,e){const r=function(n,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Oe()}}(0,e.purpose);return r==null?null:{"goog-listen-tags":r}}function ek(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=ao(e.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const n=ao(e.unaryFilter.field);return zt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ao(e.unaryFilter.field);return zt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ao(e.unaryFilter.field);return zt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(t):t.fieldFilter!==void 0?function(e){return zt.create(ao(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return qn.create(e.compositeFilter.filters.map(r=>ek(r)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Oe()}}(e.compositeFilter.op))}(t):Oe()}function JW(t){return VW[t]}function ej(t){return zW[t]}function tj(t){return HW[t]}function so(t){return{fieldPath:t.canonicalString()}}function ao(t){return gr.fromServerFormat(t.fieldPath)}function tk(t){return t instanceof zt?function(e){if(e.op==="=="){if(mE(e.value))return{unaryFilter:{field:so(e.field),op:"IS_NAN"}};if(vE(e.value))return{unaryFilter:{field:so(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(mE(e.value))return{unaryFilter:{field:so(e.field),op:"IS_NOT_NAN"}};if(vE(e.value))return{unaryFilter:{field:so(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(e.field),op:ej(e.op),value:e.value}}}(t):t instanceof qn?function(e){const r=e.getFilters().map(n=>tk(n));return r.length===1?r[0]:{compositeFilter:{op:tj(e.op),filters:r}}}(t):Oe()}function rj(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function rk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&OW(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Du(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Du(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=YO();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=r.has(i.key)?null:u;const c=zO(a,u);c!==null&&n.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Re.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),$e())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(r,n)=>TE(r,n))&&Jo(this.baseMutations,e.baseMutations,(r,n)=>TE(r,n))}}class G1{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ft(e.mutations.length===n.length);let i=FW;const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new G1(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,r,n,i,s=Re.min(),a=Re.min(),u=Sr.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.ie=e}}function aj(t){const e=QW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?g0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.Je=new lj}addToCollectionParentIndex(e,r){return this.Je.add(r),Z.resolve()}getCollectionParents(e,r){return Z.resolve(this.Je.getEntries(r))}addFieldIndex(e,r){return Z.resolve()}deleteFieldIndex(e,r){return Z.resolve()}getDocumentsMatchingTarget(e,r){return Z.resolve(null)}getIndexType(e,r){return Z.resolve(0)}getFieldIndexes(e,r){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,r){return Z.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,r){return Z.resolve(Ts.min())}updateCollectionGroup(e,r,n){return Z.resolve()}updateIndexEntries(e,r){return Z.resolve()}}class lj{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new jt(bt.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new jt(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new nl(0)}static vn(){return new nl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this.changes=new Tl(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Z.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Du(n.mutation,i,Gn.empty(),Wt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,$e()).next(()=>n))}getLocalViewOfDocuments(e,r,n=$e()){const i=ua();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=pu();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=ua();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,$e()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,u)=>{r.set(a,u)})})}computeViews(e,r,n,i){let s=Mi();const a=Ru(),u=Ru();return r.forEach((c,d)=>{const m=n.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof Va)?s=s.insert(d.key,d):m!==void 0&&(a.set(d.key,m.mutation.getFieldMask()),Du(m.mutation,d,m.mutation.getFieldMask(),Wt.now()))}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,m)=>a.set(d,m)),r.forEach((d,m)=>{var _;return u.set(d,new hj(m,(_=a.get(d))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,r){const n=Ru();let i=new Xt((a,u)=>a-u),s=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const u of a)u.keys().forEach(c=>{const d=r.get(c);if(d===null)return;let m=n.get(c)||Gn.empty();m=u.applyToLocalView(d,m),n.set(c,m);const _=(i.get(u.batchId)||$e()).add(c);i=i.insert(u.batchId,_)})}).next(()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,m=c.value,_=YO();m.forEach(w=>{if(!s.has(w)){const T=zO(r.get(w),n.get(w));T!==null&&_.set(w,T),s=s.add(w)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,_))}return Z.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n){return function(i){return Se.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):bW(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n):this.getDocumentsMatchingCollectionQuery(e,r,n)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):Z.resolve(ua());let u=-1,c=s;return a.next(d=>Z.forEach(d,(m,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),s.get(m)?Z.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{c=c.insert(m,w)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,$e())).next(m=>({batchId:u,changes:GO(m)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Se(r)).next(n=>{let i=pu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n){const i=r.collectionGroup;let s=pu();return this.indexManager.getCollectionParents(e,i).next(a=>Z.forEach(a,u=>{const c=function(d,m){return new jp(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,n).next(d=>{d.forEach((m,_)=>{s=s.insert(m,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n){let i;return this.remoteDocumentCache.getAllFromCollection(e,r.path,n).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId))).next(s=>{s.forEach((u,c)=>{const d=c.getKey();i.get(d)===null&&(i=i.insert(d,mr.newInvalidDocument(d)))});let a=pu();return i.forEach((u,c)=>{const d=s.get(u);d!==void 0&&Du(d.mutation,c,Gn.empty(),Wt.now()),W1(r,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,r){return Z.resolve(this.Zn.get(r))}saveBundleMetadata(e,r){var n;return this.Zn.set(r.id,{id:(n=r).id,version:n.version,createTime:Yn(n.createTime)}),Z.resolve()}getNamedQuery(e,r){return Z.resolve(this.ts.get(r))}saveNamedQuery(e,r){return this.ts.set(r.name,function(n){return{name:n.name,query:aj(n.bundledQuery),readTime:Yn(n.readTime)}}(r)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.overlays=new Xt(Se.comparator),this.es=new Map}getOverlay(e,r){return Z.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ua();return Z.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.oe(e,r,s)}),Z.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.es.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(n)),Z.resolve()}getOverlaysForCollection(e,r,n){const i=ua(),s=r.length+1,a=new Se(r.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>n&&i.set(c.getKey(),c)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Xt((d,m)=>d-m);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let m=s.get(d.largestBatchId);m===null&&(m=ua(),s=s.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=ua(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,m)=>u.set(d,m)),!(u.size()>=i)););return Z.resolve(u)}oe(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.es.get(i.largestBatchId).delete(n.key);this.es.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new ij(r,n));let s=this.es.get(r);s===void 0&&(s=$e(),this.es.set(r,s)),this.es.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.ns=new jt(Qt.ss),this.rs=new jt(Qt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,r){const n=new Qt(e,r);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.cs(new Qt(e,r))}hs(e,r){e.forEach(n=>this.removeReference(n,r))}ls(e){const r=new Se(new bt([])),n=new Qt(r,e),i=new Qt(r,e+1),s=[];return this.rs.forEachInRange([n,i],a=>{this.cs(a),s.push(a.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const r=new Se(new bt([])),n=new Qt(r,e),i=new Qt(r,e+1);let s=$e();return this.rs.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new Qt(e,0),n=this.ns.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Qt{constructor(e,r){this.key=e,this._s=r}static ss(e,r){return Se.comparator(e.key,r.key)||rt(e._s,r._s)}static os(e,r){return rt(e._s,r._s)||Se.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.ws=1,this.gs=new jt(Qt.ss)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new nj(s,r,n,i);this.mutationQueue.push(a);for(const u of i)this.gs=this.gs.add(new Qt(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Z.resolve(a)}lookupMutationBatch(e,r){return Z.resolve(this.ys(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ps(n),s=i<0?0:i;return Z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Qt(r,0),i=new Qt(r,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([n,i],a=>{const u=this.ys(a._s);s.push(u)}),Z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new jt(rt);return r.forEach(i=>{const s=new Qt(i,0),a=new Qt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,a],u=>{n=n.add(u._s)})}),Z.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Se.isDocumentKey(s)||(s=s.child(""));const a=new Qt(new Se(s),0);let u=new jt(rt);return this.gs.forEachWhile(c=>{const d=c.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(u=u.add(c._s)),!0)},a),Z.resolve(this.Is(u))}Is(e){const r=[];return e.forEach(n=>{const i=this.ys(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){ft(this.Ts(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.gs;return Z.forEach(r.mutations,i=>{const s=new Qt(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=n})}An(e){}containsKey(e,r){const n=new Qt(r,0),i=this.gs.firstAfterOrEqual(n);return Z.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Ts(e,r){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const r=this.ps(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.Es=e,this.docs=new Xt(Se.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Es(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Z.resolve(n?n.document.mutableCopy():mr.newInvalidDocument(r))}getEntries(e,r){let n=Mi();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():mr.newInvalidDocument(i))}),Z.resolve(n)}getAllFromCollection(e,r,n){let i=Mi();const s=new Se(r.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:u,value:{document:c}}=a.getNext();if(!r.isPrefixOf(u.path))break;u.path.length>r.length+1||tW(eW(c),n)<=0||(i=i.insert(c.key,c.mutableCopy()))}return Z.resolve(i)}getAllFromCollectionGroup(e,r,n,i){Oe()}As(e,r){return Z.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new mj(this)}getSize(e){return Z.resolve(this.size)}}class mj extends uj{constructor(e){super(),this.Yn=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(n)}),Z.waitFor(r)}getFromCache(e,r){return this.Yn.getEntry(e,r)}getAllFromCache(e,r){return this.Yn.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.persistence=e,this.Rs=new Tl(r=>H1(r),$1),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Y1,this.targetCount=0,this.vs=nl.Pn()}forEachTarget(e,r){return this.Rs.forEach((n,i)=>r(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.bs&&(this.bs=r),Z.resolve()}Dn(e){this.Rs.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.vs=new nl(r),this.highestTargetId=r),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,r){return this.Dn(r),this.targetCount+=1,Z.resolve()}updateTargetData(e,r){return this.Dn(r),Z.resolve()}removeTargetData(e,r){return this.Rs.delete(r.target),this.Ps.ls(r.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Rs.forEach((a,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Rs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Z.waitFor(s).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,r){const n=this.Rs.get(r)||null;return Z.resolve(n)}addMatchingKeys(e,r,n){return this.Ps.us(r,n),Z.resolve()}removeMatchingKeys(e,r,n){this.Ps.hs(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Z.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Ps.ls(r),Z.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ps.ds(r);return Z.resolve(n)}containsKey(e,r){return Z.resolve(this.Ps.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,r){this.Vs={},this.overlays={},this.Ss=new V1(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new gj(this),this.indexManager=new oj,this.remoteDocumentCache=function(n){return new vj(n)}(n=>this.referenceDelegate.xs(n)),this.yt=new sj(r),this.Ns=new fj(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new dj,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Vs[e.toKey()];return n||(n=new pj(r,this.referenceDelegate),this.Vs[e.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,r,n){_e("MemoryPersistence","Starting transaction:",e);const i=new _j(this.Ss.next());return this.referenceDelegate.ks(),n(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,r){return Z.or(Object.values(this.Vs).map(n=>()=>n.containsKey(e,r)))}}class _j extends nW{constructor(e){super(),this.currentSequenceNumber=e}}class X1{constructor(e){this.persistence=e,this.Fs=new Y1,this.$s=null}static Bs(e){return new X1(e)}get Ls(){if(this.$s)return this.$s;throw Oe()}addReference(e,r,n){return this.Fs.addReference(n,r),this.Ls.delete(n.toString()),Z.resolve()}removeReference(e,r,n){return this.Fs.removeReference(n,r),this.Ls.add(n.toString()),Z.resolve()}markPotentiallyOrphaned(e,r){return this.Ls.add(r.toString()),Z.resolve()}removeTarget(e,r){this.Fs.ls(r.targetId).forEach(i=>this.Ls.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}ks(){this.$s=new Set}Os(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Ls,n=>{const i=Se.fromPath(n);return this.qs(e,i).next(s=>{s||r.removeEntry(i,Re.min())})}).next(()=>(this.$s=null,r.apply(e)))}updateLimboDocument(e,r){return this.qs(e,r).next(n=>{n?this.Ls.delete(r.toString()):this.Ls.add(r.toString())})}xs(e){return 0}qs(e,r){return Z.or([()=>Z.resolve(this.Fs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ms(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Si=n,this.Di=i}static Ci(e,r){let n=$e(),i=$e();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new q1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this.xi=!1}initialize(e,r){this.Ni=e,this.indexManager=r,this.xi=!0}getDocumentsMatchingQuery(e,r,n,i){return this.ki(e,r).next(s=>s||this.Oi(e,r,i,n)).next(s=>s||this.Mi(e,r))}ki(e,r){if(xE(r))return Z.resolve(null);let n=ki(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=g0(r,null,"F"),n=ki(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=$e(...s);return this.Ni.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,n).next(c=>{const d=this.Fi(r,u);return this.$i(r,d,a,c.readTime)?this.ki(e,g0(r,null,"F")):this.Bi(e,d,r,c)}))})))}Oi(e,r,n,i){return xE(r)||i.isEqual(Re.min())?this.Mi(e,r):this.Ni.getDocuments(e,n).next(s=>{const a=this.Fi(r,s);return this.$i(r,a,n,i)?this.Mi(e,r):(fE()<=tt.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),y0(r)),this.Bi(e,a,r,J$(i,-1)))})}Fi(e,r){let n=new jt(RO(e));return r.forEach((i,s)=>{W1(e,s)&&(n=n.add(s))}),n}$i(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,r){return fE()<=tt.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",y0(r)),this.Ni.getDocumentsMatchingQuery(e,r,Ts.min())}Bi(e,r,n,i){return this.Ni.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,r,n,i){this.persistence=e,this.Li=r,this.yt=i,this.qi=new Xt(rt),this.Ui=new Tl(s=>H1(s),$1),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(n)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cj(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.qi))}}function bj(t,e,r,n){return new xj(t,e,r,n)}async function nk(t,e){const r=Fe(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.Qi(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],u=[];let c=$e();for(const d of i){a.push(d.batchId);for(const m of d.mutations)c=c.add(m.key)}for(const d of s){u.push(d.batchId);for(const m of d.mutations)c=c.add(m.key)}return r.localDocuments.getDocuments(n,c).next(d=>({ji:d,removedBatchIds:a,addedBatchIds:u}))})})}function Tj(t,e){const r=Fe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.Gi.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const m=c.batch,_=m.keys();let w=Z.resolve();return _.forEach(T=>{w=w.next(()=>d.getEntry(u,T)).next(S=>{const P=c.docVersions.get(T);ft(P!==null),S.version.compareTo(P)<0&&(m.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),d.addEntry(S)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let u=$e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function ik(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Cs.getLastRemoteSnapshotVersion(r))}function Sj(t,e){const r=Fe(t),n=e.snapshotVersion;let i=r.qi;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.Gi.newChangeBuffer({trackRemovals:!0});i=r.qi;const u=[];e.targetChanges.forEach((m,_)=>{const w=i.get(_);if(!w)return;u.push(r.Cs.removeMatchingKeys(s,m.removedDocuments,_).next(()=>r.Cs.addMatchingKeys(s,m.addedDocuments,_)));let T=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(_)?T=T.withResumeToken(Sr.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,n)),i=i.insert(_,T),function(S,P,E){return S.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(w,T,m)&&u.push(r.Cs.updateTargetData(s,T))});let c=Mi(),d=$e();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(Ej(s,a,e.documentUpdates).next(m=>{c=m.Wi,d=m.zi})),!n.isEqual(Re.min())){const m=r.Cs.getLastRemoteSnapshotVersion(s).next(_=>r.Cs.setTargetsMetadata(s,s.currentSequenceNumber,n));u.push(m)}return Z.waitFor(u).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(r.qi=i,s))}function Ej(t,e,r){let n=$e(),i=$e();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=Mi();return r.forEach((u,c)=>{const d=s.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Re.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):_e("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)}),{Wi:a,zi:i}})}function Cj(t,e){const r=Fe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Ij(t,e){const r=Fe(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Cs.getTargetData(n,e).next(s=>s?(i=s,Z.resolve(i)):r.Cs.allocateTargetId(n).next(a=>(i=new ma(e,a,0,n.currentSequenceNumber),r.Cs.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.qi.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.qi=r.qi.insert(n.targetId,n),r.Ui.set(e,n.targetId)),n})}async function b0(t,e,r){const n=Fe(t),i=n.qi.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!lc(a))throw a;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.qi=n.qi.remove(e),n.Ui.delete(i.target)}function OE(t,e,r){const n=Fe(t);let i=Re.min(),s=$e();return n.persistence.runTransaction("Execute query","readonly",a=>function(u,c,d){const m=Fe(u),_=m.Ui.get(d);return _!==void 0?Z.resolve(m.qi.get(_)):m.Cs.getTargetData(c,d)}(n,a,ki(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Cs.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>n.Li.getDocumentsMatchingQuery(a,e,r?i:Re.min(),r?s:$e())).next(u=>(Pj(n,TW(e),u),{documents:u,Hi:s})))}function Pj(t,e,r){let n=t.Ki.get(e)||Re.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.Ki.set(e,n)}class kE{constructor(){this.activeTargetIds=XO()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Aj{constructor(){this.Lr=new kE,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,r,n){this.qr[e]=r}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new kE,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http";this.oo=r+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,r,n,i,s){const a=this.ho(e,r);_e("RestConnection","Sending: ",a,n);const u={};return this.lo(u,i,s),this.fo(e,a,u,n).then(c=>(_e("RestConnection","Received: ",c),c),c=>{throw d0("RestConnection",`${e} failed with error: `,c,"url: ",a,"request:",n),c})}_o(e,r,n,i,s,a){return this.ao(e,r,n,i,s)}lo(e,r,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+xl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>e[s]=i),n&&n.headers.forEach((i,s)=>e[s]=i)}ho(e,r){const n=kj[e];return`${this.oo}/v1/${r}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,r,n,i){return new Promise((s,a)=>{const u=new $$;u.setWithCredentials(!0),u.listenOnce(V$.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ug.NO_ERROR:const d=u.getResponseJson();_e("Connection","XHR received:",JSON.stringify(d)),s(d);break;case ug.TIMEOUT:_e("Connection",'RPC "'+e+'" timed out'),a(new Ie(Q.DEADLINE_EXCEEDED,"Request time out"));break;case ug.HTTP_ERROR:const m=u.getStatus();if(_e("Connection",'RPC "'+e+'" failed with status:',m,"response text:",u.getResponseText()),m>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_==null?void 0:_.error;if(w&&w.status&&w.message){const T=function(S){const P=S.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(P)>=0?P:Q.UNKNOWN}(w.status);a(new Ie(T,w.message))}else a(new Ie(Q.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Ie(Q.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{_e("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(i);u.send(r,"POST",c,n,15)})}wo(e,r,n){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=U$(),a=B$(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new H$({})),this.lo(u.initMessageHeaders,r,n),u.encodeInitMessageHeaders=!0;const c=i.join("");_e("Connection","Creating WebChannel: "+c,u);const d=s.createWebChannel(c,u);let m=!1,_=!1;const w=new Mj({Hr:S=>{_?_e("Connection","Not sending because WebChannel is closed:",S):(m||(_e("Connection","Opening WebChannel transport."),d.open(),m=!0),_e("Connection","WebChannel sending:",S),d.send(S))},Jr:()=>d.close()}),T=(S,P,E)=>{S.listen(P,A=>{try{E(A)}catch(O){setTimeout(()=>{throw O},0)}})};return T(d,uf.EventType.OPEN,()=>{_||_e("Connection","WebChannel transport opened.")}),T(d,uf.EventType.CLOSE,()=>{_||(_=!0,_e("Connection","WebChannel transport closed"),w.io())}),T(d,uf.EventType.ERROR,S=>{_||(_=!0,d0("Connection","WebChannel transport errored:",S),w.io(new Ie(Q.UNAVAILABLE,"The operation could not be completed")))}),T(d,uf.EventType.MESSAGE,S=>{var P;if(!_){const E=S.data[0];ft(!!E);const A=E,O=A.error||((P=A[0])===null||P===void 0?void 0:P.error);if(O){_e("Connection","WebChannel received error:",O);const M=O.status;let R=function(L){const W=Nt[L];if(W!==void 0)return WO(W)}(M),V=O.message;R===void 0&&(R=Q.INTERNAL,V="Unknown error status: "+M+" with message "+O.message),_=!0,w.io(new Ie(R,V)),d.close()}else _e("Connection","WebChannel received:",E),w.ro(E)}}),T(a,z$.STAT_EVENT,S=>{S.stat===hE.PROXY?_e("Connection","Detected buffering proxy"):S.stat===hE.NOPROXY&&_e("Connection","Detected no buffering proxy")}),setTimeout(()=>{w.so()},0),w}}function cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t){return new $W(t,!0)}class sk{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=r,this.mo=n,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const r=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),i=Math.max(0,r-n);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,r,n,i,s,a,u,c){this.Hs=e,this.vo=n,this.Vo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new sk(e,r)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,r){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():r&&r.code===Q.RESOURCE_EXHAUSTED?(Oi(r.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):r&&r.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(r)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),r=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.So===r&&this.Go(n,i)},n=>{e(()=>{const i=new Ie(Q.UNKNOWN,"Fetching auth token failed: "+n.message);return this.Qo(i)})})}Go(e,r){const n=this.Ko(this.So);this.stream=this.jo(e,r),this.stream.Yr(()=>{n(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{n(()=>this.Qo(i))}),this.stream.onMessage(i=>{n(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return r=>{this.Hs.enqueueAndForget(()=>this.So===e?r():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rj extends ak{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.yt=s}jo(e,r){return this.connection.wo("Listen",e,r)}onMessage(e){this.xo.reset();const r=GW(this.yt,e),n=function(i){if(!("targetChange"in i))return Re.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Re.min():s.readTime?Yn(s.readTime):Re.min()}(e);return this.listener.Wo(r,n)}zo(e){const r={};r.database=x0(this.yt),r.addTarget=function(i,s){let a;const u=s.target;return a=m0(u)?{documents:qW(i,u)}:{query:KW(i,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=QO(i,s.resumeToken):s.snapshotVersion.compareTo(Re.min())>0&&(a.readTime=zd(i,s.snapshotVersion.toTimestamp())),a}(this.yt,e);const n=ZW(this.yt,e);n&&(r.labels=n),this.Bo(r)}Ho(e){const r={};r.database=x0(this.yt),r.removeTarget=e,this.Bo(r)}}class Nj extends ak{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,r){return this.connection.wo("Write",e,r)}onMessage(e){if(ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const r=XW(e.writeResults,e.commitTime),n=Yn(e.commitTime);return this.listener.Zo(n,r)}return ft(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=x0(this.yt),this.Bo(e)}Xo(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>YW(this.yt,n))};this.Bo(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Ie(Q.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,r,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,r,n,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ie(Q.UNKNOWN,i.toString())})}_o(e,r,n,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection._o(e,r,n,s,a,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(Q.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class Lj{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Oi(r),this.ou=!1):_e("OnlineStateTracker",r)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{n.enqueueAndForget(async()=>{za(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Fe(u);c._u.add(4),await cc(c),c.gu.set("Unknown"),c._u.delete(4),await Qp(c)}(this))})}),this.gu=new Lj(n,i)}}async function Qp(t){if(za(t))for(const e of t.wu)await e(!0)}async function cc(t){for(const e of t.wu)await e(!1)}function ok(t,e){const r=Fe(t);r.du.has(e.targetId)||(r.du.set(e.targetId,e),Z1(r)?Q1(r):Sl(r).ko()&&K1(r,e))}function lk(t,e){const r=Fe(t),n=Sl(r);r.du.delete(e),n.ko()&&uk(r,e),r.du.size===0&&(n.ko()?n.Fo():za(r)&&r.gu.set("Unknown"))}function K1(t,e){t.yu.Ot(e.targetId),Sl(t).zo(e)}function uk(t,e){t.yu.Ot(e),Sl(t).Ho(e)}function Q1(t){t.yu=new BW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Sl(t).start(),t.gu.uu()}function Z1(t){return za(t)&&!Sl(t).No()&&t.du.size>0}function za(t){return Fe(t)._u.size===0}function hk(t){t.yu=void 0}async function Bj(t){t.du.forEach((e,r)=>{K1(t,e)})}async function Vj(t,e){hk(t),Z1(t)?(t.gu.hu(e),Q1(t)):t.gu.set("Unknown")}async function zj(t,e,r){if(t.gu.set("Online"),e instanceof KO&&e.state===2&&e.cause)try{await async function(n,i){const s=i.cause;for(const a of i.targetIds)n.du.has(a)&&(await n.remoteSyncer.rejectListen(a,s),n.du.delete(a),n.yu.removeTarget(a))}(t,e)}catch(n){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Hd(t,n)}else if(e instanceof Lf?t.yu.Kt(e):e instanceof qO?t.yu.Jt(e):t.yu.jt(e),!r.isEqual(Re.min()))try{const n=await ik(t.localStore);r.compareTo(n)>=0&&await function(i,s){const a=i.yu.Zt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.du.get(c);d&&i.du.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach(u=>{const c=i.du.get(u);if(!c)return;i.du.set(u,c.withResumeToken(Sr.EMPTY_BYTE_STRING,c.snapshotVersion)),uk(i,u);const d=new ma(c.target,u,1,c.sequenceNumber);K1(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){_e("RemoteStore","Failed to raise snapshot:",n),await Hd(t,n)}}async function Hd(t,e,r){if(!lc(e))throw e;t._u.add(1),await cc(t),t.gu.set("Offline"),r||(r=()=>ik(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e("RemoteStore","Retrying IndexedDB access"),await r(),t._u.delete(1),await Qp(t)})}function ck(t,e){return e().catch(r=>Hd(t,r,e))}async function Zp(t){const e=Fe(t),r=Es(e);let n=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Hj(e);)try{const i=await Cj(e.localStore,n);if(i===null){e.fu.length===0&&r.Fo();break}n=i.batchId,$j(e,i)}catch(i){await Hd(e,i)}fk(e)&&dk(e)}function Hj(t){return za(t)&&t.fu.length<10}function $j(t,e){t.fu.push(e);const r=Es(t);r.ko()&&r.Yo&&r.Xo(e.mutations)}function fk(t){return za(t)&&!Es(t).No()&&t.fu.length>0}function dk(t){Es(t).start()}async function Wj(t){Es(t).eu()}async function jj(t){const e=Es(t);for(const r of t.fu)e.Xo(r.mutations)}async function Gj(t,e,r){const n=t.fu.shift(),i=G1.from(n,e,r);await ck(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Zp(t)}async function Yj(t,e){e&&Es(t).Yo&&await async function(r,n){if(i=n.code,RW(i)&&i!==Q.ABORTED){const s=r.fu.shift();Es(r).Mo(),await ck(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,n)),await Zp(r)}var i}(t,e),fk(t)&&dk(t)}async function DE(t,e){const r=Fe(t);r.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const n=za(r);r._u.add(3),await cc(r),n&&r.gu.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r._u.delete(3),await Qp(r)}async function Xj(t,e){const r=Fe(t);e?(r._u.delete(2),await Qp(r)):e||(r._u.add(2),await cc(r),r.gu.set("Unknown"))}function Sl(t){return t.pu||(t.pu=function(e,r,n){const i=Fe(e);return i.su(),new Rj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,n)}(t.datastore,t.asyncQueue,{Yr:Bj.bind(null,t),Zr:Vj.bind(null,t),Wo:zj.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),Z1(t)?Q1(t):t.gu.set("Unknown")):(await t.pu.stop(),hk(t))})),t.pu}function Es(t){return t.Iu||(t.Iu=function(e,r,n){const i=Fe(e);return i.su(),new Nj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,n)}(t.datastore,t.asyncQueue,{Yr:Wj.bind(null,t),Zr:Yj.bind(null,t),tu:jj.bind(null,t),Zo:Gj.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await Zp(t)):(await t.Iu.stop(),t.fu.length>0&&(_e("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,u=new J1(e,r,a,i,s);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ew(t,e){if(Oi("AsyncQueue",`${e}: ${t}`),lc(t))return new Ie(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Se.comparator(r.key,n.key):(r,n)=>Se.comparator(r.key,n.key),this.keyedMap=pu(),this.sortedSet=new Xt(this.comparator)}static emptySet(e){return new No(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new No;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.Tu=new Xt(Se.comparator)}track(e){const r=e.doc.key,n=this.Tu.get(r);n?e.type!==0&&n.type===3?this.Tu=this.Tu.insert(r,e):e.type===3&&n.type!==1?this.Tu=this.Tu.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Tu=this.Tu.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Tu=this.Tu.remove(r):e.type===1&&n.type===2?this.Tu=this.Tu.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):Oe():this.Tu=this.Tu.insert(r,e)}Eu(){const e=[];return this.Tu.inorderTraversal((r,n)=>{e.push(n)}),e}}class il{constructor(e,r,n,i,s,a,u,c,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(u=>{a.push({type:0,doc:u})}),new il(e,r,No.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.Au=void 0,this.listeners=[]}}class Kj{constructor(){this.queries=new Tl(e=>DO(e),Gp),this.onlineState="Unknown",this.Ru=new Set}}async function Qj(t,e){const r=Fe(t),n=e.query;let i=!1,s=r.queries.get(n);if(s||(i=!0,s=new qj),i)try{s.Au=await r.onListen(n)}catch(a){const u=ew(a,`Initialization of query '${y0(e.query)}' failed`);return void e.onError(u)}r.queries.set(n,s),s.listeners.push(e),e.bu(r.onlineState),s.Au&&e.Pu(s.Au)&&tw(r)}async function Zj(t,e){const r=Fe(t),n=e.query;let i=!1;const s=r.queries.get(n);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0)}if(i)return r.queries.delete(n),r.onUnlisten(n)}function Jj(t,e){const r=Fe(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const u of a.listeners)u.Pu(i)&&(n=!0);a.Au=i}}n&&tw(r)}function e8(t,e,r){const n=Fe(t),i=n.queries.get(e);if(i)for(const s of i.listeners)s.onError(r);n.queries.delete(e)}function tw(t){t.Ru.forEach(e=>{e.next()})}class t8{constructor(e,r,n){this.query=e,this.vu=r,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new il(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),r=!0):this.Cu(e,this.onlineState)&&(this.xu(e),r=!0),this.Su=e,r}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let r=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),r=!0),r}Cu(e,r){if(!e.fromCache)return!0;const n=r!=="Offline";return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const r=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}xu(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.key=e}}class vk{constructor(e){this.key=e}}class r8{constructor(e,r){this.query=e,this.qu=r,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=$e(),this.mutatedKeys=$e(),this.Gu=RO(e),this.Qu=new No(this.Gu)}get ju(){return this.qu}Wu(e,r){const n=r?r.zu:new RE,i=r?r.Qu:this.Qu;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,_)=>{const w=i.get(m),T=W1(this.query,_)?_:null,S=!!w&&this.mutatedKeys.has(w.key),P=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let E=!1;w&&T?w.data.isEqual(T.data)?S!==P&&(n.track({type:3,doc:T}),E=!0):this.Hu(w,T)||(n.track({type:2,doc:T}),E=!0,(c&&this.Gu(T,c)>0||d&&this.Gu(T,d)<0)&&(u=!0)):!w&&T?(n.track({type:0,doc:T}),E=!0):w&&!T&&(n.track({type:1,doc:w}),E=!0,(c||d)&&(u=!0)),E&&(T?(a=a.add(T),s=P?s.add(m):s.delete(m)):(a=a.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),s=s.delete(m.key),n.track({type:1,doc:m})}return{Qu:a,zu:n,$i:u,mutatedKeys:s}}Hu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((d,m)=>function(_,w){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return T(_)-T(w)}(d.type,m.type)||this.Gu(d.doc,m.doc)),this.Ju(n);const a=r?this.Yu():[],u=this.Ku.size===0&&this.current?1:0,c=u!==this.Uu;return this.Uu=u,s.length!==0||c?{snapshot:new il(this.query,e.Qu,i,s,e.mutatedKeys,u===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:a}:{Xu:a}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new RE,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(r=>this.qu=this.qu.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qu=this.qu.delete(r)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=$e(),this.Qu.forEach(n=>{this.Zu(n.key)&&(this.Ku=this.Ku.add(n.key))});const r=[];return e.forEach(n=>{this.Ku.has(n)||r.push(new vk(n))}),this.Ku.forEach(n=>{e.has(n)||r.push(new pk(n))}),r}tc(e){this.qu=e.Hi,this.Ku=$e();const r=this.Wu(e.documents);return this.applyChanges(r,!0)}ec(){return il.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class n8{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class i8{constructor(e){this.key=e,this.nc=!1}}class s8{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.sc={},this.ic=new Tl(u=>DO(u),Gp),this.rc=new Map,this.oc=new Set,this.uc=new Xt(Se.comparator),this.cc=new Map,this.ac=new Y1,this.hc={},this.lc=new Map,this.fc=nl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function a8(t,e){const r=m8(t);let n,i;const s=r.ic.get(e);if(s)n=s.targetId,r.sharedClientState.addLocalQueryTarget(n),i=s.view.ec();else{const a=await Ij(r.localStore,ki(e));r.isPrimaryClient&&ok(r.remoteStore,a);const u=r.sharedClientState.addLocalQueryTarget(a.targetId);n=a.targetId,i=await o8(r,e,n,u==="current",a.resumeToken)}return i}async function o8(t,e,r,n,i){t._c=(_,w,T)=>async function(S,P,E,A){let O=P.view.Wu(E);O.$i&&(O=await OE(S.localStore,P.query,!1).then(({documents:V})=>P.view.Wu(V,O)));const M=A&&A.targetChanges.get(P.targetId),R=P.view.applyChanges(O,S.isPrimaryClient,M);return FE(S,P.targetId,R.Xu),R.snapshot}(t,_,w,T);const s=await OE(t.localStore,e,!0),a=new r8(e,s.Hi),u=a.Wu(s.documents),c=hc.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),d=a.applyChanges(u,t.isPrimaryClient,c);FE(t,r,d.Xu);const m=new n8(e,r,a);return t.ic.set(e,m),t.rc.has(r)?t.rc.get(r).push(e):t.rc.set(r,[e]),d.snapshot}async function l8(t,e){const r=Fe(t),n=r.ic.get(e),i=r.rc.get(n.targetId);if(i.length>1)return r.rc.set(n.targetId,i.filter(s=>!Gp(s,e))),void r.ic.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(n.targetId),r.sharedClientState.isActiveQueryTarget(n.targetId)||await b0(r.localStore,n.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(n.targetId),lk(r.remoteStore,n.targetId),T0(r,n.targetId)}).catch(oc)):(T0(r,n.targetId),await b0(r.localStore,n.targetId,!0))}async function u8(t,e,r){const n=g8(t);try{const i=await function(s,a){const u=Fe(s),c=Wt.now(),d=a.reduce((w,T)=>w.add(T.key),$e());let m,_;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let T=Mi(),S=$e();return u.Gi.getEntries(w,d).next(P=>{T=P,T.forEach((E,A)=>{A.isValidDocument()||(S=S.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,T)).next(P=>{m=P;const E=[];for(const A of a){const O=kW(A,m.get(A.key).overlayedDocument);O!=null&&E.push(new Va(A.key,O,kO(O.value.mapValue),Ti.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,E,a)}).next(P=>{_=P;const E=P.applyToLocalDocumentSet(m,S);return u.documentOverlayCache.saveOverlays(w,P.batchId,E)})}).then(()=>({batchId:_.batchId,changes:GO(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.hc[s.currentUser.toKey()];c||(c=new Xt(rt)),c=c.insert(a,u),s.hc[s.currentUser.toKey()]=c}(n,i.batchId,r),await fc(n,i.changes),await Zp(n.remoteStore)}catch(i){const s=ew(i,"Failed to persist write");r.reject(s)}}async function mk(t,e){const r=Fe(t);try{const n=await Sj(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.cc.get(s);a&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.nc=!0:i.modifiedDocuments.size>0?ft(a.nc):i.removedDocuments.size>0&&(ft(a.nc),a.nc=!1))}),await fc(r,n,e)}catch(n){await oc(n)}}function NE(t,e,r){const n=Fe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ic.forEach((s,a)=>{const u=a.view.bu(e);u.snapshot&&i.push(u.snapshot)}),function(s,a){const u=Fe(s);u.onlineState=a;let c=!1;u.queries.forEach((d,m)=>{for(const _ of m.listeners)_.bu(a)&&(c=!0)}),c&&tw(u)}(n.eventManager,e),i.length&&n.sc.Wo(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function h8(t,e,r){const n=Fe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.cc.get(e),s=i&&i.key;if(s){let a=new Xt(Se.comparator);a=a.insert(s,mr.newNoDocument(s,Re.min()));const u=$e().add(s),c=new qp(Re.min(),new Map,new jt(rt),a,u);await mk(n,c),n.uc=n.uc.remove(s),n.cc.delete(e),rw(n)}else await b0(n.localStore,e,!1).then(()=>T0(n,e,r)).catch(oc)}async function c8(t,e){const r=Fe(t),n=e.batch.batchId;try{const i=await Tj(r.localStore,e);yk(r,n,null),gk(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await fc(r,i)}catch(i){await oc(i)}}async function f8(t,e,r){const n=Fe(t);try{const i=await function(s,a){const u=Fe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(m=>(ft(m!==null),d=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(n.localStore,e);yk(n,e,r),gk(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await fc(n,i)}catch(i){await oc(i)}}function gk(t,e){(t.lc.get(e)||[]).forEach(r=>{r.resolve()}),t.lc.delete(e)}function yk(t,e,r){const n=Fe(t);let i=n.hc[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.hc[n.currentUser.toKey()]=i}}function T0(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.rc.get(e))t.ic.delete(n),r&&t.sc.wc(n,r);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(n=>{t.ac.containsKey(n)||_k(t,n)})}function _k(t,e){t.oc.delete(e.path.canonicalString());const r=t.uc.get(e);r!==null&&(lk(t.remoteStore,r),t.uc=t.uc.remove(e),t.cc.delete(r),rw(t))}function FE(t,e,r){for(const n of r)n instanceof pk?(t.ac.addReference(n.key,e),d8(t,n)):n instanceof vk?(_e("SyncEngine","Document no longer in limbo: "+n.key),t.ac.removeReference(n.key,e),t.ac.containsKey(n.key)||_k(t,n.key)):Oe()}function d8(t,e){const r=e.key,n=r.path.canonicalString();t.uc.get(r)||t.oc.has(n)||(_e("SyncEngine","New document in limbo: "+r),t.oc.add(n),rw(t))}function rw(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const r=new Se(bt.fromString(e)),n=t.fc.next();t.cc.set(n,new i8(r)),t.uc=t.uc.insert(r,n),ok(t.remoteStore,new ma(ki(MO(r.path)),n,2,V1.at))}}async function fc(t,e,r){const n=Fe(t),i=[],s=[],a=[];n.ic.isEmpty()||(n.ic.forEach((u,c)=>{a.push(n._c(c,e,r).then(d=>{if((d||r)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(c.targetId,d!=null&&d.fromCache?"not-current":"current"),d){i.push(d);const m=q1.Ci(c.targetId,d);s.push(m)}}))}),await Promise.all(a),n.sc.Wo(i),await async function(u,c){const d=Fe(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Z.forEach(c,_=>Z.forEach(_.Si,w=>d.persistence.referenceDelegate.addReference(m,_.targetId,w)).next(()=>Z.forEach(_.Di,w=>d.persistence.referenceDelegate.removeReference(m,_.targetId,w)))))}catch(m){if(!lc(m))throw m;_e("LocalStore","Failed to update sequence numbers: "+m)}for(const m of c){const _=m.targetId;if(!m.fromCache){const w=d.qi.get(_),T=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(T);d.qi=d.qi.insert(_,S)}}}(n.localStore,s))}async function p8(t,e){const r=Fe(t);if(!r.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const n=await nk(r.localStore,e);r.currentUser=e,function(i,s){i.lc.forEach(a=>{a.forEach(u=>{u.reject(new Ie(Q.CANCELLED,s))})}),i.lc.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await fc(r,n.ji)}}function v8(t,e){const r=Fe(t),n=r.cc.get(e);if(n&&n.nc)return $e().add(n.key);{let i=$e();const s=r.rc.get(e);if(!s)return i;for(const a of s){const u=r.ic.get(a);i=i.unionWith(u.view.ju)}return i}}function m8(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h8.bind(null,e),e.sc.Wo=Jj.bind(null,e.eventManager),e.sc.wc=e8.bind(null,e.eventManager),e}function g8(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f8.bind(null,e),e}class y8{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=Kp(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,r){return null}Ec(e,r){return null}Ic(e){return bj(this.persistence,new wj,e.initialUser,this.yt)}yc(e){return new yj(X1.Bs,this.yt)}gc(e){return new Aj}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _8{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>NE(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=p8.bind(null,this.syncEngine),await Xj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Kj}createDatastore(e){const r=Kp(e.databaseInfo.databaseId),n=(i=e.databaseInfo,new Dj(i));var i;return function(s,a,u,c){return new Fj(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return r=this.localStore,n=this.datastore,i=e.asyncQueue,s=u=>NE(this.syncEngine,u,0),a=ME.C()?new ME:new Oj,new Uj(r,n,i,s,a);var r,n,i,s,a}createSyncEngine(e,r){return function(n,i,s,a,u,c,d){const m=new s8(n,i,s,a,u,c);return d&&(m.dc=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return async function(e){const r=Fe(e);_e("RemoteStore","RemoteStore shutting down."),r._u.add(5),await cc(r),r.mu.shutdown(),r.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t,e,r){if(!r)throw new Ie(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function w8(t,e,r,n){if(e===!0&&n===!0)throw new Ie(Q.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function LE(t){if(!Se.isDocumentKey(t))throw new Ie(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UE(t){if(Se.isDocumentKey(t))throw new Ie(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe()}function kh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=nw(t);throw new Ie(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=new Map;class VE{constructor(e){var r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ie(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,w8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ie(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ie(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W$;switch(r.type){case"gapi":const n=r.client;return new X$(n,r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=BE.get(e);r&&(_e("ComponentProvider","Removing Datastore"),BE.delete(e),r.terminate())}(this),Promise.resolve()}}function xk(t,e,r,n={}){var i;const s=(t=kh(t,Jp))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&d0("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${r}`,ssl:!1})),n.mockUserToken){let a,u;if(typeof n.mockUserToken=="string")a=n.mockUserToken,u=pr.MOCK_USER;else{a=Oz(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new Ie(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new pr(c)}t._authCredentials=new j$(new wO(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class ev{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ev(this.firestore,e,this._query)}}class ps extends ev{constructor(e,r,n){super(e,r,MO(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Se(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function bk(t,e,...r){if(t=gh(t),wk("collection","path",e),t instanceof Jp){const n=bt.fromString(e,...r);return UE(n),new ps(t,null,n)}{if(!(t instanceof hn||t instanceof ps))throw new Ie(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(bt.fromString(e,...r));return UE(n),new ps(t.firestore,null,n)}}function x8(t,e,...r){if(t=gh(t),arguments.length===1&&(e=xO.R()),wk("doc","path",e),t instanceof Jp){const n=bt.fromString(e,...r);return LE(n),new hn(t,null,new Se(n))}{if(!(t instanceof hn||t instanceof ps))throw new Ie(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(bt.fromString(e,...r));return LE(n),new hn(t.firestore,t instanceof ps?t.converter:null,new Se(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e,r,n,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=xO.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async s=>{_e("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(_e("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(Q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=ew(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function S8(t,e){t.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const r=await t.getConfiguration();await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await nk(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function E8(t,e){t.asyncQueue.verifyOperationInProgress();const r=await C8(t);_e("FirestoreClient","Initializing OnlineComponentProvider");const n=await t.getConfiguration();await e.initialize(r,n),t.setCredentialChangeListener(i=>DE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>DE(e.remoteStore,s)),t.onlineComponents=e}async function C8(t){return t.offlineComponents||(_e("FirestoreClient","Using default OfflineComponentProvider"),await S8(t,new y8)),t.offlineComponents}async function Tk(t){return t.onlineComponents||(_e("FirestoreClient","Using default OnlineComponentProvider"),await E8(t,new _8)),t.onlineComponents}function I8(t){return Tk(t).then(e=>e.syncEngine)}async function P8(t){const e=await Tk(t),r=e.eventManager;return r.onListen=a8.bind(null,e.syncEngine),r.onUnlisten=l8.bind(null,e.syncEngine),r}function A8(t,e,r={}){const n=new ds;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,a,u,c){const d=new b8({next:_=>{s.enqueueAndForget(()=>Zj(i,m)),_.fromCache&&u.source==="server"?c.reject(new Ie(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(_)},error:_=>c.reject(_)}),m=new t8(a,d,{includeMetadataChanges:!0,Nu:!0});return Qj(i,m)}(await P8(t),t.asyncQueue,e,r,n)),n.promise}class O8{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new sk(this,"async_queue_retry"),this.Wc=()=>{const r=cg();r&&_e("AsyncQueue","Visibility state changed to "+r.visibilityState),this.xo.Po()};const e=cg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const r=cg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const r=new ds;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!lc(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const r=this.Bc.then(()=>(this.Gc=!0,e().catch(n=>{this.Kc=n,this.Gc=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(n);throw Oi("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.Gc=!1,n))));return this.Bc=r,r}enqueueAfterDelay(e,r,n){this.zc(),this.jc.indexOf(e)>-1&&(r=0);const i=J1.createAndSchedule(this,e,r,n,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&Oe()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const r of this.Uc)if(r.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const r=this.Uc.indexOf(e);this.Uc.splice(r,1)}}class iw extends Jp{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new O8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ek(this),this._firestoreClient.terminate()}}function k8(t,e){const r=typeof t=="object"?t:MH(),n=typeof t=="string"?t:e||"(default)",i=PH(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=Iz("firestore");s&&xk(i,...s)}return i}function Sk(t){return t._firestoreClient||Ek(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ek(t){var e;const r=t._freezeSettings(),n=function(i,s,a,u){return new iW(i,s,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new T8(t._authCredentials,t._appCheckCredentials,t._queue,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sl(Sr.fromBase64String(e))}catch(r){throw new Ie(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new sl(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ie(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ie(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ie(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=/^__.*__$/;class D8{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Va(e,this.data,this.fieldMask,r,this.fieldTransforms):new uc(e,this.data,r,this.fieldTransforms)}}function Ik(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class ow{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.yt=n,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new ow(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ia({path:n,oa:!1});return i.ua(e),i}ca(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ia({path:n,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return $d(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(Ik(this.sa)&&M8.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class R8{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.yt=n||Kp(e)}da(e,r,n,i=!1){return new ow({sa:e,methodName:r,fa:n,path:gr.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function N8(t){const e=t._freezeSettings(),r=Kp(t._databaseId);return new R8(t._databaseId,!!e.ignoreUndefinedProperties,r)}function F8(t,e,r,n,i,s={}){const a=t.da(s.merge||s.mergeFields?2:0,e,r,i);kk("Data must be an object, but it was:",a,n);const u=Ak(n,a);let c,d;if(s.merge)c=new Gn(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const m=[];for(const _ of s.mergeFields){const w=L8(e,_,r);if(!a.contains(w))throw new Ie(Q.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);B8(m,w)||m.push(w)}c=new Gn(m),d=a.fieldTransforms.filter(_=>c.covers(_.field))}else c=null,d=a.fieldTransforms;return new D8(new on(u),c,d)}function Pk(t,e){if(Ok(t=gh(t)))return kk("Unsupported field value:",e,t),Ak(t,e);if(t instanceof Ck)return function(r,n){if(!Ik(n.sa))throw n.ha(`${r._methodName}() can only be used with update() and set()`);if(!n.path)throw n.ha(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(n);i&&n.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(r,n){const i=[];let s=0;for(const a of r){let u=Pk(a,n.aa(s));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(t,e)}return function(r,n){if((r=gh(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EW(n.yt,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Wt.fromDate(r);return{timestampValue:zd(n.yt,i)}}if(r instanceof Wt){const i=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zd(n.yt,i)}}if(r instanceof aw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sl)return{bytesValue:QO(n.yt,r._byteString)};if(r instanceof hn){const i=n.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw n.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:j1(r.firestore._databaseId||n.databaseId,r._key.path)}}throw n.ha(`Unsupported field value: ${nw(r)}`)}(t,e)}function Ak(t,e){const r={};return bO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bl(t,(n,i)=>{const s=Pk(i,e.ra(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function Ok(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof aw||t instanceof sl||t instanceof hn||t instanceof Ck)}function kk(t,e,r){if(!Ok(r)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(r)){const n=nw(r);throw n==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+n)}}function L8(t,e,r){if((e=gh(e))instanceof sw)return e._internalPath;if(typeof e=="string")return Mk(t,e);throw $d("Field path arguments must be of type string or ",t,!1,void 0,r)}const U8=new RegExp("[~\\*/\\[\\]]");function Mk(t,e,r){if(e.search(U8)>=0)throw $d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new sw(...e.split("."))._internalPath}catch{throw $d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function $d(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${n}`),a&&(c+=` in document ${i}`),c+=")"),new Ie(Q.INVALID_ARGUMENT,u+t+c)}function B8(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Rk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class V8 extends Dk{data(){return super.data()}}function Rk(t,e){return typeof e=="string"?Mk(t,e):e instanceof sw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H8{convertValue(e,r="none"){switch(Pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(el(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Oe()}}convertObject(e,r){const n={};return bl(e.fields,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertGeoPoint(e){return new aw(Ft(e.latitude),Ft(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=SO(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Ih(e));default:return null}}convertTimestamp(e){const r=Ss(e);return new Wt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=bt.fromString(e);ft(rk(n));const i=new Ch(n.get(1),n.get(3)),s=new Se(n.popFirst(5));return i.isEqual(r)||Oi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class W8 extends Dk{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Rk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Uf extends W8{data(e={}){return super.data(e)}}class j8{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new ff(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Uf(this._firestore,this._userDataWriter,n.key,n,new ff(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ie(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(n,i){if(n._snapshot.oldDocs.isEmpty()){let s=0;return n._snapshot.docChanges.map(a=>{const u=new Uf(n._firestore,n._userDataWriter,a.doc.key,a.doc,new ff(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Uf(n._firestore,n._userDataWriter,a.doc.key,a.doc,new ff(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:G8(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function G8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}class Y8 extends H8{constructor(e){super(),this.firestore=e}convertBytes(e){return new sl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,r)}}function X8(t){t=kh(t,ev);const e=kh(t.firestore,iw),r=Sk(e),n=new Y8(e);return z8(t._query),A8(r,t._query).then(i=>new j8(e,n,t,i))}function q8(t,e,r){t=kh(t,hn);const n=kh(t.firestore,iw),i=$8(t.converter,e,r);return K8(n,[F8(N8(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Ti.none())])}function K8(t,e){return function(r,n){const i=new ds;return r.asyncQueue.enqueueAndForget(async()=>u8(await I8(r),n,i)),i.promise}(Sk(t),e)}(function(t,e=!0){(function(r){xl=r})(kH),Pd(new yh("firestore",(r,{instanceIdentifier:n,options:i})=>{const s=r.getProvider("app").getImmediate(),a=new iw(new G$(r.getProvider("auth-internal")),new K$(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ie(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ch(u.options.projectId,c)}(s,n),s);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Do(cE,"3.8.0",t),Do(cE,"3.8.0","esm2017")})();let iu=null;const Nk=()=>(iu!==null||(iu=k8(),location.host.includes("localhost")&&(console.log("%cConnecting to local emulator!","color: rebeccapurple;font-size:22px"),xk(iu,"localhost",1337))),iu),zE=15;let $i=[];const Q8=(t,e)=>e.totalWaves-t.totalWaves||e.score-t.score,Z8=async(t,e,r,n,i)=>{const{name:s,signature:a}=t;let u={id:await Gb(a+s),playerName:s,signature:await Gb(a),accuracy:e,wpm:r,score:n,totalWaves:i};try{const c=Nk(),d=bk(c,"global-leaderboard"),m=x8(d,u.id);await q8(m,u)}catch(c){console.error(c),console.log("Could not set score to global database... Oh well...")}return Zi.exists("leaderboard")&&($i=JSON.parse(Zi.get("leaderboard"))),$i.push(u),$i.sort(Q8),$i.length>zE&&($i=$i.slice(0,zE)),Zi.set("leaderboard",JSON.stringify($i)),$i},J8=async t=>{if(t==="local"){let e=Zi.get("leaderboard");return e?JSON.parse(e):[]}if(t==="global"){const e=Nk(),r=bk(e,"global-leaderboard"),n=await X8(r),i=[];return n.forEach(s=>{i.push(s.data())}),i}},HE={opacity:[0,1],translateX:[-64,0],delay:(t,e)=>e*100,duration:500};class eG extends Ua{constructor(r){super(r);q(this,"getEntries",async r=>{this.setState({leaderboardEntries:await J8(r)})});q(this,"closeLeaderboard",()=>{et.emit("leaderboardClosed")});q(this,"leaderboardEntry",(r,n)=>Et("div",{className:"leaderboardEntry",children:[Et("div",{className:"playerInfo",children:[ve("img",{src:kn(r.playerName)}),ve("div",{className:"playerName",children:P6(r.playerName,15)}),ve("div",{className:"signature",children:r.signature?r.signature.substring(0,20):"score set before global update"})]}),Et("div",{className:"playerData",children:[Et("div",{className:"data accuracy",children:[r.accuracy,"%"]}),ve("div",{className:"spacer"}),ve("div",{className:"data wpm",children:r.wpm}),ve("div",{className:"data score",children:r.score})]})]},n));q(this,"leaderboardSeparator",(r,n)=>Et("div",{className:"levelDisplay",children:["Wave ",r]},n*n));this.state={isGlobal:!1,leaderboardEntries:[]}}componentDidMount(){this.getEntries("local")}render(){const{isGlobal:r,leaderboardEntries:n}=this.state;let i=n.sort((c,d)=>d.totalWaves-c.totalWaves||d.score-c.score),s=[],a=i[0]?i[0].totalWaves:0;i.forEach((c,d)=>{d===0&&s.push(this.leaderboardSeparator(a,d)),c.totalWaves!==a&&(a=c.totalWaves,s.push(this.leaderboardSeparator(a,d))),s.push(this.leaderboardEntry(c,d))});const u=["leaderboardMenu menu",r?"global":"local"];return this.smoothly(Et("div",{className:u.join(" "),children:[s.length===0&&ve("div",{className:"nothingHere",children:r?"Nobody has set any scores yet...":"You haven't set any scores yet!"}),!r&&s.length>0&&ve(mg,{children:ve(qy,{...HE,children:s})}),r&&s.length>0&&ve(mg,{children:ve(qy,{...HE,children:s})}),Et("div",{className:"button-container",children:[ve(zn,{mini:!0,hint:"esc",text:"Close",onClick:this.closeLeaderboard}),ve(zn,{mini:!0,hint:"g",text:r?"show local":"show global",onClick:()=>{this.setState(c=>({isGlobal:!c.isGlobal}),()=>{this.getEntries(r?"local":"global")})}})]})]}))}}var Fk={exports:{}};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Lk;function oe(){return Lk.apply(null,arguments)}function tG(t){Lk=t}function Tn(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function ga(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Qe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lw(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Qe(t,e))return!1;return!0}function Br(t){return t===void 0}function Di(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function dc(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function Uk(t,e){var r=[],n,i=t.length;for(n=0;n<i;++n)r.push(e(t[n],n));return r}function Ji(t,e){for(var r in e)Qe(e,r)&&(t[r]=e[r]);return Qe(e,"toString")&&(t.toString=e.toString),Qe(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Zn(t,e,r,n){return lM(t,e,r,n,!0).utc()}function rG(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ue(t){return t._pf==null&&(t._pf=rG()),t._pf}var S0;Array.prototype.some?S0=Array.prototype.some:S0=function(t){var e=Object(this),r=e.length>>>0,n;for(n=0;n<r;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function uw(t){if(t._isValid==null){var e=Ue(t),r=S0.call(e.parsedDateParts,function(i){return i!=null}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n}return t._isValid}function tv(t){var e=Zn(NaN);return t!=null?Ji(Ue(e),t):Ue(e).userInvalidated=!0,e}var $E=oe.momentProperties=[],fg=!1;function hw(t,e){var r,n,i,s=$E.length;if(Br(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Br(e._i)||(t._i=e._i),Br(e._f)||(t._f=e._f),Br(e._l)||(t._l=e._l),Br(e._strict)||(t._strict=e._strict),Br(e._tzm)||(t._tzm=e._tzm),Br(e._isUTC)||(t._isUTC=e._isUTC),Br(e._offset)||(t._offset=e._offset),Br(e._pf)||(t._pf=Ue(e)),Br(e._locale)||(t._locale=e._locale),s>0)for(r=0;r<s;r++)n=$E[r],i=e[n],Br(i)||(t[n]=i);return t}function pc(t){hw(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),fg===!1&&(fg=!0,oe.updateOffset(this),fg=!1)}function Sn(t){return t instanceof pc||t!=null&&t._isAMomentObject!=null}function Bk(t){oe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function pn(t,e){var r=!0;return Ji(function(){if(oe.deprecationHandler!=null&&oe.deprecationHandler(null,t),r){var n=[],i,s,a,u=arguments.length;for(s=0;s<u;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(a in arguments[0])Qe(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[s];n.push(i)}Bk(t+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return e.apply(this,arguments)},e)}var WE={};function Vk(t,e){oe.deprecationHandler!=null&&oe.deprecationHandler(t,e),WE[t]||(Bk(e),WE[t]=!0)}oe.suppressDeprecationWarnings=!1;oe.deprecationHandler=null;function Jn(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function nG(t){var e,r;for(r in t)Qe(t,r)&&(e=t[r],Jn(e)?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function E0(t,e){var r=Ji({},t),n;for(n in e)Qe(e,n)&&(ga(t[n])&&ga(e[n])?(r[n]={},Ji(r[n],t[n]),Ji(r[n],e[n])):e[n]!=null?r[n]=e[n]:delete r[n]);for(n in t)Qe(t,n)&&!Qe(e,n)&&ga(t[n])&&(r[n]=Ji({},r[n]));return r}function cw(t){t!=null&&this.set(t)}var C0;Object.keys?C0=Object.keys:C0=function(t){var e,r=[];for(e in t)Qe(t,e)&&r.push(e);return r};var iG={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function sG(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return Jn(n)?n.call(e,r):n}function Kn(t,e,r){var n=""+Math.abs(t),i=e-n.length,s=t>=0;return(s?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var fw=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,df=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,dg={},Fo={};function be(t,e,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),t&&(Fo[t]=i),e&&(Fo[e[0]]=function(){return Kn(i.apply(this,arguments),e[1],e[2])}),r&&(Fo[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function aG(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function oG(t){var e=t.match(fw),r,n;for(r=0,n=e.length;r<n;r++)Fo[e[r]]?e[r]=Fo[e[r]]:e[r]=aG(e[r]);return function(i){var s="",a;for(a=0;a<n;a++)s+=Jn(e[a])?e[a].call(i,t):e[a];return s}}function Bf(t,e){return t.isValid()?(e=zk(e,t.localeData()),dg[e]=dg[e]||oG(e),dg[e](t)):t.localeData().invalidDate()}function zk(t,e){var r=5;function n(i){return e.longDateFormat(i)||i}for(df.lastIndex=0;r>=0&&df.test(t);)t=t.replace(df,n),df.lastIndex=0,r-=1;return t}var lG={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function uG(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(fw).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var hG="Invalid date";function cG(){return this._invalidDate}var fG="%d",dG=/\d{1,2}/;function pG(t){return this._ordinal.replace("%d",t)}var vG={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function mG(t,e,r,n){var i=this._relativeTime[r];return Jn(i)?i(t,e,r,n):i.replace(/%d/i,t)}function gG(t,e){var r=this._relativeTime[t>0?"future":"past"];return Jn(r)?r(e):r.replace(/%s/i,e)}var Nu={};function Cr(t,e){var r=t.toLowerCase();Nu[r]=Nu[r+"s"]=Nu[e]=t}function vn(t){return typeof t=="string"?Nu[t]||Nu[t.toLowerCase()]:void 0}function dw(t){var e={},r,n;for(n in t)Qe(t,n)&&(r=vn(n),r&&(e[r]=t[n]));return e}var Hk={};function Ir(t,e){Hk[t]=e}function yG(t){var e=[],r;for(r in t)Qe(t,r)&&e.push({unit:r,priority:Hk[r]});return e.sort(function(n,i){return n.priority-i.priority}),e}function rv(t){return t%4===0&&t%100!==0||t%400===0}function nn(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ze(t){var e=+t,r=0;return e!==0&&isFinite(e)&&(r=nn(e)),r}function El(t,e){return function(r){return r!=null?($k(this,t,r),oe.updateOffset(this,e),this):Wd(this,t)}}function Wd(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function $k(t,e,r){t.isValid()&&!isNaN(r)&&(e==="FullYear"&&rv(t.year())&&t.month()===1&&t.date()===29?(r=ze(r),t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),lv(r,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](r))}function _G(t){return t=vn(t),Jn(this[t])?this[t]():this}function wG(t,e){if(typeof t=="object"){t=dw(t);var r=yG(t),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](t[r[n].unit])}else if(t=vn(t),Jn(this[t]))return this[t](e);return this}var Wk=/\d/,en=/\d\d/,jk=/\d{3}/,pw=/\d{4}/,nv=/[+-]?\d{6}/,gt=/\d\d?/,Gk=/\d\d\d\d?/,Yk=/\d\d\d\d\d\d?/,iv=/\d{1,3}/,vw=/\d{1,4}/,sv=/[+-]?\d{1,6}/,Cl=/\d+/,av=/[+-]?\d+/,xG=/Z|[+-]\d\d:?\d\d/gi,ov=/Z|[+-]\d\d(?::?\d\d)?/gi,bG=/[+-]?\d+(\.\d{1,3})?/,vc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,jd;jd={};function ce(t,e,r){jd[t]=Jn(e)?e:function(n,i){return n&&r?r:e}}function TG(t,e){return Qe(jd,t)?jd[t](e._strict,e._locale):new RegExp(SG(t))}function SG(t){return Yr(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,r,n,i,s){return r||n||i||s}))}function Yr(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var I0={};function lt(t,e){var r,n=e,i;for(typeof t=="string"&&(t=[t]),Di(e)&&(n=function(s,a){a[e]=ze(s)}),i=t.length,r=0;r<i;r++)I0[t[r]]=n}function mc(t,e){lt(t,function(r,n,i,s){i._w=i._w||{},e(r,i._w,i,s)})}function EG(t,e,r){e!=null&&Qe(I0,t)&&I0[t](e,r._a,r,t)}var br=0,mi=1,Rn=2,$t=3,xn=4,gi=5,ha=6,CG=7,IG=8;function PG(t,e){return(t%e+e)%e}var kt;Array.prototype.indexOf?kt=Array.prototype.indexOf:kt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function lv(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=PG(e,12);return t+=(e-r)/12,r===1?rv(t)?29:28:31-r%7%2}be("M",["MM",2],"Mo",function(){return this.month()+1});be("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});be("MMMM",0,0,function(t){return this.localeData().months(this,t)});Cr("month","M");Ir("month",8);ce("M",gt);ce("MM",gt,en);ce("MMM",function(t,e){return e.monthsShortRegex(t)});ce("MMMM",function(t,e){return e.monthsRegex(t)});lt(["M","MM"],function(t,e){e[mi]=ze(t)-1});lt(["MMM","MMMM"],function(t,e,r,n){var i=r._locale.monthsParse(t,n,r._strict);i!=null?e[mi]=i:Ue(r).invalidMonth=t});var AG="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Xk="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),qk=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,OG=vc,kG=vc;function MG(t,e){return t?Tn(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||qk).test(e)?"format":"standalone"][t.month()]:Tn(this._months)?this._months:this._months.standalone}function DG(t,e){return t?Tn(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[qk.test(e)?"format":"standalone"][t.month()]:Tn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function RG(t,e,r){var n,i,s,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=Zn([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?e==="MMM"?(i=kt.call(this._shortMonthsParse,a),i!==-1?i:null):(i=kt.call(this._longMonthsParse,a),i!==-1?i:null):e==="MMM"?(i=kt.call(this._shortMonthsParse,a),i!==-1?i:(i=kt.call(this._longMonthsParse,a),i!==-1?i:null)):(i=kt.call(this._longMonthsParse,a),i!==-1?i:(i=kt.call(this._shortMonthsParse,a),i!==-1?i:null))}function NG(t,e,r){var n,i,s;if(this._monthsParseExact)return RG.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=Zn([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(r&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}}function Kk(t,e){var r;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=ze(e);else if(e=t.localeData().monthsParse(e),!Di(e))return t}return r=Math.min(t.date(),lv(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r),t}function Qk(t){return t!=null?(Kk(this,t),oe.updateOffset(this,!0),this):Wd(this,"Month")}function FG(){return lv(this.year(),this.month())}function LG(t){return this._monthsParseExact?(Qe(this,"_monthsRegex")||Zk.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Qe(this,"_monthsShortRegex")||(this._monthsShortRegex=OG),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function UG(t){return this._monthsParseExact?(Qe(this,"_monthsRegex")||Zk.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Qe(this,"_monthsRegex")||(this._monthsRegex=kG),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function Zk(){function t(a,u){return u.length-a.length}var e=[],r=[],n=[],i,s;for(i=0;i<12;i++)s=Zn([2e3,i]),e.push(this.monthsShort(s,"")),r.push(this.months(s,"")),n.push(this.months(s,"")),n.push(this.monthsShort(s,""));for(e.sort(t),r.sort(t),n.sort(t),i=0;i<12;i++)e[i]=Yr(e[i]),r[i]=Yr(r[i]);for(i=0;i<24;i++)n[i]=Yr(n[i]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}be("Y",0,0,function(){var t=this.year();return t<=9999?Kn(t,4):"+"+t});be(0,["YY",2],0,function(){return this.year()%100});be(0,["YYYY",4],0,"year");be(0,["YYYYY",5],0,"year");be(0,["YYYYYY",6,!0],0,"year");Cr("year","y");Ir("year",1);ce("Y",av);ce("YY",gt,en);ce("YYYY",vw,pw);ce("YYYYY",sv,nv);ce("YYYYYY",sv,nv);lt(["YYYYY","YYYYYY"],br);lt("YYYY",function(t,e){e[br]=t.length===2?oe.parseTwoDigitYear(t):ze(t)});lt("YY",function(t,e){e[br]=oe.parseTwoDigitYear(t)});lt("Y",function(t,e){e[br]=parseInt(t,10)});function Fu(t){return rv(t)?366:365}oe.parseTwoDigitYear=function(t){return ze(t)+(ze(t)>68?1900:2e3)};var Jk=El("FullYear",!0);function BG(){return rv(this.year())}function VG(t,e,r,n,i,s,a){var u;return t<100&&t>=0?(u=new Date(t+400,e,r,n,i,s,a),isFinite(u.getFullYear())&&u.setFullYear(t)):u=new Date(t,e,r,n,i,s,a),u}function Mh(t){var e,r;return t<100&&t>=0?(r=Array.prototype.slice.call(arguments),r[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Gd(t,e,r){var n=7+e-r,i=(7+Mh(t,0,n).getUTCDay()-e)%7;return-i+n-1}function eM(t,e,r,n,i){var s=(7+r-n)%7,a=Gd(t,n,i),u=1+7*(e-1)+s+a,c,d;return u<=0?(c=t-1,d=Fu(c)+u):u>Fu(t)?(c=t+1,d=u-Fu(t)):(c=t,d=u),{year:c,dayOfYear:d}}function Dh(t,e,r){var n=Gd(t.year(),e,r),i=Math.floor((t.dayOfYear()-n-1)/7)+1,s,a;return i<1?(a=t.year()-1,s=i+Si(a,e,r)):i>Si(t.year(),e,r)?(s=i-Si(t.year(),e,r),a=t.year()+1):(a=t.year(),s=i),{week:s,year:a}}function Si(t,e,r){var n=Gd(t,e,r),i=Gd(t+1,e,r);return(Fu(t)-n+i)/7}be("w",["ww",2],"wo","week");be("W",["WW",2],"Wo","isoWeek");Cr("week","w");Cr("isoWeek","W");Ir("week",5);Ir("isoWeek",5);ce("w",gt);ce("ww",gt,en);ce("W",gt);ce("WW",gt,en);mc(["w","ww","W","WW"],function(t,e,r,n){e[n.substr(0,1)]=ze(t)});function zG(t){return Dh(t,this._week.dow,this._week.doy).week}var HG={dow:0,doy:6};function $G(){return this._week.dow}function WG(){return this._week.doy}function jG(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function GG(t){var e=Dh(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}be("d",0,"do","day");be("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});be("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});be("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});be("e",0,0,"weekday");be("E",0,0,"isoWeekday");Cr("day","d");Cr("weekday","e");Cr("isoWeekday","E");Ir("day",11);Ir("weekday",11);Ir("isoWeekday",11);ce("d",gt);ce("e",gt);ce("E",gt);ce("dd",function(t,e){return e.weekdaysMinRegex(t)});ce("ddd",function(t,e){return e.weekdaysShortRegex(t)});ce("dddd",function(t,e){return e.weekdaysRegex(t)});mc(["dd","ddd","dddd"],function(t,e,r,n){var i=r._locale.weekdaysParse(t,n,r._strict);i!=null?e.d=i:Ue(r).invalidWeekday=t});mc(["d","e","E"],function(t,e,r,n){e[n]=ze(t)});function YG(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function XG(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function mw(t,e){return t.slice(e,7).concat(t.slice(0,e))}var qG="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),tM="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),KG="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),QG=vc,ZG=vc,JG=vc;function eY(t,e){var r=Tn(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?mw(r,this._week.dow):t?r[t.day()]:r}function tY(t){return t===!0?mw(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function rY(t){return t===!0?mw(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function nY(t,e,r){var n,i,s,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=Zn([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?e==="dddd"?(i=kt.call(this._weekdaysParse,a),i!==-1?i:null):e==="ddd"?(i=kt.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=kt.call(this._minWeekdaysParse,a),i!==-1?i:null):e==="dddd"?(i=kt.call(this._weekdaysParse,a),i!==-1||(i=kt.call(this._shortWeekdaysParse,a),i!==-1)?i:(i=kt.call(this._minWeekdaysParse,a),i!==-1?i:null)):e==="ddd"?(i=kt.call(this._shortWeekdaysParse,a),i!==-1||(i=kt.call(this._weekdaysParse,a),i!==-1)?i:(i=kt.call(this._minWeekdaysParse,a),i!==-1?i:null)):(i=kt.call(this._minWeekdaysParse,a),i!==-1||(i=kt.call(this._weekdaysParse,a),i!==-1)?i:(i=kt.call(this._shortWeekdaysParse,a),i!==-1?i:null))}function iY(t,e,r){var n,i,s;if(this._weekdaysParseExact)return nY.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=Zn([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(r&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(r&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}}function sY(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=YG(t,this.localeData()),this.add(t-e,"d")):e}function aY(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function oY(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=XG(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function lY(t){return this._weekdaysParseExact?(Qe(this,"_weekdaysRegex")||gw.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Qe(this,"_weekdaysRegex")||(this._weekdaysRegex=QG),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function uY(t){return this._weekdaysParseExact?(Qe(this,"_weekdaysRegex")||gw.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Qe(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ZG),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function hY(t){return this._weekdaysParseExact?(Qe(this,"_weekdaysRegex")||gw.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Qe(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=JG),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function gw(){function t(m,_){return _.length-m.length}var e=[],r=[],n=[],i=[],s,a,u,c,d;for(s=0;s<7;s++)a=Zn([2e3,1]).day(s),u=Yr(this.weekdaysMin(a,"")),c=Yr(this.weekdaysShort(a,"")),d=Yr(this.weekdays(a,"")),e.push(u),r.push(c),n.push(d),i.push(u),i.push(c),i.push(d);e.sort(t),r.sort(t),n.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function yw(){return this.hours()%12||12}function cY(){return this.hours()||24}be("H",["HH",2],0,"hour");be("h",["hh",2],0,yw);be("k",["kk",2],0,cY);be("hmm",0,0,function(){return""+yw.apply(this)+Kn(this.minutes(),2)});be("hmmss",0,0,function(){return""+yw.apply(this)+Kn(this.minutes(),2)+Kn(this.seconds(),2)});be("Hmm",0,0,function(){return""+this.hours()+Kn(this.minutes(),2)});be("Hmmss",0,0,function(){return""+this.hours()+Kn(this.minutes(),2)+Kn(this.seconds(),2)});function rM(t,e){be(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}rM("a",!0);rM("A",!1);Cr("hour","h");Ir("hour",13);function nM(t,e){return e._meridiemParse}ce("a",nM);ce("A",nM);ce("H",gt);ce("h",gt);ce("k",gt);ce("HH",gt,en);ce("hh",gt,en);ce("kk",gt,en);ce("hmm",Gk);ce("hmmss",Yk);ce("Hmm",Gk);ce("Hmmss",Yk);lt(["H","HH"],$t);lt(["k","kk"],function(t,e,r){var n=ze(t);e[$t]=n===24?0:n});lt(["a","A"],function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t});lt(["h","hh"],function(t,e,r){e[$t]=ze(t),Ue(r).bigHour=!0});lt("hmm",function(t,e,r){var n=t.length-2;e[$t]=ze(t.substr(0,n)),e[xn]=ze(t.substr(n)),Ue(r).bigHour=!0});lt("hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[$t]=ze(t.substr(0,n)),e[xn]=ze(t.substr(n,2)),e[gi]=ze(t.substr(i)),Ue(r).bigHour=!0});lt("Hmm",function(t,e,r){var n=t.length-2;e[$t]=ze(t.substr(0,n)),e[xn]=ze(t.substr(n))});lt("Hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[$t]=ze(t.substr(0,n)),e[xn]=ze(t.substr(n,2)),e[gi]=ze(t.substr(i))});function fY(t){return(t+"").toLowerCase().charAt(0)==="p"}var dY=/[ap]\.?m?\.?/i,pY=El("Hours",!0);function vY(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"}var iM={calendar:iG,longDateFormat:lG,invalidDate:hG,ordinal:fG,dayOfMonthOrdinalParse:dG,relativeTime:vG,months:AG,monthsShort:Xk,week:HG,weekdays:qG,weekdaysMin:KG,weekdaysShort:tM,meridiemParse:dY},_t={},su={},Rh;function mY(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function jE(t){return t&&t.toLowerCase().replace("_","-")}function gY(t){for(var e=0,r,n,i,s;e<t.length;){for(s=jE(t[e]).split("-"),r=s.length,n=jE(t[e+1]),n=n?n.split("-"):null;r>0;){if(i=uv(s.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&mY(s,n)>=r-1)break;r--}e++}return Rh}function yY(t){return t.match("^[^/\\\\]*$")!=null}function uv(t){var e=null,r;if(_t[t]===void 0&&typeof Hf<"u"&&Hf&&Hf.exports&&yY(t))try{e=Rh._abbr,r=require,r("./locale/"+t),vs(e)}catch{_t[t]=null}return _t[t]}function vs(t,e){var r;return t&&(Br(e)?r=Fi(t):r=_w(t,e),r?Rh=r:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Rh._abbr}function _w(t,e){if(e!==null){var r,n=iM;if(e.abbr=t,_t[t]!=null)Vk("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=_t[t]._config;else if(e.parentLocale!=null)if(_t[e.parentLocale]!=null)n=_t[e.parentLocale]._config;else if(r=uv(e.parentLocale),r!=null)n=r._config;else return su[e.parentLocale]||(su[e.parentLocale]=[]),su[e.parentLocale].push({name:t,config:e}),null;return _t[t]=new cw(E0(n,e)),su[t]&&su[t].forEach(function(i){_w(i.name,i.config)}),vs(t),_t[t]}else return delete _t[t],null}function _Y(t,e){if(e!=null){var r,n,i=iM;_t[t]!=null&&_t[t].parentLocale!=null?_t[t].set(E0(_t[t]._config,e)):(n=uv(t),n!=null&&(i=n._config),e=E0(i,e),n==null&&(e.abbr=t),r=new cw(e),r.parentLocale=_t[t],_t[t]=r),vs(t)}else _t[t]!=null&&(_t[t].parentLocale!=null?(_t[t]=_t[t].parentLocale,t===vs()&&vs(t)):_t[t]!=null&&delete _t[t]);return _t[t]}function Fi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Rh;if(!Tn(t)){if(e=uv(t),e)return e;t=[t]}return gY(t)}function wY(){return C0(_t)}function ww(t){var e,r=t._a;return r&&Ue(t).overflow===-2&&(e=r[mi]<0||r[mi]>11?mi:r[Rn]<1||r[Rn]>lv(r[br],r[mi])?Rn:r[$t]<0||r[$t]>24||r[$t]===24&&(r[xn]!==0||r[gi]!==0||r[ha]!==0)?$t:r[xn]<0||r[xn]>59?xn:r[gi]<0||r[gi]>59?gi:r[ha]<0||r[ha]>999?ha:-1,Ue(t)._overflowDayOfYear&&(e<br||e>Rn)&&(e=Rn),Ue(t)._overflowWeeks&&e===-1&&(e=CG),Ue(t)._overflowWeekday&&e===-1&&(e=IG),Ue(t).overflow=e),t}var xY=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bY=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,TY=/Z|[+-]\d\d(?::?\d\d)?/,pf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pg=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],SY=/^\/?Date\((-?\d+)/i,EY=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,CY={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function sM(t){var e,r,n=t._i,i=xY.exec(n)||bY.exec(n),s,a,u,c,d=pf.length,m=pg.length;if(i){for(Ue(t).iso=!0,e=0,r=d;e<r;e++)if(pf[e][1].exec(i[1])){a=pf[e][0],s=pf[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(i[3]){for(e=0,r=m;e<r;e++)if(pg[e][1].exec(i[3])){u=(i[2]||" ")+pg[e][0];break}if(u==null){t._isValid=!1;return}}if(!s&&u!=null){t._isValid=!1;return}if(i[4])if(TY.exec(i[4]))c="Z";else{t._isValid=!1;return}t._f=a+(u||"")+(c||""),bw(t)}else t._isValid=!1}function IY(t,e,r,n,i,s){var a=[PY(t),Xk.indexOf(e),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return s&&a.push(parseInt(s,10)),a}function PY(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function AY(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function OY(t,e,r){if(t){var n=tM.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(n!==i)return Ue(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function kY(t,e,r){if(t)return CY[t];if(e)return 0;var n=parseInt(r,10),i=n%100,s=(n-i)/100;return s*60+i}function aM(t){var e=EY.exec(AY(t._i)),r;if(e){if(r=IY(e[4],e[3],e[2],e[5],e[6],e[7]),!OY(e[1],r,t))return;t._a=r,t._tzm=kY(e[8],e[9],e[10]),t._d=Mh.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Ue(t).rfc2822=!0}else t._isValid=!1}function MY(t){var e=SY.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(sM(t),t._isValid===!1)delete t._isValid;else return;if(aM(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:oe.createFromInputFallback(t)}oe.createFromInputFallback=pn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function oo(t,e,r){return t??e??r}function DY(t){var e=new Date(oe.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function xw(t){var e,r,n=[],i,s,a;if(!t._d){for(i=DY(t),t._w&&t._a[Rn]==null&&t._a[mi]==null&&RY(t),t._dayOfYear!=null&&(a=oo(t._a[br],i[br]),(t._dayOfYear>Fu(a)||t._dayOfYear===0)&&(Ue(t)._overflowDayOfYear=!0),r=Mh(a,0,t._dayOfYear),t._a[mi]=r.getUTCMonth(),t._a[Rn]=r.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=i[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[$t]===24&&t._a[xn]===0&&t._a[gi]===0&&t._a[ha]===0&&(t._nextDay=!0,t._a[$t]=0),t._d=(t._useUTC?Mh:VG).apply(null,n),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[$t]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(Ue(t).weekdayMismatch=!0)}}function RY(t){var e,r,n,i,s,a,u,c,d;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,a=4,r=oo(e.GG,t._a[br],Dh(mt(),1,4).year),n=oo(e.W,1),i=oo(e.E,1),(i<1||i>7)&&(c=!0)):(s=t._locale._week.dow,a=t._locale._week.doy,d=Dh(mt(),s,a),r=oo(e.gg,t._a[br],d.year),n=oo(e.w,d.week),e.d!=null?(i=e.d,(i<0||i>6)&&(c=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(c=!0)):i=s),n<1||n>Si(r,s,a)?Ue(t)._overflowWeeks=!0:c!=null?Ue(t)._overflowWeekday=!0:(u=eM(r,n,i,s,a),t._a[br]=u.year,t._dayOfYear=u.dayOfYear)}oe.ISO_8601=function(){};oe.RFC_2822=function(){};function bw(t){if(t._f===oe.ISO_8601){sM(t);return}if(t._f===oe.RFC_2822){aM(t);return}t._a=[],Ue(t).empty=!0;var e=""+t._i,r,n,i,s,a,u=e.length,c=0,d,m;for(i=zk(t._f,t._locale).match(fw)||[],m=i.length,r=0;r<m;r++)s=i[r],n=(e.match(TG(s,t))||[])[0],n&&(a=e.substr(0,e.indexOf(n)),a.length>0&&Ue(t).unusedInput.push(a),e=e.slice(e.indexOf(n)+n.length),c+=n.length),Fo[s]?(n?Ue(t).empty=!1:Ue(t).unusedTokens.push(s),EG(s,n,t)):t._strict&&!n&&Ue(t).unusedTokens.push(s);Ue(t).charsLeftOver=u-c,e.length>0&&Ue(t).unusedInput.push(e),t._a[$t]<=12&&Ue(t).bigHour===!0&&t._a[$t]>0&&(Ue(t).bigHour=void 0),Ue(t).parsedDateParts=t._a.slice(0),Ue(t).meridiem=t._meridiem,t._a[$t]=NY(t._locale,t._a[$t],t._meridiem),d=Ue(t).era,d!==null&&(t._a[br]=t._locale.erasConvertYear(d,t._a[br])),xw(t),ww(t)}function NY(t,e,r){var n;return r==null?e:t.meridiemHour!=null?t.meridiemHour(e,r):(t.isPM!=null&&(n=t.isPM(r),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function FY(t){var e,r,n,i,s,a,u=!1,c=t._f.length;if(c===0){Ue(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<c;i++)s=0,a=!1,e=hw({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],bw(e),uw(e)&&(a=!0),s+=Ue(e).charsLeftOver,s+=Ue(e).unusedTokens.length*10,Ue(e).score=s,u?s<n&&(n=s,r=e):(n==null||s<n||a)&&(n=s,r=e,a&&(u=!0));Ji(t,r||e)}function LY(t){if(!t._d){var e=dw(t._i),r=e.day===void 0?e.date:e.day;t._a=Uk([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),xw(t)}}function UY(t){var e=new pc(ww(oM(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function oM(t){var e=t._i,r=t._f;return t._locale=t._locale||Fi(t._l),e===null||r===void 0&&e===""?tv({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Sn(e)?new pc(ww(e)):(dc(e)?t._d=e:Tn(r)?FY(t):r?bw(t):BY(t),uw(t)||(t._d=null),t))}function BY(t){var e=t._i;Br(e)?t._d=new Date(oe.now()):dc(e)?t._d=new Date(e.valueOf()):typeof e=="string"?MY(t):Tn(e)?(t._a=Uk(e.slice(0),function(r){return parseInt(r,10)}),xw(t)):ga(e)?LY(t):Di(e)?t._d=new Date(e):oe.createFromInputFallback(t)}function lM(t,e,r,n,i){var s={};return(e===!0||e===!1)&&(n=e,e=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(ga(t)&&lw(t)||Tn(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=r,s._i=t,s._f=e,s._strict=n,UY(s)}function mt(t,e,r,n){return lM(t,e,r,n,!1)}var VY=pn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=mt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:tv()}),zY=pn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=mt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:tv()});function uM(t,e){var r,n;if(e.length===1&&Tn(e[0])&&(e=e[0]),!e.length)return mt();for(r=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](r))&&(r=e[n]);return r}function HY(){var t=[].slice.call(arguments,0);return uM("isBefore",t)}function $Y(){var t=[].slice.call(arguments,0);return uM("isAfter",t)}var WY=function(){return Date.now?Date.now():+new Date},au=["year","quarter","month","week","day","hour","minute","second","millisecond"];function jY(t){var e,r=!1,n,i=au.length;for(e in t)if(Qe(t,e)&&!(kt.call(au,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<i;++n)if(t[au[n]]){if(r)return!1;parseFloat(t[au[n]])!==ze(t[au[n]])&&(r=!0)}return!0}function GY(){return this._isValid}function YY(){return En(NaN)}function hv(t){var e=dw(t),r=e.year||0,n=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,a=e.day||0,u=e.hour||0,c=e.minute||0,d=e.second||0,m=e.millisecond||0;this._isValid=jY(e),this._milliseconds=+m+d*1e3+c*6e4+u*1e3*60*60,this._days=+a+s*7,this._months=+i+n*3+r*12,this._data={},this._locale=Fi(),this._bubble()}function Vf(t){return t instanceof hv}function P0(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function XY(t,e,r){var n=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,a;for(a=0;a<n;a++)(r&&t[a]!==e[a]||!r&&ze(t[a])!==ze(e[a]))&&s++;return s+i}function hM(t,e){be(t,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+Kn(~~(r/60),2)+e+Kn(~~r%60,2)})}hM("Z",":");hM("ZZ","");ce("Z",ov);ce("ZZ",ov);lt(["Z","ZZ"],function(t,e,r){r._useUTC=!0,r._tzm=Tw(ov,t)});var qY=/([\+\-]|\d\d)/gi;function Tw(t,e){var r=(e||"").match(t),n,i,s;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(qY)||["-",0,0],s=+(i[1]*60)+ze(i[2]),s===0?0:i[0]==="+"?s:-s)}function Sw(t,e){var r,n;return e._isUTC?(r=e.clone(),n=(Sn(t)||dc(t)?t.valueOf():mt(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),oe.updateOffset(r,!1),r):mt(t).local()}function A0(t){return-Math.round(t._d.getTimezoneOffset())}oe.updateOffset=function(){};function KY(t,e,r){var n=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Tw(ov,t),t===null)return this}else Math.abs(t)<16&&!r&&(t=t*60);return!this._isUTC&&e&&(i=A0(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?dM(this,En(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,oe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:A0(this)}function QY(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function ZY(t){return this.utcOffset(0,t)}function JY(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(A0(this),"m")),this}function e9(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Tw(xG,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function t9(t){return this.isValid()?(t=t?mt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function r9(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function n9(){if(!Br(this._isDSTShifted))return this._isDSTShifted;var t={},e;return hw(t,this),t=oM(t),t._a?(e=t._isUTC?Zn(t._a):mt(t._a),this._isDSTShifted=this.isValid()&&XY(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function i9(){return this.isValid()?!this._isUTC:!1}function s9(){return this.isValid()?this._isUTC:!1}function cM(){return this.isValid()?this._isUTC&&this._offset===0:!1}var a9=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,o9=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function En(t,e){var r=t,n=null,i,s,a;return Vf(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:Di(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(n=a9.exec(t))?(i=n[1]==="-"?-1:1,r={y:0,d:ze(n[Rn])*i,h:ze(n[$t])*i,m:ze(n[xn])*i,s:ze(n[gi])*i,ms:ze(P0(n[ha]*1e3))*i}):(n=o9.exec(t))?(i=n[1]==="-"?-1:1,r={y:Xs(n[2],i),M:Xs(n[3],i),w:Xs(n[4],i),d:Xs(n[5],i),h:Xs(n[6],i),m:Xs(n[7],i),s:Xs(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(a=l9(mt(r.from),mt(r.to)),r={},r.ms=a.milliseconds,r.M=a.months),s=new hv(r),Vf(t)&&Qe(t,"_locale")&&(s._locale=t._locale),Vf(t)&&Qe(t,"_isValid")&&(s._isValid=t._isValid),s}En.fn=hv.prototype;En.invalid=YY;function Xs(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function GE(t,e){var r={};return r.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function l9(t,e){var r;return t.isValid()&&e.isValid()?(e=Sw(e,t),t.isBefore(e)?r=GE(t,e):(r=GE(e,t),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function fM(t,e){return function(r,n){var i,s;return n!==null&&!isNaN(+n)&&(Vk(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=r,r=n,n=s),i=En(r,n),dM(this,i,t),this}}function dM(t,e,r,n){var i=e._milliseconds,s=P0(e._days),a=P0(e._months);t.isValid()&&(n=n??!0,a&&Kk(t,Wd(t,"Month")+a*r),s&&$k(t,"Date",Wd(t,"Date")+s*r),i&&t._d.setTime(t._d.valueOf()+i*r),n&&oe.updateOffset(t,s||a))}var u9=fM(1,"add"),h9=fM(-1,"subtract");function pM(t){return typeof t=="string"||t instanceof String}function c9(t){return Sn(t)||dc(t)||pM(t)||Di(t)||d9(t)||f9(t)||t===null||t===void 0}function f9(t){var e=ga(t)&&!lw(t),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,a=n.length;for(i=0;i<a;i+=1)s=n[i],r=r||Qe(t,s);return e&&r}function d9(t){var e=Tn(t),r=!1;return e&&(r=t.filter(function(n){return!Di(n)&&pM(t)}).length===0),e&&r}function p9(t){var e=ga(t)&&!lw(t),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<n.length;i+=1)s=n[i],r=r||Qe(t,s);return e&&r}function v9(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function m9(t,e){arguments.length===1&&(arguments[0]?c9(arguments[0])?(t=arguments[0],e=void 0):p9(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||mt(),n=Sw(r,this).startOf("day"),i=oe.calendarFormat(this,n)||"sameElse",s=e&&(Jn(e[i])?e[i].call(this,r):e[i]);return this.format(s||this.localeData().calendar(i,this,mt(r)))}function g9(){return new pc(this)}function y9(t,e){var r=Sn(t)?t:mt(t);return this.isValid()&&r.isValid()?(e=vn(e)||"millisecond",e==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf()):!1}function _9(t,e){var r=Sn(t)?t:mt(t);return this.isValid()&&r.isValid()?(e=vn(e)||"millisecond",e==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf()):!1}function w9(t,e,r,n){var i=Sn(t)?t:mt(t),s=Sn(e)?e:mt(e);return this.isValid()&&i.isValid()&&s.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(s,r):!this.isAfter(s,r))):!1}function x9(t,e){var r=Sn(t)?t:mt(t),n;return this.isValid()&&r.isValid()?(e=vn(e)||"millisecond",e==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function b9(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function T9(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function S9(t,e,r){var n,i,s;if(!this.isValid())return NaN;if(n=Sw(t,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,e=vn(e),e){case"year":s=zf(this,n)/12;break;case"month":s=zf(this,n);break;case"quarter":s=zf(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-i)/864e5;break;case"week":s=(this-n-i)/6048e5;break;default:s=this-n}return r?s:nn(s)}function zf(t,e){if(t.date()<e.date())return-zf(e,t);var r=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(r,"months"),i,s;return e-n<0?(i=t.clone().add(r-1,"months"),s=(e-n)/(n-i)):(i=t.clone().add(r+1,"months"),s=(e-n)/(i-n)),-(r+s)||0}oe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";oe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function E9(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function C9(t){if(!this.isValid())return null;var e=t!==!0,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?Bf(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Jn(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Bf(r,"Z")):Bf(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function I9(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",r,n,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),r="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(r+n+i+s)}function P9(t){t||(t=this.isUtc()?oe.defaultFormatUtc:oe.defaultFormat);var e=Bf(this,t);return this.localeData().postformat(e)}function A9(t,e){return this.isValid()&&(Sn(t)&&t.isValid()||mt(t).isValid())?En({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function O9(t){return this.from(mt(),t)}function k9(t,e){return this.isValid()&&(Sn(t)&&t.isValid()||mt(t).isValid())?En({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function M9(t){return this.to(mt(),t)}function vM(t){var e;return t===void 0?this._locale._abbr:(e=Fi(t),e!=null&&(this._locale=e),this)}var mM=pn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function gM(){return this._locale}var Yd=1e3,Lo=60*Yd,Xd=60*Lo,yM=(365*400+97)*24*Xd;function Uo(t,e){return(t%e+e)%e}function _M(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-yM:new Date(t,e,r).valueOf()}function wM(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-yM:Date.UTC(t,e,r)}function D9(t){var e,r;if(t=vn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?wM:_M,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Uo(e+(this._isUTC?0:this.utcOffset()*Lo),Xd);break;case"minute":e=this._d.valueOf(),e-=Uo(e,Lo);break;case"second":e=this._d.valueOf(),e-=Uo(e,Yd);break}return this._d.setTime(e),oe.updateOffset(this,!0),this}function R9(t){var e,r;if(t=vn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?wM:_M,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Xd-Uo(e+(this._isUTC?0:this.utcOffset()*Lo),Xd)-1;break;case"minute":e=this._d.valueOf(),e+=Lo-Uo(e,Lo)-1;break;case"second":e=this._d.valueOf(),e+=Yd-Uo(e,Yd)-1;break}return this._d.setTime(e),oe.updateOffset(this,!0),this}function N9(){return this._d.valueOf()-(this._offset||0)*6e4}function F9(){return Math.floor(this.valueOf()/1e3)}function L9(){return new Date(this.valueOf())}function U9(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function B9(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function V9(){return this.isValid()?this.toISOString():null}function z9(){return uw(this)}function H9(){return Ji({},Ue(this))}function $9(){return Ue(this).overflow}function W9(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}be("N",0,0,"eraAbbr");be("NN",0,0,"eraAbbr");be("NNN",0,0,"eraAbbr");be("NNNN",0,0,"eraName");be("NNNNN",0,0,"eraNarrow");be("y",["y",1],"yo","eraYear");be("y",["yy",2],0,"eraYear");be("y",["yyy",3],0,"eraYear");be("y",["yyyy",4],0,"eraYear");ce("N",Ew);ce("NN",Ew);ce("NNN",Ew);ce("NNNN",t7);ce("NNNNN",r7);lt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,r,n){var i=r._locale.erasParse(t,n,r._strict);i?Ue(r).era=i:Ue(r).invalidEra=t});ce("y",Cl);ce("yy",Cl);ce("yyy",Cl);ce("yyyy",Cl);ce("yo",n7);lt(["y","yy","yyy","yyyy"],br);lt(["yo"],function(t,e,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[br]=r._locale.eraYearOrdinalParse(t,i):e[br]=parseInt(t,10)});function j9(t,e){var r,n,i,s=this._eras||Fi("en")._eras;for(r=0,n=s.length;r<n;++r){switch(typeof s[r].since){case"string":i=oe(s[r].since).startOf("day"),s[r].since=i.valueOf();break}switch(typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":i=oe(s[r].until).startOf("day").valueOf(),s[r].until=i.valueOf();break}}return s}function G9(t,e,r){var n,i,s=this.eras(),a,u,c;for(t=t.toUpperCase(),n=0,i=s.length;n<i;++n)if(a=s[n].name.toUpperCase(),u=s[n].abbr.toUpperCase(),c=s[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(u===t)return s[n];break;case"NNNN":if(a===t)return s[n];break;case"NNNNN":if(c===t)return s[n];break}else if([a,u,c].indexOf(t)>=0)return s[n]}function Y9(t,e){var r=t.since<=t.until?1:-1;return e===void 0?oe(t.since).year():oe(t.since).year()+(e-t.offset)*r}function X9(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].name;return""}function q9(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].narrow;return""}function K9(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].abbr;return""}function Q9(){var t,e,r,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(r=i[t].since<=i[t].until?1:-1,n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return(this.year()-oe(i[t].since).year())*r+i[t].offset;return this.year()}function Z9(t){return Qe(this,"_erasNameRegex")||Cw.call(this),t?this._erasNameRegex:this._erasRegex}function J9(t){return Qe(this,"_erasAbbrRegex")||Cw.call(this),t?this._erasAbbrRegex:this._erasRegex}function e7(t){return Qe(this,"_erasNarrowRegex")||Cw.call(this),t?this._erasNarrowRegex:this._erasRegex}function Ew(t,e){return e.erasAbbrRegex(t)}function t7(t,e){return e.erasNameRegex(t)}function r7(t,e){return e.erasNarrowRegex(t)}function n7(t,e){return e._eraYearOrdinalRegex||Cl}function Cw(){var t=[],e=[],r=[],n=[],i,s,a=this.eras();for(i=0,s=a.length;i<s;++i)e.push(Yr(a[i].name)),t.push(Yr(a[i].abbr)),r.push(Yr(a[i].narrow)),n.push(Yr(a[i].name)),n.push(Yr(a[i].abbr)),n.push(Yr(a[i].narrow));this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}be(0,["gg",2],0,function(){return this.weekYear()%100});be(0,["GG",2],0,function(){return this.isoWeekYear()%100});function cv(t,e){be(0,[t,t.length],0,e)}cv("gggg","weekYear");cv("ggggg","weekYear");cv("GGGG","isoWeekYear");cv("GGGGG","isoWeekYear");Cr("weekYear","gg");Cr("isoWeekYear","GG");Ir("weekYear",1);Ir("isoWeekYear",1);ce("G",av);ce("g",av);ce("GG",gt,en);ce("gg",gt,en);ce("GGGG",vw,pw);ce("gggg",vw,pw);ce("GGGGG",sv,nv);ce("ggggg",sv,nv);mc(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,n){e[n.substr(0,2)]=ze(t)});mc(["gg","GG"],function(t,e,r,n){e[n]=oe.parseTwoDigitYear(t)});function i7(t){return xM.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function s7(t){return xM.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function a7(){return Si(this.year(),1,4)}function o7(){return Si(this.isoWeekYear(),1,4)}function l7(){var t=this.localeData()._week;return Si(this.year(),t.dow,t.doy)}function u7(){var t=this.localeData()._week;return Si(this.weekYear(),t.dow,t.doy)}function xM(t,e,r,n,i){var s;return t==null?Dh(this,n,i).year:(s=Si(t,n,i),e>s&&(e=s),h7.call(this,t,e,r,n,i))}function h7(t,e,r,n,i){var s=eM(t,e,r,n,i),a=Mh(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}be("Q",0,"Qo","quarter");Cr("quarter","Q");Ir("quarter",7);ce("Q",Wk);lt("Q",function(t,e){e[mi]=(ze(t)-1)*3});function c7(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}be("D",["DD",2],"Do","date");Cr("date","D");Ir("date",9);ce("D",gt);ce("DD",gt,en);ce("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});lt(["D","DD"],Rn);lt("Do",function(t,e){e[Rn]=ze(t.match(gt)[0])});var bM=El("Date",!0);be("DDD",["DDDD",3],"DDDo","dayOfYear");Cr("dayOfYear","DDD");Ir("dayOfYear",4);ce("DDD",iv);ce("DDDD",jk);lt(["DDD","DDDD"],function(t,e,r){r._dayOfYear=ze(t)});function f7(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}be("m",["mm",2],0,"minute");Cr("minute","m");Ir("minute",14);ce("m",gt);ce("mm",gt,en);lt(["m","mm"],xn);var d7=El("Minutes",!1);be("s",["ss",2],0,"second");Cr("second","s");Ir("second",15);ce("s",gt);ce("ss",gt,en);lt(["s","ss"],gi);var p7=El("Seconds",!1);be("S",0,0,function(){return~~(this.millisecond()/100)});be(0,["SS",2],0,function(){return~~(this.millisecond()/10)});be(0,["SSS",3],0,"millisecond");be(0,["SSSS",4],0,function(){return this.millisecond()*10});be(0,["SSSSS",5],0,function(){return this.millisecond()*100});be(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});be(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});be(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});be(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Cr("millisecond","ms");Ir("millisecond",16);ce("S",iv,Wk);ce("SS",iv,en);ce("SSS",iv,jk);var es,TM;for(es="SSSS";es.length<=9;es+="S")ce(es,Cl);function v7(t,e){e[ha]=ze(("0."+t)*1e3)}for(es="S";es.length<=9;es+="S")lt(es,v7);TM=El("Milliseconds",!1);be("z",0,0,"zoneAbbr");be("zz",0,0,"zoneName");function m7(){return this._isUTC?"UTC":""}function g7(){return this._isUTC?"Coordinated Universal Time":""}var K=pc.prototype;K.add=u9;K.calendar=m9;K.clone=g9;K.diff=S9;K.endOf=R9;K.format=P9;K.from=A9;K.fromNow=O9;K.to=k9;K.toNow=M9;K.get=_G;K.invalidAt=$9;K.isAfter=y9;K.isBefore=_9;K.isBetween=w9;K.isSame=x9;K.isSameOrAfter=b9;K.isSameOrBefore=T9;K.isValid=z9;K.lang=mM;K.locale=vM;K.localeData=gM;K.max=zY;K.min=VY;K.parsingFlags=H9;K.set=wG;K.startOf=D9;K.subtract=h9;K.toArray=U9;K.toObject=B9;K.toDate=L9;K.toISOString=C9;K.inspect=I9;typeof Symbol<"u"&&Symbol.for!=null&&(K[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});K.toJSON=V9;K.toString=E9;K.unix=F9;K.valueOf=N9;K.creationData=W9;K.eraName=X9;K.eraNarrow=q9;K.eraAbbr=K9;K.eraYear=Q9;K.year=Jk;K.isLeapYear=BG;K.weekYear=i7;K.isoWeekYear=s7;K.quarter=K.quarters=c7;K.month=Qk;K.daysInMonth=FG;K.week=K.weeks=jG;K.isoWeek=K.isoWeeks=GG;K.weeksInYear=l7;K.weeksInWeekYear=u7;K.isoWeeksInYear=a7;K.isoWeeksInISOWeekYear=o7;K.date=bM;K.day=K.days=sY;K.weekday=aY;K.isoWeekday=oY;K.dayOfYear=f7;K.hour=K.hours=pY;K.minute=K.minutes=d7;K.second=K.seconds=p7;K.millisecond=K.milliseconds=TM;K.utcOffset=KY;K.utc=ZY;K.local=JY;K.parseZone=e9;K.hasAlignedHourOffset=t9;K.isDST=r9;K.isLocal=i9;K.isUtcOffset=s9;K.isUtc=cM;K.isUTC=cM;K.zoneAbbr=m7;K.zoneName=g7;K.dates=pn("dates accessor is deprecated. Use date instead.",bM);K.months=pn("months accessor is deprecated. Use month instead",Qk);K.years=pn("years accessor is deprecated. Use year instead",Jk);K.zone=pn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",QY);K.isDSTShifted=pn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",n9);function y7(t){return mt(t*1e3)}function _7(){return mt.apply(null,arguments).parseZone()}function SM(t){return t}var Ze=cw.prototype;Ze.calendar=sG;Ze.longDateFormat=uG;Ze.invalidDate=cG;Ze.ordinal=pG;Ze.preparse=SM;Ze.postformat=SM;Ze.relativeTime=mG;Ze.pastFuture=gG;Ze.set=nG;Ze.eras=j9;Ze.erasParse=G9;Ze.erasConvertYear=Y9;Ze.erasAbbrRegex=J9;Ze.erasNameRegex=Z9;Ze.erasNarrowRegex=e7;Ze.months=MG;Ze.monthsShort=DG;Ze.monthsParse=NG;Ze.monthsRegex=UG;Ze.monthsShortRegex=LG;Ze.week=zG;Ze.firstDayOfYear=WG;Ze.firstDayOfWeek=$G;Ze.weekdays=eY;Ze.weekdaysMin=rY;Ze.weekdaysShort=tY;Ze.weekdaysParse=iY;Ze.weekdaysRegex=lY;Ze.weekdaysShortRegex=uY;Ze.weekdaysMinRegex=hY;Ze.isPM=fY;Ze.meridiem=vY;function qd(t,e,r,n){var i=Fi(),s=Zn().set(n,e);return i[r](s,t)}function EM(t,e,r){if(Di(t)&&(e=t,t=void 0),t=t||"",e!=null)return qd(t,e,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=qd(t,n,r,"month");return i}function Iw(t,e,r,n){typeof t=="boolean"?(Di(e)&&(r=e,e=void 0),e=e||""):(e=t,r=e,t=!1,Di(e)&&(r=e,e=void 0),e=e||"");var i=Fi(),s=t?i._week.dow:0,a,u=[];if(r!=null)return qd(e,(r+s)%7,n,"day");for(a=0;a<7;a++)u[a]=qd(e,(a+s)%7,n,"day");return u}function w7(t,e){return EM(t,e,"months")}function x7(t,e){return EM(t,e,"monthsShort")}function b7(t,e,r){return Iw(t,e,r,"weekdays")}function T7(t,e,r){return Iw(t,e,r,"weekdaysShort")}function S7(t,e,r){return Iw(t,e,r,"weekdaysMin")}vs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,r=ze(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+r}});oe.lang=pn("moment.lang is deprecated. Use moment.locale instead.",vs);oe.langData=pn("moment.langData is deprecated. Use moment.localeData instead.",Fi);var ai=Math.abs;function E7(){var t=this._data;return this._milliseconds=ai(this._milliseconds),this._days=ai(this._days),this._months=ai(this._months),t.milliseconds=ai(t.milliseconds),t.seconds=ai(t.seconds),t.minutes=ai(t.minutes),t.hours=ai(t.hours),t.months=ai(t.months),t.years=ai(t.years),this}function CM(t,e,r,n){var i=En(e,r);return t._milliseconds+=n*i._milliseconds,t._days+=n*i._days,t._months+=n*i._months,t._bubble()}function C7(t,e){return CM(this,t,e,1)}function I7(t,e){return CM(this,t,e,-1)}function YE(t){return t<0?Math.floor(t):Math.ceil(t)}function P7(){var t=this._milliseconds,e=this._days,r=this._months,n=this._data,i,s,a,u,c;return t>=0&&e>=0&&r>=0||t<=0&&e<=0&&r<=0||(t+=YE(O0(r)+e)*864e5,e=0,r=0),n.milliseconds=t%1e3,i=nn(t/1e3),n.seconds=i%60,s=nn(i/60),n.minutes=s%60,a=nn(s/60),n.hours=a%24,e+=nn(a/24),c=nn(IM(e)),r+=c,e-=YE(O0(c)),u=nn(r/12),r%=12,n.days=e,n.months=r,n.years=u,this}function IM(t){return t*4800/146097}function O0(t){return t*146097/4800}function A7(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if(t=vn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,r=this._months+IM(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(O0(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function O7(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ze(this._months/12)*31536e6:NaN}function Li(t){return function(){return this.as(t)}}var k7=Li("ms"),M7=Li("s"),D7=Li("m"),R7=Li("h"),N7=Li("d"),F7=Li("w"),L7=Li("M"),U7=Li("Q"),B7=Li("y");function V7(){return En(this)}function z7(t){return t=vn(t),this.isValid()?this[t+"s"]():NaN}function Ha(t){return function(){return this.isValid()?this._data[t]:NaN}}var H7=Ha("milliseconds"),$7=Ha("seconds"),W7=Ha("minutes"),j7=Ha("hours"),G7=Ha("days"),Y7=Ha("months"),X7=Ha("years");function q7(){return nn(this.days()/7)}var li=Math.round,wo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function K7(t,e,r,n,i){return i.relativeTime(e||1,!!r,t,n)}function Q7(t,e,r,n){var i=En(t).abs(),s=li(i.as("s")),a=li(i.as("m")),u=li(i.as("h")),c=li(i.as("d")),d=li(i.as("M")),m=li(i.as("w")),_=li(i.as("y")),w=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||a<=1&&["m"]||a<r.m&&["mm",a]||u<=1&&["h"]||u<r.h&&["hh",u]||c<=1&&["d"]||c<r.d&&["dd",c];return r.w!=null&&(w=w||m<=1&&["w"]||m<r.w&&["ww",m]),w=w||d<=1&&["M"]||d<r.M&&["MM",d]||_<=1&&["y"]||["yy",_],w[2]=e,w[3]=+t>0,w[4]=n,K7.apply(null,w)}function Z7(t){return t===void 0?li:typeof t=="function"?(li=t,!0):!1}function J7(t,e){return wo[t]===void 0?!1:e===void 0?wo[t]:(wo[t]=e,t==="s"&&(wo.ss=e-1),!0)}function eX(t,e){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=wo,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(r=t),typeof e=="object"&&(n=Object.assign({},wo,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),i=this.localeData(),s=Q7(this,!r,n,i),r&&(s=i.pastFuture(+this,s)),i.postformat(s)}var vg=Math.abs;function ro(t){return(t>0)-(t<0)||+t}function fv(){if(!this.isValid())return this.localeData().invalidDate();var t=vg(this._milliseconds)/1e3,e=vg(this._days),r=vg(this._months),n,i,s,a,u=this.asSeconds(),c,d,m,_;return u?(n=nn(t/60),i=nn(n/60),t%=60,n%=60,s=nn(r/12),r%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",c=u<0?"-":"",d=ro(this._months)!==ro(u)?"-":"",m=ro(this._days)!==ro(u)?"-":"",_=ro(this._milliseconds)!==ro(u)?"-":"",c+"P"+(s?d+s+"Y":"")+(r?d+r+"M":"")+(e?m+e+"D":"")+(i||n||t?"T":"")+(i?_+i+"H":"")+(n?_+n+"M":"")+(t?_+a+"S":"")):"P0D"}var Ye=hv.prototype;Ye.isValid=GY;Ye.abs=E7;Ye.add=C7;Ye.subtract=I7;Ye.as=A7;Ye.asMilliseconds=k7;Ye.asSeconds=M7;Ye.asMinutes=D7;Ye.asHours=R7;Ye.asDays=N7;Ye.asWeeks=F7;Ye.asMonths=L7;Ye.asQuarters=U7;Ye.asYears=B7;Ye.valueOf=O7;Ye._bubble=P7;Ye.clone=V7;Ye.get=z7;Ye.milliseconds=H7;Ye.seconds=$7;Ye.minutes=W7;Ye.hours=j7;Ye.days=G7;Ye.weeks=q7;Ye.months=Y7;Ye.years=X7;Ye.humanize=eX;Ye.toISOString=fv;Ye.toString=fv;Ye.toJSON=fv;Ye.locale=vM;Ye.localeData=gM;Ye.toIsoString=pn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fv);Ye.lang=mM;be("X",0,0,"unix");be("x",0,0,"valueOf");ce("x",av);ce("X",bG);lt("X",function(t,e,r){r._d=new Date(parseFloat(t)*1e3)});lt("x",function(t,e,r){r._d=new Date(ze(t))});//! moment.js
oe.version="2.29.4";tG(mt);oe.fn=K;oe.min=HY;oe.max=$Y;oe.now=WY;oe.utc=Zn;oe.unix=y7;oe.months=w7;oe.isDate=dc;oe.locale=vs;oe.invalid=tv;oe.duration=En;oe.isMoment=Sn;oe.weekdays=b7;oe.parseZone=_7;oe.localeData=Fi;oe.isDuration=Vf;oe.monthsShort=x7;oe.weekdaysMin=S7;oe.defineLocale=_w;oe.updateLocale=_Y;oe.locales=wY;oe.weekdaysShort=T7;oe.normalizeUnits=vn;oe.relativeTimeRounding=Z7;oe.relativeTimeThreshold=J7;oe.calendarFormat=v9;oe.prototype=K;oe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const tX=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"})),rX=lN(tX);/*!
 * Chart.js v2.9.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */(function(t,e){(function(r,n){t.exports=n(function(){try{return rX}catch{}}())})(ca,function(r){r=r&&r.hasOwnProperty("default")?r.default:r;function n(o,l){return l={exports:{}},o(l,l.exports),l.exports}function i(o){return o&&o.default||o}var s={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},a=n(function(o){var l={};for(var h in s)s.hasOwnProperty(h)&&(l[s[h]]=h);var f=o.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var p in f)if(f.hasOwnProperty(p)){if(!("channels"in f[p]))throw new Error("missing channels property: "+p);if(!("labels"in f[p]))throw new Error("missing channel labels property: "+p);if(f[p].labels.length!==f[p].channels)throw new Error("channel and label counts mismatch: "+p);var v=f[p].channels,g=f[p].labels;delete f[p].channels,delete f[p].labels,Object.defineProperty(f[p],"channels",{value:v}),Object.defineProperty(f[p],"labels",{value:g})}f.rgb.hsl=function(y){var b=y[0]/255,C=y[1]/255,I=y[2]/255,D=Math.min(b,C,I),N=Math.max(b,C,I),F=N-D,B,z,Y;return N===D?B=0:b===N?B=(C-I)/F:C===N?B=2+(I-b)/F:I===N&&(B=4+(b-C)/F),B=Math.min(B*60,360),B<0&&(B+=360),Y=(D+N)/2,N===D?z=0:Y<=.5?z=F/(N+D):z=F/(2-N-D),[B,z*100,Y*100]},f.rgb.hsv=function(y){var b,C,I,D,N,F=y[0]/255,B=y[1]/255,z=y[2]/255,Y=Math.max(F,B,z),he=Y-Math.min(F,B,z),pe=function(Ne){return(Y-Ne)/6/he+1/2};return he===0?D=N=0:(N=he/Y,b=pe(F),C=pe(B),I=pe(z),F===Y?D=I-C:B===Y?D=1/3+b-I:z===Y&&(D=2/3+C-b),D<0?D+=1:D>1&&(D-=1)),[D*360,N*100,Y*100]},f.rgb.hwb=function(y){var b=y[0],C=y[1],I=y[2],D=f.rgb.hsl(y)[0],N=1/255*Math.min(b,Math.min(C,I));return I=1-1/255*Math.max(b,Math.max(C,I)),[D,N*100,I*100]},f.rgb.cmyk=function(y){var b=y[0]/255,C=y[1]/255,I=y[2]/255,D,N,F,B;return B=Math.min(1-b,1-C,1-I),D=(1-b-B)/(1-B)||0,N=(1-C-B)/(1-B)||0,F=(1-I-B)/(1-B)||0,[D*100,N*100,F*100,B*100]};function x(y,b){return Math.pow(y[0]-b[0],2)+Math.pow(y[1]-b[1],2)+Math.pow(y[2]-b[2],2)}f.rgb.keyword=function(y){var b=l[y];if(b)return b;var C=1/0,I;for(var D in s)if(s.hasOwnProperty(D)){var N=s[D],F=x(y,N);F<C&&(C=F,I=D)}return I},f.keyword.rgb=function(y){return s[y]},f.rgb.xyz=function(y){var b=y[0]/255,C=y[1]/255,I=y[2]/255;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92,C=C>.04045?Math.pow((C+.055)/1.055,2.4):C/12.92,I=I>.04045?Math.pow((I+.055)/1.055,2.4):I/12.92;var D=b*.4124+C*.3576+I*.1805,N=b*.2126+C*.7152+I*.0722,F=b*.0193+C*.1192+I*.9505;return[D*100,N*100,F*100]},f.rgb.lab=function(y){var b=f.rgb.xyz(y),C=b[0],I=b[1],D=b[2],N,F,B;return C/=95.047,I/=100,D/=108.883,C=C>.008856?Math.pow(C,1/3):7.787*C+16/116,I=I>.008856?Math.pow(I,1/3):7.787*I+16/116,D=D>.008856?Math.pow(D,1/3):7.787*D+16/116,N=116*I-16,F=500*(C-I),B=200*(I-D),[N,F,B]},f.hsl.rgb=function(y){var b=y[0]/360,C=y[1]/100,I=y[2]/100,D,N,F,B,z;if(C===0)return z=I*255,[z,z,z];I<.5?N=I*(1+C):N=I+C-I*C,D=2*I-N,B=[0,0,0];for(var Y=0;Y<3;Y++)F=b+1/3*-(Y-1),F<0&&F++,F>1&&F--,6*F<1?z=D+(N-D)*6*F:2*F<1?z=N:3*F<2?z=D+(N-D)*(2/3-F)*6:z=D,B[Y]=z*255;return B},f.hsl.hsv=function(y){var b=y[0],C=y[1]/100,I=y[2]/100,D=C,N=Math.max(I,.01),F,B;return I*=2,C*=I<=1?I:2-I,D*=N<=1?N:2-N,B=(I+C)/2,F=I===0?2*D/(N+D):2*C/(I+C),[b,F*100,B*100]},f.hsv.rgb=function(y){var b=y[0]/60,C=y[1]/100,I=y[2]/100,D=Math.floor(b)%6,N=b-Math.floor(b),F=255*I*(1-C),B=255*I*(1-C*N),z=255*I*(1-C*(1-N));switch(I*=255,D){case 0:return[I,z,F];case 1:return[B,I,F];case 2:return[F,I,z];case 3:return[F,B,I];case 4:return[z,F,I];case 5:return[I,F,B]}},f.hsv.hsl=function(y){var b=y[0],C=y[1]/100,I=y[2]/100,D=Math.max(I,.01),N,F,B;return B=(2-C)*I,N=(2-C)*D,F=C*D,F/=N<=1?N:2-N,F=F||0,B/=2,[b,F*100,B*100]},f.hwb.rgb=function(y){var b=y[0]/360,C=y[1]/100,I=y[2]/100,D=C+I,N,F,B,z;D>1&&(C/=D,I/=D),N=Math.floor(6*b),F=1-I,B=6*b-N,N&1&&(B=1-B),z=C+B*(F-C);var Y,he,pe;switch(N){default:case 6:case 0:Y=F,he=z,pe=C;break;case 1:Y=z,he=F,pe=C;break;case 2:Y=C,he=F,pe=z;break;case 3:Y=C,he=z,pe=F;break;case 4:Y=z,he=C,pe=F;break;case 5:Y=F,he=C,pe=z;break}return[Y*255,he*255,pe*255]},f.cmyk.rgb=function(y){var b=y[0]/100,C=y[1]/100,I=y[2]/100,D=y[3]/100,N,F,B;return N=1-Math.min(1,b*(1-D)+D),F=1-Math.min(1,C*(1-D)+D),B=1-Math.min(1,I*(1-D)+D),[N*255,F*255,B*255]},f.xyz.rgb=function(y){var b=y[0]/100,C=y[1]/100,I=y[2]/100,D,N,F;return D=b*3.2406+C*-1.5372+I*-.4986,N=b*-.9689+C*1.8758+I*.0415,F=b*.0557+C*-.204+I*1.057,D=D>.0031308?1.055*Math.pow(D,1/2.4)-.055:D*12.92,N=N>.0031308?1.055*Math.pow(N,1/2.4)-.055:N*12.92,F=F>.0031308?1.055*Math.pow(F,1/2.4)-.055:F*12.92,D=Math.min(Math.max(0,D),1),N=Math.min(Math.max(0,N),1),F=Math.min(Math.max(0,F),1),[D*255,N*255,F*255]},f.xyz.lab=function(y){var b=y[0],C=y[1],I=y[2],D,N,F;return b/=95.047,C/=100,I/=108.883,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,C=C>.008856?Math.pow(C,1/3):7.787*C+16/116,I=I>.008856?Math.pow(I,1/3):7.787*I+16/116,D=116*C-16,N=500*(b-C),F=200*(C-I),[D,N,F]},f.lab.xyz=function(y){var b=y[0],C=y[1],I=y[2],D,N,F;N=(b+16)/116,D=C/500+N,F=N-I/200;var B=Math.pow(N,3),z=Math.pow(D,3),Y=Math.pow(F,3);return N=B>.008856?B:(N-16/116)/7.787,D=z>.008856?z:(D-16/116)/7.787,F=Y>.008856?Y:(F-16/116)/7.787,D*=95.047,N*=100,F*=108.883,[D,N,F]},f.lab.lch=function(y){var b=y[0],C=y[1],I=y[2],D,N,F;return D=Math.atan2(I,C),N=D*360/2/Math.PI,N<0&&(N+=360),F=Math.sqrt(C*C+I*I),[b,F,N]},f.lch.lab=function(y){var b=y[0],C=y[1],I=y[2],D,N,F;return F=I/360*2*Math.PI,D=C*Math.cos(F),N=C*Math.sin(F),[b,D,N]},f.rgb.ansi16=function(y){var b=y[0],C=y[1],I=y[2],D=1 in arguments?arguments[1]:f.rgb.hsv(y)[2];if(D=Math.round(D/50),D===0)return 30;var N=30+(Math.round(I/255)<<2|Math.round(C/255)<<1|Math.round(b/255));return D===2&&(N+=60),N},f.hsv.ansi16=function(y){return f.rgb.ansi16(f.hsv.rgb(y),y[2])},f.rgb.ansi256=function(y){var b=y[0],C=y[1],I=y[2];if(b===C&&C===I)return b<8?16:b>248?231:Math.round((b-8)/247*24)+232;var D=16+36*Math.round(b/255*5)+6*Math.round(C/255*5)+Math.round(I/255*5);return D},f.ansi16.rgb=function(y){var b=y%10;if(b===0||b===7)return y>50&&(b+=3.5),b=b/10.5*255,[b,b,b];var C=(~~(y>50)+1)*.5,I=(b&1)*C*255,D=(b>>1&1)*C*255,N=(b>>2&1)*C*255;return[I,D,N]},f.ansi256.rgb=function(y){if(y>=232){var b=(y-232)*10+8;return[b,b,b]}y-=16;var C,I=Math.floor(y/36)/5*255,D=Math.floor((C=y%36)/6)/5*255,N=C%6/5*255;return[I,D,N]},f.rgb.hex=function(y){var b=((Math.round(y[0])&255)<<16)+((Math.round(y[1])&255)<<8)+(Math.round(y[2])&255),C=b.toString(16).toUpperCase();return"000000".substring(C.length)+C},f.hex.rgb=function(y){var b=y.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!b)return[0,0,0];var C=b[0];b[0].length===3&&(C=C.split("").map(function(B){return B+B}).join(""));var I=parseInt(C,16),D=I>>16&255,N=I>>8&255,F=I&255;return[D,N,F]},f.rgb.hcg=function(y){var b=y[0]/255,C=y[1]/255,I=y[2]/255,D=Math.max(Math.max(b,C),I),N=Math.min(Math.min(b,C),I),F=D-N,B,z;return F<1?B=N/(1-F):B=0,F<=0?z=0:D===b?z=(C-I)/F%6:D===C?z=2+(I-b)/F:z=4+(b-C)/F+4,z/=6,z%=1,[z*360,F*100,B*100]},f.hsl.hcg=function(y){var b=y[1]/100,C=y[2]/100,I=1,D=0;return C<.5?I=2*b*C:I=2*b*(1-C),I<1&&(D=(C-.5*I)/(1-I)),[y[0],I*100,D*100]},f.hsv.hcg=function(y){var b=y[1]/100,C=y[2]/100,I=b*C,D=0;return I<1&&(D=(C-I)/(1-I)),[y[0],I*100,D*100]},f.hcg.rgb=function(y){var b=y[0]/360,C=y[1]/100,I=y[2]/100;if(C===0)return[I*255,I*255,I*255];var D=[0,0,0],N=b%1*6,F=N%1,B=1-F,z=0;switch(Math.floor(N)){case 0:D[0]=1,D[1]=F,D[2]=0;break;case 1:D[0]=B,D[1]=1,D[2]=0;break;case 2:D[0]=0,D[1]=1,D[2]=F;break;case 3:D[0]=0,D[1]=B,D[2]=1;break;case 4:D[0]=F,D[1]=0,D[2]=1;break;default:D[0]=1,D[1]=0,D[2]=B}return z=(1-C)*I,[(C*D[0]+z)*255,(C*D[1]+z)*255,(C*D[2]+z)*255]},f.hcg.hsv=function(y){var b=y[1]/100,C=y[2]/100,I=b+C*(1-b),D=0;return I>0&&(D=b/I),[y[0],D*100,I*100]},f.hcg.hsl=function(y){var b=y[1]/100,C=y[2]/100,I=C*(1-b)+.5*b,D=0;return I>0&&I<.5?D=b/(2*I):I>=.5&&I<1&&(D=b/(2*(1-I))),[y[0],D*100,I*100]},f.hcg.hwb=function(y){var b=y[1]/100,C=y[2]/100,I=b+C*(1-b);return[y[0],(I-b)*100,(1-I)*100]},f.hwb.hcg=function(y){var b=y[1]/100,C=y[2]/100,I=1-C,D=I-b,N=0;return D<1&&(N=(I-D)/(1-D)),[y[0],D*100,N*100]},f.apple.rgb=function(y){return[y[0]/65535*255,y[1]/65535*255,y[2]/65535*255]},f.rgb.apple=function(y){return[y[0]/255*65535,y[1]/255*65535,y[2]/255*65535]},f.gray.rgb=function(y){return[y[0]/100*255,y[0]/100*255,y[0]/100*255]},f.gray.hsl=f.gray.hsv=function(y){return[0,0,y[0]]},f.gray.hwb=function(y){return[0,100,y[0]]},f.gray.cmyk=function(y){return[0,0,0,y[0]]},f.gray.lab=function(y){return[y[0],0,0]},f.gray.hex=function(y){var b=Math.round(y[0]/100*255)&255,C=(b<<16)+(b<<8)+b,I=C.toString(16).toUpperCase();return"000000".substring(I.length)+I},f.rgb.gray=function(y){var b=(y[0]+y[1]+y[2])/3;return[b/255*100]}});a.rgb,a.hsl,a.hsv,a.hwb,a.cmyk,a.xyz,a.lab,a.lch,a.hex,a.keyword,a.ansi16,a.ansi256,a.hcg,a.apple,a.gray;function u(){for(var o={},l=Object.keys(a),h=l.length,f=0;f<h;f++)o[l[f]]={distance:-1,parent:null};return o}function c(o){var l=u(),h=[o];for(l[o].distance=0;h.length;)for(var f=h.pop(),p=Object.keys(a[f]),v=p.length,g=0;g<v;g++){var x=p[g],y=l[x];y.distance===-1&&(y.distance=l[f].distance+1,y.parent=f,h.unshift(x))}return l}function d(o,l){return function(h){return l(o(h))}}function m(o,l){for(var h=[l[o].parent,o],f=a[l[o].parent][o],p=l[o].parent;l[p].parent;)h.unshift(l[p].parent),f=d(a[l[p].parent][p],f),p=l[p].parent;return f.conversion=h,f}var _=function(o){for(var l=c(o),h={},f=Object.keys(l),p=f.length,v=0;v<p;v++){var g=f[v],x=l[g];x.parent!==null&&(h[g]=m(g,l))}return h},w={},T=Object.keys(a);function S(o){var l=function(h){return h==null?h:(arguments.length>1&&(h=Array.prototype.slice.call(arguments)),o(h))};return"conversion"in o&&(l.conversion=o.conversion),l}function P(o){var l=function(h){if(h==null)return h;arguments.length>1&&(h=Array.prototype.slice.call(arguments));var f=o(h);if(typeof f=="object")for(var p=f.length,v=0;v<p;v++)f[v]=Math.round(f[v]);return f};return"conversion"in o&&(l.conversion=o.conversion),l}T.forEach(function(o){w[o]={},Object.defineProperty(w[o],"channels",{value:a[o].channels}),Object.defineProperty(w[o],"labels",{value:a[o].labels});var l=_(o),h=Object.keys(l);h.forEach(function(f){var p=l[f];w[o][f]=P(p),w[o][f].raw=S(p)})});var E=w,A={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},O={getRgba:M,getHsla:R,getRgb:L,getHsl:W,getHwb:V,getAlpha:j,hexString:U,rgbString:H,rgbaString:J,percentString:se,percentaString:te,hslString:Le,hslaString:ae,hwbString:le,keyword:re};function M(o){if(o){var l=/^#([a-fA-F0-9]{3,4})$/i,h=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,f=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,p=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,v=/(\w+)/,g=[0,0,0],x=1,y=o.match(l),b="";if(y){y=y[1],b=y[3];for(var C=0;C<g.length;C++)g[C]=parseInt(y[C]+y[C],16);b&&(x=Math.round(parseInt(b+b,16)/255*100)/100)}else if(y=o.match(h)){b=y[2],y=y[1];for(var C=0;C<g.length;C++)g[C]=parseInt(y.slice(C*2,C*2+2),16);b&&(x=Math.round(parseInt(b,16)/255*100)/100)}else if(y=o.match(f)){for(var C=0;C<g.length;C++)g[C]=parseInt(y[C+1]);x=parseFloat(y[4])}else if(y=o.match(p)){for(var C=0;C<g.length;C++)g[C]=Math.round(parseFloat(y[C+1])*2.55);x=parseFloat(y[4])}else if(y=o.match(v)){if(y[1]=="transparent")return[0,0,0,0];if(g=A[y[1]],!g)return}for(var C=0;C<g.length;C++)g[C]=Je(g[C],0,255);return!x&&x!=0?x=1:x=Je(x,0,1),g[3]=x,g}}function R(o){if(o){var l=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,h=o.match(l);if(h){var f=parseFloat(h[4]),p=Je(parseInt(h[1]),0,360),v=Je(parseFloat(h[2]),0,100),g=Je(parseFloat(h[3]),0,100),x=Je(isNaN(f)?1:f,0,1);return[p,v,g,x]}}}function V(o){if(o){var l=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,h=o.match(l);if(h){var f=parseFloat(h[4]),p=Je(parseInt(h[1]),0,360),v=Je(parseFloat(h[2]),0,100),g=Je(parseFloat(h[3]),0,100),x=Je(isNaN(f)?1:f,0,1);return[p,v,g,x]}}}function L(o){var l=M(o);return l&&l.slice(0,3)}function W(o){var l=R(o);return l&&l.slice(0,3)}function j(o){var l=M(o);if(l)return l[3];if(l=R(o))return l[3];if(l=V(o))return l[3]}function U(o,h){var h=h!==void 0&&o.length===3?h:o[3];return"#"+dt(o[0])+dt(o[1])+dt(o[2])+(h>=0&&h<1?dt(Math.round(h*255)):"")}function H(o,l){return l<1||o[3]&&o[3]<1?J(o,l):"rgb("+o[0]+", "+o[1]+", "+o[2]+")"}function J(o,l){return l===void 0&&(l=o[3]!==void 0?o[3]:1),"rgba("+o[0]+", "+o[1]+", "+o[2]+", "+l+")"}function se(o,l){if(l<1||o[3]&&o[3]<1)return te(o,l);var h=Math.round(o[0]/255*100),f=Math.round(o[1]/255*100),p=Math.round(o[2]/255*100);return"rgb("+h+"%, "+f+"%, "+p+"%)"}function te(o,l){var h=Math.round(o[0]/255*100),f=Math.round(o[1]/255*100),p=Math.round(o[2]/255*100);return"rgba("+h+"%, "+f+"%, "+p+"%, "+(l||o[3]||1)+")"}function Le(o,l){return l<1||o[3]&&o[3]<1?ae(o,l):"hsl("+o[0]+", "+o[1]+"%, "+o[2]+"%)"}function ae(o,l){return l===void 0&&(l=o[3]!==void 0?o[3]:1),"hsla("+o[0]+", "+o[1]+"%, "+o[2]+"%, "+l+")"}function le(o,l){return l===void 0&&(l=o[3]!==void 0?o[3]:1),"hwb("+o[0]+", "+o[1]+"%, "+o[2]+"%"+(l!==void 0&&l!==1?", "+l:"")+")"}function re(o){return ue[o.slice(0,3)]}function Je(o,l,h){return Math.min(Math.max(l,o),h)}function dt(o){var l=o.toString(16).toUpperCase();return l.length<2?"0"+l:l}var ue={};for(var $ in A)ue[A[$]]=$;var X=function(o){if(o instanceof X)return o;if(!(this instanceof X))return new X(o);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var l;typeof o=="string"?(l=O.getRgba(o),l?this.setValues("rgb",l):(l=O.getHsla(o))?this.setValues("hsl",l):(l=O.getHwb(o))&&this.setValues("hwb",l)):typeof o=="object"&&(l=o,l.r!==void 0||l.red!==void 0?this.setValues("rgb",l):l.l!==void 0||l.lightness!==void 0?this.setValues("hsl",l):l.v!==void 0||l.value!==void 0?this.setValues("hsv",l):l.w!==void 0||l.whiteness!==void 0?this.setValues("hwb",l):(l.c!==void 0||l.cyan!==void 0)&&this.setValues("cmyk",l))};X.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var o=this.values;return o.alpha!==1?o.hwb.concat([o.alpha]):o.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var o=this.values;return o.rgb.concat([o.alpha])},hslaArray:function(){var o=this.values;return o.hsl.concat([o.alpha])},alpha:function(o){return o===void 0?this.values.alpha:(this.setValues("alpha",o),this)},red:function(o){return this.setChannel("rgb",0,o)},green:function(o){return this.setChannel("rgb",1,o)},blue:function(o){return this.setChannel("rgb",2,o)},hue:function(o){return o&&(o%=360,o=o<0?360+o:o),this.setChannel("hsl",0,o)},saturation:function(o){return this.setChannel("hsl",1,o)},lightness:function(o){return this.setChannel("hsl",2,o)},saturationv:function(o){return this.setChannel("hsv",1,o)},whiteness:function(o){return this.setChannel("hwb",1,o)},blackness:function(o){return this.setChannel("hwb",2,o)},value:function(o){return this.setChannel("hsv",2,o)},cyan:function(o){return this.setChannel("cmyk",0,o)},magenta:function(o){return this.setChannel("cmyk",1,o)},yellow:function(o){return this.setChannel("cmyk",2,o)},black:function(o){return this.setChannel("cmyk",3,o)},hexString:function(){return O.hexString(this.values.rgb)},rgbString:function(){return O.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return O.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return O.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return O.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return O.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return O.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return O.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var o=this.values.rgb;return o[0]<<16|o[1]<<8|o[2]},luminosity:function(){for(var o=this.values.rgb,l=[],h=0;h<o.length;h++){var f=o[h]/255;l[h]=f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4)}return .2126*l[0]+.7152*l[1]+.0722*l[2]},contrast:function(o){var l=this.luminosity(),h=o.luminosity();return l>h?(l+.05)/(h+.05):(h+.05)/(l+.05)},level:function(o){var l=this.contrast(o);return l>=7.1?"AAA":l>=4.5?"AA":""},dark:function(){var o=this.values.rgb,l=(o[0]*299+o[1]*587+o[2]*114)/1e3;return l<128},light:function(){return!this.dark()},negate:function(){for(var o=[],l=0;l<3;l++)o[l]=255-this.values.rgb[l];return this.setValues("rgb",o),this},lighten:function(o){var l=this.values.hsl;return l[2]+=l[2]*o,this.setValues("hsl",l),this},darken:function(o){var l=this.values.hsl;return l[2]-=l[2]*o,this.setValues("hsl",l),this},saturate:function(o){var l=this.values.hsl;return l[1]+=l[1]*o,this.setValues("hsl",l),this},desaturate:function(o){var l=this.values.hsl;return l[1]-=l[1]*o,this.setValues("hsl",l),this},whiten:function(o){var l=this.values.hwb;return l[1]+=l[1]*o,this.setValues("hwb",l),this},blacken:function(o){var l=this.values.hwb;return l[2]+=l[2]*o,this.setValues("hwb",l),this},greyscale:function(){var o=this.values.rgb,l=o[0]*.3+o[1]*.59+o[2]*.11;return this.setValues("rgb",[l,l,l]),this},clearer:function(o){var l=this.values.alpha;return this.setValues("alpha",l-l*o),this},opaquer:function(o){var l=this.values.alpha;return this.setValues("alpha",l+l*o),this},rotate:function(o){var l=this.values.hsl,h=(l[0]+o)%360;return l[0]=h<0?360+h:h,this.setValues("hsl",l),this},mix:function(o,l){var h=this,f=o,p=l===void 0?.5:l,v=2*p-1,g=h.alpha()-f.alpha(),x=((v*g===-1?v:(v+g)/(1+v*g))+1)/2,y=1-x;return this.rgb(x*h.red()+y*f.red(),x*h.green()+y*f.green(),x*h.blue()+y*f.blue()).alpha(h.alpha()*p+f.alpha()*(1-p))},toJSON:function(){return this.rgb()},clone:function(){var o=new X,l=this.values,h=o.values,f,p;for(var v in l)l.hasOwnProperty(v)&&(f=l[v],p={}.toString.call(f),p==="[object Array]"?h[v]=f.slice(0):p==="[object Number]"?h[v]=f:console.error("unexpected color value:",f));return o}},X.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},X.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},X.prototype.getValues=function(o){for(var l=this.values,h={},f=0;f<o.length;f++)h[o.charAt(f)]=l[o][f];return l.alpha!==1&&(h.a=l.alpha),h},X.prototype.setValues=function(o,l){var h=this.values,f=this.spaces,p=this.maxes,v=1,g;if(this.valid=!0,o==="alpha")v=l;else if(l.length)h[o]=l.slice(0,o.length),v=l[o.length];else if(l[o.charAt(0)]!==void 0){for(g=0;g<o.length;g++)h[o][g]=l[o.charAt(g)];v=l.a}else if(l[f[o][0]]!==void 0){var x=f[o];for(g=0;g<o.length;g++)h[o][g]=l[x[g]];v=l.alpha}if(h.alpha=Math.max(0,Math.min(1,v===void 0?h.alpha:v)),o==="alpha")return!1;var y;for(g=0;g<o.length;g++)y=Math.max(0,Math.min(p[o][g],h[o][g])),h[o][g]=Math.round(y);for(var b in f)b!==o&&(h[b]=E[o][b](h[o]));return!0},X.prototype.setSpace=function(o,l){var h=l[0];return h===void 0?this.getValues(o):(typeof h=="number"&&(h=Array.prototype.slice.call(l)),this.setValues(o,h),this)},X.prototype.setChannel=function(o,l,h){var f=this.values[o];return h===void 0?f[l]:h===f[l]?this:(f[l]=h,this.setValues(o,f),this)},typeof window<"u"&&(window.Color=X);var ne=X;function we(o){return["__proto__","prototype","constructor"].indexOf(o)===-1}var ie={noop:function(){},uid:function(){var o=0;return function(){return o++}}(),isNullOrUndef:function(o){return o===null||typeof o>"u"},isArray:function(o){if(Array.isArray&&Array.isArray(o))return!0;var l=Object.prototype.toString.call(o);return l.substr(0,7)==="[object"&&l.substr(-6)==="Array]"},isObject:function(o){return o!==null&&Object.prototype.toString.call(o)==="[object Object]"},isFinite:function(o){return(typeof o=="number"||o instanceof Number)&&isFinite(o)},valueOrDefault:function(o,l){return typeof o>"u"?l:o},valueAtIndexOrDefault:function(o,l,h){return ie.valueOrDefault(ie.isArray(o)?o[l]:o,h)},callback:function(o,l,h){if(o&&typeof o.call=="function")return o.apply(h,l)},each:function(o,l,h,f){var p,v,g;if(ie.isArray(o))if(v=o.length,f)for(p=v-1;p>=0;p--)l.call(h,o[p],p);else for(p=0;p<v;p++)l.call(h,o[p],p);else if(ie.isObject(o))for(g=Object.keys(o),v=g.length,p=0;p<v;p++)l.call(h,o[g[p]],g[p])},arrayEquals:function(o,l){var h,f,p,v;if(!o||!l||o.length!==l.length)return!1;for(h=0,f=o.length;h<f;++h)if(p=o[h],v=l[h],p instanceof Array&&v instanceof Array){if(!ie.arrayEquals(p,v))return!1}else if(p!==v)return!1;return!0},clone:function(o){if(ie.isArray(o))return o.map(ie.clone);if(ie.isObject(o)){for(var l=Object.create(o),h=Object.keys(o),f=h.length,p=0;p<f;++p)l[h[p]]=ie.clone(o[h[p]]);return l}return o},_merger:function(o,l,h,f){if(we(o)){var p=l[o],v=h[o];ie.isObject(p)&&ie.isObject(v)?ie.merge(p,v,f):l[o]=ie.clone(v)}},_mergerIf:function(o,l,h){if(we(o)){var f=l[o],p=h[o];ie.isObject(f)&&ie.isObject(p)?ie.mergeIf(f,p):l.hasOwnProperty(o)||(l[o]=ie.clone(p))}},merge:function(o,l,h){var f=ie.isArray(l)?l:[l],p=f.length,v,g,x,y,b;if(!ie.isObject(o))return o;for(h=h||{},v=h.merger||ie._merger,g=0;g<p;++g)if(l=f[g],!!ie.isObject(l))for(x=Object.keys(l),b=0,y=x.length;b<y;++b)v(x[b],o,l,h);return o},mergeIf:function(o,l){return ie.merge(o,l,{merger:ie._mergerIf})},extend:Object.assign||function(o){return ie.merge(o,[].slice.call(arguments,1),{merger:function(l,h,f){h[l]=f[l]}})},inherits:function(o){var l=this,h=o&&o.hasOwnProperty("constructor")?o.constructor:function(){return l.apply(this,arguments)},f=function(){this.constructor=h};return f.prototype=l.prototype,h.prototype=new f,h.extend=ie.inherits,o&&ie.extend(h.prototype,o),h.__super__=l.prototype,h},_deprecated:function(o,l,h,f){l!==void 0&&console.warn(o+': "'+h+'" is deprecated. Please use "'+f+'" instead')}},Pe=ie;ie.callCallback=ie.callback,ie.indexOf=function(o,l,h){return Array.prototype.indexOf.call(o,l,h)},ie.getValueOrDefault=ie.valueOrDefault,ie.getValueAtIndexOrDefault=ie.valueAtIndexOrDefault;var He={linear:function(o){return o},easeInQuad:function(o){return o*o},easeOutQuad:function(o){return-o*(o-2)},easeInOutQuad:function(o){return(o/=.5)<1?.5*o*o:-.5*(--o*(o-2)-1)},easeInCubic:function(o){return o*o*o},easeOutCubic:function(o){return(o=o-1)*o*o+1},easeInOutCubic:function(o){return(o/=.5)<1?.5*o*o*o:.5*((o-=2)*o*o+2)},easeInQuart:function(o){return o*o*o*o},easeOutQuart:function(o){return-((o=o-1)*o*o*o-1)},easeInOutQuart:function(o){return(o/=.5)<1?.5*o*o*o*o:-.5*((o-=2)*o*o*o-2)},easeInQuint:function(o){return o*o*o*o*o},easeOutQuint:function(o){return(o=o-1)*o*o*o*o+1},easeInOutQuint:function(o){return(o/=.5)<1?.5*o*o*o*o*o:.5*((o-=2)*o*o*o*o+2)},easeInSine:function(o){return-Math.cos(o*(Math.PI/2))+1},easeOutSine:function(o){return Math.sin(o*(Math.PI/2))},easeInOutSine:function(o){return-.5*(Math.cos(Math.PI*o)-1)},easeInExpo:function(o){return o===0?0:Math.pow(2,10*(o-1))},easeOutExpo:function(o){return o===1?1:-Math.pow(2,-10*o)+1},easeInOutExpo:function(o){return o===0?0:o===1?1:(o/=.5)<1?.5*Math.pow(2,10*(o-1)):.5*(-Math.pow(2,-10*--o)+2)},easeInCirc:function(o){return o>=1?o:-(Math.sqrt(1-o*o)-1)},easeOutCirc:function(o){return Math.sqrt(1-(o=o-1)*o)},easeInOutCirc:function(o){return(o/=.5)<1?-.5*(Math.sqrt(1-o*o)-1):.5*(Math.sqrt(1-(o-=2)*o)+1)},easeInElastic:function(o){var l=1.70158,h=0,f=1;return o===0?0:o===1?1:(h||(h=.3),l=h/(2*Math.PI)*Math.asin(1/f),-(f*Math.pow(2,10*(o-=1))*Math.sin((o-l)*(2*Math.PI)/h)))},easeOutElastic:function(o){var l=1.70158,h=0,f=1;return o===0?0:o===1?1:(h||(h=.3),l=h/(2*Math.PI)*Math.asin(1/f),f*Math.pow(2,-10*o)*Math.sin((o-l)*(2*Math.PI)/h)+1)},easeInOutElastic:function(o){var l=1.70158,h=0,f=1;return o===0?0:(o/=.5)===2?1:(h||(h=.45),l=h/(2*Math.PI)*Math.asin(1/f),o<1?-.5*(f*Math.pow(2,10*(o-=1))*Math.sin((o-l)*(2*Math.PI)/h)):f*Math.pow(2,-10*(o-=1))*Math.sin((o-l)*(2*Math.PI)/h)*.5+1)},easeInBack:function(o){var l=1.70158;return o*o*((l+1)*o-l)},easeOutBack:function(o){var l=1.70158;return(o=o-1)*o*((l+1)*o+l)+1},easeInOutBack:function(o){var l=1.70158;return(o/=.5)<1?.5*(o*o*(((l*=1.525)+1)*o-l)):.5*((o-=2)*o*(((l*=1.525)+1)*o+l)+2)},easeInBounce:function(o){return 1-He.easeOutBounce(1-o)},easeOutBounce:function(o){return o<1/2.75?7.5625*o*o:o<2/2.75?7.5625*(o-=1.5/2.75)*o+.75:o<2.5/2.75?7.5625*(o-=2.25/2.75)*o+.9375:7.5625*(o-=2.625/2.75)*o+.984375},easeInOutBounce:function(o){return o<.5?He.easeInBounce(o*2)*.5:He.easeOutBounce(o*2-1)*.5+.5}},st={effects:He};Pe.easingEffects=He;var de=Math.PI,yt=de/180,We=de*2,me=de/2,at=de/4,Lt=de*2/3,Ut={clear:function(o){o.ctx.clearRect(0,0,o.width,o.height)},roundedRect:function(o,l,h,f,p,v){if(v){var g=Math.min(v,p/2,f/2),x=l+g,y=h+g,b=l+f-g,C=h+p-g;o.moveTo(l,y),x<b&&y<C?(o.arc(x,y,g,-de,-me),o.arc(b,y,g,-me,0),o.arc(b,C,g,0,me),o.arc(x,C,g,me,de)):x<b?(o.moveTo(x,h),o.arc(b,y,g,-me,me),o.arc(x,y,g,me,de+me)):y<C?(o.arc(x,y,g,-de,0),o.arc(x,C,g,0,de)):o.arc(x,y,g,-de,de),o.closePath(),o.moveTo(l,h)}else o.rect(l,h,f,p)},drawPoint:function(o,l,h,f,p,v){var g,x,y,b,C,I=(v||0)*yt;if(l&&typeof l=="object"&&(g=l.toString(),g==="[object HTMLImageElement]"||g==="[object HTMLCanvasElement]")){o.save(),o.translate(f,p),o.rotate(I),o.drawImage(l,-l.width/2,-l.height/2,l.width,l.height),o.restore();return}if(!(isNaN(h)||h<=0)){switch(o.beginPath(),l){default:o.arc(f,p,h,0,We),o.closePath();break;case"triangle":o.moveTo(f+Math.sin(I)*h,p-Math.cos(I)*h),I+=Lt,o.lineTo(f+Math.sin(I)*h,p-Math.cos(I)*h),I+=Lt,o.lineTo(f+Math.sin(I)*h,p-Math.cos(I)*h),o.closePath();break;case"rectRounded":C=h*.516,b=h-C,x=Math.cos(I+at)*b,y=Math.sin(I+at)*b,o.arc(f-x,p-y,C,I-de,I-me),o.arc(f+y,p-x,C,I-me,I),o.arc(f+x,p+y,C,I,I+me),o.arc(f-y,p+x,C,I+me,I+de),o.closePath();break;case"rect":if(!v){b=Math.SQRT1_2*h,o.rect(f-b,p-b,2*b,2*b);break}I+=at;case"rectRot":x=Math.cos(I)*h,y=Math.sin(I)*h,o.moveTo(f-x,p-y),o.lineTo(f+y,p-x),o.lineTo(f+x,p+y),o.lineTo(f-y,p+x),o.closePath();break;case"crossRot":I+=at;case"cross":x=Math.cos(I)*h,y=Math.sin(I)*h,o.moveTo(f-x,p-y),o.lineTo(f+x,p+y),o.moveTo(f+y,p-x),o.lineTo(f-y,p+x);break;case"star":x=Math.cos(I)*h,y=Math.sin(I)*h,o.moveTo(f-x,p-y),o.lineTo(f+x,p+y),o.moveTo(f+y,p-x),o.lineTo(f-y,p+x),I+=at,x=Math.cos(I)*h,y=Math.sin(I)*h,o.moveTo(f-x,p-y),o.lineTo(f+x,p+y),o.moveTo(f+y,p-x),o.lineTo(f-y,p+x);break;case"line":x=Math.cos(I)*h,y=Math.sin(I)*h,o.moveTo(f-x,p-y),o.lineTo(f+x,p+y);break;case"dash":o.moveTo(f,p),o.lineTo(f+Math.cos(I)*h,p+Math.sin(I)*h);break}o.fill(),o.stroke()}},_isPointInArea:function(o,l){var h=1e-6;return o.x>l.left-h&&o.x<l.right+h&&o.y>l.top-h&&o.y<l.bottom+h},clipArea:function(o,l){o.save(),o.beginPath(),o.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),o.clip()},unclipArea:function(o){o.restore()},lineTo:function(o,l,h,f){var p=h.steppedLine;if(p){if(p==="middle"){var v=(l.x+h.x)/2;o.lineTo(v,f?h.y:l.y),o.lineTo(v,f?l.y:h.y)}else p==="after"&&!f||p!=="after"&&f?o.lineTo(l.x,h.y):o.lineTo(h.x,l.y);o.lineTo(h.x,h.y);return}if(!h.tension){o.lineTo(h.x,h.y);return}o.bezierCurveTo(f?l.controlPointPreviousX:l.controlPointNextX,f?l.controlPointPreviousY:l.controlPointNextY,f?h.controlPointNextX:h.controlPointPreviousX,f?h.controlPointNextY:h.controlPointPreviousY,h.x,h.y)}},Cn=Ut;Pe.clear=Ut.clear,Pe.drawRoundedRectangle=function(o){o.beginPath(),Ut.roundedRect.apply(Ut,arguments)};var Ds={_set:function(o,l){return Pe.merge(this[o]||(this[o]={}),l)}};Ds._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var ge=Ds,Rs=Pe.valueOrDefault;function PM(o){return!o||Pe.isNullOrUndef(o.size)||Pe.isNullOrUndef(o.family)?null:(o.style?o.style+" ":"")+(o.weight?o.weight+" ":"")+o.size+"px "+o.family}var AM={toLineHeight:function(o,l){var h=(""+o).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!h||h[1]==="normal")return l*1.2;switch(o=+h[2],h[3]){case"px":return o;case"%":o/=100;break}return l*o},toPadding:function(o){var l,h,f,p;return Pe.isObject(o)?(l=+o.top||0,h=+o.right||0,f=+o.bottom||0,p=+o.left||0):l=h=f=p=+o||0,{top:l,right:h,bottom:f,left:p,height:l+f,width:p+h}},_parseFont:function(o){var l=ge.global,h=Rs(o.fontSize,l.defaultFontSize),f={family:Rs(o.fontFamily,l.defaultFontFamily),lineHeight:Pe.options.toLineHeight(Rs(o.lineHeight,l.defaultLineHeight),h),size:h,style:Rs(o.fontStyle,l.defaultFontStyle),weight:null,string:""};return f.string=PM(f),f},resolve:function(o,l,h,f){var p=!0,v,g,x;for(v=0,g=o.length;v<g;++v)if(x=o[v],x!==void 0&&(l!==void 0&&typeof x=="function"&&(x=x(l),p=!1),h!==void 0&&Pe.isArray(x)&&(x=x[h],p=!1),x!==void 0))return f&&!p&&(f.cacheable=!1),x}},Pw={_factorize:function(o){var l=[],h=Math.sqrt(o),f;for(f=1;f<h;f++)o%f===0&&(l.push(f),l.push(o/f));return h===(h|0)&&l.push(h),l.sort(function(p,v){return p-v}).pop(),l},log10:Math.log10||function(o){var l=Math.log(o)*Math.LOG10E,h=Math.round(l),f=o===Math.pow(10,h);return f?h:l}},OM=Pw;Pe.log10=Pw.log10;var kM=function(o,l){return{x:function(h){return o+o+l-h},setWidth:function(h){l=h},textAlign:function(h){return h==="center"?h:h==="right"?"left":"right"},xPlus:function(h,f){return h-f},leftForLtr:function(h,f){return h-f}}},MM=function(){return{x:function(o){return o},setWidth:function(o){},textAlign:function(o){return o},xPlus:function(o,l){return o+l},leftForLtr:function(o,l){return o}}},DM=function(o,l,h){return o?kM(l,h):MM()},RM=function(o,l){var h,f;(l==="ltr"||l==="rtl")&&(h=o.canvas.style,f=[h.getPropertyValue("direction"),h.getPropertyPriority("direction")],h.setProperty("direction",l,"important"),o.prevTextDirection=f)},NM=function(o){var l=o.prevTextDirection;l!==void 0&&(delete o.prevTextDirection,o.canvas.style.setProperty("direction",l[0],l[1]))},FM={getRtlAdapter:DM,overrideTextDirection:RM,restoreTextDirection:NM},k=Pe,LM=st,UM=Cn,BM=AM,VM=OM,zM=FM;k.easing=LM,k.canvas=UM,k.options=BM,k.math=VM,k.rtl=zM;function HM(o,l,h,f){var p=Object.keys(h),v,g,x,y,b,C,I,D,N;for(v=0,g=p.length;v<g;++v)if(x=p[v],C=h[x],l.hasOwnProperty(x)||(l[x]=C),y=l[x],!(y===C||x[0]==="_")){if(o.hasOwnProperty(x)||(o[x]=y),b=o[x],I=typeof C,I===typeof b){if(I==="string"){if(D=ne(b),D.valid&&(N=ne(C),N.valid)){l[x]=N.mix(D,f).rgbString();continue}}else if(k.isFinite(b)&&k.isFinite(C)){l[x]=b+(C-b)*f;continue}}l[x]=C}}var dv=function(o){k.extend(this,o),this.initialize.apply(this,arguments)};k.extend(dv.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var o=this;return o._view||(o._view=k.extend({},o._model)),o._start={},o},transition:function(o){var l=this,h=l._model,f=l._start,p=l._view;return!h||o===1?(l._view=k.extend({},h),l._start=null,l):(p||(p=l._view={}),f||(f=l._start={}),HM(f,p,h,o),l)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return k.isNumber(this._model.x)&&k.isNumber(this._model.y)}}),dv.extend=k.inherits;var In=dv,pv=In.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),vv=pv;Object.defineProperty(pv.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(pv.prototype,"chartInstance",{get:function(){return this.chart},set:function(o){this.chart=o}}),ge._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:k.noop,onComplete:k.noop}});var mv={animations:[],request:null,addAnimation:function(o,l,h,f){var p=this.animations,v,g;for(l.chart=o,l.startTime=Date.now(),l.duration=h,f||(o.animating=!0),v=0,g=p.length;v<g;++v)if(p[v].chart===o){p[v]=l;return}p.push(l),p.length===1&&this.requestAnimationFrame()},cancelAnimation:function(o){var l=k.findIndex(this.animations,function(h){return h.chart===o});l!==-1&&(this.animations.splice(l,1),o.animating=!1)},requestAnimationFrame:function(){var o=this;o.request===null&&(o.request=k.requestAnimFrame.call(window,function(){o.request=null,o.startDigest()}))},startDigest:function(){var o=this;o.advance(),o.animations.length>0&&o.requestAnimationFrame()},advance:function(){for(var o=this.animations,l,h,f,p,v=0;v<o.length;)l=o[v],h=l.chart,f=l.numSteps,p=Math.floor((Date.now()-l.startTime)/l.duration*f)+1,l.currentStep=Math.min(p,f),k.callback(l.render,[h,l],h),k.callback(l.onAnimationProgress,[l],h),l.currentStep>=f?(k.callback(l.onAnimationComplete,[l],h),h.animating=!1,o.splice(v,1)):++v}},$a=k.options.resolve,Aw=["push","pop","shift","splice","unshift"];function $M(o,l){if(o._chartjs){o._chartjs.listeners.push(l);return}Object.defineProperty(o,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[l]}}),Aw.forEach(function(h){var f="onData"+h.charAt(0).toUpperCase()+h.slice(1),p=o[h];Object.defineProperty(o,h,{configurable:!0,enumerable:!1,value:function(){var v=Array.prototype.slice.call(arguments),g=p.apply(this,v);return k.each(o._chartjs.listeners,function(x){typeof x[f]=="function"&&x[f].apply(x,v)}),g}})})}function Ow(o,l){var h=o._chartjs;if(h){var f=h.listeners,p=f.indexOf(l);p!==-1&&f.splice(p,1),!(f.length>0)&&(Aw.forEach(function(v){delete o[v]}),delete o._chartjs)}}var gv=function(o,l){this.initialize(o,l)};k.extend(gv.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(o,l){var h=this;h.chart=o,h.index=l,h.linkScales(),h.addElements(),h._type=h.getMeta().type},updateIndex:function(o){this.index=o},linkScales:function(){var o=this,l=o.getMeta(),h=o.chart,f=h.scales,p=o.getDataset(),v=h.options.scales;(l.xAxisID===null||!(l.xAxisID in f)||p.xAxisID)&&(l.xAxisID=p.xAxisID||v.xAxes[0].id),(l.yAxisID===null||!(l.yAxisID in f)||p.yAxisID)&&(l.yAxisID=p.yAxisID||v.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(o){return this.chart.scales[o]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&Ow(this._data,this)},createMetaDataset:function(){var o=this,l=o.datasetElementType;return l&&new l({_chart:o.chart,_datasetIndex:o.index})},createMetaData:function(o){var l=this,h=l.dataElementType;return h&&new h({_chart:l.chart,_datasetIndex:l.index,_index:o})},addElements:function(){var o=this,l=o.getMeta(),h=o.getDataset().data||[],f=l.data,p,v;for(p=0,v=h.length;p<v;++p)f[p]=f[p]||o.createMetaData(p);l.dataset=l.dataset||o.createMetaDataset()},addElementAndReset:function(o){var l=this.createMetaData(o);this.getMeta().data.splice(o,0,l),this.updateElement(l,o,!0)},buildOrUpdateElements:function(){var o=this,l=o.getDataset(),h=l.data||(l.data=[]);o._data!==h&&(o._data&&Ow(o._data,o),h&&Object.isExtensible(h)&&$M(h,o),o._data=h),o.resyncElements()},_configure:function(){var o=this;o._config=k.merge(Object.create(null),[o.chart.options.datasets[o._type],o.getDataset()],{merger:function(l,h,f){l!=="_meta"&&l!=="data"&&k._merger(l,h,f)}})},_update:function(o){var l=this;l._configure(),l._cachedDataOpts=null,l.update(o)},update:k.noop,transition:function(o){for(var l=this.getMeta(),h=l.data||[],f=h.length,p=0;p<f;++p)h[p].transition(o);l.dataset&&l.dataset.transition(o)},draw:function(){var o=this.getMeta(),l=o.data||[],h=l.length,f=0;for(o.dataset&&o.dataset.draw();f<h;++f)l[f].draw()},getStyle:function(o){var l=this,h=l.getMeta(),f=h.dataset,p;return l._configure(),f&&o===void 0?p=l._resolveDatasetElementOptions(f||{}):(o=o||0,p=l._resolveDataElementOptions(h.data[o]||{},o)),(p.fill===!1||p.fill===null)&&(p.backgroundColor=p.borderColor),p},_resolveDatasetElementOptions:function(o,l){var h=this,f=h.chart,p=h._config,v=o.custom||{},g=f.options.elements[h.datasetElementType.prototype._type]||{},x=h._datasetElementOptions,y={},b,C,I,D,N={chart:f,dataset:h.getDataset(),datasetIndex:h.index,hover:l};for(b=0,C=x.length;b<C;++b)I=x[b],D=l?"hover"+I.charAt(0).toUpperCase()+I.slice(1):I,y[I]=$a([v[D],p[D],g[D]],N);return y},_resolveDataElementOptions:function(o,l){var h=this,f=o&&o.custom,p=h._cachedDataOpts;if(p&&!f)return p;var v=h.chart,g=h._config,x=v.options.elements[h.dataElementType.prototype._type]||{},y=h._dataElementOptions,b={},C={chart:v,dataIndex:l,dataset:h.getDataset(),datasetIndex:h.index},I={cacheable:!f},D,N,F,B;if(f=f||{},k.isArray(y))for(N=0,F=y.length;N<F;++N)B=y[N],b[B]=$a([f[B],g[B],x[B]],C,l,I);else for(D=Object.keys(y),N=0,F=D.length;N<F;++N)B=D[N],b[B]=$a([f[B],g[y[B]],g[B],x[B]],C,l,I);return I.cacheable&&(h._cachedDataOpts=Object.freeze(b)),b},removeHoverStyle:function(o){k.merge(o._model,o.$previousStyle||{}),delete o.$previousStyle},setHoverStyle:function(o){var l=this.chart.data.datasets[o._datasetIndex],h=o._index,f=o.custom||{},p=o._model,v=k.getHoverColor;o.$previousStyle={backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth},p.backgroundColor=$a([f.hoverBackgroundColor,l.hoverBackgroundColor,v(p.backgroundColor)],void 0,h),p.borderColor=$a([f.hoverBorderColor,l.hoverBorderColor,v(p.borderColor)],void 0,h),p.borderWidth=$a([f.hoverBorderWidth,l.hoverBorderWidth,p.borderWidth],void 0,h)},_removeDatasetHoverStyle:function(){var o=this.getMeta().dataset;o&&this.removeHoverStyle(o)},_setDatasetHoverStyle:function(){var o=this.getMeta().dataset,l={},h,f,p,v,g,x;if(o){for(x=o._model,g=this._resolveDatasetElementOptions(o,!0),v=Object.keys(g),h=0,f=v.length;h<f;++h)p=v[h],l[p]=x[p],x[p]=g[p];o.$previousStyle=l}},resyncElements:function(){var o=this,l=o.getMeta(),h=o.getDataset().data,f=l.data.length,p=h.length;p<f?l.data.splice(p,f-p):p>f&&o.insertElements(f,p-f)},insertElements:function(o,l){for(var h=0;h<l;++h)this.addElementAndReset(o+h)},onDataPush:function(){var o=arguments.length;this.insertElements(this.getDataset().data.length-o,o)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(o,l){this.getMeta().data.splice(o,l),this.insertElements(o,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),gv.extend=k.inherits;var tn=gv,Pn=Math.PI*2;ge._set("global",{elements:{arc:{backgroundColor:ge.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});function kw(o,l){var h=l.startAngle,f=l.endAngle,p=l.pixelMargin,v=p/l.outerRadius,g=l.x,x=l.y;o.beginPath(),o.arc(g,x,l.outerRadius,h-v,f+v),l.innerRadius>p?(v=p/l.innerRadius,o.arc(g,x,l.innerRadius-p,f+v,h-v,!0)):o.arc(g,x,p,f+Math.PI/2,h-Math.PI/2),o.closePath(),o.clip()}function WM(o,l,h,f){var p=h.endAngle,v;for(f&&(h.endAngle=h.startAngle+Pn,kw(o,h),h.endAngle=p,h.endAngle===h.startAngle&&h.fullCircles&&(h.endAngle+=Pn,h.fullCircles--)),o.beginPath(),o.arc(h.x,h.y,h.innerRadius,h.startAngle+Pn,h.startAngle,!0),v=0;v<h.fullCircles;++v)o.stroke();for(o.beginPath(),o.arc(h.x,h.y,l.outerRadius,h.startAngle,h.startAngle+Pn),v=0;v<h.fullCircles;++v)o.stroke()}function jM(o,l,h){var f=l.borderAlign==="inner";f?(o.lineWidth=l.borderWidth*2,o.lineJoin="round"):(o.lineWidth=l.borderWidth,o.lineJoin="bevel"),h.fullCircles&&WM(o,l,h,f),f&&kw(o,h),o.beginPath(),o.arc(h.x,h.y,l.outerRadius,h.startAngle,h.endAngle),o.arc(h.x,h.y,h.innerRadius,h.endAngle,h.startAngle,!0),o.closePath(),o.stroke()}var GM=In.extend({_type:"arc",inLabelRange:function(o){var l=this._view;return l?Math.pow(o-l.x,2)<Math.pow(l.radius+l.hoverRadius,2):!1},inRange:function(o,l){var h=this._view;if(h){for(var f=k.getAngleFromPoint(h,{x:o,y:l}),p=f.angle,v=f.distance,g=h.startAngle,x=h.endAngle;x<g;)x+=Pn;for(;p>x;)p-=Pn;for(;p<g;)p+=Pn;var y=p>=g&&p<=x,b=v>=h.innerRadius&&v<=h.outerRadius;return y&&b}return!1},getCenterPoint:function(){var o=this._view,l=(o.startAngle+o.endAngle)/2,h=(o.innerRadius+o.outerRadius)/2;return{x:o.x+Math.cos(l)*h,y:o.y+Math.sin(l)*h}},getArea:function(){var o=this._view;return Math.PI*((o.endAngle-o.startAngle)/(2*Math.PI))*(Math.pow(o.outerRadius,2)-Math.pow(o.innerRadius,2))},tooltipPosition:function(){var o=this._view,l=o.startAngle+(o.endAngle-o.startAngle)/2,h=(o.outerRadius-o.innerRadius)/2+o.innerRadius;return{x:o.x+Math.cos(l)*h,y:o.y+Math.sin(l)*h}},draw:function(){var o=this._chart.ctx,l=this._view,h=l.borderAlign==="inner"?.33:0,f={x:l.x,y:l.y,innerRadius:l.innerRadius,outerRadius:Math.max(l.outerRadius-h,0),pixelMargin:h,startAngle:l.startAngle,endAngle:l.endAngle,fullCircles:Math.floor(l.circumference/Pn)},p;if(o.save(),o.fillStyle=l.backgroundColor,o.strokeStyle=l.borderColor,f.fullCircles){for(f.endAngle=f.startAngle+Pn,o.beginPath(),o.arc(f.x,f.y,f.outerRadius,f.startAngle,f.endAngle),o.arc(f.x,f.y,f.innerRadius,f.endAngle,f.startAngle,!0),o.closePath(),p=0;p<f.fullCircles;++p)o.fill();f.endAngle=f.startAngle+l.circumference%Pn}o.beginPath(),o.arc(f.x,f.y,f.outerRadius,f.startAngle,f.endAngle),o.arc(f.x,f.y,f.innerRadius,f.endAngle,f.startAngle,!0),o.closePath(),o.fill(),l.borderWidth&&jM(o,l,f),o.restore()}}),Mw=k.valueOrDefault,Dw=ge.global.defaultColor;ge._set("global",{elements:{line:{tension:.4,backgroundColor:Dw,borderWidth:3,borderColor:Dw,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var YM=In.extend({_type:"line",draw:function(){var o=this,l=o._view,h=o._chart.ctx,f=l.spanGaps,p=o._children.slice(),v=ge.global,g=v.elements.line,x=-1,y=o._loop,b,C,I;if(p.length){if(o._loop){for(b=0;b<p.length;++b)if(C=k.previousItem(p,b),!p[b]._view.skip&&C._view.skip){p=p.slice(b).concat(p.slice(0,b)),y=f;break}y&&p.push(p[0])}for(h.save(),h.lineCap=l.borderCapStyle||g.borderCapStyle,h.setLineDash&&h.setLineDash(l.borderDash||g.borderDash),h.lineDashOffset=Mw(l.borderDashOffset,g.borderDashOffset),h.lineJoin=l.borderJoinStyle||g.borderJoinStyle,h.lineWidth=Mw(l.borderWidth,g.borderWidth),h.strokeStyle=l.borderColor||v.defaultColor,h.beginPath(),I=p[0]._view,I.skip||(h.moveTo(I.x,I.y),x=0),b=1;b<p.length;++b)I=p[b]._view,C=x===-1?k.previousItem(p,b):p[x],I.skip||(x!==b-1&&!f||x===-1?h.moveTo(I.x,I.y):k.canvas.lineTo(h,C._view,I),x=b);y&&h.closePath(),h.stroke(),h.restore()}}}),XM=k.valueOrDefault,Rw=ge.global.defaultColor;ge._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Rw,borderColor:Rw,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});function Nw(o){var l=this._view;return l?Math.abs(o-l.x)<l.radius+l.hitRadius:!1}function qM(o){var l=this._view;return l?Math.abs(o-l.y)<l.radius+l.hitRadius:!1}var KM=In.extend({_type:"point",inRange:function(o,l){var h=this._view;return h?Math.pow(o-h.x,2)+Math.pow(l-h.y,2)<Math.pow(h.hitRadius+h.radius,2):!1},inLabelRange:Nw,inXRange:Nw,inYRange:qM,getCenterPoint:function(){var o=this._view;return{x:o.x,y:o.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var o=this._view;return{x:o.x,y:o.y,padding:o.radius+o.borderWidth}},draw:function(o){var l=this._view,h=this._chart.ctx,f=l.pointStyle,p=l.rotation,v=l.radius,g=l.x,x=l.y,y=ge.global,b=y.defaultColor;l.skip||(o===void 0||k.canvas._isPointInArea(l,o))&&(h.strokeStyle=l.borderColor||b,h.lineWidth=XM(l.borderWidth,y.elements.point.borderWidth),h.fillStyle=l.backgroundColor||b,k.canvas.drawPoint(h,f,v,g,x,p))}}),Fw=ge.global.defaultColor;ge._set("global",{elements:{rectangle:{backgroundColor:Fw,borderColor:Fw,borderSkipped:"bottom",borderWidth:0}}});function gc(o){return o&&o.width!==void 0}function Lw(o){var l,h,f,p,v;return gc(o)?(v=o.width/2,l=o.x-v,h=o.x+v,f=Math.min(o.y,o.base),p=Math.max(o.y,o.base)):(v=o.height/2,l=Math.min(o.x,o.base),h=Math.max(o.x,o.base),f=o.y-v,p=o.y+v),{left:l,top:f,right:h,bottom:p}}function Uw(o,l,h){return o===l?h:o===h?l:o}function QM(o){var l=o.borderSkipped,h={};return l&&(o.horizontal?o.base>o.x&&(l=Uw(l,"left","right")):o.base<o.y&&(l=Uw(l,"bottom","top")),h[l]=!0),h}function ZM(o,l,h){var f=o.borderWidth,p=QM(o),v,g,x,y;return k.isObject(f)?(v=+f.top||0,g=+f.right||0,x=+f.bottom||0,y=+f.left||0):v=g=x=y=+f||0,{t:p.top||v<0?0:v>h?h:v,r:p.right||g<0?0:g>l?l:g,b:p.bottom||x<0?0:x>h?h:x,l:p.left||y<0?0:y>l?l:y}}function JM(o){var l=Lw(o),h=l.right-l.left,f=l.bottom-l.top,p=ZM(o,h/2,f/2);return{outer:{x:l.left,y:l.top,w:h,h:f},inner:{x:l.left+p.l,y:l.top+p.t,w:h-p.l-p.r,h:f-p.t-p.b}}}function Il(o,l,h){var f=l===null,p=h===null,v=!o||f&&p?!1:Lw(o);return v&&(f||l>=v.left&&l<=v.right)&&(p||h>=v.top&&h<=v.bottom)}var eD=In.extend({_type:"rectangle",draw:function(){var o=this._chart.ctx,l=this._view,h=JM(l),f=h.outer,p=h.inner;o.fillStyle=l.backgroundColor,o.fillRect(f.x,f.y,f.w,f.h),!(f.w===p.w&&f.h===p.h)&&(o.save(),o.beginPath(),o.rect(f.x,f.y,f.w,f.h),o.clip(),o.fillStyle=l.borderColor,o.rect(p.x,p.y,p.w,p.h),o.fill("evenodd"),o.restore())},height:function(){var o=this._view;return o.base-o.y},inRange:function(o,l){return Il(this._view,o,l)},inLabelRange:function(o,l){var h=this._view;return gc(h)?Il(h,o,null):Il(h,null,l)},inXRange:function(o){return Il(this._view,o,null)},inYRange:function(o){return Il(this._view,null,o)},getCenterPoint:function(){var o=this._view,l,h;return gc(o)?(l=o.x,h=(o.y+o.base)/2):(l=(o.x+o.base)/2,h=o.y),{x:l,y:h}},getArea:function(){var o=this._view;return gc(o)?o.width*Math.abs(o.y-o.base):o.height*Math.abs(o.x-o.base)},tooltipPosition:function(){var o=this._view;return{x:o.x,y:o.y}}}),Dr={},tD=GM,rD=YM,nD=KM,iD=eD;Dr.Arc=tD,Dr.Line=rD,Dr.Point=nD,Dr.Rectangle=iD;var Pl=k._deprecated,Wa=k.valueOrDefault;ge._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),ge._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});function sD(o,l){var h=o._length,f,p,v,g;for(v=1,g=l.length;v<g;++v)h=Math.min(h,Math.abs(l[v]-l[v-1]));for(v=0,g=o.getTicks().length;v<g;++v)p=o.getPixelForTick(v),h=v>0?Math.min(h,Math.abs(p-f)):h,f=p;return h}function aD(o,l,h){var f=h.barThickness,p=l.stackCount,v=l.pixels[o],g=k.isNullOrUndef(f)?sD(l.scale,l.pixels):-1,x,y;return k.isNullOrUndef(f)?(x=g*h.categoryPercentage,y=h.barPercentage):(x=f*p,y=1),{chunk:x/p,ratio:y,start:v-x/2}}function oD(o,l,h){var f=l.pixels,p=f[o],v=o>0?f[o-1]:null,g=o<f.length-1?f[o+1]:null,x=h.categoryPercentage,y,b;return v===null&&(v=p-(g===null?l.end-l.start:g-p)),g===null&&(g=p+p-v),y=p-(p-Math.min(v,g))/2*x,b=Math.abs(g-v)/2*x,{chunk:b/l.stackCount,ratio:h.barPercentage,start:y}}var Bw=tn.extend({dataElementType:Dr.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var o=this,l,h;tn.prototype.initialize.apply(o,arguments),l=o.getMeta(),l.stack=o.getDataset().stack,l.bar=!0,h=o._getIndexScale().options,Pl("bar chart",h.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Pl("bar chart",h.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Pl("bar chart",h.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Pl("bar chart",o._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Pl("bar chart",h.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(o){var l=this,h=l.getMeta().data,f,p;for(l._ruler=l.getRuler(),f=0,p=h.length;f<p;++f)l.updateElement(h[f],f,o)},updateElement:function(o,l,h){var f=this,p=f.getMeta(),v=f.getDataset(),g=f._resolveDataElementOptions(o,l);o._xScale=f.getScaleForId(p.xAxisID),o._yScale=f.getScaleForId(p.yAxisID),o._datasetIndex=f.index,o._index=l,o._model={backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderSkipped:g.borderSkipped,borderWidth:g.borderWidth,datasetLabel:v.label,label:f.chart.data.labels[l]},k.isArray(v.data[l])&&(o._model.borderSkipped=null),f._updateElementGeometry(o,l,h,g),o.pivot()},_updateElementGeometry:function(o,l,h,f){var p=this,v=o._model,g=p._getValueScale(),x=g.getBasePixel(),y=g.isHorizontal(),b=p._ruler||p.getRuler(),C=p.calculateBarValuePixels(p.index,l,f),I=p.calculateBarIndexPixels(p.index,l,b,f);v.horizontal=y,v.base=h?x:C.base,v.x=y?h?x:C.head:I.center,v.y=y?I.center:h?x:C.head,v.height=y?I.size:void 0,v.width=y?void 0:I.size},_getStacks:function(o){var l=this,h=l._getIndexScale(),f=h._getMatchingVisibleMetas(l._type),p=h.options.stacked,v=f.length,g=[],x,y;for(x=0;x<v&&(y=f[x],(p===!1||g.indexOf(y.stack)===-1||p===void 0&&y.stack===void 0)&&g.push(y.stack),y.index!==o);++x);return g},getStackCount:function(){return this._getStacks().length},getStackIndex:function(o,l){var h=this._getStacks(o),f=l!==void 0?h.indexOf(l):-1;return f===-1?h.length-1:f},getRuler:function(){var o=this,l=o._getIndexScale(),h=[],f,p;for(f=0,p=o.getMeta().data.length;f<p;++f)h.push(l.getPixelForValue(null,f,o.index));return{pixels:h,start:l._startPixel,end:l._endPixel,stackCount:o.getStackCount(),scale:l}},calculateBarValuePixels:function(o,l,h){var f=this,p=f.chart,v=f._getValueScale(),g=v.isHorizontal(),x=p.data.datasets,y=v._getMatchingVisibleMetas(f._type),b=v._parseValue(x[o].data[l]),C=h.minBarLength,I=v.options.stacked,D=f.getMeta().stack,N=b.start===void 0?0:b.max>=0&&b.min>=0?b.min:b.max,F=b.start===void 0?b.end:b.max>=0&&b.min>=0?b.max-b.min:b.min-b.max,B=y.length,z,Y,he,pe,Ne,De,Ke;if(I||I===void 0&&D!==void 0)for(z=0;z<B&&(Y=y[z],Y.index!==o);++z)Y.stack===D&&(Ke=v._parseValue(x[Y.index].data[l]),he=Ke.start===void 0?Ke.end:Ke.min>=0&&Ke.max>=0?Ke.max:Ke.min,(b.min<0&&he<0||b.max>=0&&he>0)&&(N+=he));return pe=v.getPixelForValue(N),Ne=v.getPixelForValue(N+F),De=Ne-pe,C!==void 0&&Math.abs(De)<C&&(De=C,F>=0&&!g||F<0&&g?Ne=pe-C:Ne=pe+C),{size:De,base:pe,head:Ne,center:Ne+De/2}},calculateBarIndexPixels:function(o,l,h,f){var p=this,v=f.barThickness==="flex"?oD(l,h,f):aD(l,h,f),g=p.getStackIndex(o,p.getMeta().stack),x=v.start+v.chunk*g+v.chunk/2,y=Math.min(Wa(f.maxBarThickness,1/0),v.chunk*v.ratio);return{base:x-y/2,head:x+y/2,center:x,size:y}},draw:function(){var o=this,l=o.chart,h=o._getValueScale(),f=o.getMeta().data,p=o.getDataset(),v=f.length,g=0;for(k.canvas.clipArea(l.ctx,l.chartArea);g<v;++g){var x=h._parseValue(p.data[g]);!isNaN(x.min)&&!isNaN(x.max)&&f[g].draw()}k.canvas.unclipArea(l.ctx)},_resolveDataElementOptions:function(){var o=this,l=k.extend({},tn.prototype._resolveDataElementOptions.apply(o,arguments)),h=o._getIndexScale().options,f=o._getValueScale().options;return l.barPercentage=Wa(h.barPercentage,l.barPercentage),l.barThickness=Wa(h.barThickness,l.barThickness),l.categoryPercentage=Wa(h.categoryPercentage,l.categoryPercentage),l.maxBarThickness=Wa(h.maxBarThickness,l.maxBarThickness),l.minBarLength=Wa(f.minBarLength,l.minBarLength),l}}),yv=k.valueOrDefault,lD=k.options.resolve;ge._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(o,l){var h=l.datasets[o.datasetIndex].label||"",f=l.datasets[o.datasetIndex].data[o.index];return h+": ("+o.xLabel+", "+o.yLabel+", "+f.r+")"}}}});var uD=tn.extend({dataElementType:Dr.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(o){var l=this,h=l.getMeta(),f=h.data;k.each(f,function(p,v){l.updateElement(p,v,o)})},updateElement:function(o,l,h){var f=this,p=f.getMeta(),v=o.custom||{},g=f.getScaleForId(p.xAxisID),x=f.getScaleForId(p.yAxisID),y=f._resolveDataElementOptions(o,l),b=f.getDataset().data[l],C=f.index,I=h?g.getPixelForDecimal(.5):g.getPixelForValue(typeof b=="object"?b:NaN,l,C),D=h?x.getBasePixel():x.getPixelForValue(b,l,C);o._xScale=g,o._yScale=x,o._options=y,o._datasetIndex=C,o._index=l,o._model={backgroundColor:y.backgroundColor,borderColor:y.borderColor,borderWidth:y.borderWidth,hitRadius:y.hitRadius,pointStyle:y.pointStyle,rotation:y.rotation,radius:h?0:y.radius,skip:v.skip||isNaN(I)||isNaN(D),x:I,y:D},o.pivot()},setHoverStyle:function(o){var l=o._model,h=o._options,f=k.getHoverColor;o.$previousStyle={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,radius:l.radius},l.backgroundColor=yv(h.hoverBackgroundColor,f(h.backgroundColor)),l.borderColor=yv(h.hoverBorderColor,f(h.borderColor)),l.borderWidth=yv(h.hoverBorderWidth,h.borderWidth),l.radius=h.radius+h.hoverRadius},_resolveDataElementOptions:function(o,l){var h=this,f=h.chart,p=h.getDataset(),v=o.custom||{},g=p.data[l]||{},x=tn.prototype._resolveDataElementOptions.apply(h,arguments),y={chart:f,dataIndex:l,dataset:p,datasetIndex:h.index};return h._cachedDataOpts===x&&(x=k.extend({},x)),x.radius=lD([v.radius,g.r,h._config.radius,f.options.elements.point.radius],y,l),x}}),yc=k.valueOrDefault,Ns=Math.PI,ei=Ns*2,Fs=Ns/2;ge._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(o){var l=document.createElement("ul"),h=o.data,f=h.datasets,p=h.labels,v,g,x,y;if(l.setAttribute("class",o.id+"-legend"),f.length)for(v=0,g=f[0].data.length;v<g;++v)x=l.appendChild(document.createElement("li")),y=x.appendChild(document.createElement("span")),y.style.backgroundColor=f[0].backgroundColor[v],p[v]&&x.appendChild(document.createTextNode(p[v]));return l.outerHTML},legend:{labels:{generateLabels:function(o){var l=o.data;return l.labels.length&&l.datasets.length?l.labels.map(function(h,f){var p=o.getDatasetMeta(0),v=p.controller.getStyle(f);return{text:h,fillStyle:v.backgroundColor,strokeStyle:v.borderColor,lineWidth:v.borderWidth,hidden:isNaN(l.datasets[0].data[f])||p.data[f].hidden,index:f}}):[]}},onClick:function(o,l){var h=l.index,f=this.chart,p,v,g;for(p=0,v=(f.data.datasets||[]).length;p<v;++p)g=f.getDatasetMeta(p),g.data[h]&&(g.data[h].hidden=!g.data[h].hidden);f.update()}},cutoutPercentage:50,rotation:-Fs,circumference:ei,tooltips:{callbacks:{title:function(){return""},label:function(o,l){var h=l.labels[o.index],f=": "+l.datasets[o.datasetIndex].data[o.index];return k.isArray(h)?(h=h.slice(),h[0]+=f):h+=f,h}}}});var Vw=tn.extend({dataElementType:Dr.Arc,linkScales:k.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(o){for(var l=0,h=0;h<o;++h)this.chart.isDatasetVisible(h)&&++l;return l},update:function(o){var l=this,h=l.chart,f=h.chartArea,p=h.options,v=1,g=1,x=0,y=0,b=l.getMeta(),C=b.data,I=p.cutoutPercentage/100||0,D=p.circumference,N=l._getRingWeight(l.index),F,B,z,Y;if(D<ei){var he=p.rotation%ei;he+=he>=Ns?-ei:he<-Ns?ei:0;var pe=he+D,Ne=Math.cos(he),De=Math.sin(he),Ke=Math.cos(pe),je=Math.sin(pe),ot=he<=0&&pe>=0||pe>=ei,ht=he<=Fs&&pe>=Fs||pe>=ei+Fs,qt=he===-Ns||pe>=Ns,Bt=he<=-Fs&&pe>=-Fs||pe>=Ns+Fs,Rt=qt?-1:Math.min(Ne,Ne*I,Ke,Ke*I),nr=Bt?-1:Math.min(De,De*I,je,je*I),qa=ot?1:Math.max(Ne,Ne*I,Ke,Ke*I),Ka=ht?1:Math.max(De,De*I,je,je*I);v=(qa-Rt)/2,g=(Ka-nr)/2,x=-(qa+Rt)/2,y=-(Ka+nr)/2}for(z=0,Y=C.length;z<Y;++z)C[z]._options=l._resolveDataElementOptions(C[z],z);for(h.borderWidth=l.getMaxBorderWidth(),F=(f.right-f.left-h.borderWidth)/v,B=(f.bottom-f.top-h.borderWidth)/g,h.outerRadius=Math.max(Math.min(F,B)/2,0),h.innerRadius=Math.max(h.outerRadius*I,0),h.radiusLength=(h.outerRadius-h.innerRadius)/(l._getVisibleDatasetWeightTotal()||1),h.offsetX=x*h.outerRadius,h.offsetY=y*h.outerRadius,b.total=l.calculateTotal(),l.outerRadius=h.outerRadius-h.radiusLength*l._getRingWeightOffset(l.index),l.innerRadius=Math.max(l.outerRadius-h.radiusLength*N,0),z=0,Y=C.length;z<Y;++z)l.updateElement(C[z],z,o)},updateElement:function(o,l,h){var f=this,p=f.chart,v=p.chartArea,g=p.options,x=g.animation,y=(v.left+v.right)/2,b=(v.top+v.bottom)/2,C=g.rotation,I=g.rotation,D=f.getDataset(),N=h&&x.animateRotate||o.hidden?0:f.calculateCircumference(D.data[l])*(g.circumference/ei),F=h&&x.animateScale?0:f.innerRadius,B=h&&x.animateScale?0:f.outerRadius,z=o._options||{};k.extend(o,{_datasetIndex:f.index,_index:l,_model:{backgroundColor:z.backgroundColor,borderColor:z.borderColor,borderWidth:z.borderWidth,borderAlign:z.borderAlign,x:y+p.offsetX,y:b+p.offsetY,startAngle:C,endAngle:I,circumference:N,outerRadius:B,innerRadius:F,label:k.valueAtIndexOrDefault(D.label,l,p.data.labels[l])}});var Y=o._model;(!h||!x.animateRotate)&&(l===0?Y.startAngle=g.rotation:Y.startAngle=f.getMeta().data[l-1]._model.endAngle,Y.endAngle=Y.startAngle+Y.circumference),o.pivot()},calculateTotal:function(){var o=this.getDataset(),l=this.getMeta(),h=0,f;return k.each(l.data,function(p,v){f=o.data[v],!isNaN(f)&&!p.hidden&&(h+=Math.abs(f))}),h},calculateCircumference:function(o){var l=this.getMeta().total;return l>0&&!isNaN(o)?ei*(Math.abs(o)/l):0},getMaxBorderWidth:function(o){var l=this,h=0,f=l.chart,p,v,g,x,y,b,C,I;if(!o){for(p=0,v=f.data.datasets.length;p<v;++p)if(f.isDatasetVisible(p)){g=f.getDatasetMeta(p),o=g.data,p!==l.index&&(y=g.controller);break}}if(!o)return 0;for(p=0,v=o.length;p<v;++p)x=o[p],y?(y._configure(),b=y._resolveDataElementOptions(x,p)):b=x._options,b.borderAlign!=="inner"&&(C=b.borderWidth,I=b.hoverBorderWidth,h=C>h?C:h,h=I>h?I:h);return h},setHoverStyle:function(o){var l=o._model,h=o._options,f=k.getHoverColor;o.$previousStyle={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth},l.backgroundColor=yc(h.hoverBackgroundColor,f(h.backgroundColor)),l.borderColor=yc(h.hoverBorderColor,f(h.borderColor)),l.borderWidth=yc(h.hoverBorderWidth,h.borderWidth)},_getRingWeightOffset:function(o){for(var l=0,h=0;h<o;++h)this.chart.isDatasetVisible(h)&&(l+=this._getRingWeight(h));return l},_getRingWeight:function(o){return Math.max(yc(this.chart.data.datasets[o].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});ge._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),ge._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var hD=Bw.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),ti=k.valueOrDefault,cD=k.options.resolve,_v=k.canvas._isPointInArea;ge._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});function zw(o,l){var h=o&&o.options.ticks||{},f=h.reverse,p=h.min===void 0?l:0,v=h.max===void 0?l:0;return{start:f?v:p,end:f?p:v}}function fD(o,l,h){var f=h/2,p=zw(o,f),v=zw(l,f);return{top:v.end,right:p.end,bottom:v.start,left:p.start}}function dD(o){var l,h,f,p;return k.isObject(o)?(l=o.top,h=o.right,f=o.bottom,p=o.left):l=h=f=p=o,{top:l,right:h,bottom:f,left:p}}var Hw=tn.extend({datasetElementType:Dr.Line,dataElementType:Dr.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(o){var l=this,h=l.getMeta(),f=h.dataset,p=h.data||[],v=l.chart.options,g=l._config,x=l._showLine=ti(g.showLine,v.showLines),y,b;for(l._xScale=l.getScaleForId(h.xAxisID),l._yScale=l.getScaleForId(h.yAxisID),x&&(g.tension!==void 0&&g.lineTension===void 0&&(g.lineTension=g.tension),f._scale=l._yScale,f._datasetIndex=l.index,f._children=p,f._model=l._resolveDatasetElementOptions(f),f.pivot()),y=0,b=p.length;y<b;++y)l.updateElement(p[y],y,o);for(x&&f._model.tension!==0&&l.updateBezierControlPoints(),y=0,b=p.length;y<b;++y)p[y].pivot()},updateElement:function(o,l,h){var f=this,p=f.getMeta(),v=o.custom||{},g=f.getDataset(),x=f.index,y=g.data[l],b=f._xScale,C=f._yScale,I=p.dataset._model,D,N,F=f._resolveDataElementOptions(o,l);D=b.getPixelForValue(typeof y=="object"?y:NaN,l,x),N=h?C.getBasePixel():f.calculatePointY(y,l,x),o._xScale=b,o._yScale=C,o._options=F,o._datasetIndex=x,o._index=l,o._model={x:D,y:N,skip:v.skip||isNaN(D)||isNaN(N),radius:F.radius,pointStyle:F.pointStyle,rotation:F.rotation,backgroundColor:F.backgroundColor,borderColor:F.borderColor,borderWidth:F.borderWidth,tension:ti(v.tension,I?I.tension:0),steppedLine:I?I.steppedLine:!1,hitRadius:F.hitRadius}},_resolveDatasetElementOptions:function(o){var l=this,h=l._config,f=o.custom||{},p=l.chart.options,v=p.elements.line,g=tn.prototype._resolveDatasetElementOptions.apply(l,arguments);return g.spanGaps=ti(h.spanGaps,p.spanGaps),g.tension=ti(h.lineTension,v.tension),g.steppedLine=cD([f.steppedLine,h.steppedLine,v.stepped]),g.clip=dD(ti(h.clip,fD(l._xScale,l._yScale,g.borderWidth))),g},calculatePointY:function(o,l,h){var f=this,p=f.chart,v=f._yScale,g=0,x=0,y,b,C,I,D,N,F;if(v.options.stacked){for(D=+v.getRightValue(o),N=p._getSortedVisibleDatasetMetas(),F=N.length,y=0;y<F&&(C=N[y],C.index!==h);++y)b=p.data.datasets[C.index],C.type==="line"&&C.yAxisID===v.id&&(I=+v.getRightValue(b.data[l]),I<0?x+=I||0:g+=I||0);return D<0?v.getPixelForValue(x+D):v.getPixelForValue(g+D)}return v.getPixelForValue(o)},updateBezierControlPoints:function(){var o=this,l=o.chart,h=o.getMeta(),f=h.dataset._model,p=l.chartArea,v=h.data||[],g,x,y,b;f.spanGaps&&(v=v.filter(function(I){return!I._model.skip}));function C(I,D,N){return Math.max(Math.min(I,N),D)}if(f.cubicInterpolationMode==="monotone")k.splineCurveMonotone(v);else for(g=0,x=v.length;g<x;++g)y=v[g]._model,b=k.splineCurve(k.previousItem(v,g)._model,y,k.nextItem(v,g)._model,f.tension),y.controlPointPreviousX=b.previous.x,y.controlPointPreviousY=b.previous.y,y.controlPointNextX=b.next.x,y.controlPointNextY=b.next.y;if(l.options.elements.line.capBezierPoints)for(g=0,x=v.length;g<x;++g)y=v[g]._model,_v(y,p)&&(g>0&&_v(v[g-1]._model,p)&&(y.controlPointPreviousX=C(y.controlPointPreviousX,p.left,p.right),y.controlPointPreviousY=C(y.controlPointPreviousY,p.top,p.bottom)),g<v.length-1&&_v(v[g+1]._model,p)&&(y.controlPointNextX=C(y.controlPointNextX,p.left,p.right),y.controlPointNextY=C(y.controlPointNextY,p.top,p.bottom)))},draw:function(){var o=this,l=o.chart,h=o.getMeta(),f=h.data||[],p=l.chartArea,v=l.canvas,g=0,x=f.length,y;for(o._showLine&&(y=h.dataset._model.clip,k.canvas.clipArea(l.ctx,{left:y.left===!1?0:p.left-y.left,right:y.right===!1?v.width:p.right+y.right,top:y.top===!1?0:p.top-y.top,bottom:y.bottom===!1?v.height:p.bottom+y.bottom}),h.dataset.draw(),k.canvas.unclipArea(l.ctx));g<x;++g)f[g].draw(p)},setHoverStyle:function(o){var l=o._model,h=o._options,f=k.getHoverColor;o.$previousStyle={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,radius:l.radius},l.backgroundColor=ti(h.hoverBackgroundColor,f(h.backgroundColor)),l.borderColor=ti(h.hoverBorderColor,f(h.borderColor)),l.borderWidth=ti(h.hoverBorderWidth,h.borderWidth),l.radius=ti(h.hoverRadius,h.radius)}}),pD=k.options.resolve;ge._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(o){var l=document.createElement("ul"),h=o.data,f=h.datasets,p=h.labels,v,g,x,y;if(l.setAttribute("class",o.id+"-legend"),f.length)for(v=0,g=f[0].data.length;v<g;++v)x=l.appendChild(document.createElement("li")),y=x.appendChild(document.createElement("span")),y.style.backgroundColor=f[0].backgroundColor[v],p[v]&&x.appendChild(document.createTextNode(p[v]));return l.outerHTML},legend:{labels:{generateLabels:function(o){var l=o.data;return l.labels.length&&l.datasets.length?l.labels.map(function(h,f){var p=o.getDatasetMeta(0),v=p.controller.getStyle(f);return{text:h,fillStyle:v.backgroundColor,strokeStyle:v.borderColor,lineWidth:v.borderWidth,hidden:isNaN(l.datasets[0].data[f])||p.data[f].hidden,index:f}}):[]}},onClick:function(o,l){var h=l.index,f=this.chart,p,v,g;for(p=0,v=(f.data.datasets||[]).length;p<v;++p)g=f.getDatasetMeta(p),g.data[h].hidden=!g.data[h].hidden;f.update()}},tooltips:{callbacks:{title:function(){return""},label:function(o,l){return l.labels[o.index]+": "+o.yLabel}}}});var vD=tn.extend({dataElementType:Dr.Arc,linkScales:k.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(o){var l=this,h=l.getDataset(),f=l.getMeta(),p=l.chart.options.startAngle||0,v=l._starts=[],g=l._angles=[],x=f.data,y,b,C;for(l._updateRadius(),f.count=l.countVisibleElements(),y=0,b=h.data.length;y<b;y++)v[y]=p,C=l._computeAngle(y),g[y]=C,p+=C;for(y=0,b=x.length;y<b;++y)x[y]._options=l._resolveDataElementOptions(x[y],y),l.updateElement(x[y],y,o)},_updateRadius:function(){var o=this,l=o.chart,h=l.chartArea,f=l.options,p=Math.min(h.right-h.left,h.bottom-h.top);l.outerRadius=Math.max(p/2,0),l.innerRadius=Math.max(f.cutoutPercentage?l.outerRadius/100*f.cutoutPercentage:1,0),l.radiusLength=(l.outerRadius-l.innerRadius)/l.getVisibleDatasetCount(),o.outerRadius=l.outerRadius-l.radiusLength*o.index,o.innerRadius=o.outerRadius-l.radiusLength},updateElement:function(o,l,h){var f=this,p=f.chart,v=f.getDataset(),g=p.options,x=g.animation,y=p.scale,b=p.data.labels,C=y.xCenter,I=y.yCenter,D=g.startAngle,N=o.hidden?0:y.getDistanceFromCenterForValue(v.data[l]),F=f._starts[l],B=F+(o.hidden?0:f._angles[l]),z=x.animateScale?0:y.getDistanceFromCenterForValue(v.data[l]),Y=o._options||{};k.extend(o,{_datasetIndex:f.index,_index:l,_scale:y,_model:{backgroundColor:Y.backgroundColor,borderColor:Y.borderColor,borderWidth:Y.borderWidth,borderAlign:Y.borderAlign,x:C,y:I,innerRadius:0,outerRadius:h?z:N,startAngle:h&&x.animateRotate?D:F,endAngle:h&&x.animateRotate?D:B,label:k.valueAtIndexOrDefault(b,l,b[l])}}),o.pivot()},countVisibleElements:function(){var o=this.getDataset(),l=this.getMeta(),h=0;return k.each(l.data,function(f,p){!isNaN(o.data[p])&&!f.hidden&&h++}),h},setHoverStyle:function(o){var l=o._model,h=o._options,f=k.getHoverColor,p=k.valueOrDefault;o.$previousStyle={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth},l.backgroundColor=p(h.hoverBackgroundColor,f(h.backgroundColor)),l.borderColor=p(h.hoverBorderColor,f(h.borderColor)),l.borderWidth=p(h.hoverBorderWidth,h.borderWidth)},_computeAngle:function(o){var l=this,h=this.getMeta().count,f=l.getDataset(),p=l.getMeta();if(isNaN(f.data[o])||p.data[o].hidden)return 0;var v={chart:l.chart,dataIndex:o,dataset:f,datasetIndex:l.index};return pD([l.chart.options.elements.arc.angle,2*Math.PI/h],v,o)}});ge._set("pie",k.clone(ge.doughnut)),ge._set("pie",{cutoutPercentage:0});var mD=Vw,Ls=k.valueOrDefault;ge._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var gD=tn.extend({datasetElementType:Dr.Line,dataElementType:Dr.Point,linkScales:k.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(o){var l=this,h=l.getMeta(),f=h.dataset,p=h.data||[],v=l.chart.scale,g=l._config,x,y;for(g.tension!==void 0&&g.lineTension===void 0&&(g.lineTension=g.tension),f._scale=v,f._datasetIndex=l.index,f._children=p,f._loop=!0,f._model=l._resolveDatasetElementOptions(f),f.pivot(),x=0,y=p.length;x<y;++x)l.updateElement(p[x],x,o);for(l.updateBezierControlPoints(),x=0,y=p.length;x<y;++x)p[x].pivot()},updateElement:function(o,l,h){var f=this,p=o.custom||{},v=f.getDataset(),g=f.chart.scale,x=g.getPointPositionForValue(l,v.data[l]),y=f._resolveDataElementOptions(o,l),b=f.getMeta().dataset._model,C=h?g.xCenter:x.x,I=h?g.yCenter:x.y;o._scale=g,o._options=y,o._datasetIndex=f.index,o._index=l,o._model={x:C,y:I,skip:p.skip||isNaN(C)||isNaN(I),radius:y.radius,pointStyle:y.pointStyle,rotation:y.rotation,backgroundColor:y.backgroundColor,borderColor:y.borderColor,borderWidth:y.borderWidth,tension:Ls(p.tension,b?b.tension:0),hitRadius:y.hitRadius}},_resolveDatasetElementOptions:function(){var o=this,l=o._config,h=o.chart.options,f=tn.prototype._resolveDatasetElementOptions.apply(o,arguments);return f.spanGaps=Ls(l.spanGaps,h.spanGaps),f.tension=Ls(l.lineTension,h.elements.line.tension),f},updateBezierControlPoints:function(){var o=this,l=o.getMeta(),h=o.chart.chartArea,f=l.data||[],p,v,g,x;l.dataset._model.spanGaps&&(f=f.filter(function(b){return!b._model.skip}));function y(b,C,I){return Math.max(Math.min(b,I),C)}for(p=0,v=f.length;p<v;++p)g=f[p]._model,x=k.splineCurve(k.previousItem(f,p,!0)._model,g,k.nextItem(f,p,!0)._model,g.tension),g.controlPointPreviousX=y(x.previous.x,h.left,h.right),g.controlPointPreviousY=y(x.previous.y,h.top,h.bottom),g.controlPointNextX=y(x.next.x,h.left,h.right),g.controlPointNextY=y(x.next.y,h.top,h.bottom)},setHoverStyle:function(o){var l=o._model,h=o._options,f=k.getHoverColor;o.$previousStyle={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,radius:l.radius},l.backgroundColor=Ls(h.hoverBackgroundColor,f(h.backgroundColor)),l.borderColor=Ls(h.hoverBorderColor,f(h.borderColor)),l.borderWidth=Ls(h.hoverBorderWidth,h.borderWidth),l.radius=Ls(h.hoverRadius,h.radius)}});ge._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(o){return"("+o.xLabel+", "+o.yLabel+")"}}}}),ge._set("global",{datasets:{scatter:{showLine:!1}}});var yD=Hw,$w={bar:Bw,bubble:uD,doughnut:Vw,horizontalBar:hD,line:Hw,polarArea:vD,pie:mD,radar:gD,scatter:yD};function Us(o,l){return o.native?{x:o.x,y:o.y}:k.getRelativePosition(o,l)}function Al(o,l){var h=o._getSortedVisibleDatasetMetas(),f,p,v,g,x,y;for(p=0,g=h.length;p<g;++p)for(f=h[p].data,v=0,x=f.length;v<x;++v)y=f[v],y._view.skip||l(y)}function wv(o,l){var h=[];return Al(o,function(f){f.inRange(l.x,l.y)&&h.push(f)}),h}function xv(o,l,h,f){var p=Number.POSITIVE_INFINITY,v=[];return Al(o,function(g){if(!(h&&!g.inRange(l.x,l.y))){var x=g.getCenterPoint(),y=f(l,x);y<p?(v=[g],p=y):y===p&&v.push(g)}}),v}function bv(o){var l=o.indexOf("x")!==-1,h=o.indexOf("y")!==-1;return function(f,p){var v=l?Math.abs(f.x-p.x):0,g=h?Math.abs(f.y-p.y):0;return Math.sqrt(Math.pow(v,2)+Math.pow(g,2))}}function Tv(o,l,h){var f=Us(l,o);h.axis=h.axis||"x";var p=bv(h.axis),v=h.intersect?wv(o,f):xv(o,f,!1,p),g=[];return v.length?(o._getSortedVisibleDatasetMetas().forEach(function(x){var y=x.data[v[0]._index];y&&!y._view.skip&&g.push(y)}),g):[]}var ja={modes:{single:function(o,l){var h=Us(l,o),f=[];return Al(o,function(p){if(p.inRange(h.x,h.y))return f.push(p),f}),f.slice(0,1)},label:Tv,index:Tv,dataset:function(o,l,h){var f=Us(l,o);h.axis=h.axis||"xy";var p=bv(h.axis),v=h.intersect?wv(o,f):xv(o,f,!1,p);return v.length>0&&(v=o.getDatasetMeta(v[0]._datasetIndex).data),v},"x-axis":function(o,l){return Tv(o,l,{intersect:!1})},point:function(o,l){var h=Us(l,o);return wv(o,h)},nearest:function(o,l,h){var f=Us(l,o);h.axis=h.axis||"xy";var p=bv(h.axis);return xv(o,f,h.intersect,p)},x:function(o,l,h){var f=Us(l,o),p=[],v=!1;return Al(o,function(g){g.inXRange(f.x)&&p.push(g),g.inRange(f.x,f.y)&&(v=!0)}),h.intersect&&!v&&(p=[]),p},y:function(o,l,h){var f=Us(l,o),p=[],v=!1;return Al(o,function(g){g.inYRange(f.y)&&p.push(g),g.inRange(f.x,f.y)&&(v=!0)}),h.intersect&&!v&&(p=[]),p}}},Sv=k.extend;function Ol(o,l){return k.where(o,function(h){return h.pos===l})}function _c(o,l){return o.sort(function(h,f){var p=l?f:h,v=l?h:f;return p.weight===v.weight?p.index-v.index:p.weight-v.weight})}function _D(o){var l=[],h,f,p;for(h=0,f=(o||[]).length;h<f;++h)p=o[h],l.push({index:h,box:p,pos:p.position,horizontal:p.isHorizontal(),weight:p.weight});return l}function wD(o,l){var h,f,p;for(h=0,f=o.length;h<f;++h)p=o[h],p.width=p.horizontal?p.box.fullWidth&&l.availableWidth:l.vBoxMaxWidth,p.height=p.horizontal&&l.hBoxMaxHeight}function xD(o){var l=_D(o),h=_c(Ol(l,"left"),!0),f=_c(Ol(l,"right")),p=_c(Ol(l,"top"),!0),v=_c(Ol(l,"bottom"));return{leftAndTop:h.concat(p),rightAndBottom:f.concat(v),chartArea:Ol(l,"chartArea"),vertical:h.concat(f),horizontal:p.concat(v)}}function Ww(o,l,h,f){return Math.max(o[h],l[h])+Math.max(o[f],l[f])}function bD(o,l,h){var f=h.box,p=o.maxPadding,v,g;if(h.size&&(o[h.pos]-=h.size),h.size=h.horizontal?f.height:f.width,o[h.pos]+=h.size,f.getPadding){var x=f.getPadding();p.top=Math.max(p.top,x.top),p.left=Math.max(p.left,x.left),p.bottom=Math.max(p.bottom,x.bottom),p.right=Math.max(p.right,x.right)}if(v=l.outerWidth-Ww(p,o,"left","right"),g=l.outerHeight-Ww(p,o,"top","bottom"),v!==o.w||g!==o.h){o.w=v,o.h=g;var y=h.horizontal?[v,o.w]:[g,o.h];return y[0]!==y[1]&&(!isNaN(y[0])||!isNaN(y[1]))}}function TD(o){var l=o.maxPadding;function h(f){var p=Math.max(l[f]-o[f],0);return o[f]+=p,p}o.y+=h("top"),o.x+=h("left"),h("right"),h("bottom")}function SD(o,l){var h=l.maxPadding;function f(p){var v={left:0,top:0,right:0,bottom:0};return p.forEach(function(g){v[g]=Math.max(l[g],h[g])}),v}return f(o?["left","right"]:["top","bottom"])}function wc(o,l,h){var f=[],p,v,g,x,y,b;for(p=0,v=o.length;p<v;++p)g=o[p],x=g.box,x.update(g.width||l.w,g.height||l.h,SD(g.horizontal,l)),bD(l,h,g)&&(b=!0,f.length&&(y=!0)),x.fullWidth||f.push(g);return y&&wc(f,l,h)||b}function jw(o,l,h){var f=h.padding,p=l.x,v=l.y,g,x,y,b;for(g=0,x=o.length;g<x;++g)y=o[g],b=y.box,y.horizontal?(b.left=b.fullWidth?f.left:l.left,b.right=b.fullWidth?h.outerWidth-f.right:l.left+l.w,b.top=v,b.bottom=v+b.height,b.width=b.right-b.left,v=b.bottom):(b.left=p,b.right=p+b.width,b.top=l.top,b.bottom=l.top+l.h,b.height=b.bottom-b.top,p=b.right);l.x=p,l.y=v}ge._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var rn={defaults:{},addBox:function(o,l){o.boxes||(o.boxes=[]),l.fullWidth=l.fullWidth||!1,l.position=l.position||"top",l.weight=l.weight||0,l._layers=l._layers||function(){return[{z:0,draw:function(){l.draw.apply(l,arguments)}}]},o.boxes.push(l)},removeBox:function(o,l){var h=o.boxes?o.boxes.indexOf(l):-1;h!==-1&&o.boxes.splice(h,1)},configure:function(o,l,h){for(var f=["fullWidth","position","weight"],p=f.length,v=0,g;v<p;++v)g=f[v],h.hasOwnProperty(g)&&(l[g]=h[g])},update:function(o,l,h){if(o){var f=o.options.layout||{},p=k.options.toPadding(f.padding),v=l-p.width,g=h-p.height,x=xD(o.boxes),y=x.vertical,b=x.horizontal,C=Object.freeze({outerWidth:l,outerHeight:h,padding:p,availableWidth:v,vBoxMaxWidth:v/2/y.length,hBoxMaxHeight:g/2}),I=Sv({maxPadding:Sv({},p),w:v,h:g,x:p.left,y:p.top},p);wD(y.concat(b),C),wc(y,I,C),wc(b,I,C)&&wc(y,I,C),TD(I),jw(x.leftAndTop,I,C),I.x+=I.w,I.y+=I.h,jw(x.rightAndBottom,I,C),o.chartArea={left:I.left,top:I.top,right:I.left+I.w,bottom:I.top+I.h},k.each(x.chartArea,function(D){var N=D.box;Sv(N,o.chartArea),N.update(I.w,I.h)})}}},ED={acquireContext:function(o){return o&&o.canvas&&(o=o.canvas),o&&o.getContext("2d")||null}},CD=`/*\r
 * DOM element rendering detection\r
 * https://davidwalsh.name/detect-node-insertion\r
 */\r
@keyframes chartjs-render-animation {\r
	from { opacity: 0.99; }\r
	to { opacity: 1; }\r
}\r
\r
.chartjs-render-monitor {\r
	animation: chartjs-render-animation 0.001s;\r
}\r
\r
/*\r
 * DOM element resizing detection\r
 * https://github.com/marcj/css-element-queries\r
 */\r
.chartjs-size-monitor,\r
.chartjs-size-monitor-expand,\r
.chartjs-size-monitor-shrink {\r
	position: absolute;\r
	direction: ltr;\r
	left: 0;\r
	top: 0;\r
	right: 0;\r
	bottom: 0;\r
	overflow: hidden;\r
	pointer-events: none;\r
	visibility: hidden;\r
	z-index: -1;\r
}\r
\r
.chartjs-size-monitor-expand > div {\r
	position: absolute;\r
	width: 1000000px;\r
	height: 1000000px;\r
	left: 0;\r
	top: 0;\r
}\r
\r
.chartjs-size-monitor-shrink > div {\r
	position: absolute;\r
	width: 200%;\r
	height: 200%;\r
	left: 0;\r
	top: 0;\r
}\r
`,ID=Object.freeze({__proto__:null,default:CD}),PD=i(ID),Pr="$chartjs",Ev="chartjs-",Cv=Ev+"size-monitor",Gw=Ev+"render-monitor",AD=Ev+"render-animation",Yw=["animationstart","webkitAnimationStart"],OD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function Xw(o,l){var h=k.getStyle(o,l),f=h&&h.match(/^(\d+)(\.\d+)?px$/);return f?Number(f[1]):void 0}function kD(o,l){var h=o.style,f=o.getAttribute("height"),p=o.getAttribute("width");if(o[Pr]={initial:{height:f,width:p,style:{display:h.display,height:h.height,width:h.width}}},h.display=h.display||"block",p===null||p===""){var v=Xw(o,"width");v!==void 0&&(o.width=v)}if(f===null||f==="")if(o.style.height==="")o.height=o.width/(l.options.aspectRatio||2);else{var g=Xw(o,"height");v!==void 0&&(o.height=g)}return o}var MD=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("e",null,l)}catch{}return o}(),qw=MD?{passive:!0}:!1;function kl(o,l,h){o.addEventListener(l,h,qw)}function Iv(o,l,h){o.removeEventListener(l,h,qw)}function Pv(o,l,h,f,p){return{type:o,chart:l,native:p||null,x:h!==void 0?h:null,y:f!==void 0?f:null}}function DD(o,l){var h=OD[o.type]||o.type,f=k.getRelativePosition(o,l);return Pv(h,l,f.x,f.y,o)}function RD(o,l){var h=!1,f=[];return function(){f=Array.prototype.slice.call(arguments),l=l||this,h||(h=!0,k.requestAnimFrame.call(window,function(){h=!1,o.apply(l,f)}))}}function Ml(o){var l=document.createElement("div");return l.className=o||"",l}function ND(o){var l=1e6,h=Ml(Cv),f=Ml(Cv+"-expand"),p=Ml(Cv+"-shrink");f.appendChild(Ml()),p.appendChild(Ml()),h.appendChild(f),h.appendChild(p),h._reset=function(){f.scrollLeft=l,f.scrollTop=l,p.scrollLeft=l,p.scrollTop=l};var v=function(){h._reset(),o()};return kl(f,"scroll",v.bind(f,"expand")),kl(p,"scroll",v.bind(p,"shrink")),h}function FD(o,l){var h=o[Pr]||(o[Pr]={}),f=h.renderProxy=function(p){p.animationName===AD&&l()};k.each(Yw,function(p){kl(o,p,f)}),h.reflow=!!o.offsetParent,o.classList.add(Gw)}function LD(o){var l=o[Pr]||{},h=l.renderProxy;h&&(k.each(Yw,function(f){Iv(o,f,h)}),delete l.renderProxy),o.classList.remove(Gw)}function UD(o,l,h){var f=o[Pr]||(o[Pr]={}),p=f.resizer=ND(RD(function(){if(f.resizer){var v=h.options.maintainAspectRatio&&o.parentNode,g=v?v.clientWidth:0;l(Pv("resize",h)),v&&v.clientWidth<g&&h.canvas&&l(Pv("resize",h))}}));FD(o,function(){if(f.resizer){var v=o.parentNode;v&&v!==p.parentNode&&v.insertBefore(p,v.firstChild),p._reset()}})}function BD(o){var l=o[Pr]||{},h=l.resizer;delete l.resizer,LD(o),h&&h.parentNode&&h.parentNode.removeChild(h)}function VD(o,l){var h=o[Pr]||(o[Pr]={});if(!h.containsStyles){h.containsStyles=!0,l=`/* Chart.js */
`+l;var f=document.createElement("style");f.setAttribute("type","text/css"),f.appendChild(document.createTextNode(l)),o.appendChild(f)}}var Kw={disableCSSInjection:!1,_enabled:typeof window<"u"&&typeof document<"u",_ensureLoaded:function(o){if(!this.disableCSSInjection){var l=o.getRootNode?o.getRootNode():document,h=l.host?l:document.head;VD(h,PD)}},acquireContext:function(o,l){typeof o=="string"?o=document.getElementById(o):o.length&&(o=o[0]),o&&o.canvas&&(o=o.canvas);var h=o&&o.getContext&&o.getContext("2d");return h&&h.canvas===o?(this._ensureLoaded(o),kD(o,l),h):null},releaseContext:function(o){var l=o.canvas;if(l[Pr]){var h=l[Pr].initial;["height","width"].forEach(function(f){var p=h[f];k.isNullOrUndef(p)?l.removeAttribute(f):l.setAttribute(f,p)}),k.each(h.style||{},function(f,p){l.style[p]=f}),l.width=l.width,delete l[Pr]}},addEventListener:function(o,l,h){var f=o.canvas;if(l==="resize"){UD(f,h,o);return}var p=h[Pr]||(h[Pr]={}),v=p.proxies||(p.proxies={}),g=v[o.id+"_"+l]=function(x){h(DD(x,o))};kl(f,l,g)},removeEventListener:function(o,l,h){var f=o.canvas;if(l==="resize"){BD(f);return}var p=h[Pr]||{},v=p.proxies||{},g=v[o.id+"_"+l];g&&Iv(f,l,g)}};k.addEvent=kl,k.removeEvent=Iv;var zD=Kw._enabled?Kw:ED,Ga=k.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},zD);ge._set("global",{plugins:{}});var ut={_plugins:[],_cacheId:0,register:function(o){var l=this._plugins;[].concat(o).forEach(function(h){l.indexOf(h)===-1&&l.push(h)}),this._cacheId++},unregister:function(o){var l=this._plugins;[].concat(o).forEach(function(h){var f=l.indexOf(h);f!==-1&&l.splice(f,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(o,l,h){var f=this.descriptors(o),p=f.length,v,g,x,y,b;for(v=0;v<p;++v)if(g=f[v],x=g.plugin,b=x[l],typeof b=="function"&&(y=[o].concat(h||[]),y.push(g.options),b.apply(x,y)===!1))return!1;return!0},descriptors:function(o){var l=o.$plugins||(o.$plugins={});if(l.id===this._cacheId)return l.descriptors;var h=[],f=[],p=o&&o.config||{},v=p.options&&p.options.plugins||{};return this._plugins.concat(p.plugins||[]).forEach(function(g){var x=h.indexOf(g);if(x===-1){var y=g.id,b=v[y];b!==!1&&(b===!0&&(b=k.clone(ge.global.plugins[y])),h.push(g),f.push({plugin:g,options:b||{}}))}}),l.descriptors=f,l.id=this._cacheId,f},_invalidate:function(o){delete o.$plugins}},Dl={constructors:{},defaults:{},registerScaleType:function(o,l,h){this.constructors[o]=l,this.defaults[o]=k.clone(h)},getScaleConstructor:function(o){return this.constructors.hasOwnProperty(o)?this.constructors[o]:void 0},getScaleDefaults:function(o){return this.defaults.hasOwnProperty(o)?k.merge(Object.create(null),[ge.scale,this.defaults[o]]):{}},updateScaleDefaults:function(o,l){var h=this;h.defaults.hasOwnProperty(o)&&(h.defaults[o]=k.extend(h.defaults[o],l))},addScalesToLayout:function(o){k.each(o.scales,function(l){l.fullWidth=l.options.fullWidth,l.position=l.options.position,l.weight=l.options.weight,rn.addBox(o,l)})}},ri=k.valueOrDefault,Av=k.rtl.getRtlAdapter;ge._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:k.noop,title:function(o,l){var h="",f=l.labels,p=f?f.length:0;if(o.length>0){var v=o[0];v.label?h=v.label:v.xLabel?h=v.xLabel:p>0&&v.index<p&&(h=f[v.index])}return h},afterTitle:k.noop,beforeBody:k.noop,beforeLabel:k.noop,label:function(o,l){var h=l.datasets[o.datasetIndex].label||"";return h&&(h+=": "),k.isNullOrUndef(o.value)?h+=o.yLabel:h+=o.value,h},labelColor:function(o,l){var h=l.getDatasetMeta(o.datasetIndex),f=h.data[o.index],p=f._view;return{borderColor:p.borderColor,backgroundColor:p.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:k.noop,afterBody:k.noop,beforeFooter:k.noop,footer:k.noop,afterFooter:k.noop}}});var Qw={average:function(o){if(!o.length)return!1;var l,h,f=0,p=0,v=0;for(l=0,h=o.length;l<h;++l){var g=o[l];if(g&&g.hasValue()){var x=g.tooltipPosition();f+=x.x,p+=x.y,++v}}return{x:f/v,y:p/v}},nearest:function(o,l){var h=l.x,f=l.y,p=Number.POSITIVE_INFINITY,v,g,x;for(v=0,g=o.length;v<g;++v){var y=o[v];if(y&&y.hasValue()){var b=y.getCenterPoint(),C=k.distanceBetweenPoints(l,b);C<p&&(p=C,x=y)}}if(x){var I=x.tooltipPosition();h=I.x,f=I.y}return{x:h,y:f}}};function An(o,l){return l&&(k.isArray(l)?Array.prototype.push.apply(o,l):o.push(l)),o}function ni(o){return(typeof o=="string"||o instanceof String)&&o.indexOf(`
`)>-1?o.split(`
`):o}function HD(o){var l=o._xScale,h=o._yScale||o._scale,f=o._index,p=o._datasetIndex,v=o._chart.getDatasetMeta(p).controller,g=v._getIndexScale(),x=v._getValueScale();return{xLabel:l?l.getLabelForIndex(f,p):"",yLabel:h?h.getLabelForIndex(f,p):"",label:g?""+g.getLabelForIndex(f,p):"",value:x?""+x.getLabelForIndex(f,p):"",index:f,datasetIndex:p,x:o._model.x,y:o._model.y}}function Zw(o){var l=ge.global;return{xPadding:o.xPadding,yPadding:o.yPadding,xAlign:o.xAlign,yAlign:o.yAlign,rtl:o.rtl,textDirection:o.textDirection,bodyFontColor:o.bodyFontColor,_bodyFontFamily:ri(o.bodyFontFamily,l.defaultFontFamily),_bodyFontStyle:ri(o.bodyFontStyle,l.defaultFontStyle),_bodyAlign:o.bodyAlign,bodyFontSize:ri(o.bodyFontSize,l.defaultFontSize),bodySpacing:o.bodySpacing,titleFontColor:o.titleFontColor,_titleFontFamily:ri(o.titleFontFamily,l.defaultFontFamily),_titleFontStyle:ri(o.titleFontStyle,l.defaultFontStyle),titleFontSize:ri(o.titleFontSize,l.defaultFontSize),_titleAlign:o.titleAlign,titleSpacing:o.titleSpacing,titleMarginBottom:o.titleMarginBottom,footerFontColor:o.footerFontColor,_footerFontFamily:ri(o.footerFontFamily,l.defaultFontFamily),_footerFontStyle:ri(o.footerFontStyle,l.defaultFontStyle),footerFontSize:ri(o.footerFontSize,l.defaultFontSize),_footerAlign:o.footerAlign,footerSpacing:o.footerSpacing,footerMarginTop:o.footerMarginTop,caretSize:o.caretSize,cornerRadius:o.cornerRadius,backgroundColor:o.backgroundColor,opacity:0,legendColorBackground:o.multiKeyBackground,displayColors:o.displayColors,borderColor:o.borderColor,borderWidth:o.borderWidth}}function $D(o,l){var h=o._chart.ctx,f=l.yPadding*2,p=0,v=l.body,g=v.reduce(function(F,B){return F+B.before.length+B.lines.length+B.after.length},0);g+=l.beforeBody.length+l.afterBody.length;var x=l.title.length,y=l.footer.length,b=l.titleFontSize,C=l.bodyFontSize,I=l.footerFontSize;f+=x*b,f+=x?(x-1)*l.titleSpacing:0,f+=x?l.titleMarginBottom:0,f+=g*C,f+=g?(g-1)*l.bodySpacing:0,f+=y?l.footerMarginTop:0,f+=y*I,f+=y?(y-1)*l.footerSpacing:0;var D=0,N=function(F){p=Math.max(p,h.measureText(F).width+D)};return h.font=k.fontString(b,l._titleFontStyle,l._titleFontFamily),k.each(l.title,N),h.font=k.fontString(C,l._bodyFontStyle,l._bodyFontFamily),k.each(l.beforeBody.concat(l.afterBody),N),D=l.displayColors?C+2:0,k.each(v,function(F){k.each(F.before,N),k.each(F.lines,N),k.each(F.after,N)}),D=0,h.font=k.fontString(I,l._footerFontStyle,l._footerFontFamily),k.each(l.footer,N),p+=2*l.xPadding,{width:p,height:f}}function WD(o,l){var h=o._model,f=o._chart,p=o._chart.chartArea,v="center",g="center";h.y<l.height?g="top":h.y>f.height-l.height&&(g="bottom");var x,y,b,C,I,D=(p.left+p.right)/2,N=(p.top+p.bottom)/2;g==="center"?(x=function(B){return B<=D},y=function(B){return B>D}):(x=function(B){return B<=l.width/2},y=function(B){return B>=f.width-l.width/2}),b=function(B){return B+l.width+h.caretSize+h.caretPadding>f.width},C=function(B){return B-l.width-h.caretSize-h.caretPadding<0},I=function(B){return B<=N?"top":"bottom"},x(h.x)?(v="left",b(h.x)&&(v="center",g=I(h.y))):y(h.x)&&(v="right",C(h.x)&&(v="center",g=I(h.y)));var F=o._options;return{xAlign:F.xAlign?F.xAlign:v,yAlign:F.yAlign?F.yAlign:g}}function jD(o,l,h,f){var p=o.x,v=o.y,g=o.caretSize,x=o.caretPadding,y=o.cornerRadius,b=h.xAlign,C=h.yAlign,I=g+x,D=y+x;return b==="right"?p-=l.width:b==="center"&&(p-=l.width/2,p+l.width>f.width&&(p=f.width-l.width),p<0&&(p=0)),C==="top"?v+=I:C==="bottom"?v-=l.height+I:v-=l.height/2,C==="center"?b==="left"?p+=I:b==="right"&&(p-=I):b==="left"?p-=D:b==="right"&&(p+=D),{x:p,y:v}}function xc(o,l){return l==="center"?o.x+o.width/2:l==="right"?o.x+o.width-o.xPadding:o.x+o.xPadding}function Jw(o){return An([],ni(o))}var GD=In.extend({initialize:function(){this._model=Zw(this._options),this._lastActive=[]},getTitle:function(){var o=this,l=o._options,h=l.callbacks,f=h.beforeTitle.apply(o,arguments),p=h.title.apply(o,arguments),v=h.afterTitle.apply(o,arguments),g=[];return g=An(g,ni(f)),g=An(g,ni(p)),g=An(g,ni(v)),g},getBeforeBody:function(){return Jw(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(o,l){var h=this,f=h._options.callbacks,p=[];return k.each(o,function(v){var g={before:[],lines:[],after:[]};An(g.before,ni(f.beforeLabel.call(h,v,l))),An(g.lines,f.label.call(h,v,l)),An(g.after,ni(f.afterLabel.call(h,v,l))),p.push(g)}),p},getAfterBody:function(){return Jw(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var o=this,l=o._options.callbacks,h=l.beforeFooter.apply(o,arguments),f=l.footer.apply(o,arguments),p=l.afterFooter.apply(o,arguments),v=[];return v=An(v,ni(h)),v=An(v,ni(f)),v=An(v,ni(p)),v},update:function(o){var l=this,h=l._options,f=l._model,p=l._model=Zw(h),v=l._active,g=l._data,x={xAlign:f.xAlign,yAlign:f.yAlign},y={x:f.x,y:f.y},b={width:f.width,height:f.height},C={x:f.caretX,y:f.caretY},I,D;if(v.length){p.opacity=1;var N=[],F=[];C=Qw[h.position].call(l,v,l._eventPosition);var B=[];for(I=0,D=v.length;I<D;++I)B.push(HD(v[I]));h.filter&&(B=B.filter(function(z){return h.filter(z,g)})),h.itemSort&&(B=B.sort(function(z,Y){return h.itemSort(z,Y,g)})),k.each(B,function(z){N.push(h.callbacks.labelColor.call(l,z,l._chart)),F.push(h.callbacks.labelTextColor.call(l,z,l._chart))}),p.title=l.getTitle(B,g),p.beforeBody=l.getBeforeBody(B,g),p.body=l.getBody(B,g),p.afterBody=l.getAfterBody(B,g),p.footer=l.getFooter(B,g),p.x=C.x,p.y=C.y,p.caretPadding=h.caretPadding,p.labelColors=N,p.labelTextColors=F,p.dataPoints=B,b=$D(this,p),x=WD(this,b),y=jD(p,b,x,l._chart)}else p.opacity=0;return p.xAlign=x.xAlign,p.yAlign=x.yAlign,p.x=y.x,p.y=y.y,p.width=b.width,p.height=b.height,p.caretX=C.x,p.caretY=C.y,l._model=p,o&&h.custom&&h.custom.call(l,p),l},drawCaret:function(o,l){var h=this._chart.ctx,f=this._view,p=this.getCaretPosition(o,l,f);h.lineTo(p.x1,p.y1),h.lineTo(p.x2,p.y2),h.lineTo(p.x3,p.y3)},getCaretPosition:function(o,l,h){var f,p,v,g,x,y,b=h.caretSize,C=h.cornerRadius,I=h.xAlign,D=h.yAlign,N=o.x,F=o.y,B=l.width,z=l.height;if(D==="center")x=F+z/2,I==="left"?(f=N,p=f-b,v=f,g=x+b,y=x-b):(f=N+B,p=f+b,v=f,g=x-b,y=x+b);else if(I==="left"?(p=N+C+b,f=p-b,v=p+b):I==="right"?(p=N+B-C-b,f=p-b,v=p+b):(p=h.caretX,f=p-b,v=p+b),D==="top")g=F,x=g-b,y=g;else{g=F+z,x=g+b,y=g;var Y=v;v=f,f=Y}return{x1:f,x2:p,x3:v,y1:g,y2:x,y3:y}},drawTitle:function(o,l,h){var f=l.title,p=f.length,v,g,x;if(p){var y=Av(l.rtl,l.x,l.width);for(o.x=xc(l,l._titleAlign),h.textAlign=y.textAlign(l._titleAlign),h.textBaseline="middle",v=l.titleFontSize,g=l.titleSpacing,h.fillStyle=l.titleFontColor,h.font=k.fontString(v,l._titleFontStyle,l._titleFontFamily),x=0;x<p;++x)h.fillText(f[x],y.x(o.x),o.y+v/2),o.y+=v+g,x+1===p&&(o.y+=l.titleMarginBottom-g)}},drawBody:function(o,l,h){var f=l.bodyFontSize,p=l.bodySpacing,v=l._bodyAlign,g=l.body,x=l.displayColors,y=0,b=x?xc(l,"left"):0,C=Av(l.rtl,l.x,l.width),I=function(Ke){h.fillText(Ke,C.x(o.x+y),o.y+f/2),o.y+=f+p},D,N,F,B,z,Y,he,pe,Ne=C.textAlign(v);for(h.textAlign=v,h.textBaseline="middle",h.font=k.fontString(f,l._bodyFontStyle,l._bodyFontFamily),o.x=xc(l,Ne),h.fillStyle=l.bodyFontColor,k.each(l.beforeBody,I),y=x&&Ne!=="right"?v==="center"?f/2+1:f+2:0,z=0,he=g.length;z<he;++z){for(D=g[z],N=l.labelTextColors[z],F=l.labelColors[z],h.fillStyle=N,k.each(D.before,I),B=D.lines,Y=0,pe=B.length;Y<pe;++Y){if(x){var De=C.x(b);h.fillStyle=l.legendColorBackground,h.fillRect(C.leftForLtr(De,f),o.y,f,f),h.lineWidth=1,h.strokeStyle=F.borderColor,h.strokeRect(C.leftForLtr(De,f),o.y,f,f),h.fillStyle=F.backgroundColor,h.fillRect(C.leftForLtr(C.xPlus(De,1),f-2),o.y+1,f-2,f-2),h.fillStyle=N}I(B[Y])}k.each(D.after,I)}y=0,k.each(l.afterBody,I),o.y-=p},drawFooter:function(o,l,h){var f=l.footer,p=f.length,v,g;if(p){var x=Av(l.rtl,l.x,l.width);for(o.x=xc(l,l._footerAlign),o.y+=l.footerMarginTop,h.textAlign=x.textAlign(l._footerAlign),h.textBaseline="middle",v=l.footerFontSize,h.fillStyle=l.footerFontColor,h.font=k.fontString(v,l._footerFontStyle,l._footerFontFamily),g=0;g<p;++g)h.fillText(f[g],x.x(o.x),o.y+v/2),o.y+=v+l.footerSpacing}},drawBackground:function(o,l,h,f){h.fillStyle=l.backgroundColor,h.strokeStyle=l.borderColor,h.lineWidth=l.borderWidth;var p=l.xAlign,v=l.yAlign,g=o.x,x=o.y,y=f.width,b=f.height,C=l.cornerRadius;h.beginPath(),h.moveTo(g+C,x),v==="top"&&this.drawCaret(o,f),h.lineTo(g+y-C,x),h.quadraticCurveTo(g+y,x,g+y,x+C),v==="center"&&p==="right"&&this.drawCaret(o,f),h.lineTo(g+y,x+b-C),h.quadraticCurveTo(g+y,x+b,g+y-C,x+b),v==="bottom"&&this.drawCaret(o,f),h.lineTo(g+C,x+b),h.quadraticCurveTo(g,x+b,g,x+b-C),v==="center"&&p==="left"&&this.drawCaret(o,f),h.lineTo(g,x+C),h.quadraticCurveTo(g,x,g+C,x),h.closePath(),h.fill(),l.borderWidth>0&&h.stroke()},draw:function(){var o=this._chart.ctx,l=this._view;if(l.opacity!==0){var h={width:l.width,height:l.height},f={x:l.x,y:l.y},p=Math.abs(l.opacity<.001)?0:l.opacity,v=l.title.length||l.beforeBody.length||l.body.length||l.afterBody.length||l.footer.length;this._options.enabled&&v&&(o.save(),o.globalAlpha=p,this.drawBackground(f,l,o,h),f.y+=l.yPadding,k.rtl.overrideTextDirection(o,l.textDirection),this.drawTitle(f,l,o),this.drawBody(f,l,o),this.drawFooter(f,l,o),k.rtl.restoreTextDirection(o,l.textDirection),o.restore())}},handleEvent:function(o){var l=this,h=l._options,f=!1;return l._lastActive=l._lastActive||[],o.type==="mouseout"?l._active=[]:(l._active=l._chart.getElementsAtEventForMode(o,h.mode,h),h.reverse&&l._active.reverse()),f=!k.arrayEquals(l._active,l._lastActive),f&&(l._lastActive=l._active,(h.enabled||h.custom)&&(l._eventPosition={x:o.x,y:o.y},l.update(!0),l.pivot())),f}}),YD=Qw,Ov=GD;Ov.positioners=YD;var kv=k.valueOrDefault;ge._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});function ex(){return k.merge(Object.create(null),[].slice.call(arguments),{merger:function(o,l,h,f){if(o==="xAxes"||o==="yAxes"){var p=h[o].length,v,g,x;for(l[o]||(l[o]=[]),v=0;v<p;++v)x=h[o][v],g=kv(x.type,o==="xAxes"?"category":"linear"),v>=l[o].length&&l[o].push({}),!l[o][v].type||x.type&&x.type!==l[o][v].type?k.merge(l[o][v],[Dl.getScaleDefaults(g),x]):k.merge(l[o][v],x)}else k._merger(o,l,h,f)}})}function Mv(){return k.merge(Object.create(null),[].slice.call(arguments),{merger:function(o,l,h,f){var p=l[o]||Object.create(null),v=h[o];o==="scales"?l[o]=ex(p,v):o==="scale"?l[o]=k.merge(p,[Dl.getScaleDefaults(v.type),v]):k._merger(o,l,h,f)}})}function XD(o){o=o||Object.create(null);var l=o.data=o.data||{};return l.datasets=l.datasets||[],l.labels=l.labels||[],o.options=Mv(ge.global,ge[o.type],o.options||{}),o}function qD(o){var l=o.options;k.each(o.scales,function(h){rn.removeBox(o,h)}),l=Mv(ge.global,ge[o.config.type],l),o.options=o.config.options=l,o.ensureScalesHaveIDs(),o.buildOrUpdateScales(),o.tooltip._options=l.tooltips,o.tooltip.initialize()}function tx(o,l,h){var f,p=function(v){return v.id===f};do f=l+h++;while(k.findIndex(o,p)>=0);return f}function rx(o){return o==="top"||o==="bottom"}function nx(o,l){return function(h,f){return h[o]===f[o]?h[l]-f[l]:h[o]-f[o]}}var Ui=function(o,l){return this.construct(o,l),this};k.extend(Ui.prototype,{construct:function(o,l){var h=this;l=XD(l);var f=Ga.acquireContext(o,l),p=f&&f.canvas,v=p&&p.height,g=p&&p.width;if(h.id=k.uid(),h.ctx=f,h.canvas=p,h.config=l,h.width=g,h.height=v,h.aspectRatio=v?g/v:null,h.options=l.options,h._bufferedRender=!1,h._layers=[],h.chart=h,h.controller=h,Ui.instances[h.id]=h,Object.defineProperty(h,"data",{get:function(){return h.config.data},set:function(x){h.config.data=x}}),!f||!p){console.error("Failed to create chart: can't acquire context from the given item");return}h.initialize(),h.update()},initialize:function(){var o=this;return ut.notify(o,"beforeInit"),k.retinaScale(o,o.options.devicePixelRatio),o.bindEvents(),o.options.responsive&&o.resize(!0),o.initToolTip(),ut.notify(o,"afterInit"),o},clear:function(){return k.canvas.clear(this),this},stop:function(){return mv.cancelAnimation(this),this},resize:function(o){var l=this,h=l.options,f=l.canvas,p=h.maintainAspectRatio&&l.aspectRatio||null,v=Math.max(0,Math.floor(k.getMaximumWidth(f))),g=Math.max(0,Math.floor(p?v/p:k.getMaximumHeight(f)));if(!(l.width===v&&l.height===g)&&(f.width=l.width=v,f.height=l.height=g,f.style.width=v+"px",f.style.height=g+"px",k.retinaScale(l,h.devicePixelRatio),!o)){var x={width:v,height:g};ut.notify(l,"resize",[x]),h.onResize&&h.onResize(l,x),l.stop(),l.update({duration:h.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var o=this.options,l=o.scales||{},h=o.scale;k.each(l.xAxes,function(f,p){f.id||(f.id=tx(l.xAxes,"x-axis-",p))}),k.each(l.yAxes,function(f,p){f.id||(f.id=tx(l.yAxes,"y-axis-",p))}),h&&(h.id=h.id||"scale")},buildOrUpdateScales:function(){var o=this,l=o.options,h=o.scales||{},f=[],p=Object.keys(h).reduce(function(v,g){return v[g]=!1,v},{});l.scales&&(f=f.concat((l.scales.xAxes||[]).map(function(v){return{options:v,dtype:"category",dposition:"bottom"}}),(l.scales.yAxes||[]).map(function(v){return{options:v,dtype:"linear",dposition:"left"}}))),l.scale&&f.push({options:l.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),k.each(f,function(v){var g=v.options,x=g.id,y=kv(g.type,v.dtype);rx(g.position)!==rx(v.dposition)&&(g.position=v.dposition),p[x]=!0;var b=null;if(x in h&&h[x].type===y)b=h[x],b.options=g,b.ctx=o.ctx,b.chart=o;else{var C=Dl.getScaleConstructor(y);if(!C)return;b=new C({id:x,type:y,options:g,ctx:o.ctx,chart:o}),h[b.id]=b}b.mergeTicksOptions(),v.isDefault&&(o.scale=b)}),k.each(p,function(v,g){v||delete h[g]}),o.scales=h,Dl.addScalesToLayout(this)},buildOrUpdateControllers:function(){var o=this,l=[],h=o.data.datasets,f,p;for(f=0,p=h.length;f<p;f++){var v=h[f],g=o.getDatasetMeta(f),x=v.type||o.config.type;if(g.type&&g.type!==x&&(o.destroyDatasetMeta(f),g=o.getDatasetMeta(f)),g.type=x,g.order=v.order||0,g.index=f,g.controller)g.controller.updateIndex(f),g.controller.linkScales();else{var y=$w[g.type];if(y===void 0)throw new Error('"'+g.type+'" is not a chart type.');g.controller=new y(o,f),l.push(g.controller)}}return l},resetElements:function(){var o=this;k.each(o.data.datasets,function(l,h){o.getDatasetMeta(h).controller.reset()},o)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(o){var l=this,h,f;if((!o||typeof o!="object")&&(o={duration:o,lazy:arguments[1]}),qD(l),ut._invalidate(l),ut.notify(l,"beforeUpdate")!==!1){l.tooltip._data=l.data;var p=l.buildOrUpdateControllers();for(h=0,f=l.data.datasets.length;h<f;h++)l.getDatasetMeta(h).controller.buildOrUpdateElements();l.updateLayout(),l.options.animation&&l.options.animation.duration&&k.each(p,function(v){v.reset()}),l.updateDatasets(),l.tooltip.initialize(),l.lastActive=[],ut.notify(l,"afterUpdate"),l._layers.sort(nx("z","_idx")),l._bufferedRender?l._bufferedRequest={duration:o.duration,easing:o.easing,lazy:o.lazy}:l.render(o)}},updateLayout:function(){var o=this;ut.notify(o,"beforeLayout")!==!1&&(rn.update(this,this.width,this.height),o._layers=[],k.each(o.boxes,function(l){l._configure&&l._configure(),o._layers.push.apply(o._layers,l._layers())},o),o._layers.forEach(function(l,h){l._idx=h}),ut.notify(o,"afterScaleUpdate"),ut.notify(o,"afterLayout"))},updateDatasets:function(){var o=this;if(ut.notify(o,"beforeDatasetsUpdate")!==!1){for(var l=0,h=o.data.datasets.length;l<h;++l)o.updateDataset(l);ut.notify(o,"afterDatasetsUpdate")}},updateDataset:function(o){var l=this,h=l.getDatasetMeta(o),f={meta:h,index:o};ut.notify(l,"beforeDatasetUpdate",[f])!==!1&&(h.controller._update(),ut.notify(l,"afterDatasetUpdate",[f]))},render:function(o){var l=this;(!o||typeof o!="object")&&(o={duration:o,lazy:arguments[1]});var h=l.options.animation,f=kv(o.duration,h&&h.duration),p=o.lazy;if(ut.notify(l,"beforeRender")!==!1){var v=function(x){ut.notify(l,"afterRender"),k.callback(h&&h.onComplete,[x],l)};if(h&&f){var g=new vv({numSteps:f/16.66,easing:o.easing||h.easing,render:function(x,y){var b=k.easing.effects[y.easing],C=y.currentStep,I=C/y.numSteps;x.draw(b(I),I,C)},onAnimationProgress:h.onProgress,onAnimationComplete:v});mv.addAnimation(l,g,f,p)}else l.draw(),v(new vv({numSteps:0,chart:l}));return l}},draw:function(o){var l=this,h,f;if(l.clear(),k.isNullOrUndef(o)&&(o=1),l.transition(o),!(l.width<=0||l.height<=0)&&ut.notify(l,"beforeDraw",[o])!==!1){for(f=l._layers,h=0;h<f.length&&f[h].z<=0;++h)f[h].draw(l.chartArea);for(l.drawDatasets(o);h<f.length;++h)f[h].draw(l.chartArea);l._drawTooltip(o),ut.notify(l,"afterDraw",[o])}},transition:function(o){for(var l=this,h=0,f=(l.data.datasets||[]).length;h<f;++h)l.isDatasetVisible(h)&&l.getDatasetMeta(h).controller.transition(o);l.tooltip.transition(o)},_getSortedDatasetMetas:function(o){var l=this,h=l.data.datasets||[],f=[],p,v;for(p=0,v=h.length;p<v;++p)(!o||l.isDatasetVisible(p))&&f.push(l.getDatasetMeta(p));return f.sort(nx("order","index")),f},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(o){var l=this,h,f;if(ut.notify(l,"beforeDatasetsDraw",[o])!==!1){for(h=l._getSortedVisibleDatasetMetas(),f=h.length-1;f>=0;--f)l.drawDataset(h[f],o);ut.notify(l,"afterDatasetsDraw",[o])}},drawDataset:function(o,l){var h=this,f={meta:o,index:o.index,easingValue:l};ut.notify(h,"beforeDatasetDraw",[f])!==!1&&(o.controller.draw(l),ut.notify(h,"afterDatasetDraw",[f]))},_drawTooltip:function(o){var l=this,h=l.tooltip,f={tooltip:h,easingValue:o};ut.notify(l,"beforeTooltipDraw",[f])!==!1&&(h.draw(),ut.notify(l,"afterTooltipDraw",[f]))},getElementAtEvent:function(o){return ja.modes.single(this,o)},getElementsAtEvent:function(o){return ja.modes.label(this,o,{intersect:!0})},getElementsAtXAxis:function(o){return ja.modes["x-axis"](this,o,{intersect:!0})},getElementsAtEventForMode:function(o,l,h){var f=ja.modes[l];return typeof f=="function"?f(this,o,h):[]},getDatasetAtEvent:function(o){return ja.modes.dataset(this,o,{intersect:!0})},getDatasetMeta:function(o){var l=this,h=l.data.datasets[o];h._meta||(h._meta={});var f=h._meta[l.id];return f||(f=h._meta[l.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:h.order||0,index:o}),f},getVisibleDatasetCount:function(){for(var o=0,l=0,h=this.data.datasets.length;l<h;++l)this.isDatasetVisible(l)&&o++;return o},isDatasetVisible:function(o){var l=this.getDatasetMeta(o);return typeof l.hidden=="boolean"?!l.hidden:!this.data.datasets[o].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(o){var l=this.id,h=this.data.datasets[o],f=h._meta&&h._meta[l];f&&(f.controller.destroy(),delete h._meta[l])},destroy:function(){var o=this,l=o.canvas,h,f;for(o.stop(),h=0,f=o.data.datasets.length;h<f;++h)o.destroyDatasetMeta(h);l&&(o.unbindEvents(),k.canvas.clear(o),Ga.releaseContext(o.ctx),o.canvas=null,o.ctx=null),ut.notify(o,"destroy"),delete Ui.instances[o.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var o=this;o.tooltip=new Ov({_chart:o,_chartInstance:o,_data:o.data,_options:o.options.tooltips},o)},bindEvents:function(){var o=this,l=o._listeners={},h=function(){o.eventHandler.apply(o,arguments)};k.each(o.options.events,function(f){Ga.addEventListener(o,f,h),l[f]=h}),o.options.responsive&&(h=function(){o.resize()},Ga.addEventListener(o,"resize",h),l.resize=h)},unbindEvents:function(){var o=this,l=o._listeners;l&&(delete o._listeners,k.each(l,function(h,f){Ga.removeEventListener(o,f,h)}))},updateHoverStyle:function(o,l,h){var f=h?"set":"remove",p,v,g;for(v=0,g=o.length;v<g;++v)p=o[v],p&&this.getDatasetMeta(p._datasetIndex).controller[f+"HoverStyle"](p);l==="dataset"&&this.getDatasetMeta(o[0]._datasetIndex).controller["_"+f+"DatasetHoverStyle"]()},eventHandler:function(o){var l=this,h=l.tooltip;if(ut.notify(l,"beforeEvent",[o])!==!1){l._bufferedRender=!0,l._bufferedRequest=null;var f=l.handleEvent(o);h&&(f=h._start?h.handleEvent(o):f|h.handleEvent(o)),ut.notify(l,"afterEvent",[o]);var p=l._bufferedRequest;return p?l.render(p):f&&!l.animating&&(l.stop(),l.render({duration:l.options.hover.animationDuration,lazy:!0})),l._bufferedRender=!1,l._bufferedRequest=null,l}},handleEvent:function(o){var l=this,h=l.options||{},f=h.hover,p=!1;return l.lastActive=l.lastActive||[],o.type==="mouseout"?l.active=[]:l.active=l.getElementsAtEventForMode(o,f.mode,f),k.callback(h.onHover||h.hover.onHover,[o.native,l.active],l),(o.type==="mouseup"||o.type==="click")&&h.onClick&&h.onClick.call(l,o.native,l.active),l.lastActive.length&&l.updateHoverStyle(l.lastActive,f.mode,!1),l.active.length&&f.mode&&l.updateHoverStyle(l.active,f.mode,!0),p=!k.arrayEquals(l.active,l.lastActive),l.lastActive=l.active,p}}),Ui.instances={};var Be=Ui;Ui.Controller=Ui,Ui.types={},k.configMerge=Mv,k.scaleMerge=ex;var KD=function(){k.where=function(f,p){if(k.isArray(f)&&Array.prototype.filter)return f.filter(p);var v=[];return k.each(f,function(g){p(g)&&v.push(g)}),v},k.findIndex=Array.prototype.findIndex?function(f,p,v){return f.findIndex(p,v)}:function(f,p,v){v=v===void 0?f:v;for(var g=0,x=f.length;g<x;++g)if(p.call(v,f[g],g,f))return g;return-1},k.findNextWhere=function(f,p,v){k.isNullOrUndef(v)&&(v=-1);for(var g=v+1;g<f.length;g++){var x=f[g];if(p(x))return x}},k.findPreviousWhere=function(f,p,v){k.isNullOrUndef(v)&&(v=f.length);for(var g=v-1;g>=0;g--){var x=f[g];if(p(x))return x}},k.isNumber=function(f){return!isNaN(parseFloat(f))&&isFinite(f)},k.almostEquals=function(f,p,v){return Math.abs(f-p)<v},k.almostWhole=function(f,p){var v=Math.round(f);return v-p<=f&&v+p>=f},k.max=function(f){return f.reduce(function(p,v){return isNaN(v)?p:Math.max(p,v)},Number.NEGATIVE_INFINITY)},k.min=function(f){return f.reduce(function(p,v){return isNaN(v)?p:Math.min(p,v)},Number.POSITIVE_INFINITY)},k.sign=Math.sign?function(f){return Math.sign(f)}:function(f){return f=+f,f===0||isNaN(f)?f:f>0?1:-1},k.toRadians=function(f){return f*(Math.PI/180)},k.toDegrees=function(f){return f*(180/Math.PI)},k._decimalPlaces=function(f){if(k.isFinite(f)){for(var p=1,v=0;Math.round(f*p)/p!==f;)p*=10,v++;return v}},k.getAngleFromPoint=function(f,p){var v=p.x-f.x,g=p.y-f.y,x=Math.sqrt(v*v+g*g),y=Math.atan2(g,v);return y<-.5*Math.PI&&(y+=2*Math.PI),{angle:y,distance:x}},k.distanceBetweenPoints=function(f,p){return Math.sqrt(Math.pow(p.x-f.x,2)+Math.pow(p.y-f.y,2))},k.aliasPixel=function(f){return f%2===0?0:.5},k._alignPixel=function(f,p,v){var g=f.currentDevicePixelRatio,x=v/2;return Math.round((p-x)*g)/g+x},k.splineCurve=function(f,p,v,g){var x=f.skip?p:f,y=p,b=v.skip?p:v,C=Math.sqrt(Math.pow(y.x-x.x,2)+Math.pow(y.y-x.y,2)),I=Math.sqrt(Math.pow(b.x-y.x,2)+Math.pow(b.y-y.y,2)),D=C/(C+I),N=I/(C+I);D=isNaN(D)?0:D,N=isNaN(N)?0:N;var F=g*D,B=g*N;return{previous:{x:y.x-F*(b.x-x.x),y:y.y-F*(b.y-x.y)},next:{x:y.x+B*(b.x-x.x),y:y.y+B*(b.y-x.y)}}},k.EPSILON=Number.EPSILON||1e-14,k.splineCurveMonotone=function(f){var p=(f||[]).map(function(z){return{model:z._model,deltaK:0,mK:0}}),v=p.length,g,x,y,b;for(g=0;g<v;++g)if(y=p[g],!y.model.skip){if(x=g>0?p[g-1]:null,b=g<v-1?p[g+1]:null,b&&!b.model.skip){var C=b.model.x-y.model.x;y.deltaK=C!==0?(b.model.y-y.model.y)/C:0}!x||x.model.skip?y.mK=y.deltaK:!b||b.model.skip?y.mK=x.deltaK:this.sign(x.deltaK)!==this.sign(y.deltaK)?y.mK=0:y.mK=(x.deltaK+y.deltaK)/2}var I,D,N,F;for(g=0;g<v-1;++g)if(y=p[g],b=p[g+1],!(y.model.skip||b.model.skip)){if(k.almostEquals(y.deltaK,0,this.EPSILON)){y.mK=b.mK=0;continue}I=y.mK/y.deltaK,D=b.mK/y.deltaK,F=Math.pow(I,2)+Math.pow(D,2),!(F<=9)&&(N=3/Math.sqrt(F),y.mK=I*N*y.deltaK,b.mK=D*N*y.deltaK)}var B;for(g=0;g<v;++g)y=p[g],!y.model.skip&&(x=g>0?p[g-1]:null,b=g<v-1?p[g+1]:null,x&&!x.model.skip&&(B=(y.model.x-x.model.x)/3,y.model.controlPointPreviousX=y.model.x-B,y.model.controlPointPreviousY=y.model.y-B*y.mK),b&&!b.model.skip&&(B=(b.model.x-y.model.x)/3,y.model.controlPointNextX=y.model.x+B,y.model.controlPointNextY=y.model.y+B*y.mK))},k.nextItem=function(f,p,v){return v?p>=f.length-1?f[0]:f[p+1]:p>=f.length-1?f[f.length-1]:f[p+1]},k.previousItem=function(f,p,v){return v?p<=0?f[f.length-1]:f[p-1]:p<=0?f[0]:f[p-1]},k.niceNum=function(f,p){var v=Math.floor(k.log10(f)),g=f/Math.pow(10,v),x;return p?g<1.5?x=1:g<3?x=2:g<7?x=5:x=10:g<=1?x=1:g<=2?x=2:g<=5?x=5:x=10,x*Math.pow(10,v)},k.requestAnimFrame=function(){return typeof window>"u"?function(f){f()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(f){return window.setTimeout(f,1e3/60)}}(),k.getRelativePosition=function(f,p){var v,g,x=f.originalEvent||f,y=f.target||f.srcElement,b=y.getBoundingClientRect(),C=x.touches;C&&C.length>0?(v=C[0].clientX,g=C[0].clientY):(v=x.clientX,g=x.clientY);var I=parseFloat(k.getStyle(y,"padding-left")),D=parseFloat(k.getStyle(y,"padding-top")),N=parseFloat(k.getStyle(y,"padding-right")),F=parseFloat(k.getStyle(y,"padding-bottom")),B=b.right-b.left-I-N,z=b.bottom-b.top-D-F;return v=Math.round((v-b.left-I)/B*y.width/p.currentDevicePixelRatio),g=Math.round((g-b.top-D)/z*y.height/p.currentDevicePixelRatio),{x:v,y:g}};function o(f,p,v){var g;return typeof f=="string"?(g=parseInt(f,10),f.indexOf("%")!==-1&&(g=g/100*p.parentNode[v])):g=f,g}function l(f){return f!=null&&f!=="none"}function h(f,p,v){var g=document.defaultView,x=k._getParentNode(f),y=g.getComputedStyle(f)[p],b=g.getComputedStyle(x)[p],C=l(y),I=l(b),D=Number.POSITIVE_INFINITY;return C||I?Math.min(C?o(y,f,v):D,I?o(b,x,v):D):"none"}k.getConstraintWidth=function(f){return h(f,"max-width","clientWidth")},k.getConstraintHeight=function(f){return h(f,"max-height","clientHeight")},k._calculatePadding=function(f,p,v){return p=k.getStyle(f,p),p.indexOf("%")>-1?v*parseInt(p,10)/100:parseInt(p,10)},k._getParentNode=function(f){var p=f.parentNode;return p&&p.toString()==="[object ShadowRoot]"&&(p=p.host),p},k.getMaximumWidth=function(f){var p=k._getParentNode(f);if(!p)return f.clientWidth;var v=p.clientWidth,g=k._calculatePadding(p,"padding-left",v),x=k._calculatePadding(p,"padding-right",v),y=v-g-x,b=k.getConstraintWidth(f);return isNaN(b)?y:Math.min(y,b)},k.getMaximumHeight=function(f){var p=k._getParentNode(f);if(!p)return f.clientHeight;var v=p.clientHeight,g=k._calculatePadding(p,"padding-top",v),x=k._calculatePadding(p,"padding-bottom",v),y=v-g-x,b=k.getConstraintHeight(f);return isNaN(b)?y:Math.min(y,b)},k.getStyle=function(f,p){return f.currentStyle?f.currentStyle[p]:document.defaultView.getComputedStyle(f,null).getPropertyValue(p)},k.retinaScale=function(f,p){var v=f.currentDevicePixelRatio=p||typeof window<"u"&&window.devicePixelRatio||1;if(v!==1){var g=f.canvas,x=f.height,y=f.width;g.height=x*v,g.width=y*v,f.ctx.scale(v,v),!g.style.height&&!g.style.width&&(g.style.height=x+"px",g.style.width=y+"px")}},k.fontString=function(f,p,v){return p+" "+f+"px "+v},k.longestText=function(f,p,v,g){g=g||{};var x=g.data=g.data||{},y=g.garbageCollect=g.garbageCollect||[];g.font!==p&&(x=g.data={},y=g.garbageCollect=[],g.font=p),f.font=p;var b=0,C=v.length,I,D,N,F,B;for(I=0;I<C;I++)if(F=v[I],F!=null&&k.isArray(F)!==!0)b=k.measureText(f,x,y,b,F);else if(k.isArray(F))for(D=0,N=F.length;D<N;D++)B=F[D],B!=null&&!k.isArray(B)&&(b=k.measureText(f,x,y,b,B));var z=y.length/2;if(z>v.length){for(I=0;I<z;I++)delete x[y[I]];y.splice(0,z)}return b},k.measureText=function(f,p,v,g,x){var y=p[x];return y||(y=p[x]=f.measureText(x).width,v.push(x)),y>g&&(g=y),g},k.numberOfLabelLines=function(f){var p=1;return k.each(f,function(v){k.isArray(v)&&v.length>p&&(p=v.length)}),p},k.color=ne?function(f){return f instanceof CanvasGradient&&(f=ge.global.defaultColor),ne(f)}:function(f){return console.error("Color.js not found!"),f},k.getHoverColor=function(f){return f instanceof CanvasPattern||f instanceof CanvasGradient?f:k.color(f).saturate(.5).darken(.1).rgbString()}};function Bs(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function bc(o){this.options=o||{}}k.extend(bc.prototype,{formats:Bs,parse:Bs,format:Bs,add:Bs,diff:Bs,startOf:Bs,endOf:Bs,_create:function(o){return o}}),bc.override=function(o){k.extend(bc.prototype,o)};var QD=bc,Dv={_date:QD},Rl={formatters:{values:function(o){return k.isArray(o)?o:""+o},linear:function(o,l,h){var f=h.length>3?h[2]-h[1]:h[1]-h[0];Math.abs(f)>1&&o!==Math.floor(o)&&(f=o-Math.floor(o));var p=k.log10(Math.abs(f)),v="";if(o!==0){var g=Math.max(Math.abs(h[0]),Math.abs(h[h.length-1]));if(g<1e-4){var x=k.log10(Math.abs(o)),y=Math.floor(x)-Math.floor(p);y=Math.max(Math.min(y,20),0),v=o.toExponential(y)}else{var b=-1*Math.floor(p);b=Math.max(Math.min(b,20),0),v=o.toFixed(b)}}else v="0";return v},logarithmic:function(o,l,h){var f=o/Math.pow(10,Math.floor(k.log10(o)));return o===0?"0":f===1||f===2||f===5||l===0||l===h.length-1?o.toExponential():""}}},Vs=k.isArray,Nl=k.isNullOrUndef,zs=k.valueOrDefault,Ya=k.valueAtIndexOrDefault;ge._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Rl.formatters.values,minor:{},major:{}}});function ZD(o,l){for(var h=[],f=o.length/l,p=0,v=o.length;p<v;p+=f)h.push(o[Math.floor(p)]);return h}function JD(o,l,h){var f=o.getTicks().length,p=Math.min(l,f-1),v=o.getPixelForTick(p),g=o._startPixel,x=o._endPixel,y=1e-6,b;if(!(h&&(f===1?b=Math.max(v-g,x-v):l===0?b=(o.getPixelForTick(1)-v)/2:b=(v-o.getPixelForTick(p-1))/2,v+=p<l?b:-b,v<g-y||v>x+y)))return v}function eR(o,l){k.each(o,function(h){var f=h.gc,p=f.length/2,v;if(p>l){for(v=0;v<p;++v)delete h.data[f[v]];f.splice(0,p)}})}function tR(o,l,h,f){var p=h.length,v=[],g=[],x=[],y=0,b=0,C,I,D,N,F,B,z,Y,he,pe,Ne,De,Ke;for(C=0;C<p;++C){if(N=h[C].label,F=h[C].major?l.major:l.minor,o.font=B=F.string,z=f[B]=f[B]||{data:{},gc:[]},Y=F.lineHeight,he=pe=0,!Nl(N)&&!Vs(N))he=k.measureText(o,z.data,z.gc,he,N),pe=Y;else if(Vs(N))for(I=0,D=N.length;I<D;++I)Ne=N[I],!Nl(Ne)&&!Vs(Ne)&&(he=k.measureText(o,z.data,z.gc,he,Ne),pe+=Y);v.push(he),g.push(pe),x.push(Y/2),y=Math.max(he,y),b=Math.max(pe,b)}eR(f,p),De=v.indexOf(y),Ke=g.indexOf(b);function je(ot){return{width:v[ot]||0,height:g[ot]||0,offset:x[ot]||0}}return{first:je(0),last:je(p-1),widest:je(De),highest:je(Ke)}}function Fl(o){return o.drawTicks?o.tickMarkLength:0}function Rv(o){var l,h;return o.display?(l=k.options._parseFont(o),h=k.options.toPadding(o.padding),l.lineHeight+h.height):0}function ix(o,l){return k.extend(k.options._parseFont({fontFamily:zs(l.fontFamily,o.fontFamily),fontSize:zs(l.fontSize,o.fontSize),fontStyle:zs(l.fontStyle,o.fontStyle),lineHeight:zs(l.lineHeight,o.lineHeight)}),{color:k.options.resolve([l.fontColor,o.fontColor,ge.global.defaultFontColor])})}function Nv(o){var l=ix(o,o.minor),h=o.major.enabled?ix(o,o.major):l;return{minor:l,major:h}}function Fv(o){var l=[],h,f,p;for(f=0,p=o.length;f<p;++f)h=o[f],typeof h._index<"u"&&l.push(h);return l}function rR(o){var l=o.length,h,f;if(l<2)return!1;for(f=o[0],h=1;h<l;++h)if(o[h]-o[h-1]!==f)return!1;return f}function nR(o,l,h,f){var p=rR(o),v=(l.length-1)/f,g,x,y,b;if(!p)return Math.max(v,1);for(g=k.math._factorize(p),y=0,b=g.length-1;y<b;y++)if(x=g[y],x>v)return x;return Math.max(v,1)}function iR(o){var l=[],h,f;for(h=0,f=o.length;h<f;h++)o[h].major&&l.push(h);return l}function sR(o,l,h){var f=0,p=l[0],v,g;for(h=Math.ceil(h),v=0;v<o.length;v++)g=o[v],v===p?(g._index=v,f++,p=l[f*h]):delete g.label}function Tc(o,l,h,f){var p=zs(h,0),v=Math.min(zs(f,o.length),o.length),g=0,x,y,b,C;for(l=Math.ceil(l),f&&(x=f-h,l=x/Math.floor(x/l)),C=p;C<0;)g++,C=Math.round(p+g*l);for(y=Math.max(p,0);y<v;y++)b=o[y],y===C?(b._index=y,g++,C=Math.round(p+g*l)):delete b.label}var Lv=In.extend({zeroLineIndex:0,getPadding:function(){var o=this;return{left:o.paddingLeft||0,top:o.paddingTop||0,right:o.paddingRight||0,bottom:o.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var o=this.chart.data;return this.options.labels||(this.isHorizontal()?o.xLabels:o.yLabels)||o.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){k.callback(this.options.beforeUpdate,[this])},update:function(o,l,h){var f=this,p=f.options.ticks,v=p.sampleSize,g,x,y,b,C;if(f.beforeUpdate(),f.maxWidth=o,f.maxHeight=l,f.margins=k.extend({left:0,right:0,top:0,bottom:0},h),f._ticks=null,f.ticks=null,f._labelSizes=null,f._maxLabelLines=0,f.longestLabelWidth=0,f.longestTextCache=f.longestTextCache||{},f._gridLineItems=null,f._labelItems=null,f.beforeSetDimensions(),f.setDimensions(),f.afterSetDimensions(),f.beforeDataLimits(),f.determineDataLimits(),f.afterDataLimits(),f.beforeBuildTicks(),b=f.buildTicks()||[],b=f.afterBuildTicks(b)||b,(!b||!b.length)&&f.ticks)for(b=[],g=0,x=f.ticks.length;g<x;++g)b.push({value:f.ticks[g],major:!1});return f._ticks=b,C=v<b.length,y=f._convertTicksToLabels(C?ZD(b,v):b),f._configure(),f.beforeCalculateTickRotation(),f.calculateTickRotation(),f.afterCalculateTickRotation(),f.beforeFit(),f.fit(),f.afterFit(),f._ticksToDraw=p.display&&(p.autoSkip||p.source==="auto")?f._autoSkip(b):b,C&&(y=f._convertTicksToLabels(f._ticksToDraw)),f.ticks=y,f.afterUpdate(),f.minSize},_configure:function(){var o=this,l=o.options.ticks.reverse,h,f;o.isHorizontal()?(h=o.left,f=o.right):(h=o.top,f=o.bottom,l=!l),o._startPixel=h,o._endPixel=f,o._reversePixels=l,o._length=f-h},afterUpdate:function(){k.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){k.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var o=this;o.isHorizontal()?(o.width=o.maxWidth,o.left=0,o.right=o.width):(o.height=o.maxHeight,o.top=0,o.bottom=o.height),o.paddingLeft=0,o.paddingTop=0,o.paddingRight=0,o.paddingBottom=0},afterSetDimensions:function(){k.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){k.callback(this.options.beforeDataLimits,[this])},determineDataLimits:k.noop,afterDataLimits:function(){k.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){k.callback(this.options.beforeBuildTicks,[this])},buildTicks:k.noop,afterBuildTicks:function(o){var l=this;return Vs(o)&&o.length?k.callback(l.options.afterBuildTicks,[l,o]):(l.ticks=k.callback(l.options.afterBuildTicks,[l,l.ticks])||l.ticks,o)},beforeTickToLabelConversion:function(){k.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var o=this,l=o.options.ticks;o.ticks=o.ticks.map(l.userCallback||l.callback,this)},afterTickToLabelConversion:function(){k.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){k.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var o=this,l=o.options,h=l.ticks,f=o.getTicks().length,p=h.minRotation||0,v=h.maxRotation,g=p,x,y,b,C,I,D,N;if(!o._isVisible()||!h.display||p>=v||f<=1||!o.isHorizontal()){o.labelRotation=p;return}x=o._getLabelSizes(),y=x.widest.width,b=x.highest.height-x.highest.offset,C=Math.min(o.maxWidth,o.chart.width-y),I=l.offset?o.maxWidth/f:C/(f-1),y+6>I&&(I=C/(f-(l.offset?.5:1)),D=o.maxHeight-Fl(l.gridLines)-h.padding-Rv(l.scaleLabel),N=Math.sqrt(y*y+b*b),g=k.toDegrees(Math.min(Math.asin(Math.min((x.highest.height+6)/I,1)),Math.asin(Math.min(D/N,1))-Math.asin(b/N))),g=Math.max(p,Math.min(v,g))),o.labelRotation=g},afterCalculateTickRotation:function(){k.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){k.callback(this.options.beforeFit,[this])},fit:function(){var o=this,l=o.minSize={width:0,height:0},h=o.chart,f=o.options,p=f.ticks,v=f.scaleLabel,g=f.gridLines,x=o._isVisible(),y=f.position==="bottom",b=o.isHorizontal();if(b?l.width=o.maxWidth:x&&(l.width=Fl(g)+Rv(v)),b?x&&(l.height=Fl(g)+Rv(v)):l.height=o.maxHeight,p.display&&x){var C=Nv(p),I=o._getLabelSizes(),D=I.first,N=I.last,F=I.widest,B=I.highest,z=C.minor.lineHeight*.4,Y=p.padding;if(b){var he=o.labelRotation!==0,pe=k.toRadians(o.labelRotation),Ne=Math.cos(pe),De=Math.sin(pe),Ke=De*F.width+Ne*(B.height-(he?B.offset:0))+(he?0:z);l.height=Math.min(o.maxHeight,l.height+Ke+Y);var je=o.getPixelForTick(0)-o.left,ot=o.right-o.getPixelForTick(o.getTicks().length-1),ht,qt;he?(ht=y?Ne*D.width+De*D.offset:De*(D.height-D.offset),qt=y?De*(N.height-N.offset):Ne*N.width+De*N.offset):(ht=D.width/2,qt=N.width/2),o.paddingLeft=Math.max((ht-je)*o.width/(o.width-je),0)+3,o.paddingRight=Math.max((qt-ot)*o.width/(o.width-ot),0)+3}else{var Bt=p.mirror?0:F.width+Y+z;l.width=Math.min(o.maxWidth,l.width+Bt),o.paddingTop=D.height/2,o.paddingBottom=N.height/2}}o.handleMargins(),b?(o.width=o._length=h.width-o.margins.left-o.margins.right,o.height=l.height):(o.width=l.width,o.height=o._length=h.height-o.margins.top-o.margins.bottom)},handleMargins:function(){var o=this;o.margins&&(o.margins.left=Math.max(o.paddingLeft,o.margins.left),o.margins.top=Math.max(o.paddingTop,o.margins.top),o.margins.right=Math.max(o.paddingRight,o.margins.right),o.margins.bottom=Math.max(o.paddingBottom,o.margins.bottom))},afterFit:function(){k.callback(this.options.afterFit,[this])},isHorizontal:function(){var o=this.options.position;return o==="top"||o==="bottom"},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(o){if(Nl(o))return NaN;if((typeof o=="number"||o instanceof Number)&&!isFinite(o))return NaN;if(o){if(this.isHorizontal()){if(o.x!==void 0)return this.getRightValue(o.x)}else if(o.y!==void 0)return this.getRightValue(o.y)}return o},_convertTicksToLabels:function(o){var l=this,h,f,p;for(l.ticks=o.map(function(v){return v.value}),l.beforeTickToLabelConversion(),h=l.convertTicksToLabels(o)||l.ticks,l.afterTickToLabelConversion(),f=0,p=o.length;f<p;++f)o[f].label=h[f];return h},_getLabelSizes:function(){var o=this,l=o._labelSizes;return l||(o._labelSizes=l=tR(o.ctx,Nv(o.options.ticks),o.getTicks(),o.longestTextCache),o.longestLabelWidth=l.widest.width),l},_parseValue:function(o){var l,h,f,p;return Vs(o)?(l=+this.getRightValue(o[0]),h=+this.getRightValue(o[1]),f=Math.min(l,h),p=Math.max(l,h)):(o=+this.getRightValue(o),l=void 0,h=o,f=o,p=o),{min:f,max:p,start:l,end:h}},_getScaleLabel:function(o){var l=this._parseValue(o);return l.start!==void 0?"["+l.start+", "+l.end+"]":+this.getRightValue(o)},getLabelForIndex:k.noop,getPixelForValue:k.noop,getValueForPixel:k.noop,getPixelForTick:function(o){var l=this,h=l.options.offset,f=l._ticks.length,p=1/Math.max(f-(h?0:1),1);return o<0||o>f-1?null:l.getPixelForDecimal(o*p+(h?p/2:0))},getPixelForDecimal:function(o){var l=this;return l._reversePixels&&(o=1-o),l._startPixel+o*l._length},getDecimalForPixel:function(o){var l=(o-this._startPixel)/this._length;return this._reversePixels?1-l:l},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var o=this,l=o.min,h=o.max;return o.beginAtZero?0:l<0&&h<0?h:l>0&&h>0?l:0},_autoSkip:function(o){var l=this,h=l.options.ticks,f=l._length,p=h.maxTicksLimit||f/l._tickSize()+1,v=h.major.enabled?iR(o):[],g=v.length,x=v[0],y=v[g-1],b,C,I,D;if(g>p)return sR(o,v,g/p),Fv(o);if(I=nR(v,o,f,p),g>0){for(b=0,C=g-1;b<C;b++)Tc(o,I,v[b],v[b+1]);return D=g>1?(y-x)/(g-1):null,Tc(o,I,k.isNullOrUndef(D)?0:x-D,x),Tc(o,I,y,k.isNullOrUndef(D)?o.length:y+D),Fv(o)}return Tc(o,I),Fv(o)},_tickSize:function(){var o=this,l=o.options.ticks,h=k.toRadians(o.labelRotation),f=Math.abs(Math.cos(h)),p=Math.abs(Math.sin(h)),v=o._getLabelSizes(),g=l.autoSkipPadding||0,x=v?v.widest.width+g:0,y=v?v.highest.height+g:0;return o.isHorizontal()?y*f>x*p?x/f:y/p:y*p<x*f?y/f:x/p},_isVisible:function(){var o=this,l=o.chart,h=o.options.display,f,p,v;if(h!=="auto")return!!h;for(f=0,p=l.data.datasets.length;f<p;++f)if(l.isDatasetVisible(f)&&(v=l.getDatasetMeta(f),v.xAxisID===o.id||v.yAxisID===o.id))return!0;return!1},_computeGridLineItems:function(o){var l=this,h=l.chart,f=l.options,p=f.gridLines,v=f.position,g=p.offsetGridLines,x=l.isHorizontal(),y=l._ticksToDraw,b=y.length+(g?1:0),C=Fl(p),I=[],D=p.drawBorder?Ya(p.lineWidth,0,0):0,N=D/2,F=k._alignPixel,B=function(iN){return F(h,iN,D)},z,Y,he,pe,Ne,De,Ke,je,ot,ht,qt,Bt,Rt,nr,qa,Ka,Gv;for(v==="top"?(z=B(l.bottom),Ke=l.bottom-C,ot=z-N,qt=B(o.top)+N,Rt=o.bottom):v==="bottom"?(z=B(l.top),qt=o.top,Rt=B(o.bottom)-N,Ke=z+N,ot=l.top+C):v==="left"?(z=B(l.right),De=l.right-C,je=z-N,ht=B(o.left)+N,Bt=o.right):(z=B(l.left),ht=o.left,Bt=B(o.right)-N,De=z+N,je=l.left+C),Y=0;Y<b;++Y)he=y[Y]||{},!(Nl(he.label)&&Y<y.length)&&(Y===l.zeroLineIndex&&f.offset===g?(nr=p.zeroLineWidth,qa=p.zeroLineColor,Ka=p.zeroLineBorderDash||[],Gv=p.zeroLineBorderDashOffset||0):(nr=Ya(p.lineWidth,Y,1),qa=Ya(p.color,Y,"rgba(0,0,0,0.1)"),Ka=p.borderDash||[],Gv=p.borderDashOffset||0),pe=JD(l,he._index||Y,g),pe!==void 0&&(Ne=F(h,pe,nr),x?De=je=ht=Bt=Ne:Ke=ot=qt=Rt=Ne,I.push({tx1:De,ty1:Ke,tx2:je,ty2:ot,x1:ht,y1:qt,x2:Bt,y2:Rt,width:nr,color:qa,borderDash:Ka,borderDashOffset:Gv})));return I.ticksLength=b,I.borderValue=z,I},_computeLabelItems:function(){var o=this,l=o.options,h=l.ticks,f=l.position,p=h.mirror,v=o.isHorizontal(),g=o._ticksToDraw,x=Nv(h),y=h.padding,b=Fl(l.gridLines),C=-k.toRadians(o.labelRotation),I=[],D,N,F,B,z,Y,he,pe,Ne,De,Ke,je;for(f==="top"?(Y=o.bottom-b-y,he=C?"left":"center"):f==="bottom"?(Y=o.top+b+y,he=C?"right":"center"):f==="left"?(z=o.right-(p?0:b)-y,he=p?"left":"right"):(z=o.left+(p?0:b)+y,he=p?"right":"left"),D=0,N=g.length;D<N;++D)F=g[D],B=F.label,!Nl(B)&&(pe=o.getPixelForTick(F._index||D)+h.labelOffset,Ne=F.major?x.major:x.minor,De=Ne.lineHeight,Ke=Vs(B)?B.length:1,v?(z=pe,je=f==="top"?((C?1:.5)-Ke)*De:(C?0:.5)*De):(Y=pe,je=(1-Ke)*De/2),I.push({x:z,y:Y,rotation:C,label:B,font:Ne,textOffset:je,textAlign:he}));return I},_drawGrid:function(o){var l=this,h=l.options.gridLines;if(h.display){var f=l.ctx,p=l.chart,v=k._alignPixel,g=h.drawBorder?Ya(h.lineWidth,0,0):0,x=l._gridLineItems||(l._gridLineItems=l._computeGridLineItems(o)),y,b,C,I,D;for(C=0,I=x.length;C<I;++C)D=x[C],y=D.width,b=D.color,y&&b&&(f.save(),f.lineWidth=y,f.strokeStyle=b,f.setLineDash&&(f.setLineDash(D.borderDash),f.lineDashOffset=D.borderDashOffset),f.beginPath(),h.drawTicks&&(f.moveTo(D.tx1,D.ty1),f.lineTo(D.tx2,D.ty2)),h.drawOnChartArea&&(f.moveTo(D.x1,D.y1),f.lineTo(D.x2,D.y2)),f.stroke(),f.restore());if(g){var N=g,F=Ya(h.lineWidth,x.ticksLength-1,1),B=x.borderValue,z,Y,he,pe;l.isHorizontal()?(z=v(p,l.left,N)-N/2,Y=v(p,l.right,F)+F/2,he=pe=B):(he=v(p,l.top,N)-N/2,pe=v(p,l.bottom,F)+F/2,z=Y=B),f.lineWidth=g,f.strokeStyle=Ya(h.color,0),f.beginPath(),f.moveTo(z,he),f.lineTo(Y,pe),f.stroke()}}},_drawLabels:function(){var o=this,l=o.options.ticks;if(l.display){var h=o.ctx,f=o._labelItems||(o._labelItems=o._computeLabelItems()),p,v,g,x,y,b,C,I;for(p=0,g=f.length;p<g;++p){if(y=f[p],b=y.font,h.save(),h.translate(y.x,y.y),h.rotate(y.rotation),h.font=b.string,h.fillStyle=b.color,h.textBaseline="middle",h.textAlign=y.textAlign,C=y.label,I=y.textOffset,Vs(C))for(v=0,x=C.length;v<x;++v)h.fillText(""+C[v],0,I),I+=b.lineHeight;else h.fillText(C,0,I);h.restore()}}},_drawTitle:function(){var o=this,l=o.ctx,h=o.options,f=h.scaleLabel;if(f.display){var p=zs(f.fontColor,ge.global.defaultFontColor),v=k.options._parseFont(f),g=k.options.toPadding(f.padding),x=v.lineHeight/2,y=h.position,b=0,C,I;if(o.isHorizontal())C=o.left+o.width/2,I=y==="bottom"?o.bottom-x-g.bottom:o.top+x+g.top;else{var D=y==="left";C=D?o.left+x+g.top:o.right-x-g.top,I=o.top+o.height/2,b=D?-.5*Math.PI:.5*Math.PI}l.save(),l.translate(C,I),l.rotate(b),l.textAlign="center",l.textBaseline="middle",l.fillStyle=p,l.font=v.string,l.fillText(f.labelString,0,0),l.restore()}},draw:function(o){var l=this;l._isVisible()&&(l._drawGrid(o),l._drawTitle(),l._drawLabels())},_layers:function(){var o=this,l=o.options,h=l.ticks&&l.ticks.z||0,f=l.gridLines&&l.gridLines.z||0;return!o._isVisible()||h===f||o.draw!==o._draw?[{z:h,draw:function(){o.draw.apply(o,arguments)}}]:[{z:f,draw:function(){o._drawGrid.apply(o,arguments),o._drawTitle.apply(o,arguments)}},{z:h,draw:function(){o._drawLabels.apply(o,arguments)}}]},_getMatchingVisibleMetas:function(o){var l=this,h=l.isHorizontal();return l.chart._getSortedVisibleDatasetMetas().filter(function(f){return(!o||f.type===o)&&(h?f.xAxisID===l.id:f.yAxisID===l.id)})}});Lv.prototype._draw=Lv.prototype.draw;var Rr=Lv,Uv=k.isNullOrUndef,aR={position:"bottom"},sx=Rr.extend({determineDataLimits:function(){var o=this,l=o._getLabels(),h=o.options.ticks,f=h.min,p=h.max,v=0,g=l.length-1,x;f!==void 0&&(x=l.indexOf(f),x>=0&&(v=x)),p!==void 0&&(x=l.indexOf(p),x>=0&&(g=x)),o.minIndex=v,o.maxIndex=g,o.min=l[v],o.max=l[g]},buildTicks:function(){var o=this,l=o._getLabels(),h=o.minIndex,f=o.maxIndex;o.ticks=h===0&&f===l.length-1?l:l.slice(h,f+1)},getLabelForIndex:function(o,l){var h=this,f=h.chart;return f.getDatasetMeta(l).controller._getValueScaleId()===h.id?h.getRightValue(f.data.datasets[l].data[o]):h._getLabels()[o]},_configure:function(){var o=this,l=o.options.offset,h=o.ticks;Rr.prototype._configure.call(o),o.isHorizontal()||(o._reversePixels=!o._reversePixels),h&&(o._startValue=o.minIndex-(l?.5:0),o._valueRange=Math.max(h.length-(l?0:1),1))},getPixelForValue:function(o,l,h){var f=this,p,v,g;return!Uv(l)&&!Uv(h)&&(o=f.chart.data.datasets[h].data[l]),Uv(o)||(p=f.isHorizontal()?o.x:o.y),(p!==void 0||o!==void 0&&isNaN(l))&&(v=f._getLabels(),o=k.valueOrDefault(p,o),g=v.indexOf(o),l=g!==-1?g:l,isNaN(l)&&(l=o)),f.getPixelForDecimal((l-f._startValue)/f._valueRange)},getPixelForTick:function(o){var l=this.ticks;return o<0||o>l.length-1?null:this.getPixelForValue(l[o],o+this.minIndex)},getValueForPixel:function(o){var l=this,h=Math.round(l._startValue+l.getDecimalForPixel(o)*l._valueRange);return Math.min(Math.max(h,0),l.ticks.length-1)},getBasePixel:function(){return this.bottom}}),oR=aR;sx._defaults=oR;var lR=k.noop,Hs=k.isNullOrUndef;function uR(o,l){var h=[],f=1e-14,p=o.stepSize,v=p||1,g=o.maxTicks-1,x=o.min,y=o.max,b=o.precision,C=l.min,I=l.max,D=k.niceNum((I-C)/g/v)*v,N,F,B,z;if(D<f&&Hs(x)&&Hs(y))return[C,I];z=Math.ceil(I/D)-Math.floor(C/D),z>g&&(D=k.niceNum(z*D/g/v)*v),p||Hs(b)?N=Math.pow(10,k._decimalPlaces(D)):(N=Math.pow(10,b),D=Math.ceil(D*N)/N),F=Math.floor(C/D)*D,B=Math.ceil(I/D)*D,p&&(!Hs(x)&&k.almostWhole(x/D,D/1e3)&&(F=x),!Hs(y)&&k.almostWhole(y/D,D/1e3)&&(B=y)),z=(B-F)/D,k.almostEquals(z,Math.round(z),D/1e3)?z=Math.round(z):z=Math.ceil(z),F=Math.round(F*N)/N,B=Math.round(B*N)/N,h.push(Hs(x)?F:x);for(var Y=1;Y<z;++Y)h.push(Math.round((F+Y*D)*N)/N);return h.push(Hs(y)?B:y),h}var Sc=Rr.extend({getRightValue:function(o){return typeof o=="string"?+o:Rr.prototype.getRightValue.call(this,o)},handleTickRangeOptions:function(){var o=this,l=o.options,h=l.ticks;if(h.beginAtZero){var f=k.sign(o.min),p=k.sign(o.max);f<0&&p<0?o.max=0:f>0&&p>0&&(o.min=0)}var v=h.min!==void 0||h.suggestedMin!==void 0,g=h.max!==void 0||h.suggestedMax!==void 0;h.min!==void 0?o.min=h.min:h.suggestedMin!==void 0&&(o.min===null?o.min=h.suggestedMin:o.min=Math.min(o.min,h.suggestedMin)),h.max!==void 0?o.max=h.max:h.suggestedMax!==void 0&&(o.max===null?o.max=h.suggestedMax:o.max=Math.max(o.max,h.suggestedMax)),v!==g&&o.min>=o.max&&(v?o.max=o.min+1:o.min=o.max-1),o.min===o.max&&(o.max++,h.beginAtZero||o.min--)},getTickLimit:function(){var o=this,l=o.options.ticks,h=l.stepSize,f=l.maxTicksLimit,p;return h?p=Math.ceil(o.max/h)-Math.floor(o.min/h)+1:(p=o._computeTickLimit(),f=f||11),f&&(p=Math.min(f,p)),p},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:lR,buildTicks:function(){var o=this,l=o.options,h=l.ticks,f=o.getTickLimit();f=Math.max(2,f);var p={maxTicks:f,min:h.min,max:h.max,precision:h.precision,stepSize:k.valueOrDefault(h.fixedStepSize,h.stepSize)},v=o.ticks=uR(p,o);o.handleDirectionalChanges(),o.max=k.max(v),o.min=k.min(v),h.reverse?(v.reverse(),o.start=o.max,o.end=o.min):(o.start=o.min,o.end=o.max)},convertTicksToLabels:function(){var o=this;o.ticksAsNumbers=o.ticks.slice(),o.zeroLineIndex=o.ticks.indexOf(0),Rr.prototype.convertTicksToLabels.call(o)},_configure:function(){var o=this,l=o.getTicks(),h=o.min,f=o.max,p;Rr.prototype._configure.call(o),o.options.offset&&l.length&&(p=(f-h)/Math.max(l.length-1,1)/2,h-=p,f+=p),o._startValue=h,o._endValue=f,o._valueRange=f-h}}),hR={position:"left",ticks:{callback:Rl.formatters.linear}},cR=0,fR=1;function dR(o,l,h){var f=[h.type,l===void 0&&h.stack===void 0?h.index:"",h.stack].join(".");return o[f]===void 0&&(o[f]={pos:[],neg:[]}),o[f]}function pR(o,l,h,f){var p=o.options,v=p.stacked,g=dR(l,v,h),x=g.pos,y=g.neg,b=f.length,C,I;for(C=0;C<b;++C)I=o._parseValue(f[C]),!(isNaN(I.min)||isNaN(I.max)||h.data[C].hidden)&&(x[C]=x[C]||0,y[C]=y[C]||0,p.relativePoints?x[C]=100:I.min<0||I.max<0?y[C]+=I.min:x[C]+=I.max)}function vR(o,l,h){var f=h.length,p,v;for(p=0;p<f;++p)v=o._parseValue(h[p]),!(isNaN(v.min)||isNaN(v.max)||l.data[p].hidden)&&(o.min=Math.min(o.min,v.min),o.max=Math.max(o.max,v.max))}var ax=Sc.extend({determineDataLimits:function(){var o=this,l=o.options,h=o.chart,f=h.data.datasets,p=o._getMatchingVisibleMetas(),v=l.stacked,g={},x=p.length,y,b,C,I;if(o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,v===void 0)for(y=0;!v&&y<x;++y)b=p[y],v=b.stack!==void 0;for(y=0;y<x;++y)b=p[y],C=f[b.index].data,v?pR(o,g,b,C):vR(o,b,C);k.each(g,function(D){I=D.pos.concat(D.neg),o.min=Math.min(o.min,k.min(I)),o.max=Math.max(o.max,k.max(I))}),o.min=k.isFinite(o.min)&&!isNaN(o.min)?o.min:cR,o.max=k.isFinite(o.max)&&!isNaN(o.max)?o.max:fR,o.handleTickRangeOptions()},_computeTickLimit:function(){var o=this,l;return o.isHorizontal()?Math.ceil(o.width/40):(l=k.options._parseFont(o.options.ticks),Math.ceil(o.height/l.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(o,l){return this._getScaleLabel(this.chart.data.datasets[l].data[o])},getPixelForValue:function(o){var l=this;return l.getPixelForDecimal((+l.getRightValue(o)-l._startValue)/l._valueRange)},getValueForPixel:function(o){return this._startValue+this.getDecimalForPixel(o)*this._valueRange},getPixelForTick:function(o){var l=this.ticksAsNumbers;return o<0||o>l.length-1?null:this.getPixelForValue(l[o])}}),mR=hR;ax._defaults=mR;var Bv=k.valueOrDefault,Nr=k.math.log10;function gR(o,l){var h=[],f=Bv(o.min,Math.pow(10,Math.floor(Nr(l.min)))),p=Math.floor(Nr(l.max)),v=Math.ceil(l.max/Math.pow(10,p)),g,x;f===0?(g=Math.floor(Nr(l.minNotZero)),x=Math.floor(l.minNotZero/Math.pow(10,g)),h.push(f),f=x*Math.pow(10,g)):(g=Math.floor(Nr(f)),x=Math.floor(f/Math.pow(10,g)));var y=g<0?Math.pow(10,Math.abs(g)):1;do h.push(f),++x,x===10&&(x=1,++g,y=g>=0?1:y),f=Math.round(x*Math.pow(10,g)*y)/y;while(g<p||g===p&&x<v);var b=Bv(o.max,f);return h.push(b),h}var yR={position:"left",ticks:{callback:Rl.formatters.logarithmic}};function Ec(o,l){return k.isFinite(o)&&o>=0?o:l}var ox=Rr.extend({determineDataLimits:function(){var o=this,l=o.options,h=o.chart,f=h.data.datasets,p=o.isHorizontal();function v(z){return p?z.xAxisID===o.id:z.yAxisID===o.id}var g,x,y,b,C,I;o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,o.minNotZero=Number.POSITIVE_INFINITY;var D=l.stacked;if(D===void 0){for(g=0;g<f.length;g++)if(x=h.getDatasetMeta(g),h.isDatasetVisible(g)&&v(x)&&x.stack!==void 0){D=!0;break}}if(l.stacked||D){var N={};for(g=0;g<f.length;g++){x=h.getDatasetMeta(g);var F=[x.type,l.stacked===void 0&&x.stack===void 0?g:"",x.stack].join(".");if(h.isDatasetVisible(g)&&v(x))for(N[F]===void 0&&(N[F]=[]),b=f[g].data,C=0,I=b.length;C<I;C++){var B=N[F];y=o._parseValue(b[C]),!(isNaN(y.min)||isNaN(y.max)||x.data[C].hidden||y.min<0||y.max<0)&&(B[C]=B[C]||0,B[C]+=y.max)}}k.each(N,function(z){if(z.length>0){var Y=k.min(z),he=k.max(z);o.min=Math.min(o.min,Y),o.max=Math.max(o.max,he)}})}else for(g=0;g<f.length;g++)if(x=h.getDatasetMeta(g),h.isDatasetVisible(g)&&v(x))for(b=f[g].data,C=0,I=b.length;C<I;C++)y=o._parseValue(b[C]),!(isNaN(y.min)||isNaN(y.max)||x.data[C].hidden||y.min<0||y.max<0)&&(o.min=Math.min(y.min,o.min),o.max=Math.max(y.max,o.max),y.min!==0&&(o.minNotZero=Math.min(y.min,o.minNotZero)));o.min=k.isFinite(o.min)?o.min:null,o.max=k.isFinite(o.max)?o.max:null,o.minNotZero=k.isFinite(o.minNotZero)?o.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var o=this,l=o.options.ticks,h=1,f=10;o.min=Ec(l.min,o.min),o.max=Ec(l.max,o.max),o.min===o.max&&(o.min!==0&&o.min!==null?(o.min=Math.pow(10,Math.floor(Nr(o.min))-1),o.max=Math.pow(10,Math.floor(Nr(o.max))+1)):(o.min=h,o.max=f)),o.min===null&&(o.min=Math.pow(10,Math.floor(Nr(o.max))-1)),o.max===null&&(o.max=o.min!==0?Math.pow(10,Math.floor(Nr(o.min))+1):f),o.minNotZero===null&&(o.min>0?o.minNotZero=o.min:o.max<1?o.minNotZero=Math.pow(10,Math.floor(Nr(o.max))):o.minNotZero=h)},buildTicks:function(){var o=this,l=o.options.ticks,h=!o.isHorizontal(),f={min:Ec(l.min),max:Ec(l.max)},p=o.ticks=gR(f,o);o.max=k.max(p),o.min=k.min(p),l.reverse?(h=!h,o.start=o.max,o.end=o.min):(o.start=o.min,o.end=o.max),h&&p.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Rr.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(o,l){return this._getScaleLabel(this.chart.data.datasets[l].data[o])},getPixelForTick:function(o){var l=this.tickValues;return o<0||o>l.length-1?null:this.getPixelForValue(l[o])},_getFirstTickValue:function(o){var l=Math.floor(Nr(o)),h=Math.floor(o/Math.pow(10,l));return h*Math.pow(10,l)},_configure:function(){var o=this,l=o.min,h=0;Rr.prototype._configure.call(o),l===0&&(l=o._getFirstTickValue(o.minNotZero),h=Bv(o.options.ticks.fontSize,ge.global.defaultFontSize)/o._length),o._startValue=Nr(l),o._valueOffset=h,o._valueRange=(Nr(o.max)-Nr(l))/(1-h)},getPixelForValue:function(o){var l=this,h=0;return o=+l.getRightValue(o),o>l.min&&o>0&&(h=(Nr(o)-l._startValue)/l._valueRange+l._valueOffset),l.getPixelForDecimal(h)},getValueForPixel:function(o){var l=this,h=l.getDecimalForPixel(o);return h===0&&l.min===0?0:Math.pow(10,l._startValue+(h-l._valueOffset)*l._valueRange)}}),_R=yR;ox._defaults=_R;var Cc=k.valueOrDefault,Vv=k.valueAtIndexOrDefault,lx=k.options.resolve,wR={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Rl.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(o){return o}}};function zv(o){var l=o.ticks;return l.display&&o.display?Cc(l.fontSize,ge.global.defaultFontSize)+l.backdropPaddingY*2:0}function xR(o,l,h){return k.isArray(h)?{w:k.longestText(o,o.font,h),h:h.length*l}:{w:o.measureText(h).width,h:l}}function ux(o,l,h,f,p){return o===f||o===p?{start:l-h/2,end:l+h/2}:o<f||o>p?{start:l-h,end:l}:{start:l,end:l+h}}function bR(o){var l=k.options._parseFont(o.options.pointLabels),h={l:0,r:o.width,t:0,b:o.height-o.paddingTop},f={},p,v,g;o.ctx.font=l.string,o._pointLabelSizes=[];var x=o.chart.data.labels.length;for(p=0;p<x;p++){g=o.getPointPosition(p,o.drawingArea+5),v=xR(o.ctx,l.lineHeight,o.pointLabels[p]),o._pointLabelSizes[p]=v;var y=o.getIndexAngle(p),b=k.toDegrees(y)%360,C=ux(b,g.x,v.w,0,180),I=ux(b,g.y,v.h,90,270);C.start<h.l&&(h.l=C.start,f.l=y),C.end>h.r&&(h.r=C.end,f.r=y),I.start<h.t&&(h.t=I.start,f.t=y),I.end>h.b&&(h.b=I.end,f.b=y)}o.setReductions(o.drawingArea,h,f)}function TR(o){return o===0||o===180?"center":o<180?"left":"right"}function SR(o,l,h,f){var p=h.y+f/2,v,g;if(k.isArray(l))for(v=0,g=l.length;v<g;++v)o.fillText(l[v],h.x,p),p+=f;else o.fillText(l,h.x,p)}function ER(o,l,h){o===90||o===270?h.y-=l.h/2:(o>270||o<90)&&(h.y-=l.h)}function CR(o){var l=o.ctx,h=o.options,f=h.pointLabels,p=zv(h),v=o.getDistanceFromCenterForValue(h.ticks.reverse?o.min:o.max),g=k.options._parseFont(f);l.save(),l.font=g.string,l.textBaseline="middle";for(var x=o.chart.data.labels.length-1;x>=0;x--){var y=x===0?p/2:0,b=o.getPointPosition(x,v+y+5),C=Vv(f.fontColor,x,ge.global.defaultFontColor);l.fillStyle=C;var I=o.getIndexAngle(x),D=k.toDegrees(I);l.textAlign=TR(D),ER(D,o._pointLabelSizes[x],b),SR(l,o.pointLabels[x],b,g.lineHeight)}l.restore()}function IR(o,l,h,f){var p=o.ctx,v=l.circular,g=o.chart.data.labels.length,x=Vv(l.color,f-1),y=Vv(l.lineWidth,f-1),b;if(!(!v&&!g||!x||!y)){if(p.save(),p.strokeStyle=x,p.lineWidth=y,p.setLineDash&&(p.setLineDash(l.borderDash||[]),p.lineDashOffset=l.borderDashOffset||0),p.beginPath(),v)p.arc(o.xCenter,o.yCenter,h,0,Math.PI*2);else{b=o.getPointPosition(0,h),p.moveTo(b.x,b.y);for(var C=1;C<g;C++)b=o.getPointPosition(C,h),p.lineTo(b.x,b.y)}p.closePath(),p.stroke(),p.restore()}}function Ic(o){return k.isNumber(o)?o:0}var hx=Sc.extend({setDimensions:function(){var o=this;o.width=o.maxWidth,o.height=o.maxHeight,o.paddingTop=zv(o.options)/2,o.xCenter=Math.floor(o.width/2),o.yCenter=Math.floor((o.height-o.paddingTop)/2),o.drawingArea=Math.min(o.height-o.paddingTop,o.width)/2},determineDataLimits:function(){var o=this,l=o.chart,h=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;k.each(l.data.datasets,function(p,v){if(l.isDatasetVisible(v)){var g=l.getDatasetMeta(v);k.each(p.data,function(x,y){var b=+o.getRightValue(x);isNaN(b)||g.data[y].hidden||(h=Math.min(b,h),f=Math.max(b,f))})}}),o.min=h===Number.POSITIVE_INFINITY?0:h,o.max=f===Number.NEGATIVE_INFINITY?0:f,o.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/zv(this.options))},convertTicksToLabels:function(){var o=this;Sc.prototype.convertTicksToLabels.call(o),o.pointLabels=o.chart.data.labels.map(function(){var l=k.callback(o.options.pointLabels.callback,arguments,o);return l||l===0?l:""})},getLabelForIndex:function(o,l){return+this.getRightValue(this.chart.data.datasets[l].data[o])},fit:function(){var o=this,l=o.options;l.display&&l.pointLabels.display?bR(o):o.setCenterPoint(0,0,0,0)},setReductions:function(o,l,h){var f=this,p=l.l/Math.sin(h.l),v=Math.max(l.r-f.width,0)/Math.sin(h.r),g=-l.t/Math.cos(h.t),x=-Math.max(l.b-(f.height-f.paddingTop),0)/Math.cos(h.b);p=Ic(p),v=Ic(v),g=Ic(g),x=Ic(x),f.drawingArea=Math.min(Math.floor(o-(p+v)/2),Math.floor(o-(g+x)/2)),f.setCenterPoint(p,v,g,x)},setCenterPoint:function(o,l,h,f){var p=this,v=p.width-l-p.drawingArea,g=o+p.drawingArea,x=h+p.drawingArea,y=p.height-p.paddingTop-f-p.drawingArea;p.xCenter=Math.floor((g+v)/2+p.left),p.yCenter=Math.floor((x+y)/2+p.top+p.paddingTop)},getIndexAngle:function(o){var l=this.chart,h=360/l.data.labels.length,f=l.options||{},p=f.startAngle||0,v=(o*h+p)%360;return(v<0?v+360:v)*Math.PI*2/360},getDistanceFromCenterForValue:function(o){var l=this;if(k.isNullOrUndef(o))return NaN;var h=l.drawingArea/(l.max-l.min);return l.options.ticks.reverse?(l.max-o)*h:(o-l.min)*h},getPointPosition:function(o,l){var h=this,f=h.getIndexAngle(o)-Math.PI/2;return{x:Math.cos(f)*l+h.xCenter,y:Math.sin(f)*l+h.yCenter}},getPointPositionForValue:function(o,l){return this.getPointPosition(o,this.getDistanceFromCenterForValue(l))},getBasePosition:function(o){var l=this,h=l.min,f=l.max;return l.getPointPositionForValue(o||0,l.beginAtZero?0:h<0&&f<0?f:h>0&&f>0?h:0)},_drawGrid:function(){var o=this,l=o.ctx,h=o.options,f=h.gridLines,p=h.angleLines,v=Cc(p.lineWidth,f.lineWidth),g=Cc(p.color,f.color),x,y,b;if(h.pointLabels.display&&CR(o),f.display&&k.each(o.ticks,function(C,I){I!==0&&(y=o.getDistanceFromCenterForValue(o.ticksAsNumbers[I]),IR(o,f,y,I))}),p.display&&v&&g){for(l.save(),l.lineWidth=v,l.strokeStyle=g,l.setLineDash&&(l.setLineDash(lx([p.borderDash,f.borderDash,[]])),l.lineDashOffset=lx([p.borderDashOffset,f.borderDashOffset,0])),x=o.chart.data.labels.length-1;x>=0;x--)y=o.getDistanceFromCenterForValue(h.ticks.reverse?o.min:o.max),b=o.getPointPosition(x,y),l.beginPath(),l.moveTo(o.xCenter,o.yCenter),l.lineTo(b.x,b.y),l.stroke();l.restore()}},_drawLabels:function(){var o=this,l=o.ctx,h=o.options,f=h.ticks;if(f.display){var p=o.getIndexAngle(0),v=k.options._parseFont(f),g=Cc(f.fontColor,ge.global.defaultFontColor),x,y;l.save(),l.font=v.string,l.translate(o.xCenter,o.yCenter),l.rotate(p),l.textAlign="center",l.textBaseline="middle",k.each(o.ticks,function(b,C){C===0&&!f.reverse||(x=o.getDistanceFromCenterForValue(o.ticksAsNumbers[C]),f.showLabelBackdrop&&(y=l.measureText(b).width,l.fillStyle=f.backdropColor,l.fillRect(-y/2-f.backdropPaddingX,-x-v.size/2-f.backdropPaddingY,y+f.backdropPaddingX*2,v.size+f.backdropPaddingY*2)),l.fillStyle=g,l.fillText(b,0,-x))}),l.restore()}},_drawTitle:k.noop}),PR=wR;hx._defaults=PR;var Hv=k._deprecated,cx=k.options.resolve,AR=k.valueOrDefault,fx=Number.MIN_SAFE_INTEGER||-9007199254740991,$v=Number.MAX_SAFE_INTEGER||9007199254740991,Pc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fr=Object.keys(Pc);function dx(o,l){return o-l}function OR(o){var l={},h=[],f,p,v;for(f=0,p=o.length;f<p;++f)v=o[f],l[v]||(l[v]=!0,h.push(v));return h}function px(o){return k.valueOrDefault(o.time.min,o.ticks.min)}function vx(o){return k.valueOrDefault(o.time.max,o.ticks.max)}function kR(o,l,h,f){if(f==="linear"||!o.length)return[{time:l,pos:0},{time:h,pos:1}];var p=[],v=[l],g,x,y,b,C;for(g=0,x=o.length;g<x;++g)b=o[g],b>l&&b<h&&v.push(b);for(v.push(h),g=0,x=v.length;g<x;++g)C=v[g+1],y=v[g-1],b=v[g],(y===void 0||C===void 0||Math.round((C+y)/2)!==b)&&p.push({time:b,pos:g/(x-1)});return p}function MR(o,l,h){for(var f=0,p=o.length-1,v,g,x;f>=0&&f<=p;)if(v=f+p>>1,g=o[v-1]||null,x=o[v],g)if(x[l]<h)f=v+1;else if(g[l]>h)p=v-1;else return{lo:g,hi:x};else return{lo:null,hi:x};return{lo:x,hi:null}}function Xa(o,l,h,f){var p=MR(o,l,h),v=p.lo?p.hi?p.lo:o[o.length-2]:o[0],g=p.lo?p.hi?p.hi:o[o.length-1]:o[1],x=g[l]-v[l],y=x?(h-v[l])/x:0,b=(g[f]-v[f])*y;return v[f]+b}function Wv(o,l){var h=o._adapter,f=o.options.time,p=f.parser,v=p||f.format,g=l;return typeof p=="function"&&(g=p(g)),k.isFinite(g)||(g=typeof v=="string"?h.parse(g,v):h.parse(g)),g!==null?+g:(!p&&typeof v=="function"&&(g=v(l),k.isFinite(g)||(g=h.parse(g))),g)}function $s(o,l){if(k.isNullOrUndef(l))return null;var h=o.options.time,f=Wv(o,o.getRightValue(l));return f===null||h.round&&(f=+o._adapter.startOf(f,h.round)),f}function mx(o,l,h,f){var p=Fr.length,v,g,x;for(v=Fr.indexOf(o);v<p-1;++v)if(g=Pc[Fr[v]],x=g.steps?g.steps:$v,g.common&&Math.ceil((h-l)/(x*g.size))<=f)return Fr[v];return Fr[p-1]}function DR(o,l,h,f,p){var v,g;for(v=Fr.length-1;v>=Fr.indexOf(h);v--)if(g=Fr[v],Pc[g].common&&o._adapter.diff(p,f,g)>=l-1)return g;return Fr[h?Fr.indexOf(h):0]}function RR(o){for(var l=Fr.indexOf(o)+1,h=Fr.length;l<h;++l)if(Pc[Fr[l]].common)return Fr[l]}function NR(o,l,h,f){var p=o._adapter,v=o.options,g=v.time,x=g.unit||mx(g.minUnit,l,h,f),y=cx([g.stepSize,g.unitStepSize,1]),b=x==="week"?g.isoWeekday:!1,C=l,I=[],D;if(b&&(C=+p.startOf(C,"isoWeek",b)),C=+p.startOf(C,b?"day":x),p.diff(h,l,x)>1e5*y)throw l+" and "+h+" are too far apart with stepSize of "+y+" "+x;for(D=C;D<h;D=+p.add(D,y,x))I.push(D);return(D===h||v.bounds==="ticks")&&I.push(D),I}function FR(o,l,h,f,p){var v=0,g=0,x,y;return p.offset&&l.length&&(x=Xa(o,"time",l[0],"pos"),l.length===1?v=1-x:v=(Xa(o,"time",l[1],"pos")-x)/2,y=Xa(o,"time",l[l.length-1],"pos"),l.length===1?g=y:g=(y-Xa(o,"time",l[l.length-2],"pos"))/2),{start:v,end:g,factor:1/(v+1+g)}}function LR(o,l,h,f){var p=o._adapter,v=+p.startOf(l[0].value,f),g=l[l.length-1].value,x,y;for(x=v;x<=g;x=+p.add(x,1,f))y=h[x],y>=0&&(l[y].major=!0);return l}function gx(o,l,h){var f=[],p={},v=l.length,g,x;for(g=0;g<v;++g)x=l[g],p[x]=g,f.push({value:x,major:!1});return v===0||!h?f:LR(o,f,p,h)}var UR={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},yx=Rr.extend({initialize:function(){this.mergeTicksOptions(),Rr.prototype.initialize.call(this)},update:function(){var o=this,l=o.options,h=l.time||(l.time={}),f=o._adapter=new Dv._date(l.adapters.date);return Hv("time scale",h.format,"time.format","time.parser"),Hv("time scale",h.min,"time.min","ticks.min"),Hv("time scale",h.max,"time.max","ticks.max"),k.mergeIf(h.displayFormats,f.formats()),Rr.prototype.update.apply(o,arguments)},getRightValue:function(o){return o&&o.t!==void 0&&(o=o.t),Rr.prototype.getRightValue.call(this,o)},determineDataLimits:function(){var o=this,l=o.chart,h=o._adapter,f=o.options,p=f.time.unit||"day",v=$v,g=fx,x=[],y=[],b=[],C,I,D,N,F,B,z,Y=o._getLabels();for(C=0,D=Y.length;C<D;++C)b.push($s(o,Y[C]));for(C=0,D=(l.data.datasets||[]).length;C<D;++C)if(l.isDatasetVisible(C))if(F=l.data.datasets[C].data,k.isObject(F[0]))for(y[C]=[],I=0,N=F.length;I<N;++I)B=$s(o,F[I]),x.push(B),y[C][I]=B;else y[C]=b.slice(0),z||(x=x.concat(b),z=!0);else y[C]=[];b.length&&(v=Math.min(v,b[0]),g=Math.max(g,b[b.length-1])),x.length&&(x=D>1?OR(x).sort(dx):x.sort(dx),v=Math.min(v,x[0]),g=Math.max(g,x[x.length-1])),v=$s(o,px(f))||v,g=$s(o,vx(f))||g,v=v===$v?+h.startOf(Date.now(),p):v,g=g===fx?+h.endOf(Date.now(),p)+1:g,o.min=Math.min(v,g),o.max=Math.max(v+1,g),o._table=[],o._timestamps={data:x,datasets:y,labels:b}},buildTicks:function(){var o=this,l=o.min,h=o.max,f=o.options,p=f.ticks,v=f.time,g=o._timestamps,x=[],y=o.getLabelCapacity(l),b=p.source,C=f.distribution,I,D,N;for(b==="data"||b==="auto"&&C==="series"?g=g.data:b==="labels"?g=g.labels:g=NR(o,l,h,y),f.bounds==="ticks"&&g.length&&(l=g[0],h=g[g.length-1]),l=$s(o,px(f))||l,h=$s(o,vx(f))||h,I=0,D=g.length;I<D;++I)N=g[I],N>=l&&N<=h&&x.push(N);return o.min=l,o.max=h,o._unit=v.unit||(p.autoSkip?mx(v.minUnit,o.min,o.max,y):DR(o,x.length,v.minUnit,o.min,o.max)),o._majorUnit=!p.major.enabled||o._unit==="year"?void 0:RR(o._unit),o._table=kR(o._timestamps.data,l,h,C),o._offsets=FR(o._table,x,l,h,f),p.reverse&&x.reverse(),gx(o,x,o._majorUnit)},getLabelForIndex:function(o,l){var h=this,f=h._adapter,p=h.chart.data,v=h.options.time,g=p.labels&&o<p.labels.length?p.labels[o]:"",x=p.datasets[l].data[o];return k.isObject(x)&&(g=h.getRightValue(x)),v.tooltipFormat?f.format(Wv(h,g),v.tooltipFormat):typeof g=="string"?g:f.format(Wv(h,g),v.displayFormats.datetime)},tickFormatFunction:function(o,l,h,f){var p=this,v=p._adapter,g=p.options,x=g.time.displayFormats,y=x[p._unit],b=p._majorUnit,C=x[b],I=h[l],D=g.ticks,N=b&&C&&I&&I.major,F=v.format(o,f||(N?C:y)),B=N?D.major:D.minor,z=cx([B.callback,B.userCallback,D.callback,D.userCallback]);return z?z(F,l,h):F},convertTicksToLabels:function(o){var l=[],h,f;for(h=0,f=o.length;h<f;++h)l.push(this.tickFormatFunction(o[h].value,h,o));return l},getPixelForOffset:function(o){var l=this,h=l._offsets,f=Xa(l._table,"time",o,"pos");return l.getPixelForDecimal((h.start+f)*h.factor)},getPixelForValue:function(o,l,h){var f=this,p=null;if(l!==void 0&&h!==void 0&&(p=f._timestamps.datasets[h][l]),p===null&&(p=$s(f,o)),p!==null)return f.getPixelForOffset(p)},getPixelForTick:function(o){var l=this.getTicks();return o>=0&&o<l.length?this.getPixelForOffset(l[o].value):null},getValueForPixel:function(o){var l=this,h=l._offsets,f=l.getDecimalForPixel(o)/h.factor-h.end,p=Xa(l._table,"pos",f,"time");return l._adapter._create(p)},_getLabelSize:function(o){var l=this,h=l.options.ticks,f=l.ctx.measureText(o).width,p=k.toRadians(l.isHorizontal()?h.maxRotation:h.minRotation),v=Math.cos(p),g=Math.sin(p),x=AR(h.fontSize,ge.global.defaultFontSize);return{w:f*v+x*g,h:f*g+x*v}},getLabelWidth:function(o){return this._getLabelSize(o).w},getLabelCapacity:function(o){var l=this,h=l.options.time,f=h.displayFormats,p=f[h.unit]||f.millisecond,v=l.tickFormatFunction(o,0,gx(l,[o],l._majorUnit),p),g=l._getLabelSize(v),x=Math.floor(l.isHorizontal()?l.width/g.w:l.height/g.h);return l.options.offset&&x--,x>0?x:1}}),BR=UR;yx._defaults=BR;var VR={category:sx,linear:ax,logarithmic:ox,radialLinear:hx,time:yx},zR={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Dv._date.override(typeof r=="function"?{_id:"moment",formats:function(){return zR},parse:function(o,l){return typeof o=="string"&&typeof l=="string"?o=r(o,l):o instanceof r||(o=r(o)),o.isValid()?o.valueOf():null},format:function(o,l){return r(o).format(l)},add:function(o,l,h){return r(o).add(l,h).valueOf()},diff:function(o,l,h){return r(o).diff(r(l),h)},startOf:function(o,l,h){return o=r(o),l==="isoWeek"?o.isoWeekday(h).valueOf():o.startOf(l).valueOf()},endOf:function(o,l){return r(o).endOf(l).valueOf()},_create:function(o){return r(o)}}:{}),ge._set("global",{plugins:{filler:{propagate:!0}}});var HR={dataset:function(o){var l=o.fill,h=o.chart,f=h.getDatasetMeta(l),p=f&&h.isDatasetVisible(l),v=p&&f.dataset._children||[],g=v.length||0;return g?function(x,y){return y<g&&v[y]._view||null}:null},boundary:function(o){var l=o.boundary,h=l?l.x:null,f=l?l.y:null;return k.isArray(l)?function(p,v){return l[v]}:function(p){return{x:h===null?p.x:h,y:f===null?p.y:f}}}};function $R(o,l,h){var f=o._model||{},p=f.fill,v;if(p===void 0&&(p=!!f.backgroundColor),p===!1||p===null)return!1;if(p===!0)return"origin";if(v=parseFloat(p,10),isFinite(v)&&Math.floor(v)===v)return(p[0]==="-"||p[0]==="+")&&(v=l+v),v===l||v<0||v>=h?!1:v;switch(p){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return p;default:return!1}}function WR(o){var l=o.el._model||{},h=o.el._scale||{},f=o.fill,p=null,v;if(isFinite(f))return null;if(f==="start"?p=l.scaleBottom===void 0?h.bottom:l.scaleBottom:f==="end"?p=l.scaleTop===void 0?h.top:l.scaleTop:l.scaleZero!==void 0?p=l.scaleZero:h.getBasePixel&&(p=h.getBasePixel()),p!=null){if(p.x!==void 0&&p.y!==void 0)return p;if(k.isFinite(p))return v=h.isHorizontal(),{x:v?p:null,y:v?null:p}}return null}function jR(o){var l=o.el._scale,h=l.options,f=l.chart.data.labels.length,p=o.fill,v=[],g,x,y,b,C;if(!f)return null;for(g=h.ticks.reverse?l.max:l.min,x=h.ticks.reverse?l.min:l.max,y=l.getPointPositionForValue(0,g),b=0;b<f;++b)C=p==="start"||p==="end"?l.getPointPositionForValue(b,p==="start"?g:x):l.getBasePosition(b),h.gridLines.circular&&(C.cx=y.x,C.cy=y.y,C.angle=l.getIndexAngle(b)-Math.PI/2),v.push(C);return v}function GR(o){var l=o.el._scale||{};return l.getPointPositionForValue?jR(o):WR(o)}function YR(o,l,h){var f=o[l],p=f.fill,v=[l],g;if(!h)return p;for(;p!==!1&&v.indexOf(p)===-1;){if(!isFinite(p))return p;if(g=o[p],!g)return!1;if(g.visible)return p;v.push(p),p=g.fill}return!1}function XR(o){var l=o.fill,h="dataset";return l===!1?null:(isFinite(l)||(h="boundary"),HR[h](o))}function _x(o){return o&&!o.skip}function wx(o,l,h,f,p){var v,g,x,y;if(!(!f||!p)){for(o.moveTo(l[0].x,l[0].y),v=1;v<f;++v)k.canvas.lineTo(o,l[v-1],l[v]);if(h[0].angle!==void 0){for(g=h[0].cx,x=h[0].cy,y=Math.sqrt(Math.pow(h[0].x-g,2)+Math.pow(h[0].y-x,2)),v=p-1;v>0;--v)o.arc(g,x,y,h[v].angle,h[v-1].angle,!0);return}for(o.lineTo(h[p-1].x,h[p-1].y),v=p-1;v>0;--v)k.canvas.lineTo(o,h[v],h[v-1],!0)}}function qR(o,l,h,f,p,v){var g=l.length,x=f.spanGaps,y=[],b=[],C=0,I=0,D,N,F,B,z,Y,he,pe;for(o.beginPath(),D=0,N=g;D<N;++D)F=D%g,B=l[F]._view,z=h(B,F,f),Y=_x(B),he=_x(z),v&&pe===void 0&&Y&&(pe=D+1,N=g+pe),Y&&he?(C=y.push(B),I=b.push(z)):C&&I&&(x?(Y&&y.push(B),he&&b.push(z)):(wx(o,y,b,C,I),C=I=0,y=[],b=[]));wx(o,y,b,C,I),o.closePath(),o.fillStyle=p,o.fill()}var KR={id:"filler",afterDatasetsUpdate:function(o,l){var h=(o.data.datasets||[]).length,f=l.propagate,p=[],v,g,x,y;for(g=0;g<h;++g)v=o.getDatasetMeta(g),x=v.dataset,y=null,x&&x._model&&x instanceof Dr.Line&&(y={visible:o.isDatasetVisible(g),fill:$R(x,g,h),chart:o,el:x}),v.$filler=y,p.push(y);for(g=0;g<h;++g)y=p[g],y&&(y.fill=YR(p,g,f),y.boundary=GR(y),y.mapper=XR(y))},beforeDatasetsDraw:function(o){var l=o._getSortedVisibleDatasetMetas(),h=o.ctx,f,p,v,g,x,y,b;for(p=l.length-1;p>=0;--p)f=l[p].$filler,!(!f||!f.visible)&&(v=f.el,g=v._view,x=v._children||[],y=f.mapper,b=g.backgroundColor||ge.global.defaultColor,y&&b&&x.length&&(k.canvas.clipArea(h,o.chartArea),qR(h,x,y,g,b,v._loop),k.canvas.unclipArea(h)))}},QR=k.rtl.getRtlAdapter,Bi=k.noop,Vi=k.valueOrDefault;ge._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(o,l){var h=l.datasetIndex,f=this.chart,p=f.getDatasetMeta(h);p.hidden=p.hidden===null?!f.data.datasets[h].hidden:null,f.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(o){var l=o.data.datasets,h=o.options.legend||{},f=h.labels&&h.labels.usePointStyle;return o._getSortedDatasetMetas().map(function(p){var v=p.controller.getStyle(f?0:void 0);return{text:l[p.index].label,fillStyle:v.backgroundColor,hidden:!o.isDatasetVisible(p.index),lineCap:v.borderCapStyle,lineDash:v.borderDash,lineDashOffset:v.borderDashOffset,lineJoin:v.borderJoinStyle,lineWidth:v.borderWidth,strokeStyle:v.borderColor,pointStyle:v.pointStyle,rotation:v.rotation,datasetIndex:p.index}},this)}}},legendCallback:function(o){var l=document.createElement("ul"),h=o.data.datasets,f,p,v,g;for(l.setAttribute("class",o.id+"-legend"),f=0,p=h.length;f<p;f++)v=l.appendChild(document.createElement("li")),g=v.appendChild(document.createElement("span")),g.style.backgroundColor=h[f].backgroundColor,h[f].label&&v.appendChild(document.createTextNode(h[f].label));return l.outerHTML}});function jv(o,l){return o.usePointStyle&&o.boxWidth>l?l:o.boxWidth}var xx=In.extend({initialize:function(o){var l=this;k.extend(l,o),l.legendHitBoxes=[],l._hoveredItem=null,l.doughnutMode=!1},beforeUpdate:Bi,update:function(o,l,h){var f=this;return f.beforeUpdate(),f.maxWidth=o,f.maxHeight=l,f.margins=h,f.beforeSetDimensions(),f.setDimensions(),f.afterSetDimensions(),f.beforeBuildLabels(),f.buildLabels(),f.afterBuildLabels(),f.beforeFit(),f.fit(),f.afterFit(),f.afterUpdate(),f.minSize},afterUpdate:Bi,beforeSetDimensions:Bi,setDimensions:function(){var o=this;o.isHorizontal()?(o.width=o.maxWidth,o.left=0,o.right=o.width):(o.height=o.maxHeight,o.top=0,o.bottom=o.height),o.paddingLeft=0,o.paddingTop=0,o.paddingRight=0,o.paddingBottom=0,o.minSize={width:0,height:0}},afterSetDimensions:Bi,beforeBuildLabels:Bi,buildLabels:function(){var o=this,l=o.options.labels||{},h=k.callback(l.generateLabels,[o.chart],o)||[];l.filter&&(h=h.filter(function(f){return l.filter(f,o.chart.data)})),o.options.reverse&&h.reverse(),o.legendItems=h},afterBuildLabels:Bi,beforeFit:Bi,fit:function(){var o=this,l=o.options,h=l.labels,f=l.display,p=o.ctx,v=k.options._parseFont(h),g=v.size,x=o.legendHitBoxes=[],y=o.minSize,b=o.isHorizontal();if(b?(y.width=o.maxWidth,y.height=f?10:0):(y.width=f?10:0,y.height=o.maxHeight),!f){o.width=y.width=o.height=y.height=0;return}if(p.font=v.string,b){var C=o.lineWidths=[0],I=0;p.textAlign="left",p.textBaseline="middle",k.each(o.legendItems,function(he,pe){var Ne=jv(h,g),De=Ne+g/2+p.measureText(he.text).width;(pe===0||C[C.length-1]+De+2*h.padding>y.width)&&(I+=g+h.padding,C[C.length-(pe>0?0:1)]=0),x[pe]={left:0,top:0,width:De,height:g},C[C.length-1]+=De+h.padding}),y.height+=I}else{var D=h.padding,N=o.columnWidths=[],F=o.columnHeights=[],B=h.padding,z=0,Y=0;k.each(o.legendItems,function(he,pe){var Ne=jv(h,g),De=Ne+g/2+p.measureText(he.text).width;pe>0&&Y+g+2*D>y.height&&(B+=z+h.padding,N.push(z),F.push(Y),z=0,Y=0),z=Math.max(z,De),Y+=g+D,x[pe]={left:0,top:0,width:De,height:g}}),B+=z,N.push(z),F.push(Y),y.width+=B}o.width=y.width,o.height=y.height},afterFit:Bi,isHorizontal:function(){return this.options.position==="top"||this.options.position==="bottom"},draw:function(){var o=this,l=o.options,h=l.labels,f=ge.global,p=f.defaultColor,v=f.elements.line,g=o.height,x=o.columnHeights,y=o.width,b=o.lineWidths;if(l.display){var C=QR(l.rtl,o.left,o.minSize.width),I=o.ctx,D=Vi(h.fontColor,f.defaultFontColor),N=k.options._parseFont(h),F=N.size,B;I.textAlign=C.textAlign("left"),I.textBaseline="middle",I.lineWidth=.5,I.strokeStyle=D,I.fillStyle=D,I.font=N.string;var z=jv(h,F),Y=o.legendHitBoxes,he=function(je,ot,ht){if(!(isNaN(z)||z<=0)){I.save();var qt=Vi(ht.lineWidth,v.borderWidth);if(I.fillStyle=Vi(ht.fillStyle,p),I.lineCap=Vi(ht.lineCap,v.borderCapStyle),I.lineDashOffset=Vi(ht.lineDashOffset,v.borderDashOffset),I.lineJoin=Vi(ht.lineJoin,v.borderJoinStyle),I.lineWidth=qt,I.strokeStyle=Vi(ht.strokeStyle,p),I.setLineDash&&I.setLineDash(Vi(ht.lineDash,v.borderDash)),h&&h.usePointStyle){var Bt=z*Math.SQRT2/2,Rt=C.xPlus(je,z/2),nr=ot+F/2;k.canvas.drawPoint(I,ht.pointStyle,Bt,Rt,nr,ht.rotation)}else I.fillRect(C.leftForLtr(je,z),ot,z,F),qt!==0&&I.strokeRect(C.leftForLtr(je,z),ot,z,F);I.restore()}},pe=function(je,ot,ht,qt){var Bt=F/2,Rt=C.xPlus(je,z+Bt),nr=ot+Bt;I.fillText(ht.text,Rt,nr),ht.hidden&&(I.beginPath(),I.lineWidth=2,I.moveTo(Rt,nr),I.lineTo(C.xPlus(Rt,qt),nr),I.stroke())},Ne=function(je,ot){switch(l.align){case"start":return h.padding;case"end":return je-ot;default:return(je-ot+h.padding)/2}},De=o.isHorizontal();De?B={x:o.left+Ne(y,b[0]),y:o.top+h.padding,line:0}:B={x:o.left+h.padding,y:o.top+Ne(g,x[0]),line:0},k.rtl.overrideTextDirection(o.ctx,l.textDirection);var Ke=F+h.padding;k.each(o.legendItems,function(je,ot){var ht=I.measureText(je.text).width,qt=z+F/2+ht,Bt=B.x,Rt=B.y;C.setWidth(o.minSize.width),De?ot>0&&Bt+qt+h.padding>o.left+o.minSize.width&&(Rt=B.y+=Ke,B.line++,Bt=B.x=o.left+Ne(y,b[B.line])):ot>0&&Rt+Ke>o.top+o.minSize.height&&(Bt=B.x=Bt+o.columnWidths[B.line]+h.padding,B.line++,Rt=B.y=o.top+Ne(g,x[B.line]));var nr=C.x(Bt);he(nr,Rt,je),Y[ot].left=C.leftForLtr(nr,Y[ot].width),Y[ot].top=Rt,pe(nr,Rt,je,ht),De?B.x+=qt+h.padding:B.y+=Ke}),k.rtl.restoreTextDirection(o.ctx,l.textDirection)}},_getLegendItemAt:function(o,l){var h=this,f,p,v;if(o>=h.left&&o<=h.right&&l>=h.top&&l<=h.bottom){for(v=h.legendHitBoxes,f=0;f<v.length;++f)if(p=v[f],o>=p.left&&o<=p.left+p.width&&l>=p.top&&l<=p.top+p.height)return h.legendItems[f]}return null},handleEvent:function(o){var l=this,h=l.options,f=o.type==="mouseup"?"click":o.type,p;if(f==="mousemove"){if(!h.onHover&&!h.onLeave)return}else if(f==="click"){if(!h.onClick)return}else return;p=l._getLegendItemAt(o.x,o.y),f==="click"?p&&h.onClick&&h.onClick.call(l,o.native,p):(h.onLeave&&p!==l._hoveredItem&&(l._hoveredItem&&h.onLeave.call(l,o.native,l._hoveredItem),l._hoveredItem=p),h.onHover&&p&&h.onHover.call(l,o.native,p))}});function bx(o,l){var h=new xx({ctx:o.ctx,options:l,chart:o});rn.configure(o,h,l),rn.addBox(o,h),o.legend=h}var ZR={id:"legend",_element:xx,beforeInit:function(o){var l=o.options.legend;l&&bx(o,l)},beforeUpdate:function(o){var l=o.options.legend,h=o.legend;l?(k.mergeIf(l,ge.global.legend),h?(rn.configure(o,h,l),h.options=l):bx(o,l)):h&&(rn.removeBox(o,h),delete o.legend)},afterEvent:function(o,l){var h=o.legend;h&&h.handleEvent(l)}},ii=k.noop;ge._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Tx=In.extend({initialize:function(o){var l=this;k.extend(l,o),l.legendHitBoxes=[]},beforeUpdate:ii,update:function(o,l,h){var f=this;return f.beforeUpdate(),f.maxWidth=o,f.maxHeight=l,f.margins=h,f.beforeSetDimensions(),f.setDimensions(),f.afterSetDimensions(),f.beforeBuildLabels(),f.buildLabels(),f.afterBuildLabels(),f.beforeFit(),f.fit(),f.afterFit(),f.afterUpdate(),f.minSize},afterUpdate:ii,beforeSetDimensions:ii,setDimensions:function(){var o=this;o.isHorizontal()?(o.width=o.maxWidth,o.left=0,o.right=o.width):(o.height=o.maxHeight,o.top=0,o.bottom=o.height),o.paddingLeft=0,o.paddingTop=0,o.paddingRight=0,o.paddingBottom=0,o.minSize={width:0,height:0}},afterSetDimensions:ii,beforeBuildLabels:ii,buildLabels:ii,afterBuildLabels:ii,beforeFit:ii,fit:function(){var o=this,l=o.options,h=o.minSize={},f=o.isHorizontal(),p,v;if(!l.display){o.width=h.width=o.height=h.height=0;return}p=k.isArray(l.text)?l.text.length:1,v=p*k.options._parseFont(l).lineHeight+l.padding*2,o.width=h.width=f?o.maxWidth:v,o.height=h.height=f?v:o.maxHeight},afterFit:ii,isHorizontal:function(){var o=this.options.position;return o==="top"||o==="bottom"},draw:function(){var o=this,l=o.ctx,h=o.options;if(h.display){var f=k.options._parseFont(h),p=f.lineHeight,v=p/2+h.padding,g=0,x=o.top,y=o.left,b=o.bottom,C=o.right,I,D,N;l.fillStyle=k.valueOrDefault(h.fontColor,ge.global.defaultFontColor),l.font=f.string,o.isHorizontal()?(D=y+(C-y)/2,N=x+v,I=C-y):(D=h.position==="left"?y+v:C-v,N=x+(b-x)/2,I=b-x,g=Math.PI*(h.position==="left"?-.5:.5)),l.save(),l.translate(D,N),l.rotate(g),l.textAlign="center",l.textBaseline="middle";var F=h.text;if(k.isArray(F))for(var B=0,z=0;z<F.length;++z)l.fillText(F[z],0,B,I),B+=p;else l.fillText(F,0,0,I);l.restore()}}});function Sx(o,l){var h=new Tx({ctx:o.ctx,options:l,chart:o});rn.configure(o,h,l),rn.addBox(o,h),o.titleBlock=h}var JR={id:"title",_element:Tx,beforeInit:function(o){var l=o.options.title;l&&Sx(o,l)},beforeUpdate:function(o){var l=o.options.title,h=o.titleBlock;l?(k.mergeIf(l,ge.global.title),h?(rn.configure(o,h,l),h.options=l):Sx(o,l)):h&&(rn.removeBox(o,h),delete o.titleBlock)}},zi={},eN=KR,tN=ZR,rN=JR;zi.filler=eN,zi.legend=tN,zi.title=rN,Be.helpers=k,KD(),Be._adapters=Dv,Be.Animation=vv,Be.animationService=mv,Be.controllers=$w,Be.DatasetController=tn,Be.defaults=ge,Be.Element=In,Be.elements=Dr,Be.Interaction=ja,Be.layouts=rn,Be.platform=Ga,Be.plugins=ut,Be.Scale=Rr,Be.scaleService=Dl,Be.Ticks=Rl,Be.Tooltip=Ov,Be.helpers.each(VR,function(o,l){Be.scaleService.registerScaleType(l,o,o._defaults)});for(var Ex in zi)zi.hasOwnProperty(Ex)&&Be.plugins.register(zi[Ex]);Be.platform.initialize();var nN=Be;return typeof window<"u"&&(window.Chart=Be),Be.Chart=Be,Be.Legend=zi.legend._element,Be.Title=zi.title._element,Be.pluginService=Be.plugins,Be.PluginBase=Be.Element.extend({}),Be.canvasHelpers=Be.helpers.canvas,Be.layoutService=Be.layouts,Be.LinearScaleBase=Sc,Be.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(o){Be[o]=function(l,h){return new Be(l,Be.helpers.merge(h||{},{type:o.charAt(0).toLowerCase()+o.slice(1)}))}}),nN})})(Fk);let nX=class extends Ua{constructor(e){super(e),this.state={counter:this.props.from,interval:this.props.interval??1e3},this.interval}componentDidMount(){this.interval=setInterval(()=>{const{counter:e}=this.state;if(e===0){this.props.whenDone(),clearInterval(this.interval);return}this.setState({counter:e-1})},this.state.interval)}componentWillUnmount(){clearInterval(this.interval)}render(){return this.smoothly(ve("div",{children:this.state.counter}))}};const k0=t=>(1-t.shotsMissed/t.shotsFired)*100,M0=t=>{let e=t.shotsFired-t.shotsMissed,r=(t.waveEnd-t.waveStart)/1e3/60;return e/5/r};class iX extends Ua{constructor(r){super(r);q(this,"handleNextWave",()=>{et.emit("nextWave")});this.chart=yN.createRef(),this.graph}componentDidMount(){let r=this.props.waveData;this.graph=new Fk.exports.Chart(this.chart.current,{type:"line",data:{labels:r.map((n,i)=>i+1),datasets:[{data:r.map(n=>k0(n)),label:"Accuracy",borderColor:"#3e95cd",fill:!1},{data:r.map(n=>M0(n)),label:"Wpm",borderColor:"#78ebcc",fill:!1}]},options:{legend:{display:!1},scales:{xAxes:[{display:!1,gridLines:{color:"rgba(0, 0, 0, 0)"}}],yAxes:[{display:!1,gridLines:{color:"rgba(0, 0, 0, 0)"}}]},layout:{padding:{left:10,right:10,top:10,bottom:10}}}})}render(){const{waveData:r,score:n}=this.props,i=r.length,s=bd.last(r),a=k0(s).toFixed(2),u=M0(s).toFixed(2),c=zP(n);return this.smoothly(Et("div",{className:"hud",children:[Et("div",{className:"wave",children:[Et("div",{className:"waveNumber",children:["wave",ve("br",{}),i]}),ve("div",{className:"score",children:c})]}),Et("div",{className:"waveStats",children:[Et("div",{className:"stat",children:[ve("div",{className:"marker accuracy"}),ve("span",{className:"faded",children:"accuracy"})," ",a,"%"]}),Et("div",{className:"stat",children:[ve("div",{className:"marker wpm"}),ve("span",{className:"faded",children:"wpm "})," ",u]})]}),ve("div",{className:"chartContainer",children:ve("canvas",{width:"300",height:"150",ref:this.chart})}),Et("div",{className:"timer",children:[ve("header",{children:"next wave in"}),ve(nX,{from:5,whenDone:this.handleNextWave})]})]}))}}class sX extends Ua{constructor(r){super(r);q(this,"restartGame",()=>{et.emit("restartGame")})}render(){return this.smoothly(Et("div",{className:"gameOverMenu menu",children:[ve("h1",{className:"gameOverHeader header",children:"Game Over"}),ve(zn,{danger:!0,hint:"ret",text:"Back to Menu",onClick:this.restartGame})]}))}}class aX extends fr.exports.Component{constructor(r){super(r);q(this,"_handleKeyDown",r=>{if(this.state.started)switch(r.key){case"Escape":this.handlePause();break}});q(this,"handlePause",()=>{this.state.intermission||(this.toggleMenu(),this.setState(r=>(this.game.pause(!r.paused),{paused:!r.paused})))});q(this,"toggleMenu",()=>{this.setState(r=>({inMenu:!r.inMenu}))});q(this,"nextWave",()=>{this.setState(r=>({wave:r.wave+1,intermission:!1})),this.game.nextWave(this.state.wave),this.handlePause()});this.game=Qo,this.state={inMenu:!0,paused:!1,started:!1,inSettings:!1,inLeaderboard:!1,intermission:!1,gameOver:!1,playerName:Zi.get("playerName")||"0x20F",playerSignature:Zi.get("playerSignature"),wave:1},this.score=0,this.waveData=[]}componentDidMount(){document.addEventListener("keydown",this._handleKeyDown,!1),et.on("shotFired",r=>{this.score>=10&&r?this.score-=10:this.score+=1}),et.on("enemyDeath",()=>{this.score+=100}),et.on("nextWave",this.nextWave),et.on("waveEnd",r=>{this.waveData.push(r),this.handlePause(),this.setState({intermission:!0})}),et.on("settingsOpened",()=>this.setState({inSettings:!0})),et.on("settingsSaved",(r,n)=>{this.setState({playerName:r,playerSignature:n,inSettings:!1}),Zi.set("playerName",r),Zi.set("playerSignature",n)}),et.on("leaderboardOpened",()=>this.setState({inLeaderboard:!0})),et.on("leaderboardClosed",()=>this.setState({inLeaderboard:!1})),et.on("gameStarted",async()=>{const{wave:r,playerName:n}=this.state;await this.game.start(n,this.emitter),this.game.nextWave(r),this.toggleMenu(),this.setState(i=>({started:!i.started}))}),et.on("unpause",this.handlePause),et.on("gameOver",r=>{this.waveData.push(r);let n=this.waveData.length,i=this.waveData.map(c=>k0(c)).reduce((c,d)=>c+d,0),s=this.waveData.map(c=>M0(c)).reduce((c,d)=>c+d,0),a=this.score;const u={name:this.state.playerName,signature:this.state.playerSignature};Z8(u,(i/n).toFixed(2),(s/n).toFixed(2),zP(a),n).then(()=>{this.setState({gameOver:!0,inMenu:!0})})}),et.on("restartGame",()=>{this.setState({started:!1,inMenu:!0,paused:!1,inSettings:!1,intermission:!1,gameOver:!1,inLeaderboard:!1,wave:1}),this.waveData=[],this.score=0,Qo.reset()})}componentWillUnmount(){document.removeEventListener("keydown",this._handleKeyDown,!1)}render(){const{inMenu:r,paused:n,started:i,inSettings:s,inLeaderboard:a,gameOver:u,intermission:c,playerName:d,playerSignature:m}=this.state;return Et(mg,{children:[u&&ve(sX,{}),!i&&a&&ve(eG,{}),!i&&!s&&!a&&ve(vz,{playerName:d,playerSignature:m}),n&&!c&&ve(pz,{}),s&&ve(mz,{playerName:d,playerSignature:m}),c&&n&&ve(iX,{waveData:this.waveData,score:this.score}),ve(F6,{hidden:!r})]})}}var oX="firebase",lX="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Do(oX,lX,"app");const uX={apiKey:"AIzaSyDMoekin46l_sVFUocqhsvHWJp_uP51np4",authDomain:"xtype-946f8.firebaseapp.com",projectId:"xtype-946f8",storageBucket:"xtype-946f8.appspot.com",messagingSenderId:"766304622508",appId:"1:766304622508:web:9dbc532aec1e0c4ce48c09",measurementId:"G-77JBWXW9TL"};vA(uX);gL.render(ve(aX,{}),document.getElementById("root"))});export default hX();
