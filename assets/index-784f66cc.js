var QN=Object.defineProperty;var ZN=(t,e,r)=>e in t?QN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var JN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var q=(t,e,r)=>(ZN(t,typeof e!="symbol"?e+"":e,r),r);var Uq=JN(($q,Jf)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function x2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function eF(t){var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var ap={exports:{}},Hh={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Xx=Object.getOwnPropertySymbols,tF=Object.prototype.hasOwnProperty,rF=Object.prototype.propertyIsEnumerable;function nF(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function iF(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var X0=iF()?Object.assign:function(t,e){for(var r,n=nF(t),i,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var a in r)tF.call(r,a)&&(n[a]=r[a]);if(Xx){i=Xx(r);for(var l=0;l<i.length;l++)rF.call(r,i[l])&&(n[i[l]]=r[i[l]])}}return n},fr={exports:{}},Ke={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0=X0,dl=60103,b2=60106;Ke.Fragment=60107;Ke.StrictMode=60108;Ke.Profiler=60114;var T2=60109,S2=60110,E2=60112;Ke.Suspense=60113;var C2=60115,I2=60116;if(typeof Symbol=="function"&&Symbol.for){var yn=Symbol.for;dl=yn("react.element"),b2=yn("react.portal"),Ke.Fragment=yn("react.fragment"),Ke.StrictMode=yn("react.strict_mode"),Ke.Profiler=yn("react.profiler"),T2=yn("react.provider"),S2=yn("react.context"),E2=yn("react.forward_ref"),Ke.Suspense=yn("react.suspense"),C2=yn("react.memo"),I2=yn("react.lazy")}var qx=typeof Symbol=="function"&&Symbol.iterator;function sF(t){return t===null||typeof t!="object"?null:(t=qx&&t[qx]||t["@@iterator"],typeof t=="function"?t:null)}function jh(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A2={};function pl(t,e,r){this.props=t,this.context=e,this.refs=A2,this.updater=r||P2}pl.prototype.isReactComponent={};pl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(jh(85));this.updater.enqueueSetState(this,t,e,"setState")};pl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function k2(){}k2.prototype=pl.prototype;function K0(t,e,r){this.props=t,this.context=e,this.refs=A2,this.updater=r||P2}var Q0=K0.prototype=new k2;Q0.constructor=K0;q0(Q0,pl.prototype);Q0.isPureReactComponent=!0;var Z0={current:null},O2=Object.prototype.hasOwnProperty,M2={key:!0,ref:!0,__self:!0,__source:!0};function D2(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)O2.call(e,n)&&!M2.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:dl,type:t,key:s,ref:a,props:i,_owner:Z0.current}}function aF(t,e){return{$$typeof:dl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function J0(t){return typeof t=="object"&&t!==null&&t.$$typeof===dl}function oF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Kx=/\/+/g;function sg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oF(""+t.key):e.toString(36)}function Sf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case dl:case b2:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+sg(a,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(Kx,"$&/")+"/"),Sf(i,e,r,"",function(d){return d})):i!=null&&(J0(i)&&(i=aF(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Kx,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+sg(s,l);a+=Sf(s,e,r,c,i)}else if(c=sF(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+sg(s,l++),a+=Sf(s,e,r,c,i);else if(s==="object")throw e=""+t,Error(jh(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return a}function Lc(t,e,r){if(t==null)return t;var n=[],i=0;return Sf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function lF(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var R2={current:null};function Li(){var t=R2.current;if(t===null)throw Error(jh(321));return t}var uF={ReactCurrentDispatcher:R2,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Z0,IsSomeRendererActing:{current:!1},assign:q0};Ke.Children={map:Lc,forEach:function(t,e,r){Lc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Lc(t,function(){e++}),e},toArray:function(t){return Lc(t,function(e){return e})||[]},only:function(t){if(!J0(t))throw Error(jh(143));return t}};Ke.Component=pl;Ke.PureComponent=K0;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uF;Ke.cloneElement=function(t,e,r){if(t==null)throw Error(jh(267,t));var n=q0({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Z0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)O2.call(e,c)&&!M2.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:dl,type:t.type,key:i,ref:s,props:n,_owner:a}};Ke.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:S2,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:T2,_context:t},t.Consumer=t};Ke.createElement=D2;Ke.createFactory=function(t){var e=D2.bind(null,t);return e.type=t,e};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(t){return{$$typeof:E2,render:t}};Ke.isValidElement=J0;Ke.lazy=function(t){return{$$typeof:I2,_payload:{_status:-1,_result:t},_init:lF}};Ke.memo=function(t,e){return{$$typeof:C2,type:t,compare:e===void 0?null:e}};Ke.useCallback=function(t,e){return Li().useCallback(t,e)};Ke.useContext=function(t,e){return Li().useContext(t,e)};Ke.useDebugValue=function(){};Ke.useEffect=function(t,e){return Li().useEffect(t,e)};Ke.useImperativeHandle=function(t,e,r){return Li().useImperativeHandle(t,e,r)};Ke.useLayoutEffect=function(t,e){return Li().useLayoutEffect(t,e)};Ke.useMemo=function(t,e){return Li().useMemo(t,e)};Ke.useReducer=function(t,e,r){return Li().useReducer(t,e,r)};Ke.useRef=function(t){return Li().useRef(t)};Ke.useState=function(t){return Li().useState(t)};Ke.version="17.0.2";(function(t){t.exports=Ke})(fr);const hF=x2(fr.exports);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cF=fr.exports,N2=60103;Hh.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Qx=Symbol.for;N2=Qx("react.element"),Hh.Fragment=Qx("react.fragment")}var fF=cF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dF=Object.prototype.hasOwnProperty,pF={key:!0,ref:!0,__self:!0,__source:!0};function F2(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)dF.call(e,n)&&!pF.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:N2,type:t,key:s,ref:a,props:i,_owner:fF.current}}Hh.jsx=F2;Hh.jsxs=F2;(function(t){t.exports=Hh})(ap);const Ef=ap.exports.Fragment,ae=ap.exports.jsx,He=ap.exports.jsxs;var L2={exports:{}},vn={},U2={exports:{}},B2={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,d=null,g=function(){if(c!==null)try{var H=t.unstable_now();c(!0,H),c=null}catch(X){throw setTimeout(g,0),X}};e=function(H){c!==null?setTimeout(e,0,H):(c=H,setTimeout(g,0))},r=function(H,X){d=setTimeout(H,X)},n=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var _=window.setTimeout,w=window.clearTimeout;if(typeof console<"u"){var T=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof T!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var S=!1,P=null,E=-1,A=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},i=function(){},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5};var M=new MessageChannel,R=M.port2;M.port1.onmessage=function(){if(P!==null){var H=t.unstable_now();k=H+A;try{P(!0,H)?R.postMessage(null):(S=!1,P=null)}catch(X){throw R.postMessage(null),X}}else S=!1},e=function(H){P=H,S||(S=!0,R.postMessage(null))},r=function(H,X){E=_(function(){H(t.unstable_now())},X)},n=function(){w(E),E=-1}}function V(H,X){var ne=H.length;H.push(X);e:for(;;){var we=ne-1>>>1,ie=H[we];if(ie!==void 0&&0<W(ie,X))H[we]=X,H[ne]=ie,ne=we;else break e}}function L(H){return H=H[0],H===void 0?null:H}function j(H){var X=H[0];if(X!==void 0){var ne=H.pop();if(ne!==X){H[0]=ne;e:for(var we=0,ie=H.length;we<ie;){var Pe=2*(we+1)-1,$e=H[Pe],at=Pe+1,pe=H[at];if($e!==void 0&&0>W($e,ne))pe!==void 0&&0>W(pe,$e)?(H[we]=pe,H[at]=ne,we=at):(H[we]=$e,H[Pe]=ne,we=Pe);else if(pe!==void 0&&0>W(pe,ne))H[we]=pe,H[at]=ne,we=at;else break e}}return X}return null}function W(H,X){var ne=H.sortIndex-X.sortIndex;return ne!==0?ne:H.id-X.id}var U=[],$=[],J=1,se=null,te=3,Le=!1,oe=!1,ue=!1;function re(H){for(var X=L($);X!==null;){if(X.callback===null)j($);else if(X.startTime<=H)j($),X.sortIndex=X.expirationTime,V(U,X);else break;X=L($)}}function et(H){if(ue=!1,re(H),!oe)if(L(U)!==null)oe=!0,e(pt);else{var X=L($);X!==null&&r(et,X.startTime-H)}}function pt(H,X){oe=!1,ue&&(ue=!1,n()),Le=!0;var ne=te;try{for(re(X),se=L(U);se!==null&&(!(se.expirationTime>X)||H&&!t.unstable_shouldYield());){var we=se.callback;if(typeof we=="function"){se.callback=null,te=se.priorityLevel;var ie=we(se.expirationTime<=X);X=t.unstable_now(),typeof ie=="function"?se.callback=ie:se===L(U)&&j(U),re(X)}else j(U);se=L(U)}if(se!==null)var Pe=!0;else{var $e=L($);$e!==null&&r(et,$e.startTime-X),Pe=!1}return Pe}finally{se=null,te=ne,Le=!1}}var he=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){oe||Le||(oe=!0,e(pt))},t.unstable_getCurrentPriorityLevel=function(){return te},t.unstable_getFirstCallbackNode=function(){return L(U)},t.unstable_next=function(H){switch(te){case 1:case 2:case 3:var X=3;break;default:X=te}var ne=te;te=X;try{return H()}finally{te=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=he,t.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=te;te=H;try{return X()}finally{te=ne}},t.unstable_scheduleCallback=function(H,X,ne){var we=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?we+ne:we):ne=we,H){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ne+ie,H={id:J++,callback:X,priorityLevel:H,startTime:ne,expirationTime:ie,sortIndex:-1},ne>we?(H.sortIndex=ne,V($,H),L(U)===null&&H===L($)&&(ue?n():ue=!0,r(et,ne-we))):(H.sortIndex=ie,V(U,H),oe||Le||(oe=!0,e(pt))),H},t.unstable_wrapCallback=function(H){var X=te;return function(){var ne=te;te=X;try{return H.apply(this,arguments)}finally{te=ne}}}})(B2);(function(t){t.exports=B2})(U2);/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op=fr.exports,St=X0,Jt=U2.exports;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!op)throw Error(ee(227));var V2=new Set,Wu={};function Ra(t,e){jo(t,e),jo(t+"Capture",e)}function jo(t,e){for(Wu[t]=e,t=0;t<e.length;t++)V2.add(e[t])}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zx=Object.prototype.hasOwnProperty,Jx={},eb={};function gF(t){return Zx.call(eb,t)?!0:Zx.call(Jx,t)?!1:vF.test(t)?eb[t]=!0:(Jx[t]=!0,!1)}function mF(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yF(t,e,r,n){if(e===null||typeof e>"u"||mF(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ur[t]=new Dr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ur[e]=new Dr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ur[t]=new Dr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ur[t]=new Dr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ur[t]=new Dr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ur[t]=new Dr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ur[t]=new Dr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ur[t]=new Dr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ur[t]=new Dr(t,5,!1,t.toLowerCase(),null,!1,!1)});var e_=/[\-:]([a-z])/g;function t_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(e_,t_);ur[e]=new Dr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(e_,t_);ur[e]=new Dr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(e_,t_);ur[e]=new Dr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ur[t]=new Dr(t,1,!1,t.toLowerCase(),null,!1,!1)});ur.xlinkHref=new Dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ur[t]=new Dr(t,1,!1,t.toLowerCase(),null,!0,!0)});function r_(t,e,r,n){var i=ur.hasOwnProperty(e)?ur[e]:null,s=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(yF(e,r,i,n)&&(r=null),n||i===null?gF(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Na=op.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pu=60103,ia=60106,Xi=60107,n_=60108,Tu=60114,i_=60109,s_=60110,lp=60112,Su=60113,ed=60120,up=60115,a_=60116,o_=60121,l_=60128,z2=60129,u_=60130,km=60131;if(typeof Symbol=="function"&&Symbol.for){var Kt=Symbol.for;pu=Kt("react.element"),ia=Kt("react.portal"),Xi=Kt("react.fragment"),n_=Kt("react.strict_mode"),Tu=Kt("react.profiler"),i_=Kt("react.provider"),s_=Kt("react.context"),lp=Kt("react.forward_ref"),Su=Kt("react.suspense"),ed=Kt("react.suspense_list"),up=Kt("react.memo"),a_=Kt("react.lazy"),o_=Kt("react.block"),Kt("react.scope"),l_=Kt("react.opaque.id"),z2=Kt("react.debug_trace_mode"),u_=Kt("react.offscreen"),km=Kt("react.legacy_hidden")}var tb=typeof Symbol=="function"&&Symbol.iterator;function jl(t){return t===null||typeof t!="object"?null:(t=tb&&t[tb]||t["@@iterator"],typeof t=="function"?t:null)}var ag;function vu(t){if(ag===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ag=e&&e[1]||""}return`
`+ag+t}var og=!1;function Uc(t,e){if(!t||og)return"";og=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=l);break}}}finally{og=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?vu(t):""}function _F(t){switch(t.tag){case 5:return vu(t.type);case 16:return vu("Lazy");case 13:return vu("Suspense");case 19:return vu("SuspenseList");case 0:case 2:case 15:return t=Uc(t.type,!1),t;case 11:return t=Uc(t.type.render,!1),t;case 22:return t=Uc(t.type._render,!1),t;case 1:return t=Uc(t.type,!0),t;default:return""}}function Io(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xi:return"Fragment";case ia:return"Portal";case Tu:return"Profiler";case n_:return"StrictMode";case Su:return"Suspense";case ed:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case s_:return(t.displayName||"Context")+".Consumer";case i_:return(t._context.displayName||"Context")+".Provider";case lp:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case up:return Io(t.type);case o_:return Io(t._render);case a_:e=t._payload,t=t._init;try{return Io(t(e))}catch{}}return null}function ys(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function $2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wF(t){var e=$2(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bc(t){t._valueTracker||(t._valueTracker=wF(t))}function H2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=$2(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function td(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Om(t,e){var r=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function rb(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ys(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j2(t,e){e=e.checked,e!=null&&r_(t,"checked",e,!1)}function Mm(t,e){j2(t,e);var r=ys(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dm(t,e.type,r):e.hasOwnProperty("defaultValue")&&Dm(t,e.type,ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nb(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Dm(t,e,r){(e!=="number"||td(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function xF(t){var e="";return op.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function Rm(t,e){return t=St({children:void 0},e),(e=xF(e.children))&&(t.children=e),t}function Po(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ys(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ib(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ee(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(ee(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ys(r)}}function W2(t,e){var r=ys(e.value),n=ys(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function sb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Fm={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function G2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?G2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vc,Y2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==Fm.svg||"innerHTML"in t)t.innerHTML=e;else{for(Vc=Vc||document.createElement("div"),Vc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Eu={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bF=["Webkit","ms","Moz","O"];Object.keys(Eu).forEach(function(t){bF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Eu[e]=Eu[t]})});function X2(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Eu.hasOwnProperty(t)&&Eu[t]?(""+e).trim():e+"px"}function q2(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=X2(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var TF=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Um(t,e){if(e){if(TF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Bm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function h_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vm=null,Ao=null,ko=null;function ab(t){if(t=Gh(t)){if(typeof Vm!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=vp(e),Vm(t.stateNode,t.type,e))}}function K2(t){Ao?ko?ko.push(t):ko=[t]:Ao=t}function Q2(){if(Ao){var t=Ao,e=ko;if(ko=Ao=null,ab(t),e)for(t=0;t<e.length;t++)ab(e[t])}}function c_(t,e){return t(e)}function Z2(t,e,r,n,i){return t(e,r,n,i)}function f_(){}var J2=c_,sa=!1,lg=!1;function d_(){(Ao!==null||ko!==null)&&(f_(),Q2())}function SF(t,e,r){if(lg)return t(e,r);lg=!0;try{return J2(t,e,r)}finally{lg=!1,d_()}}function Yu(t,e){var r=t.stateNode;if(r===null)return null;var n=vp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ee(231,e,typeof r));return r}var zm=!1;if(Pi)try{var Wl={};Object.defineProperty(Wl,"passive",{get:function(){zm=!0}}),window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{zm=!1}function EF(t,e,r,n,i,s,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(g){this.onError(g)}}var Cu=!1,rd=null,nd=!1,$m=null,CF={onError:function(t){Cu=!0,rd=t}};function IF(t,e,r,n,i,s,a,l,c){Cu=!1,rd=null,EF.apply(CF,arguments)}function PF(t,e,r,n,i,s,a,l,c){if(IF.apply(this,arguments),Cu){if(Cu){var d=rd;Cu=!1,rd=null}else throw Error(ee(198));nd||(nd=!0,$m=d)}}function Fa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function eC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ob(t){if(Fa(t)!==t)throw Error(ee(188))}function AF(t){var e=t.alternate;if(!e){if(e=Fa(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return ob(i),t;if(s===n)return ob(i),e;s=s.sibling}throw Error(ee(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?t:e}function tC(t){if(t=AF(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function lb(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var rC,p_,nC,iC,Hm=!1,Ln=[],is=null,ss=null,as=null,Xu=new Map,qu=new Map,Gl=[],ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jm(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function hb(t,e){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":Xu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(e.pointerId)}}function Yl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t=jm(e,r,n,i,s),e!==null&&(e=Gh(e),e!==null&&p_(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kF(t,e,r,n,i){switch(e){case"focusin":return is=Yl(is,t,e,r,n,i),!0;case"dragenter":return ss=Yl(ss,t,e,r,n,i),!0;case"mouseover":return as=Yl(as,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Xu.set(s,Yl(Xu.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,qu.set(s,Yl(qu.get(s)||null,t,e,r,n,i)),!0}return!1}function OF(t){var e=aa(t.target);if(e!==null){var r=Fa(e);if(r!==null){if(e=r.tag,e===13){if(e=eC(r),e!==null){t.blockedOn=e,iC(t.lanePriority,function(){Jt.unstable_runWithPriority(t.priority,function(){nC(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=y_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Gh(r),e!==null&&p_(e),t.blockedOn=r,!1;e.shift()}return!0}function cb(t,e,r){Cf(t)&&r.delete(e)}function MF(){for(Hm=!1;0<Ln.length;){var t=Ln[0];if(t.blockedOn!==null){t=Gh(t.blockedOn),t!==null&&rC(t);break}for(var e=t.targetContainers;0<e.length;){var r=y_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&Ln.shift()}is!==null&&Cf(is)&&(is=null),ss!==null&&Cf(ss)&&(ss=null),as!==null&&Cf(as)&&(as=null),Xu.forEach(cb),qu.forEach(cb)}function Xl(t,e){t.blockedOn===e&&(t.blockedOn=null,Hm||(Hm=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,MF)))}function sC(t){function e(i){return Xl(i,t)}if(0<Ln.length){Xl(Ln[0],t);for(var r=1;r<Ln.length;r++){var n=Ln[r];n.blockedOn===t&&(n.blockedOn=null)}}for(is!==null&&Xl(is,t),ss!==null&&Xl(ss,t),as!==null&&Xl(as,t),Xu.forEach(e),qu.forEach(e),r=0;r<Gl.length;r++)n=Gl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Gl.length&&(r=Gl[0],r.blockedOn===null);)OF(r),r.blockedOn===null&&Gl.shift()}function zc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var po={animationend:zc("Animation","AnimationEnd"),animationiteration:zc("Animation","AnimationIteration"),animationstart:zc("Animation","AnimationStart"),transitionend:zc("Transition","TransitionEnd")},ug={},aC={};Pi&&(aC=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function hp(t){if(ug[t])return ug[t];if(!po[t])return t;var e=po[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in aC)return ug[t]=e[r];return t}var oC=hp("animationend"),lC=hp("animationiteration"),uC=hp("animationstart"),hC=hp("transitionend"),cC=new Map,v_=new Map,DF=["abort","abort",oC,"animationEnd",lC,"animationIteration",uC,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",hC,"transitionEnd","waiting","waiting"];function g_(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),v_.set(n,e),cC.set(n,i),Ra(i,[n])}}var RF=Jt.unstable_now;RF();var ft=8;function lo(t){if(1&t)return ft=15,1;if(2&t)return ft=14,2;if(4&t)return ft=13,4;var e=24&t;return e!==0?(ft=12,e):t&32?(ft=11,32):(e=192&t,e!==0?(ft=10,e):t&256?(ft=9,256):(e=3584&t,e!==0?(ft=8,e):t&4096?(ft=7,4096):(e=4186112&t,e!==0?(ft=6,e):(e=62914560&t,e!==0?(ft=5,e):t&67108864?(ft=4,67108864):t&134217728?(ft=3,134217728):(e=805306368&t,e!==0?(ft=2,e):1073741824&t?(ft=1,1073741824):(ft=8,t))))))}function NF(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function FF(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ee(358,t))}}function Ku(t,e){var r=t.pendingLanes;if(r===0)return ft=0;var n=0,i=0,s=t.expiredLanes,a=t.suspendedLanes,l=t.pingedLanes;if(s!==0)n=s,i=ft=15;else if(s=r&134217727,s!==0){var c=s&~a;c!==0?(n=lo(c),i=ft):(l&=s,l!==0&&(n=lo(l),i=ft))}else s=r&~a,s!==0?(n=lo(s),i=ft):l!==0&&(n=lo(l),i=ft);if(n===0)return 0;if(n=31-_s(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&a)){if(lo(e),i<=ft)return e;ft=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-_s(e),i=1<<r,n|=t[r],e&=~i;return n}function fC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function id(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=uo(24&~e),t===0?id(10,e):t;case 10:return t=uo(192&~e),t===0?id(8,e):t;case 8:return t=uo(3584&~e),t===0&&(t=uo(4186112&~e),t===0&&(t=512)),t;case 2:return e=uo(805306368&~e),e===0&&(e=268435456),e}throw Error(ee(358,t))}function uo(t){return t&-t}function hg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function cp(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-_s(e),t[e]=r}var _s=Math.clz32?Math.clz32:BF,LF=Math.log,UF=Math.LN2;function BF(t){return t===0?32:31-(LF(t)/UF|0)|0}var VF=Jt.unstable_UserBlockingPriority,zF=Jt.unstable_runWithPriority,If=!0;function $F(t,e,r,n){sa||f_();var i=m_,s=sa;sa=!0;try{Z2(i,t,e,r,n)}finally{(sa=s)||d_()}}function HF(t,e,r,n){zF(VF,m_.bind(null,t,e,r,n))}function m_(t,e,r,n){if(If){var i;if((i=(e&4)===0)&&0<Ln.length&&-1<ub.indexOf(t))t=jm(null,t,e,r,n),Ln.push(t);else{var s=y_(t,e,r,n);if(s===null)i&&hb(t,n);else{if(i){if(-1<ub.indexOf(t)){t=jm(s,t,e,r,n),Ln.push(t);return}if(kF(s,t,e,r,n))return;hb(t,n)}EC(t,e,n,null,r)}}}}function y_(t,e,r,n){var i=h_(n);if(i=aa(i),i!==null){var s=Fa(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=eC(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return EC(t,e,n,i,r),null}var Ki=null,__=null,Pf=null;function dC(){if(Pf)return Pf;var t,e=__,r=e.length,n,i="value"in Ki?Ki.value:Ki.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Pf=i.slice(t,1<n?1-n:void 0)}function Af(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $c(){return!0}function fb(){return!1}function en(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$c:fb,this.isPropagationStopped=fb,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c}),e}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},w_=en(vl),Wh=St({},vl,{view:0,detail:0}),jF=en(Wh),cg,fg,ql,fp=St({},Wh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ql&&(ql&&t.type==="mousemove"?(cg=t.screenX-ql.screenX,fg=t.screenY-ql.screenY):fg=cg=0,ql=t),cg)},movementY:function(t){return"movementY"in t?t.movementY:fg}}),db=en(fp),WF=St({},fp,{dataTransfer:0}),GF=en(WF),YF=St({},Wh,{relatedTarget:0}),dg=en(YF),XF=St({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),qF=en(XF),KF=St({},vl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QF=en(KF),ZF=St({},vl,{data:0}),pb=en(ZF),JF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tL[t])?!!e[t]:!1}function x_(){return rL}var nL=St({},Wh,{key:function(t){if(t.key){var e=JF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Af(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x_,charCode:function(t){return t.type==="keypress"?Af(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Af(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iL=en(nL),sL=St({},fp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vb=en(sL),aL=St({},Wh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x_}),oL=en(aL),lL=St({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),uL=en(lL),hL=St({},fp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cL=en(hL),fL=[9,13,27,32],b_=Pi&&"CompositionEvent"in window,Iu=null;Pi&&"documentMode"in document&&(Iu=document.documentMode);var dL=Pi&&"TextEvent"in window&&!Iu,pC=Pi&&(!b_||Iu&&8<Iu&&11>=Iu),gb=String.fromCharCode(32),mb=!1;function vC(t,e){switch(t){case"keyup":return fL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vo=!1;function pL(t,e){switch(t){case"compositionend":return gC(e);case"keypress":return e.which!==32?null:(mb=!0,gb);case"textInput":return t=e.data,t===gb&&mb?null:t;default:return null}}function vL(t,e){if(vo)return t==="compositionend"||!b_&&vC(t,e)?(t=dC(),Pf=__=Ki=null,vo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pC&&e.locale!=="ko"?null:e.data;default:return null}}var gL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gL[t.type]:e==="textarea"}function mC(t,e,r,n){K2(n),e=sd(e,"onChange"),0<e.length&&(r=new w_("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Pu=null,Qu=null;function mL(t){bC(t,0)}function dp(t){var e=mo(t);if(H2(e))return t}function yL(t,e){if(t==="change")return e}var yC=!1;if(Pi){var pg;if(Pi){var vg="oninput"in document;if(!vg){var _b=document.createElement("div");_b.setAttribute("oninput","return;"),vg=typeof _b.oninput=="function"}pg=vg}else pg=!1;yC=pg&&(!document.documentMode||9<document.documentMode)}function wb(){Pu&&(Pu.detachEvent("onpropertychange",_C),Qu=Pu=null)}function _C(t){if(t.propertyName==="value"&&dp(Qu)){var e=[];if(mC(e,Qu,t,h_(t)),t=mL,sa)t(e);else{sa=!0;try{c_(t,e)}finally{sa=!1,d_()}}}}function _L(t,e,r){t==="focusin"?(wb(),Pu=e,Qu=r,Pu.attachEvent("onpropertychange",_C)):t==="focusout"&&wb()}function wL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dp(Qu)}function xL(t,e){if(t==="click")return dp(e)}function bL(t,e){if(t==="input"||t==="change")return dp(e)}function TL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ln=typeof Object.is=="function"?Object.is:TL,SL=Object.prototype.hasOwnProperty;function Zu(t,e){if(ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!SL.call(e,r[n])||!ln(t[r[n]],e[r[n]]))return!1;return!0}function xb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bb(t,e){var r=xb(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xb(r)}}function wC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Tb(){for(var t=window,e=td();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=td(t.document)}return e}function Wm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var EL=Pi&&"documentMode"in document&&11>=document.documentMode,go=null,Gm=null,Au=null,Ym=!1;function Sb(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ym||go==null||go!==td(n)||(n=go,"selectionStart"in n&&Wm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Au&&Zu(Au,n)||(Au=n,n=sd(Gm,"onSelect"),0<n.length&&(e=new w_("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=go)))}g_("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);g_("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);g_(DF,2);for(var Eb="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),gg=0;gg<Eb.length;gg++)v_.set(Eb[gg],0);jo("onMouseEnter",["mouseout","mouseover"]);jo("onMouseLeave",["mouseout","mouseover"]);jo("onPointerEnter",["pointerout","pointerover"]);jo("onPointerLeave",["pointerout","pointerover"]);Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xC=new Set("cancel close invalid load scroll toggle".split(" ").concat(gu));function Cb(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,PF(n,e,void 0,t),t.currentTarget=null}function bC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Cb(i,l,d),s=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Cb(i,l,d),s=c}}}if(nd)throw t=$m,nd=!1,$m=null,t}function vt(t,e){var r=IC(e),n=t+"__bubble";r.has(n)||(SC(e,t,2,!1),r.add(n))}var Ib="_reactListening"+Math.random().toString(36).slice(2);function TC(t){t[Ib]||(t[Ib]=!0,V2.forEach(function(e){xC.has(e)||Pb(e,!1,t,null),Pb(e,!0,t,null)}))}function Pb(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=r;if(t==="selectionchange"&&r.nodeType!==9&&(s=r.ownerDocument),n!==null&&!e&&xC.has(t)){if(t!=="scroll")return;i|=2,s=n}var a=IC(s),l=t+"__"+(e?"capture":"bubble");a.has(l)||(e&&(i|=4),SC(s,t,i,e),a.add(l))}function SC(t,e,r,n){var i=v_.get(e);switch(i===void 0?2:i){case 0:i=$F;break;case 1:i=HF;break;default:i=m_}r=i.bind(null,e,r,t),i=void 0,!zm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function EC(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=aa(l),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}l=l.parentNode}}n=n.return}SF(function(){var d=s,g=h_(r),_=[];e:{var w=cC.get(t);if(w!==void 0){var T=w_,S=t;switch(t){case"keypress":if(Af(r)===0)break e;case"keydown":case"keyup":T=iL;break;case"focusin":S="focus",T=dg;break;case"focusout":S="blur",T=dg;break;case"beforeblur":case"afterblur":T=dg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=db;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=GF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=oL;break;case oC:case lC:case uC:T=qF;break;case hC:T=uL;break;case"scroll":T=jF;break;case"wheel":T=cL;break;case"copy":case"cut":case"paste":T=QF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=vb}var P=(e&4)!==0,E=!P&&t==="scroll",A=P?w!==null?w+"Capture":null:w;P=[];for(var k=d,M;k!==null;){M=k;var R=M.stateNode;if(M.tag===5&&R!==null&&(M=R,A!==null&&(R=Yu(k,A),R!=null&&P.push(Ju(k,R,M)))),E)break;k=k.return}0<P.length&&(w=new T(w,S,null,r,g),_.push({event:w,listeners:P}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",w&&!(e&16)&&(S=r.relatedTarget||r.fromElement)&&(aa(S)||S[gl]))break e;if((T||w)&&(w=g.window===g?g:(w=g.ownerDocument)?w.defaultView||w.parentWindow:window,T?(S=r.relatedTarget||r.toElement,T=d,S=S?aa(S):null,S!==null&&(E=Fa(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(T=null,S=d),T!==S)){if(P=db,R="onMouseLeave",A="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(P=vb,R="onPointerLeave",A="onPointerEnter",k="pointer"),E=T==null?w:mo(T),M=S==null?w:mo(S),w=new P(R,k+"leave",T,r,g),w.target=E,w.relatedTarget=M,R=null,aa(g)===d&&(P=new P(A,k+"enter",S,r,g),P.target=M,P.relatedTarget=E,R=P),E=R,T&&S)t:{for(P=T,A=S,k=0,M=P;M;M=ro(M))k++;for(M=0,R=A;R;R=ro(R))M++;for(;0<k-M;)P=ro(P),k--;for(;0<M-k;)A=ro(A),M--;for(;k--;){if(P===A||A!==null&&P===A.alternate)break t;P=ro(P),A=ro(A)}P=null}else P=null;T!==null&&Ab(_,w,T,P,!1),S!==null&&E!==null&&Ab(_,E,S,P,!0)}}e:{if(w=d?mo(d):window,T=w.nodeName&&w.nodeName.toLowerCase(),T==="select"||T==="input"&&w.type==="file")var V=yL;else if(yb(w))if(yC)V=bL;else{V=wL;var L=_L}else(T=w.nodeName)&&T.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(V=xL);if(V&&(V=V(t,d))){mC(_,V,r,g);break e}L&&L(t,w,d),t==="focusout"&&(L=w._wrapperState)&&L.controlled&&w.type==="number"&&Dm(w,"number",w.value)}switch(L=d?mo(d):window,t){case"focusin":(yb(L)||L.contentEditable==="true")&&(go=L,Gm=d,Au=null);break;case"focusout":Au=Gm=go=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,Sb(_,r,g);break;case"selectionchange":if(EL)break;case"keydown":case"keyup":Sb(_,r,g)}var j;if(b_)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else vo?vC(t,r)&&(W="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(W="onCompositionStart");W&&(pC&&r.locale!=="ko"&&(vo||W!=="onCompositionStart"?W==="onCompositionEnd"&&vo&&(j=dC()):(Ki=g,__="value"in Ki?Ki.value:Ki.textContent,vo=!0)),L=sd(d,W),0<L.length&&(W=new pb(W,t,null,r,g),_.push({event:W,listeners:L}),j?W.data=j:(j=gC(r),j!==null&&(W.data=j)))),(j=dL?pL(t,r):vL(t,r))&&(d=sd(d,"onBeforeInput"),0<d.length&&(g=new pb("onBeforeInput","beforeinput",null,r,g),_.push({event:g,listeners:d}),g.data=j))}bC(_,e)})}function Ju(t,e,r){return{instance:t,listener:e,currentTarget:r}}function sd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Yu(t,r),s!=null&&n.unshift(Ju(t,s,i)),s=Yu(t,e),s!=null&&n.push(Ju(t,s,i))),t=t.return}return n}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ab(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=Yu(r,s),c!=null&&a.unshift(Ju(r,c,l))):i||(c=Yu(r,s),c!=null&&a.push(Ju(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}function ad(){}var mg=null,yg=null;function CC(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Xm(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kb=typeof setTimeout=="function"?setTimeout:void 0,CL=typeof clearTimeout=="function"?clearTimeout:void 0;function T_(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Oo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Ob(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var _g=0;function IL(t){return{$$typeof:l_,toString:t,valueOf:t}}var pp=Math.random().toString(36).slice(2),Qi="__reactFiber$"+pp,od="__reactProps$"+pp,gl="__reactContainer$"+pp,Mb="__reactEvents$"+pp;function aa(t){var e=t[Qi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[gl]||r[Qi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ob(t);t!==null;){if(r=t[Qi])return r;t=Ob(t)}return e}t=r,r=t.parentNode}return null}function Gh(t){return t=t[Qi]||t[gl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function vp(t){return t[od]||null}function IC(t){var e=t[Mb];return e===void 0&&(e=t[Mb]=new Set),e}var qm=[],yo=-1;function Ps(t){return{current:t}}function gt(t){0>yo||(t.current=qm[yo],qm[yo]=null,yo--)}function At(t,e){yo++,qm[yo]=t.current,t.current=e}var ws={},Tr=Ps(ws),$r=Ps(!1),xa=ws;function Wo(t,e){var r=t.type.contextTypes;if(!r)return ws;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Hr(t){return t=t.childContextTypes,t!=null}function ld(){gt($r),gt(Tr)}function Db(t,e,r){if(Tr.current!==ws)throw Error(ee(168));At(Tr,e),At($r,r)}function PC(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ee(108,Io(e)||"Unknown",i));return St({},r,n)}function kf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ws,xa=Tr.current,At(Tr,t),At($r,$r.current),!0}function Rb(t,e,r){var n=t.stateNode;if(!n)throw Error(ee(169));r?(t=PC(t,e,xa),n.__reactInternalMemoizedMergedChildContext=t,gt($r),gt(Tr),At(Tr,t)):gt($r),At($r,r)}var S_=null,pa=null,PL=Jt.unstable_runWithPriority,E_=Jt.unstable_scheduleCallback,Km=Jt.unstable_cancelCallback,AL=Jt.unstable_shouldYield,Nb=Jt.unstable_requestPaint,Qm=Jt.unstable_now,kL=Jt.unstable_getCurrentPriorityLevel,gp=Jt.unstable_ImmediatePriority,AC=Jt.unstable_UserBlockingPriority,kC=Jt.unstable_NormalPriority,OC=Jt.unstable_LowPriority,MC=Jt.unstable_IdlePriority,wg={},OL=Nb!==void 0?Nb:function(){},ci=null,Of=null,xg=!1,Fb=Qm(),yr=1e4>Fb?Qm:function(){return Qm()-Fb};function Go(){switch(kL()){case gp:return 99;case AC:return 98;case kC:return 97;case OC:return 96;case MC:return 95;default:throw Error(ee(332))}}function DC(t){switch(t){case 99:return gp;case 98:return AC;case 97:return kC;case 96:return OC;case 95:return MC;default:throw Error(ee(332))}}function ba(t,e){return t=DC(t),PL(t,e)}function eh(t,e,r){return t=DC(t),E_(t,e,r)}function Jn(){if(Of!==null){var t=Of;Of=null,Km(t)}RC()}function RC(){if(!xg&&ci!==null){xg=!0;var t=0;try{var e=ci;ba(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),ci=null}catch(r){throw ci!==null&&(ci=ci.slice(t+1)),E_(gp,Jn),r}finally{xg=!1}}}var ML=Na.ReactCurrentBatchConfig;function _n(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var ud=Ps(null),hd=null,_o=null,cd=null;function C_(){cd=_o=hd=null}function I_(t){var e=ud.current;gt(ud),t.type._context._currentValue=e}function NC(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function Mo(t,e){hd=t,cd=_o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bn=!0),t.firstContext=null)}function dn(t,e){if(cd!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(cd=t,e=1073741823),e={context:t,observedBits:e,next:null},_o===null){if(hd===null)throw Error(ee(308));_o=e,hd.dependencies={lanes:0,firstContext:e,responders:null}}else _o=_o.next=e;return t._currentValue}var Yi=!1;function P_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function FC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function os(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ls(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function Lb(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function th(t,e,r,n){var i=t.updateQueue;Yi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?s=d:a.next=d,a=c;var g=t.alternate;if(g!==null){g=g.updateQueue;var _=g.lastBaseUpdate;_!==a&&(_===null?g.firstBaseUpdate=d:_.next=d,g.lastBaseUpdate=c)}}if(s!==null){_=i.baseState,a=0,g=d=c=null;do{l=s.lane;var w=s.eventTime;if((n&l)===l){g!==null&&(g=g.next={eventTime:w,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var T=t,S=s;switch(l=e,w=r,S.tag){case 1:if(T=S.payload,typeof T=="function"){_=T.call(w,_,l);break e}_=T;break e;case 3:T.flags=T.flags&-4097|64;case 0:if(T=S.payload,l=typeof T=="function"?T.call(w,_,l):T,l==null)break e;_=St({},_,l);break e;case 2:Yi=!0}}s.callback!==null&&(t.flags|=32,l=i.effects,l===null?i.effects=[s]:l.push(s))}else w={eventTime:w,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},g===null?(d=g=w,c=_):g=g.next=w,a|=l;if(s=s.next,s===null){if(l=i.shared.pending,l===null)break;s=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(1);g===null&&(c=_),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=g,Xh|=a,t.lanes=a,t.memoizedState=_}}function Ub(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ee(191,i));i.call(n)}}}var LC=new op.Component().refs;function fd(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:St({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var mp={isMounted:function(t){return(t=t._reactInternals)?Fa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Kr(),i=us(t),s=os(n,i);s.payload=e,r!=null&&(s.callback=r),ls(t,s),hs(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Kr(),i=us(t),s=os(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),ls(t,s),hs(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Kr(),n=us(t),i=os(r,n);i.tag=2,e!=null&&(i.callback=e),ls(t,i),hs(t,n,r)}};function Bb(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Zu(r,n)||!Zu(i,s):!0}function UC(t,e,r){var n=!1,i=ws,s=e.contextType;return typeof s=="object"&&s!==null?s=dn(s):(i=Hr(e)?xa:Tr.current,n=e.contextTypes,s=(n=n!=null)?Wo(t,i):ws),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Vb(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&mp.enqueueReplaceState(e,e.state,null)}function Zm(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=LC,P_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=dn(s):(s=Hr(e)?xa:Tr.current,i.context=Wo(t,s)),th(t,r,i,n),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fd(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mp.enqueueReplaceState(i,i.state,null),th(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Hc=Array.isArray;function Kl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=n.refs;a===LC&&(a=n.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,t))}return t}function jc(t,e){if(t.type!=="textarea")throw Error(ee(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function BC(t){function e(E,A){if(t){var k=E.lastEffect;k!==null?(k.nextEffect=A,E.lastEffect=A):E.firstEffect=E.lastEffect=A,A.nextEffect=null,A.flags=8}}function r(E,A){if(!t)return null;for(;A!==null;)e(E,A),A=A.sibling;return null}function n(E,A){for(E=new Map;A!==null;)A.key!==null?E.set(A.key,A):E.set(A.index,A),A=A.sibling;return E}function i(E,A){return E=bs(E,A),E.index=0,E.sibling=null,E}function s(E,A,k){return E.index=k,t?(k=E.alternate,k!==null?(k=k.index,k<A?(E.flags=2,A):k):(E.flags=2,A)):A}function a(E){return t&&E.alternate===null&&(E.flags=2),E}function l(E,A,k,M){return A===null||A.tag!==6?(A=Cg(k,E.mode,M),A.return=E,A):(A=i(A,k),A.return=E,A)}function c(E,A,k,M){return A!==null&&A.elementType===k.type?(M=i(A,k.props),M.ref=Kl(E,A,k),M.return=E,M):(M=Nf(k.type,k.key,k.props,null,E.mode,M),M.ref=Kl(E,A,k),M.return=E,M)}function d(E,A,k,M){return A===null||A.tag!==4||A.stateNode.containerInfo!==k.containerInfo||A.stateNode.implementation!==k.implementation?(A=Ig(k,E.mode,M),A.return=E,A):(A=i(A,k.children||[]),A.return=E,A)}function g(E,A,k,M,R){return A===null||A.tag!==7?(A=Fo(k,E.mode,M,R),A.return=E,A):(A=i(A,k),A.return=E,A)}function _(E,A,k){if(typeof A=="string"||typeof A=="number")return A=Cg(""+A,E.mode,k),A.return=E,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case pu:return k=Nf(A.type,A.key,A.props,null,E.mode,k),k.ref=Kl(E,null,A),k.return=E,k;case ia:return A=Ig(A,E.mode,k),A.return=E,A}if(Hc(A)||jl(A))return A=Fo(A,E.mode,k,null),A.return=E,A;jc(E,A)}return null}function w(E,A,k,M){var R=A!==null?A.key:null;if(typeof k=="string"||typeof k=="number")return R!==null?null:l(E,A,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case pu:return k.key===R?k.type===Xi?g(E,A,k.props.children,M,R):c(E,A,k,M):null;case ia:return k.key===R?d(E,A,k,M):null}if(Hc(k)||jl(k))return R!==null?null:g(E,A,k,M,null);jc(E,k)}return null}function T(E,A,k,M,R){if(typeof M=="string"||typeof M=="number")return E=E.get(k)||null,l(A,E,""+M,R);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case pu:return E=E.get(M.key===null?k:M.key)||null,M.type===Xi?g(A,E,M.props.children,R,M.key):c(A,E,M,R);case ia:return E=E.get(M.key===null?k:M.key)||null,d(A,E,M,R)}if(Hc(M)||jl(M))return E=E.get(k)||null,g(A,E,M,R,null);jc(A,M)}return null}function S(E,A,k,M){for(var R=null,V=null,L=A,j=A=0,W=null;L!==null&&j<k.length;j++){L.index>j?(W=L,L=null):W=L.sibling;var U=w(E,L,k[j],M);if(U===null){L===null&&(L=W);break}t&&L&&U.alternate===null&&e(E,L),A=s(U,A,j),V===null?R=U:V.sibling=U,V=U,L=W}if(j===k.length)return r(E,L),R;if(L===null){for(;j<k.length;j++)L=_(E,k[j],M),L!==null&&(A=s(L,A,j),V===null?R=L:V.sibling=L,V=L);return R}for(L=n(E,L);j<k.length;j++)W=T(L,E,j,k[j],M),W!==null&&(t&&W.alternate!==null&&L.delete(W.key===null?j:W.key),A=s(W,A,j),V===null?R=W:V.sibling=W,V=W);return t&&L.forEach(function($){return e(E,$)}),R}function P(E,A,k,M){var R=jl(k);if(typeof R!="function")throw Error(ee(150));if(k=R.call(k),k==null)throw Error(ee(151));for(var V=R=null,L=A,j=A=0,W=null,U=k.next();L!==null&&!U.done;j++,U=k.next()){L.index>j?(W=L,L=null):W=L.sibling;var $=w(E,L,U.value,M);if($===null){L===null&&(L=W);break}t&&L&&$.alternate===null&&e(E,L),A=s($,A,j),V===null?R=$:V.sibling=$,V=$,L=W}if(U.done)return r(E,L),R;if(L===null){for(;!U.done;j++,U=k.next())U=_(E,U.value,M),U!==null&&(A=s(U,A,j),V===null?R=U:V.sibling=U,V=U);return R}for(L=n(E,L);!U.done;j++,U=k.next())U=T(L,E,j,U.value,M),U!==null&&(t&&U.alternate!==null&&L.delete(U.key===null?j:U.key),A=s(U,A,j),V===null?R=U:V.sibling=U,V=U);return t&&L.forEach(function(J){return e(E,J)}),R}return function(E,A,k,M){var R=typeof k=="object"&&k!==null&&k.type===Xi&&k.key===null;R&&(k=k.props.children);var V=typeof k=="object"&&k!==null;if(V)switch(k.$$typeof){case pu:e:{for(V=k.key,R=A;R!==null;){if(R.key===V){switch(R.tag){case 7:if(k.type===Xi){r(E,R.sibling),A=i(R,k.props.children),A.return=E,E=A;break e}break;default:if(R.elementType===k.type){r(E,R.sibling),A=i(R,k.props),A.ref=Kl(E,R,k),A.return=E,E=A;break e}}r(E,R);break}else e(E,R);R=R.sibling}k.type===Xi?(A=Fo(k.props.children,E.mode,M,k.key),A.return=E,E=A):(M=Nf(k.type,k.key,k.props,null,E.mode,M),M.ref=Kl(E,A,k),M.return=E,E=M)}return a(E);case ia:e:{for(R=k.key;A!==null;){if(A.key===R)if(A.tag===4&&A.stateNode.containerInfo===k.containerInfo&&A.stateNode.implementation===k.implementation){r(E,A.sibling),A=i(A,k.children||[]),A.return=E,E=A;break e}else{r(E,A);break}else e(E,A);A=A.sibling}A=Ig(k,E.mode,M),A.return=E,E=A}return a(E)}if(typeof k=="string"||typeof k=="number")return k=""+k,A!==null&&A.tag===6?(r(E,A.sibling),A=i(A,k),A.return=E,E=A):(r(E,A),A=Cg(k,E.mode,M),A.return=E,E=A),a(E);if(Hc(k))return S(E,A,k,M);if(jl(k))return P(E,A,k,M);if(V&&jc(E,k),typeof k>"u"&&!R)switch(E.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ee(152,Io(E.type)||"Component"))}return r(E,A)}}var dd=BC(!0),VC=BC(!1),Yh={},Gn=Ps(Yh),rh=Ps(Yh),nh=Ps(Yh);function oa(t){if(t===Yh)throw Error(ee(174));return t}function Jm(t,e){switch(At(nh,e),At(rh,t),At(Gn,Yh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lm(e,t)}gt(Gn),At(Gn,e)}function Yo(){gt(Gn),gt(rh),gt(nh)}function zb(t){oa(nh.current);var e=oa(Gn.current),r=Lm(e,t.type);e!==r&&(At(rh,t),At(Gn,r))}function A_(t){rh.current===t&&(gt(Gn),gt(rh))}var Pt=Ps(0);function pd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pi=null,Zi=null,Yn=!1;function zC(t,e){var r=un(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function $b(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function ey(t){if(Yn){var e=Zi;if(e){var r=e;if(!$b(t,e)){if(e=Oo(r.nextSibling),!e||!$b(t,e)){t.flags=t.flags&-1025|2,Yn=!1,pi=t;return}zC(pi,r)}pi=t,Zi=Oo(e.firstChild)}else t.flags=t.flags&-1025|2,Yn=!1,pi=t}}function Hb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pi=t}function Wc(t){if(t!==pi)return!1;if(!Yn)return Hb(t),Yn=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Xm(e,t.memoizedProps))for(e=Zi;e;)zC(t,e),e=Oo(e.nextSibling);if(Hb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Zi=Oo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Zi=null}}else Zi=pi?Oo(t.stateNode.nextSibling):null;return!0}function bg(){Zi=pi=null,Yn=!1}var Do=[];function k_(){for(var t=0;t<Do.length;t++)Do[t]._workInProgressVersionPrimary=null;Do.length=0}var ku=Na.ReactCurrentDispatcher,cn=Na.ReactCurrentBatchConfig,ih=0,Dt=null,dr=null,ir=null,vd=!1,Ou=!1;function Ur(){throw Error(ee(321))}function O_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ln(t[r],e[r]))return!1;return!0}function M_(t,e,r,n,i,s){if(ih=s,Dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ku.current=t===null||t.memoizedState===null?RL:NL,t=r(n,i),Ou){s=0;do{if(Ou=!1,!(25>s))throw Error(ee(301));s+=1,ir=dr=null,e.updateQueue=null,ku.current=FL,t=r(n,i)}while(Ou)}if(ku.current=_d,e=dr!==null&&dr.next!==null,ih=0,ir=dr=Dt=null,vd=!1,e)throw Error(ee(300));return t}function la(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?Dt.memoizedState=ir=t:ir=ir.next=t,ir}function La(){if(dr===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=dr.next;var e=ir===null?Dt.memoizedState:ir.next;if(e!==null)ir=e,dr=t;else{if(t===null)throw Error(ee(310));dr=t,t={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},ir===null?Dt.memoizedState=ir=t:ir=ir.next=t}return ir}function Un(t,e){return typeof e=="function"?e(t):e}function Ql(t){var e=La(),r=e.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=dr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var l=a=s=null,c=i;do{var d=c.lane;if((ih&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===t?c.eagerState:t(n,c.action);else{var g={lane:d,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};l===null?(a=l=g,s=n):l=l.next=g,Dt.lanes|=d,Xh|=d}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=a,ln(n,e.memoizedState)||(bn=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function Zl(t){var e=La(),r=e.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ln(s,e.memoizedState)||(bn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function jb(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(ih&t)===t)&&(e._workInProgressVersionPrimary=n,Do.push(e))),t)return r(e._source);throw Do.push(e),Error(ee(350))}function $C(t,e,r,n){var i=kr;if(i===null)throw Error(ee(349));var s=e._getVersion,a=s(e._source),l=ku.current,c=l.useState(function(){return jb(i,e,r)}),d=c[1],g=c[0];c=ir;var _=t.memoizedState,w=_.refs,T=w.getSnapshot,S=_.source;_=_.subscribe;var P=Dt;return t.memoizedState={refs:w,source:e,subscribe:n},l.useEffect(function(){w.getSnapshot=r,w.setSnapshot=d;var E=s(e._source);if(!ln(a,E)){E=r(e._source),ln(g,E)||(d(E),E=us(P),i.mutableReadLanes|=E&i.pendingLanes),E=i.mutableReadLanes,i.entangledLanes|=E;for(var A=i.entanglements,k=E;0<k;){var M=31-_s(k),R=1<<M;A[M]|=E,k&=~R}}},[r,e,n]),l.useEffect(function(){return n(e._source,function(){var E=w.getSnapshot,A=w.setSnapshot;try{A(E(e._source));var k=us(P);i.mutableReadLanes|=k&i.pendingLanes}catch(M){A(function(){throw M})}})},[e,n]),ln(T,r)&&ln(S,e)&&ln(_,n)||(t={pending:null,dispatch:null,lastRenderedReducer:Un,lastRenderedState:g},t.dispatch=d=N_.bind(null,Dt,t),c.queue=t,c.baseQueue=null,g=jb(i,e,r),c.memoizedState=c.baseState=g),g}function HC(t,e,r){var n=La();return $C(n,t,e,r)}function Jl(t){var e=la();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Un,lastRenderedState:t},t=t.dispatch=N_.bind(null,Dt,t),[e.memoizedState,t]}function gd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Dt.updateQueue,e===null?(e={lastEffect:null},Dt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Wb(t){var e=la();return t={current:t},e.memoizedState=t}function md(){return La().memoizedState}function ty(t,e,r,n){var i=la();Dt.flags|=t,i.memoizedState=gd(1|e,r,void 0,n===void 0?null:n)}function D_(t,e,r,n){var i=La();n=n===void 0?null:n;var s=void 0;if(dr!==null){var a=dr.memoizedState;if(s=a.destroy,n!==null&&O_(n,a.deps)){gd(e,r,s,n);return}}Dt.flags|=t,i.memoizedState=gd(1|e,r,s,n)}function Gb(t,e){return ty(516,4,t,e)}function yd(t,e){return D_(516,4,t,e)}function jC(t,e){return D_(4,2,t,e)}function WC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GC(t,e,r){return r=r!=null?r.concat([t]):null,D_(4,2,WC.bind(null,e,t),r)}function R_(){}function YC(t,e){var r=La();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&O_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function XC(t,e){var r=La();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&O_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function DL(t,e){var r=Go();ba(98>r?98:r,function(){t(!0)}),ba(97<r?97:r,function(){var n=cn.transition;cn.transition=1;try{t(!1),e()}finally{cn.transition=n}})}function N_(t,e,r){var n=Kr(),i=us(t),s={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s,a=t.alternate,t===Dt||a!==null&&a===Dt)Ou=vd=!0;else{if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,c=a(l,r);if(s.eagerReducer=a,s.eagerState=c,ln(c,l))return}catch{}finally{}hs(t,i,n)}}var _d={readContext:dn,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useLayoutEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useMutableSource:Ur,useOpaqueIdentifier:Ur,unstable_isNewReconciler:!1},RL={readContext:dn,useCallback:function(t,e){return la().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:Gb,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ty(4,2,WC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ty(4,2,t,e)},useMemo:function(t,e){var r=la();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=la();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=N_.bind(null,Dt,t),[n.memoizedState,t]},useRef:Wb,useState:Jl,useDebugValue:R_,useDeferredValue:function(t){var e=Jl(t),r=e[0],n=e[1];return Gb(function(){var i=cn.transition;cn.transition=1;try{n(t)}finally{cn.transition=i}},[t]),r},useTransition:function(){var t=Jl(!1),e=t[0];return t=DL.bind(null,t[1]),Wb(t),[t,e]},useMutableSource:function(t,e,r){var n=la();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},$C(n,t,e,r)},useOpaqueIdentifier:function(){if(Yn){var t=!1,e=IL(function(){throw t||(t=!0,r("r:"+(_g++).toString(36))),Error(ee(355))}),r=Jl(e)[1];return!(Dt.mode&2)&&(Dt.flags|=516,gd(5,function(){r("r:"+(_g++).toString(36))},void 0,null)),e}return e="r:"+(_g++).toString(36),Jl(e),e},unstable_isNewReconciler:!1},NL={readContext:dn,useCallback:YC,useContext:dn,useEffect:yd,useImperativeHandle:GC,useLayoutEffect:jC,useMemo:XC,useReducer:Ql,useRef:md,useState:function(){return Ql(Un)},useDebugValue:R_,useDeferredValue:function(t){var e=Ql(Un),r=e[0],n=e[1];return yd(function(){var i=cn.transition;cn.transition=1;try{n(t)}finally{cn.transition=i}},[t]),r},useTransition:function(){var t=Ql(Un)[0];return[md().current,t]},useMutableSource:HC,useOpaqueIdentifier:function(){return Ql(Un)[0]},unstable_isNewReconciler:!1},FL={readContext:dn,useCallback:YC,useContext:dn,useEffect:yd,useImperativeHandle:GC,useLayoutEffect:jC,useMemo:XC,useReducer:Zl,useRef:md,useState:function(){return Zl(Un)},useDebugValue:R_,useDeferredValue:function(t){var e=Zl(Un),r=e[0],n=e[1];return yd(function(){var i=cn.transition;cn.transition=1;try{n(t)}finally{cn.transition=i}},[t]),r},useTransition:function(){var t=Zl(Un)[0];return[md().current,t]},useMutableSource:HC,useOpaqueIdentifier:function(){return Zl(Un)[0]},unstable_isNewReconciler:!1},LL=Na.ReactCurrentOwner,bn=!1;function zr(t,e,r,n){e.child=t===null?VC(e,null,r,n):dd(e,t.child,r,n)}function Yb(t,e,r,n,i){r=r.render;var s=e.ref;return Mo(e,i),n=M_(t,e,r,n,s,i),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,vi(t,e,i)):(e.flags|=1,zr(t,e,n,i),e.child)}function Xb(t,e,r,n,i,s){if(t===null){var a=r.type;return typeof a=="function"&&!z_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,qC(t,e,a,n,i,s)):(t=Nf(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,!(i&s)&&(i=a.memoizedProps,r=r.compare,r=r!==null?r:Zu,r(i,n)&&t.ref===e.ref)?vi(t,e,s):(e.flags|=1,t=bs(a,n),t.ref=e.ref,t.return=e,e.child=t)}function qC(t,e,r,n,i,s){if(t!==null&&Zu(t.memoizedProps,n)&&t.ref===e.ref)if(bn=!1,(s&i)!==0)t.flags&16384&&(bn=!0);else return e.lanes=t.lanes,vi(t,e,s);return ry(t,e,r,n,s)}function Tg(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},Yc(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},Yc(e,s!==null?s.baseLanes:r);else return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Yc(e,t),null;else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Yc(e,n);return zr(t,e,i,r),e.child}function KC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function ry(t,e,r,n,i){var s=Hr(r)?xa:Tr.current;return s=Wo(e,s),Mo(e,i),r=M_(t,e,r,n,s,i),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,vi(t,e,i)):(e.flags|=1,zr(t,e,r,i),e.child)}function qb(t,e,r,n,i){if(Hr(r)){var s=!0;kf(e)}else s=!1;if(Mo(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),UC(e,r,n),Zm(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=dn(d):(d=Hr(r)?xa:Tr.current,d=Wo(e,d));var g=r.getDerivedStateFromProps,_=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";_||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Vb(e,a,n,d),Yi=!1;var w=e.memoizedState;a.state=w,th(e,n,a,i),c=e.memoizedState,l!==n||w!==c||$r.current||Yi?(typeof g=="function"&&(fd(e,r,g,n),c=e.memoizedState),(l=Yi||Bb(e,r,l,n,w,c,d))?(_||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4)):(typeof a.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=d,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{a=e.stateNode,FC(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:_n(e.type,l),a.props=d,_=e.pendingProps,w=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=dn(c):(c=Hr(r)?xa:Tr.current,c=Wo(e,c));var T=r.getDerivedStateFromProps;(g=typeof T=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==_||w!==c)&&Vb(e,a,n,c),Yi=!1,w=e.memoizedState,a.state=w,th(e,n,a,i);var S=e.memoizedState;l!==_||w!==S||$r.current||Yi?(typeof T=="function"&&(fd(e,r,T,n),S=e.memoizedState),(d=Yi||Bb(e,r,d,n,w,S,c))?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,S,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,S,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=S),a.props=n,a.state=S,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=256),n=!1)}return ny(t,e,r,n,s,i)}function ny(t,e,r,n,i,s){KC(t,e);var a=(e.flags&64)!==0;if(!n&&!a)return i&&Rb(e,r,!1),vi(t,e,s);n=e.stateNode,LL.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=dd(e,t.child,null,s),e.child=dd(e,null,l,s)):zr(t,e,l,s),e.memoizedState=n.state,i&&Rb(e,r,!0),e.child}function Kb(t){var e=t.stateNode;e.pendingContext?Db(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Db(t,e.context,!1),Jm(t,e.containerInfo)}var Gc={dehydrated:null,retryLane:0};function Qb(t,e,r){var n=e.pendingProps,i=Pt.current,s=!1,a;return(a=(e.flags&64)!==0)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),At(Pt,i&1),t===null?(n.fallback!==void 0&&ey(e),t=n.children,i=n.fallback,s?(t=Zb(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Gc,t):typeof n.unstable_expectedLoadTime=="number"?(t=Zb(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Gc,e.lanes=33554432,t):(r=$_({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?s?(n=eT(t,e,n.children,n.fallback,r),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},s.childLanes=t.childLanes&~r,e.memoizedState=Gc,n):(r=Jb(t,e,n.children,r),e.memoizedState=null,r):s?(n=eT(t,e,n.children,n.fallback,r),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},s.childLanes=t.childLanes&~r,e.memoizedState=Gc,n):(r=Jb(t,e,n.children,r),e.memoizedState=null,r)}function Zb(t,e,r,n){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=e):s=$_(e,i,0,null),r=Fo(r,i,n,null),s.return=t,r.return=t,s.sibling=r,t.child=s,r}function Jb(t,e,r,n){var i=t.child;return t=i.sibling,r=bs(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function eT(t,e,r,n,i){var s=e.mode,a=t.child;t=a.sibling;var l={mode:"hidden",children:r};return!(s&2)&&e.child!==a?(r=e.child,r.childLanes=0,r.pendingProps=l,a=r.lastEffect,a!==null?(e.firstEffect=r.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):r=bs(a,l),t!==null?n=bs(t,n):(n=Fo(n,s,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function tT(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),NC(t.return,e)}function Sg(t,e,r,n,i,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=s)}function rT(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(zr(t,e,n.children,r),n=Pt.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tT(t,r);else if(t.tag===19)tT(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(At(Pt,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&pd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Sg(e,!1,i,r,s,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Sg(e,!0,r,null,s,e.lastEffect);break;case"together":Sg(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function vi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Xh|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,r=bs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=bs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var QC,iy,ZC,JC;QC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};iy=function(){};ZC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,oa(Gn.current);var s=null;switch(r){case"input":i=Om(t,i),n=Om(t,n),s=[];break;case"option":i=Rm(t,i),n=Rm(t,n),s=[];break;case"select":i=St({},i,{value:void 0}),n=St({},n,{value:void 0}),s=[];break;case"textarea":i=Nm(t,i),n=Nm(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ad)}Um(r,n);var a;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Wu.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Wu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&vt("scroll",t),s||l===c||(s=[])):typeof c=="object"&&c!==null&&c.$$typeof===l_?c.toString():(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};JC=function(t,e,r,n){r!==n&&(e.flags|=4)};function eu(t,e){if(!Yn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function UL(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Hr(e.type)&&ld(),null;case 3:return Yo(),gt($r),gt(Tr),k_(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Wc(e)?e.flags|=4:n.hydrate||(e.flags|=256)),iy(e),null;case 5:A_(e);var i=oa(nh.current);if(r=e.type,t!==null&&e.stateNode!=null)ZC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(ee(166));return null}if(t=oa(Gn.current),Wc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Qi]=e,n[od]=s,r){case"dialog":vt("cancel",n),vt("close",n);break;case"iframe":case"object":case"embed":vt("load",n);break;case"video":case"audio":for(t=0;t<gu.length;t++)vt(gu[t],n);break;case"source":vt("error",n);break;case"img":case"image":case"link":vt("error",n),vt("load",n);break;case"details":vt("toggle",n);break;case"input":rb(n,s),vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},vt("invalid",n);break;case"textarea":ib(n,s),vt("invalid",n)}Um(r,s),t=null;for(var a in s)s.hasOwnProperty(a)&&(i=s[a],a==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):Wu.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&vt("scroll",n));switch(r){case"input":Bc(n),nb(n,s,!0);break;case"textarea":Bc(n),sb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ad)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,t===Fm.html&&(t=G2(r)),t===Fm.html?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Qi]=e,t[od]=n,QC(t,e,!1,!1),e.stateNode=t,a=Bm(r,n),r){case"dialog":vt("cancel",t),vt("close",t),i=n;break;case"iframe":case"object":case"embed":vt("load",t),i=n;break;case"video":case"audio":for(i=0;i<gu.length;i++)vt(gu[i],t);i=n;break;case"source":vt("error",t),i=n;break;case"img":case"image":case"link":vt("error",t),vt("load",t),i=n;break;case"details":vt("toggle",t),i=n;break;case"input":rb(t,n),i=Om(t,n),vt("invalid",t);break;case"option":i=Rm(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=St({},n,{value:void 0}),vt("invalid",t);break;case"textarea":ib(t,n),i=Nm(t,n),vt("invalid",t);break;default:i=n}Um(r,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?q2(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Y2(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Gu(t,c):typeof c=="number"&&Gu(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wu.hasOwnProperty(s)?c!=null&&s==="onScroll"&&vt("scroll",t):c!=null&&r_(t,s,c,a))}switch(r){case"input":Bc(t),nb(t,n,!1);break;case"textarea":Bc(t),sb(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ys(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Po(t,!!n.multiple,s,!1):n.defaultValue!=null&&Po(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ad)}CC(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)JC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ee(166));r=oa(nh.current),oa(Gn.current),Wc(e)?(n=e.stateNode,r=e.memoizedProps,n[Qi]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qi]=e,e.stateNode=n)}return null;case 13:return gt(Pt),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&Wc(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Pt.current&1?or===0&&(or=3):((or===0||or===3)&&(or=4),kr===null||!(Xh&134217727)&&!(yl&134217727)||Ro(kr,_r))),(n||r)&&(e.flags|=4),null);case 4:return Yo(),iy(e),t===null&&TC(e.stateNode.containerInfo),null;case 10:return I_(e),null;case 17:return Hr(e.type)&&ld(),null;case 19:if(gt(Pt),n=e.memoizedState,n===null)return null;if(s=(e.flags&64)!==0,a=n.rendering,a===null)if(s)eu(n,!1);else{if(or!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(a=pd(t),a!==null){for(e.flags|=64,eu(n,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return At(Pt,Pt.current&1|2),e.child}t=t.sibling}n.tail!==null&&yr()>hy&&(e.flags|=64,s=!0,eu(n,!1),e.lanes=33554432)}else{if(!s)if(t=pd(a),t!==null){if(e.flags|=64,s=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),eu(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!Yn)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*yr()-n.renderingStartTime>hy&&r!==1073741824&&(e.flags|=64,s=!0,eu(n,!1),e.lanes=33554432);n.isBackwards?(a.sibling=e.child,e.child=a):(r=n.last,r!==null?r.sibling=a:e.child=a,n.last=a)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=yr(),r.sibling=null,e=Pt.current,At(Pt,s?e&1|2:e&1),r):null;case 23:case 24:return V_(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(ee(156,e.tag))}function BL(t){switch(t.tag){case 1:Hr(t.type)&&ld();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Yo(),gt($r),gt(Tr),k_(),e=t.flags,e&64)throw Error(ee(285));return t.flags=e&-4097|64,t;case 5:return A_(t),null;case 13:return gt(Pt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return gt(Pt),null;case 4:return Yo(),null;case 10:return I_(t),null;case 23:case 24:return V_(),null;default:return null}}function F_(t,e){try{var r="",n=e;do r+=_F(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function sy(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var VL=typeof WeakMap=="function"?WeakMap:Map;function eI(t,e,r){r=os(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){xd||(xd=!0,cy=n),sy(t,e)},r}function tI(t,e,r){r=os(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return sy(t,e),n(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this),sy(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}var zL=typeof WeakSet=="function"?WeakSet:Set;function nT(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){cs(t,r)}else e.current=null}function $L(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:_n(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&T_(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ee(163))}function HL(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&(hI(r,t),QL(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:_n(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&Ub(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}Ub(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&CC(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&sC(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ee(163))}function iT(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=X2("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function sT(t,e){if(pa&&typeof pa.onCommitFiberUnmount=="function")try{pa.onCommitFiberUnmount(S_,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)hI(e,r);else{n=e;try{i()}catch(s){cs(n,s)}}r=r.next}while(r!==t)}break;case 1:if(nT(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){cs(e,s)}break;case 5:nT(e);break;case 4:rI(t,e)}}function aT(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function oT(t){return t.tag===5||t.tag===3||t.tag===4}function lT(t){e:{for(var e=t.return;e!==null;){if(oT(e))break e;e=e.return}throw Error(ee(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(ee(161))}r.flags&16&&(Gu(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||oT(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?ay(t,r,e):oy(t,r,e)}function ay(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ad));else if(n!==4&&(t=t.child,t!==null))for(ay(t,e,r),t=t.sibling;t!==null;)ay(t,e,r),t=t.sibling}function oy(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(oy(t,e,r),t=t.sibling;t!==null;)oy(t,e,r),t=t.sibling}function rI(t,e){for(var r=e,n=!1,i,s;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(ee(160));switch(i=n.stateNode,n.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var a=t,l=r,c=l;;)if(sT(a,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s?(a=i,l=r.stateNode,a.nodeType===8?a.parentNode.removeChild(l):a.removeChild(l)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,s=!0,r.child.return=r,r=r.child;continue}}else if(sT(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Eg(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(r[od]=n,t==="input"&&n.type==="radio"&&n.name!=null&&j2(r,n),Bm(t,i),e=Bm(t,n),i=0;i<s.length;i+=2){var a=s[i],l=s[i+1];a==="style"?q2(r,l):a==="dangerouslySetInnerHTML"?Y2(r,l):a==="children"?Gu(r,l):r_(r,a,l,e)}switch(t){case"input":Mm(r,n);break;case"textarea":W2(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,s=n.value,s!=null?Po(r,!!n.multiple,s,!1):t!==!!n.multiple&&(n.defaultValue!=null?Po(r,!!n.multiple,n.defaultValue,!0):Po(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(ee(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,sC(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(B_=yr(),iT(e.child,!0)),uT(e);return;case 19:uT(e);return;case 17:return;case 23:case 24:iT(e,e.memoizedState!==null);return}throw Error(ee(163))}function uT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new zL),e.forEach(function(n){var i=e3.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function jL(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var WL=Math.ceil,wd=Na.ReactCurrentDispatcher,L_=Na.ReactCurrentOwner,Ae=0,kr=null,$t=null,_r=0,Ta=0,ly=Ps(0),or=0,yp=null,ml=0,Xh=0,yl=0,U_=0,uy=null,B_=0,hy=1/0;function _l(){hy=yr()+500}var de=null,xd=!1,cy=null,Bn=null,xs=!1,Mu=null,mu=90,fy=[],dy=[],wi=null,Du=0,py=null,Mf=-1,fi=0,Df=0,Ru=null,Rf=!1;function Kr(){return Ae&48?yr():Mf!==-1?Mf:Mf=yr()}function us(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Go()===99?1:2;if(fi===0&&(fi=ml),ML.transition!==0){Df!==0&&(Df=uy!==null?uy.pendingLanes:0),t=fi;var e=4186112&~Df;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Go(),Ae&4&&t===98?t=id(12,fi):(t=NF(t),t=id(t,fi)),t}function hs(t,e,r){if(50<Du)throw Du=0,py=null,Error(ee(185));if(t=_p(t,e),t===null)return null;cp(t,e,r),t===kr&&(yl|=e,or===4&&Ro(t,_r));var n=Go();e===1?Ae&8&&!(Ae&48)?vy(t):(pn(t,r),Ae===0&&(_l(),Jn())):(!(Ae&4)||n!==98&&n!==99||(wi===null?wi=new Set([t]):wi.add(t)),pn(t,r)),uy=t}function _p(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function pn(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-_s(a),c=1<<l,d=s[l];if(d===-1){if(!(c&n)||c&i){d=e,lo(c);var g=ft;s[l]=10<=g?d+250:6<=g?d+5e3:-1}}else d<=e&&(t.expiredLanes|=c);a&=~c}if(n=Ku(t,t===kr?_r:0),e=ft,n===0)r!==null&&(r!==wg&&Km(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==wg&&Km(r)}e===15?(r=vy.bind(null,t),ci===null?(ci=[r],Of=E_(gp,RC)):ci.push(r),r=wg):e===14?r=eh(99,vy.bind(null,t)):(r=FF(e),r=eh(r,nI.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function nI(t){if(Mf=-1,Df=fi=0,Ae&48)throw Error(ee(327));var e=t.callbackNode;if(As()&&t.callbackNode!==e)return null;var r=Ku(t,t===kr?_r:0);if(r===0)return null;var n=r,i=Ae;Ae|=16;var s=oI();(kr!==t||_r!==n)&&(_l(),No(t,n));do try{XL();break}catch(l){aI(t,l)}while(1);if(C_(),wd.current=s,Ae=i,$t!==null?n=0:(kr=null,_r=0,n=or),ml&yl)No(t,0);else if(n!==0){if(n===2&&(Ae|=64,t.hydrate&&(t.hydrate=!1,T_(t.containerInfo)),r=fC(t),r!==0&&(n=yu(t,r))),n===1)throw e=yp,No(t,0),Ro(t,r),pn(t,yr()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(ee(345));case 2:Qs(t);break;case 3:if(Ro(t,r),(r&62914560)===r&&(n=B_+500-yr(),10<n)){if(Ku(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kb(Qs.bind(null,t),n);break}Qs(t);break;case 4:if(Ro(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var a=31-_s(r);s=1<<a,a=n[a],a>i&&(i=a),r&=~s}if(r=i,r=yr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WL(r/1960))-r,10<r){t.timeoutHandle=kb(Qs.bind(null,t),r);break}Qs(t);break;case 5:Qs(t);break;default:throw Error(ee(329))}}return pn(t,yr()),t.callbackNode===e?nI.bind(null,t):null}function Ro(t,e){for(e&=~U_,e&=~yl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-_s(e),n=1<<r;t[r]=-1,e&=~n}}function vy(t){if(Ae&48)throw Error(ee(327));if(As(),t===kr&&t.expiredLanes&_r){var e=_r,r=yu(t,e);ml&yl&&(e=Ku(t,e),r=yu(t,e))}else e=Ku(t,0),r=yu(t,e);if(t.tag!==0&&r===2&&(Ae|=64,t.hydrate&&(t.hydrate=!1,T_(t.containerInfo)),e=fC(t),e!==0&&(r=yu(t,e))),r===1)throw r=yp,No(t,0),Ro(t,e),pn(t,yr()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qs(t),pn(t,yr()),null}function GL(){if(wi!==null){var t=wi;wi=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,pn(e,yr())})}Jn()}function iI(t,e){var r=Ae;Ae|=1;try{return t(e)}finally{Ae=r,Ae===0&&(_l(),Jn())}}function sI(t,e){var r=Ae;Ae&=-2,Ae|=8;try{return t(e)}finally{Ae=r,Ae===0&&(_l(),Jn())}}function Yc(t,e){At(ly,Ta),Ta|=e,ml|=e}function V_(){Ta=ly.current,gt(ly)}function No(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,CL(r)),$t!==null)for(r=$t.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&ld();break;case 3:Yo(),gt($r),gt(Tr),k_();break;case 5:A_(n);break;case 4:Yo();break;case 13:gt(Pt);break;case 19:gt(Pt);break;case 10:I_(n);break;case 23:case 24:V_()}r=r.return}kr=t,$t=bs(t.current,null),_r=Ta=ml=e,or=0,yp=null,U_=yl=Xh=0}function aI(t,e){do{var r=$t;try{if(C_(),ku.current=_d,vd){for(var n=Dt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}vd=!1}if(ih=0,ir=dr=Dt=null,Ou=!1,L_.current=null,r===null||r.return===null){or=1,yp=e,$t=null;break}e:{var s=t,a=r.return,l=r,c=e;if(e=_r,l.flags|=2048,l.firstEffect=l.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c;if(!(l.mode&2)){var g=l.alternate;g?(l.updateQueue=g.updateQueue,l.memoizedState=g.memoizedState,l.lanes=g.lanes):(l.updateQueue=null,l.memoizedState=null)}var _=(Pt.current&1)!==0,w=a;do{var T;if(T=w.tag===13){var S=w.memoizedState;if(S!==null)T=S.dehydrated!==null;else{var P=w.memoizedProps;T=P.fallback===void 0?!1:P.unstable_avoidThisFallback!==!0?!0:!_}}if(T){var E=w.updateQueue;if(E===null){var A=new Set;A.add(d),w.updateQueue=A}else E.add(d);if(!(w.mode&2)){if(w.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var k=os(-1,1);k.tag=2,ls(l,k)}l.lanes|=1;break e}c=void 0,l=e;var M=s.pingCache;if(M===null?(M=s.pingCache=new VL,c=new Set,M.set(d,c)):(c=M.get(d),c===void 0&&(c=new Set,M.set(d,c))),!c.has(l)){c.add(l);var R=JL.bind(null,s,d,l);d.then(R,R)}w.flags|=4096,w.lanes=e;break e}w=w.return}while(w!==null);c=Error((Io(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}or!==5&&(or=2),c=F_(c,l),w=a;do{switch(w.tag){case 3:s=c,w.flags|=4096,e&=-e,w.lanes|=e;var V=eI(w,s,e);Lb(w,V);break e;case 1:s=c;var L=w.type,j=w.stateNode;if(!(w.flags&64)&&(typeof L.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Bn===null||!Bn.has(j)))){w.flags|=4096,e&=-e,w.lanes|=e;var W=tI(w,s,e);Lb(w,W);break e}}w=w.return}while(w!==null)}uI(r)}catch(U){e=U,$t===r&&r!==null&&($t=r=r.return);continue}break}while(1)}function oI(){var t=wd.current;return wd.current=_d,t===null?_d:t}function yu(t,e){var r=Ae;Ae|=16;var n=oI();kr===t&&_r===e||No(t,e);do try{YL();break}catch(i){aI(t,i)}while(1);if(C_(),Ae=r,wd.current=n,$t!==null)throw Error(ee(261));return kr=null,_r=0,or}function YL(){for(;$t!==null;)lI($t)}function XL(){for(;$t!==null&&!AL();)lI($t)}function lI(t){var e=cI(t.alternate,t,Ta);t.memoizedProps=t.pendingProps,e===null?uI(t):$t=e,L_.current=null}function uI(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=BL(e),r!==null){r.flags&=2047,$t=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=UL(r,e,Ta),r!==null){$t=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||Ta&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){$t=e;return}$t=e=t}while(e!==null);or===0&&(or=5)}function Qs(t){var e=Go();return ba(99,qL.bind(null,t,e)),null}function qL(t,e){do As();while(Mu!==null);if(Ae&48)throw Error(ee(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ee(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var a=t.eventTimes,l=t.expirationTimes;0<s;){var c=31-_s(s),d=1<<c;i[c]=0,a[c]=-1,l[c]=-1,s&=~d}if(wi!==null&&!(n&24)&&wi.has(t)&&wi.delete(t),t===kr&&($t=kr=null,_r=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Ae,Ae|=32,L_.current=null,mg=If,a=Tb(),Wm(a)){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(d=l.getSelection&&l.getSelection())&&d.rangeCount!==0){l=d.anchorNode,s=d.anchorOffset,c=d.focusNode,d=d.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var g=0,_=-1,w=-1,T=0,S=0,P=a,E=null;t:for(;;){for(var A;P!==l||s!==0&&P.nodeType!==3||(_=g+s),P!==c||d!==0&&P.nodeType!==3||(w=g+d),P.nodeType===3&&(g+=P.nodeValue.length),(A=P.firstChild)!==null;)E=P,P=A;for(;;){if(P===a)break t;if(E===l&&++T===s&&(_=g),E===c&&++S===d&&(w=g),(A=P.nextSibling)!==null)break;P=E,E=P.parentNode}P=A}l=_===-1||w===-1?null:{start:_,end:w}}else l=null;l=l||{start:0,end:0}}else l=null;yg={focusedElem:a,selectionRange:l},If=!1,Ru=null,Rf=!1,de=n;do try{KL()}catch(U){if(de===null)throw Error(ee(330));cs(de,U),de=de.nextEffect}while(de!==null);Ru=null,de=n;do try{for(a=t;de!==null;){var k=de.flags;if(k&16&&Gu(de.stateNode,""),k&128){var M=de.alternate;if(M!==null){var R=M.ref;R!==null&&(typeof R=="function"?R(null):R.current=null)}}switch(k&1038){case 2:lT(de),de.flags&=-3;break;case 6:lT(de),de.flags&=-3,Eg(de.alternate,de);break;case 1024:de.flags&=-1025;break;case 1028:de.flags&=-1025,Eg(de.alternate,de);break;case 4:Eg(de.alternate,de);break;case 8:l=de,rI(a,l);var V=l.alternate;aT(l),V!==null&&aT(V)}de=de.nextEffect}}catch(U){if(de===null)throw Error(ee(330));cs(de,U),de=de.nextEffect}while(de!==null);if(R=yg,M=Tb(),k=R.focusedElem,a=R.selectionRange,M!==k&&k&&k.ownerDocument&&wC(k.ownerDocument.documentElement,k)){for(a!==null&&Wm(k)&&(M=a.start,R=a.end,R===void 0&&(R=M),"selectionStart"in k?(k.selectionStart=M,k.selectionEnd=Math.min(R,k.value.length)):(R=(M=k.ownerDocument||document)&&M.defaultView||window,R.getSelection&&(R=R.getSelection(),l=k.textContent.length,V=Math.min(a.start,l),a=a.end===void 0?V:Math.min(a.end,l),!R.extend&&V>a&&(l=a,a=V,V=l),l=bb(k,V),s=bb(k,a),l&&s&&(R.rangeCount!==1||R.anchorNode!==l.node||R.anchorOffset!==l.offset||R.focusNode!==s.node||R.focusOffset!==s.offset)&&(M=M.createRange(),M.setStart(l.node,l.offset),R.removeAllRanges(),V>a?(R.addRange(M),R.extend(s.node,s.offset)):(M.setEnd(s.node,s.offset),R.addRange(M)))))),M=[],R=k;R=R.parentNode;)R.nodeType===1&&M.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<M.length;k++)R=M[k],R.element.scrollLeft=R.left,R.element.scrollTop=R.top}If=!!mg,yg=mg=null,t.current=r,de=n;do try{for(k=t;de!==null;){var L=de.flags;if(L&36&&HL(k,de.alternate,de),L&128){M=void 0;var j=de.ref;if(j!==null){var W=de.stateNode;switch(de.tag){case 5:M=W;break;default:M=W}typeof j=="function"?j(M):j.current=M}}de=de.nextEffect}}catch(U){if(de===null)throw Error(ee(330));cs(de,U),de=de.nextEffect}while(de!==null);de=null,OL(),Ae=i}else t.current=r;if(xs)xs=!1,Mu=t,mu=e;else for(de=n;de!==null;)e=de.nextEffect,de.nextEffect=null,de.flags&8&&(L=de,L.sibling=null,L.stateNode=null),de=e;if(n=t.pendingLanes,n===0&&(Bn=null),n===1?t===py?Du++:(Du=0,py=t):Du=0,r=r.stateNode,pa&&typeof pa.onCommitFiberRoot=="function")try{pa.onCommitFiberRoot(S_,r,void 0,(r.current.flags&64)===64)}catch{}if(pn(t,yr()),xd)throw xd=!1,t=cy,cy=null,t;return Ae&8||Jn(),null}function KL(){for(;de!==null;){var t=de.alternate;Rf||Ru===null||(de.flags&8?lb(de,Ru)&&(Rf=!0):de.tag===13&&jL(t,de)&&lb(de,Ru)&&(Rf=!0));var e=de.flags;e&256&&$L(t,de),!(e&512)||xs||(xs=!0,eh(97,function(){return As(),null})),de=de.nextEffect}}function As(){if(mu!==90){var t=97<mu?97:mu;return mu=90,ba(t,ZL)}return!1}function QL(t,e){fy.push(e,t),xs||(xs=!0,eh(97,function(){return As(),null}))}function hI(t,e){dy.push(e,t),xs||(xs=!0,eh(97,function(){return As(),null}))}function ZL(){if(Mu===null)return!1;var t=Mu;if(Mu=null,Ae&48)throw Error(ee(331));var e=Ae;Ae|=32;var r=dy;dy=[];for(var n=0;n<r.length;n+=2){var i=r[n],s=r[n+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(c){if(s===null)throw Error(ee(330));cs(s,c)}}for(r=fy,fy=[],n=0;n<r.length;n+=2){i=r[n],s=r[n+1];try{var l=i.create;i.destroy=l()}catch(c){if(s===null)throw Error(ee(330));cs(s,c)}}for(l=t.current.firstEffect;l!==null;)t=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=t;return Ae=e,Jn(),!0}function hT(t,e,r){e=F_(r,e),e=eI(t,e,1),ls(t,e),e=Kr(),t=_p(t,1),t!==null&&(cp(t,1,e),pn(t,e))}function cs(t,e){if(t.tag===3)hT(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){hT(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bn===null||!Bn.has(n))){t=F_(e,t);var i=tI(r,t,1);if(ls(r,i),i=Kr(),r=_p(r,1),r!==null)cp(r,1,i),pn(r,i);else if(typeof n.componentDidCatch=="function"&&(Bn===null||!Bn.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function JL(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Kr(),t.pingedLanes|=t.suspendedLanes&r,kr===t&&(_r&r)===r&&(or===4||or===3&&(_r&62914560)===_r&&500>yr()-B_?No(t,0):U_|=r),pn(t,e)}function e3(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(fi===0&&(fi=ml),e=uo(62914560&~fi),e===0&&(e=4194304)):e=Go()===99?1:2:e=1),r=Kr(),t=_p(t,e),t!==null&&(cp(t,e,r),pn(t,r))}var cI;cI=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||$r.current)bn=!0;else if(r&n)bn=!!(t.flags&16384);else{switch(bn=!1,e.tag){case 3:Kb(e),bg();break;case 5:zb(e);break;case 1:Hr(e.type)&&kf(e);break;case 4:Jm(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;At(ud,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?Qb(t,e,r):(At(Pt,Pt.current&1),e=vi(t,e,r),e!==null?e.sibling:null);At(Pt,Pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return rT(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(Pt,Pt.current),n)break;return null;case 23:case 24:return e.lanes=0,Tg(t,e,r)}return vi(t,e,r)}else bn=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Wo(e,Tr.current),Mo(e,r),i=M_(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hr(n)){var s=!0;kf(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,P_(e);var a=n.getDerivedStateFromProps;typeof a=="function"&&fd(e,n,a,t),i.updater=mp,e.stateNode=i,i._reactInternals=e,Zm(e,n,t,r),e=ny(null,e,n,!0,s,r)}else e.tag=0,zr(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=r3(i),t=_n(i,t),s){case 0:e=ry(null,e,i,t,r);break e;case 1:e=qb(null,e,i,t,r);break e;case 11:e=Yb(null,e,i,t,r);break e;case 14:e=Xb(null,e,i,_n(i.type,t),n,r);break e}throw Error(ee(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_n(n,i),ry(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_n(n,i),qb(t,e,n,i,r);case 3:if(Kb(e),n=e.updateQueue,t===null||n===null)throw Error(ee(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,FC(t,e),th(e,n,null,r),n=e.memoizedState.element,n===i)bg(),e=vi(t,e,r);else{if(i=e.stateNode,(s=i.hydrate)&&(Zi=Oo(e.stateNode.containerInfo.firstChild),pi=e,s=Yn=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],Do.push(s);for(r=VC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else zr(t,e,n,r),bg();e=e.child}return e;case 5:return zb(e),t===null&&ey(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Xm(n,i)?a=null:s!==null&&Xm(n,s)&&(e.flags|=16),KC(t,e),zr(t,e,a,r),e.child;case 6:return t===null&&ey(e),null;case 13:return Qb(t,e,r);case 4:return Jm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=dd(e,null,n,r):zr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_n(n,i),Yb(t,e,n,i,r);case 7:return zr(t,e,e.pendingProps,r),e.child;case 8:return zr(t,e,e.pendingProps.children,r),e.child;case 12:return zr(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value;var l=e.type._context;if(At(ud,l._currentValue),l._currentValue=s,a!==null)if(l=a.value,s=ln(l,s)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(l,s):1073741823)|0,s===0){if(a.children===i.children&&!$r.current){e=vi(t,e,r);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){a=l.child;for(var d=c.firstContext;d!==null;){if(d.context===n&&d.observedBits&s){l.tag===1&&(d=os(-1,r&-r),d.tag=2,ls(l,d)),l.lanes|=r,d=l.alternate,d!==null&&(d.lanes|=r),NC(l.return,r),c.lanes|=r;break}d=d.next}}else a=l.tag===10&&l.type===e.type?null:l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===e){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}zr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,n=s.children,Mo(e,r),i=dn(i,s.unstable_observedBits),n=n(i),e.flags|=1,zr(t,e,n,r),e.child;case 14:return i=e.type,s=_n(i,e.pendingProps),s=_n(i.type,s),Xb(t,e,i,s,n,r);case 15:return qC(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_n(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Hr(n)?(t=!0,kf(e)):t=!1,Mo(e,r),UC(e,n,i),Zm(e,n,i,r),ny(null,e,n,!0,t,r);case 19:return rT(t,e,r);case 23:return Tg(t,e,r);case 24:return Tg(t,e,r)}throw Error(ee(156,e.tag))};function t3(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,e,r,n){return new t3(t,e,r,n)}function z_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function r3(t){if(typeof t=="function")return z_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lp)return 11;if(t===up)return 14}return 2}function bs(t,e){var r=t.alternate;return r===null?(r=un(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Nf(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")z_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Xi:return Fo(r.children,i,s,e);case z2:a=8,i|=16;break;case n_:a=8,i|=1;break;case Tu:return t=un(12,r,e,i|8),t.elementType=Tu,t.type=Tu,t.lanes=s,t;case Su:return t=un(13,r,e,i),t.type=Su,t.elementType=Su,t.lanes=s,t;case ed:return t=un(19,r,e,i),t.elementType=ed,t.lanes=s,t;case u_:return $_(r,i,s,e);case km:return t=un(24,r,e,i),t.elementType=km,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case i_:a=10;break e;case s_:a=9;break e;case lp:a=11;break e;case up:a=14;break e;case a_:a=16,n=null;break e;case o_:a=22;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=un(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Fo(t,e,r,n){return t=un(7,t,n,e),t.lanes=r,t}function $_(t,e,r,n){return t=un(23,t,n,e),t.elementType=u_,t.lanes=r,t}function Cg(t,e,r){return t=un(6,t,null,e),t.lanes=r,t}function Ig(t,e,r){return e=un(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function n3(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=hg(0),this.expirationTimes=hg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hg(0),this.mutableSourceEagerHydrationData=null}function i3(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ia,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function bd(t,e,r,n){var i=e.current,s=Kr(),a=us(i);e:if(r){r=r._reactInternals;t:{if(Fa(r)!==r||r.tag!==1)throw Error(ee(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Hr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(ee(171))}if(r.tag===1){var c=r.type;if(Hr(c)){r=PC(r,c,l);break e}}r=l}else r=ws;return e.context===null?e.context=r:e.pendingContext=r,e=os(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),ls(i,e),hs(i,a,s),a}function Pg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function H_(t,e){cT(t,e),(t=t.alternate)&&cT(t,e)}function s3(){return null}function j_(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new n3(t,e,r!=null&&r.hydrate===!0),e=un(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,P_(e),t[gl]=r.current,TC(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}j_.prototype.render=function(t){bd(t,this._internalRoot,null,null)};j_.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;bd(null,t,null,function(){e[gl]=null})};function qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a3(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new j_(t,0,e?{hydrate:!0}:void 0)}function wp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s._internalRoot;if(typeof i=="function"){var l=i;i=function(){var d=Pg(a);l.call(d)}}bd(e,a,t,i)}else{if(s=r._reactRootContainer=a3(r,n),a=s._internalRoot,typeof i=="function"){var c=i;i=function(){var d=Pg(a);c.call(d)}}sI(function(){bd(e,a,t,i)})}return Pg(a)}rC=function(t){if(t.tag===13){var e=Kr();hs(t,4,e),H_(t,4)}};p_=function(t){if(t.tag===13){var e=Kr();hs(t,67108864,e),H_(t,67108864)}};nC=function(t){if(t.tag===13){var e=Kr(),r=us(t);hs(t,r,e),H_(t,r)}};iC=function(t,e){return e()};Vm=function(t,e,r){switch(e){case"input":if(Mm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=vp(n);if(!i)throw Error(ee(90));H2(n),Mm(n,i)}}}break;case"textarea":W2(t,r);break;case"select":e=r.value,e!=null&&Po(t,!!r.multiple,e,!1)}};c_=iI;Z2=function(t,e,r,n,i){var s=Ae;Ae|=4;try{return ba(98,t.bind(null,e,r,n,i))}finally{Ae=s,Ae===0&&(_l(),Jn())}};f_=function(){!(Ae&49)&&(GL(),As())};J2=function(t,e){var r=Ae;Ae|=2;try{return t(e)}finally{Ae=r,Ae===0&&(_l(),Jn())}};function fI(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qh(e))throw Error(ee(200));return i3(t,e,null,r)}var o3={Events:[Gh,mo,vp,K2,Q2,As,{current:!1}]},tu={findFiberByHostInstance:aa,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},l3={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Na.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tC(t),t===null?null:t.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||s3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{S_=Xc.inject(l3),pa=Xc}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o3;vn.createPortal=fI;vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):Error(ee(268,Object.keys(t)));return t=tC(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t,e){var r=Ae;if(r&48)return t(e);Ae|=1;try{if(t)return ba(99,t.bind(null,e))}finally{Ae=r,Jn()}};vn.hydrate=function(t,e,r){if(!qh(e))throw Error(ee(200));return wp(null,t,e,!0,r)};vn.render=function(t,e,r){if(!qh(e))throw Error(ee(200));return wp(null,t,e,!1,r)};vn.unmountComponentAtNode=function(t){if(!qh(t))throw Error(ee(40));return t._reactRootContainer?(sI(function(){wp(null,null,t,!1,function(){t._reactRootContainer=null,t[gl]=null})}),!0):!1};vn.unstable_batchedUpdates=iI;vn.unstable_createPortal=function(t,e){return fI(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};vn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!qh(r))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return wp(t,e,r,!1,n)};vn.version="17.0.2";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}e(),t.exports=vn})(L2);const u3=x2(L2.exports);class dI{constructor(e,r,n,i){q(this,"x");q(this,"y");q(this,"distance");q(this,"angle");q(this,"getVector",(e,r)=>{let n=r*Math.PI/180;return this.x=e*Math.cos(n),this.y=e*Math.sin(n),this});let s=n-e,a=i-r;this.distance=Math.sqrt(s*s+a*a),this.angle=Math.atan2(a,s)*180/Math.PI}}var pI={exports:{}},Ag={exports:{}};/**
* A handy class to calculate color values.
*
* @version 1.0
* @author Robert Eisele <robert@xarg.org>
* @copyright Copyright (c) 2010, Robert Eisele
* @link http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/
* @license http://www.opensource.org/licenses/bsd-license.php BSD License
*
*/var fT;function h3(){return fT||(fT=1,function(t){(function(){function e(a,l){for(var c=2;c<arguments.length;c++)for(var d=0;d<arguments[c].length;d++)a[l++]=arguments[c].charAt(d)}function r(a){return String.fromCharCode(a>>8&255,a&255)}function n(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function i(a){return String.fromCharCode(a&255,a>>8&255)}var s=function(a,l,c){this.width=a,this.height=l,this.depth=c,this.pix_size=l*(a+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=4+4+13+4,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=4+4+3*c+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=4+4+c+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=4+4+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=4+4+4,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=new Array,this.palette=new Object,this.pindex=0;for(var d=new Array,g=0;g<this.buffer_size;g++)this.buffer[g]="\0";e(this.buffer,this.ihdr_offs,n(this.ihdr_size-12),"IHDR",n(a),n(l),"\b"),e(this.buffer,this.plte_offs,n(this.plte_size-12),"PLTE"),e(this.buffer,this.trns_offs,n(this.trns_size-12),"tRNS"),e(this.buffer,this.idat_offs,n(this.idat_size-12),"IDAT"),e(this.buffer,this.iend_offs,n(this.iend_size-12),"IEND");var _=8+(7<<4)<<8|3<<6;_+=31-_%31,e(this.buffer,this.idat_offs+8,r(_));for(var g=0;(g<<16)-1<this.pix_size;g++){var w,T;g+65535<this.pix_size?(w=65535,T="\0"):(w=this.pix_size-(g<<16)-g,T=""),e(this.buffer,this.idat_offs+8+2+(g<<16)+(g<<2),T,i(w),i(~w))}for(var g=0;g<256;g++){for(var S=g,P=0;P<8;P++)S&1?S=-306674912^S>>1&2147483647:S=S>>1&2147483647;d[g]=S}this.index=function(E,A){var k=A*(this.width+1)+E+1,M=this.idat_offs+8+2+5*Math.floor(k/65535+1)+k;return M},this.color=function(E,A,k,M){M=M>=0?M:255;var R=((M<<8|E)<<8|A)<<8|k;if(typeof this.palette[R]>"u"){if(this.pindex==this.depth)return"\0";var V=this.plte_offs+8+3*this.pindex;this.buffer[V+0]=String.fromCharCode(E),this.buffer[V+1]=String.fromCharCode(A),this.buffer[V+2]=String.fromCharCode(k),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(M),this.palette[R]=String.fromCharCode(this.pindex++)}return this.palette[R]},this.getBase64=function(){var E=this.getDump(),A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k,M,R,V,L,j,W,U=E.length,$=0,J="";do k=E.charCodeAt($),V=k>>2,M=E.charCodeAt($+1),L=(k&3)<<4|M>>4,R=E.charCodeAt($+2),U<$+2?j=64:j=(M&15)<<2|R>>6,U<$+3?W=64:W=R&63,J+=A.charAt(V)+A.charAt(L)+A.charAt(j)+A.charAt(W);while(($+=3)<U);return J},this.getDump=function(){for(var E=65521,A=5552,k=1,M=0,R=A,V=0;V<this.height;V++)for(var L=-1;L<this.width;L++)k+=this.buffer[this.index(L,V)].charCodeAt(0),M+=k,(R-=1)==0&&(k%=E,M%=E,R=A);k%=E,M%=E,e(this.buffer,this.idat_offs+this.idat_size-8,n(M<<16|k));function j(W,U,$){for(var J=-1,se=4;se<$-4;se+=1)J=d[(J^W[U+se].charCodeAt(0))&255]^J>>8&16777215;e(W,U+$-4,n(J^-1))}return j(this.buffer,this.ihdr_offs,this.ihdr_size),j(this.buffer,this.plte_offs,this.plte_size),j(this.buffer,this.trns_offs,this.trns_size),j(this.buffer,this.idat_offs,this.idat_size),j(this.buffer,this.iend_offs,this.iend_size),`PNG\r

`+this.buffer.join("")}};t.exports=s})()}(Ag)),Ag.exports}(function(t){(function(){var e;e=h3();var r=function(i,s){if(typeof i!="string"||i.length<15)throw"A hash of at least 15 characters is required.";this.defaults={background:[240,240,240,255],margin:.08,size:64,saturation:.7,brightness:.5,format:"png"},this.options=typeof s=="object"?s:this.defaults,typeof arguments[1]=="number"&&(this.options.size=arguments[1]),arguments[2]&&(this.options.margin=arguments[2]),this.hash=i,this.background=this.options.background||this.defaults.background,this.size=this.options.size||this.defaults.size,this.format=this.options.format||this.defaults.format,this.margin=this.options.margin!==void 0?this.options.margin:this.defaults.margin;var a=parseInt(this.hash.substr(-7),16)/268435455,l=this.options.saturation||this.defaults.saturation,c=this.options.brightness||this.defaults.brightness;this.foreground=this.options.foreground||this.hsl2rgb(a,l,c)};r.prototype={background:null,foreground:null,hash:null,margin:null,size:null,format:null,image:function(){return this.isSvg()?new n(this.size,this.foreground,this.background):new e(this.size,this.size,256)},render:function(){var i=this.image(),s=this.size,a=Math.floor(s*this.margin),l=Math.floor((s-a*2)/5),c=Math.floor((s-l*5)/2),d=i.color.apply(i,this.background),g=i.color.apply(i,this.foreground),_,w;for(_=0;_<15;_++)w=parseInt(this.hash.charAt(_),16)%2?d:g,_<5?this.rectangle(2*l+c,_*l+c,l,l,w,i):_<10?(this.rectangle(1*l+c,(_-5)*l+c,l,l,w,i),this.rectangle(3*l+c,(_-5)*l+c,l,l,w,i)):_<15&&(this.rectangle(0*l+c,(_-10)*l+c,l,l,w,i),this.rectangle(4*l+c,(_-10)*l+c,l,l,w,i));return i},rectangle:function(i,s,a,l,c,d){if(this.isSvg())d.rectangles.push({x:i,y:s,w:a,h:l,color:c});else{var g,_;for(g=i;g<i+a;g++)for(_=s;_<s+l;_++)d.buffer[d.index(g,_)]=c}},hsl2rgb:function(i,s,a){return i*=6,s=[a+=s*=a<.5?a:1-a,a-i%1*s*2,a-=s*=2,a,a+i%1*s,a+s],[s[~~i%6]*255,s[(i|16)%6]*255,s[(i|8)%6]*255]},toString:function(i){return i?this.render().getDump():this.render().getBase64()},isSvg:function(){return this.format.match(/svg/i)}};var n=function(i,s,a){this.size=i,this.foreground=this.color.apply(this,s),this.background=this.color.apply(this,a),this.rectangles=[]};n.prototype={size:null,foreground:null,background:null,rectangles:null,color:function(i,s,a,l){var c=[i,s,a].map(Math.round);return c.push(l>=0&&l<=255?l/255:1),"rgba("+c.join(",")+")"},getDump:function(){var i,s,a,l=this.foreground,c=this.background,d=this.size*.005;for(s="<svg xmlns='http://www.w3.org/2000/svg' width='"+this.size+"' height='"+this.size+"' style='background-color:"+c+";'><g style='fill:"+l+"; stroke:"+l+"; stroke-width:"+d+";'>",i=0;i<this.rectangles.length;i++)a=this.rectangles[i],a.color!=c&&(s+="<rect  x='"+a.x+"' y='"+a.y+"' width='"+a.w+"' height='"+a.h+"'/>");return s+="</g></svg>",s},getBase64:function(){if(typeof btoa=="function")return btoa(this.getDump());if(Buffer)return new Buffer(this.getDump(),"binary").toString("base64");throw"Cannot generate base64 output"}},t.exports=r})()})(pI);const c3=pI.exports,dT=(t,e)=>{let r=t,n,i,s=e===void 0?2166136261:e;for(n=0,i=r.length;n<i;n++)s^=r.charCodeAt(n),s+=(s<<1)+(s<<4)+(s<<7)+(s<<8)+(s<<24);return("00000000"+(s>>>0).toString(16)).substr(-8)},gy=async t=>{const e=await crypto.subtle.digest("SHA-512",new TextEncoder().encode(t));return Array.prototype.map.call(new Uint8Array(e),r=>("00"+r.toString(16)).slice(-2)).join("")},wn=(t,e)=>{e=e??{};let r=dT(t,12345)+dT(t,54321);return("data:image/svg+xml;base64,"+new c3(r,{background:e.background??[24,27,33,1],margin:e.margin??0,size:e.size??60,format:e.format??"svg"})).toString()};var vI={};(function(t){(function(e){var r=e.Promise,n=r&&"resolve"in r&&"reject"in r&&"all"in r&&"race"in r&&function(){var U;return new r(function($){U=$}),typeof U=="function"}();t?(t.Promise=n?r:W,t.Polyfill=W):n||(e.Promise=W);var i="pending",s="sealed",a="fulfilled",l="rejected",c=function(){};function d(U){return Object.prototype.toString.call(U)==="[object Array]"}var g=typeof setImmediate<"u"?setImmediate:setTimeout,_=[],w;function T(){for(var U=0;U<_.length;U++)_[U][0](_[U][1]);_=[],w=!1}function S(U,$){_.push([U,$]),w||(w=!0,g(T,0))}function P(U,$){function J(te){k($,te)}function se(te){R($,te)}try{U(J,se)}catch(te){se(te)}}function E(U){var $=U.owner,J=$.state_,se=$.data_,te=U[J],Le=U.then;if(typeof te=="function"){J=a;try{se=te(se)}catch(oe){R(Le,oe)}}A(Le,se)||(J===a&&k(Le,se),J===l&&R(Le,se))}function A(U,$){var J;try{if(U===$)throw new TypeError("A promises callback cannot return that same promise.");if($&&(typeof $=="function"||typeof $=="object")){var se=$.then;if(typeof se=="function")return se.call($,function(te){J||(J=!0,$!==te?k(U,te):M(U,te))},function(te){J||(J=!0,R(U,te))}),!0}}catch(te){return J||R(U,te),!0}return!1}function k(U,$){(U===$||!A(U,$))&&M(U,$)}function M(U,$){U.state_===i&&(U.state_=s,U.data_=$,S(L,U))}function R(U,$){U.state_===i&&(U.state_=s,U.data_=$,S(j,U))}function V(U){var $=U.then_;U.then_=void 0;for(var J=0;J<$.length;J++)E($[J])}function L(U){U.state_=a,V(U)}function j(U){U.state_=l,V(U)}function W(U){if(typeof U!="function")throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof W))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],P(U,this)}W.prototype={constructor:W,state_:i,then_:null,data_:void 0,then:function(U,$){var J={owner:this,then:new this.constructor(c),fulfilled:U,rejected:$};return this.state_===a||this.state_===l?S(E,J):this.then_.push(J),J.then},catch:function(U){return this.then(null,U)}},W.all=function(U){var $=this;if(!d(U))throw new TypeError("You must pass an array to Promise.all().");return new $(function(J,se){var te=[],Le=0;function oe(et){return Le++,function(pt){te[et]=pt,--Le||J(te)}}for(var ue=0,re;ue<U.length;ue++)re=U[ue],re&&typeof re.then=="function"?re.then(oe(ue),se):te[ue]=re;Le||J(te)})},W.race=function(U){var $=this;if(!d(U))throw new TypeError("You must pass an array to Promise.race().");return new $(function(J,se){for(var te=0,Le;te<U.length;te++)Le=U[te],Le&&typeof Le.then=="function"?Le.then(J,se):J(Le)})},W.resolve=function(U){var $=this;return U&&typeof U=="object"&&U.constructor===$?U:new $(function(J){J(U)})},W.reject=function(U){var $=this;return new $(function(J,se){se(U)})}})(typeof window<"u"?window:typeof da<"u"?da:typeof self<"u"?self:da)})(vI);/*!
 * @pixi/polyfill - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */window.Promise||(window.Promise=vI.Polyfill);Object.assign||(Object.assign=X0);var f3=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(window.performance&&window.performance.now)){var d3=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-d3}}var kg=Date.now(),pT=["ms","moz","webkit","o"];for(var Og=0;Og<pT.length&&!window.requestAnimationFrame;++Og){var Mg=pT[Og];window.requestAnimationFrame=window[Mg+"RequestAnimationFrame"],window.cancelAnimationFrame=window[Mg+"CancelAnimationFrame"]||window[Mg+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=f3+kg-e;return r<0&&(r=0),kg=e,window.setTimeout(function(){kg=Date.now(),t(performance.now())},r)});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint8Array||(window.Uint8Array=Array);window.Int32Array||(window.Int32Array=Array);var Dg=/iPhone/i,vT=/iPod/i,gT=/iPad/i,mT=/\biOS-universal(?:.+)Mac\b/i,Rg=/\bAndroid(?:.+)Mobile\b/i,yT=/Android/i,no=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,qc=/Silk/i,oi=/Windows Phone/i,_T=/\bWindows(?:.+)ARM\b/i,wT=/BlackBerry/i,xT=/BB10/i,bT=/Opera Mini/i,TT=/\b(CriOS|Chrome)(?:.+)Mobile/i,ST=/Mobile(?:.+)Firefox\b/i,ET=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function p3(t){return function(e){return e.test(t)}}function v3(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=p3(r),s={apple:{phone:i(Dg)&&!i(oi),ipod:i(vT),tablet:!i(Dg)&&(i(gT)||ET(e))&&!i(oi),universal:i(mT),device:(i(Dg)||i(vT)||i(gT)||i(mT)||ET(e))&&!i(oi)},amazon:{phone:i(no),tablet:!i(no)&&i(qc),device:i(no)||i(qc)},android:{phone:!i(oi)&&i(no)||!i(oi)&&i(Rg),tablet:!i(oi)&&!i(no)&&!i(Rg)&&(i(qc)||i(yT)),device:!i(oi)&&(i(no)||i(qc)||i(Rg)||i(yT))||i(/\bokhttp\b/i)},windows:{phone:i(oi),tablet:i(_T),device:i(oi)||i(_T)},other:{blackberry:i(wT),blackberry10:i(xT),opera:i(bT),firefox:i(ST),chrome:i(TT),device:i(wT)||i(xT)||i(bT)||i(ST)||i(TT)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}/*!
 * @pixi/settings - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Vn=v3(window.navigator);function g3(t){var e=!0;if(Vn.tablet||Vn.phone){if(Vn.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(Vn.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function m3(){return!Vn.apple.device}var Te={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:g3(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:Vn.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:m3(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},gI={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,g){this.fn=c,this.context=d,this.once=g||!1}function s(c,d,g,_,w){if(typeof g!="function")throw new TypeError("The listener must be a function");var T=new i(g,_||c,w),S=r?r+d:d;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],T]:c._events[S].push(T):(c._events[S]=T,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],g,_;if(this._eventsCount===0)return d;for(_ in g=this._events)e.call(g,_)&&d.push(r?_.slice(1):_);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(g)):d},l.prototype.listeners=function(d){var g=r?r+d:d,_=this._events[g];if(!_)return[];if(_.fn)return[_.fn];for(var w=0,T=_.length,S=new Array(T);w<T;w++)S[w]=_[w].fn;return S},l.prototype.listenerCount=function(d){var g=r?r+d:d,_=this._events[g];return _?_.fn?1:_.length:0},l.prototype.emit=function(d,g,_,w,T,S){var P=r?r+d:d;if(!this._events[P])return!1;var E=this._events[P],A=arguments.length,k,M;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),A){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,g),!0;case 3:return E.fn.call(E.context,g,_),!0;case 4:return E.fn.call(E.context,g,_,w),!0;case 5:return E.fn.call(E.context,g,_,w,T),!0;case 6:return E.fn.call(E.context,g,_,w,T,S),!0}for(M=1,k=new Array(A-1);M<A;M++)k[M-1]=arguments[M];E.fn.apply(E.context,k)}else{var R=E.length,V;for(M=0;M<R;M++)switch(E[M].once&&this.removeListener(d,E[M].fn,void 0,!0),A){case 1:E[M].fn.call(E[M].context);break;case 2:E[M].fn.call(E[M].context,g);break;case 3:E[M].fn.call(E[M].context,g,_);break;case 4:E[M].fn.call(E[M].context,g,_,w);break;default:if(!k)for(V=1,k=new Array(A-1);V<A;V++)k[V-1]=arguments[V];E[M].fn.apply(E[M].context,k)}}return!0},l.prototype.on=function(d,g,_){return s(this,d,g,_,!1)},l.prototype.once=function(d,g,_){return s(this,d,g,_,!0)},l.prototype.removeListener=function(d,g,_,w){var T=r?r+d:d;if(!this._events[T])return this;if(!g)return a(this,T),this;var S=this._events[T];if(S.fn)S.fn===g&&(!w||S.once)&&(!_||S.context===_)&&a(this,T);else{for(var P=0,E=[],A=S.length;P<A;P++)(S[P].fn!==g||w&&!S[P].once||_&&S[P].context!==_)&&E.push(S[P]);E.length?this._events[T]=E.length===1?E[0]:E:a(this,T)}return this},l.prototype.removeAllListeners=function(d){var g;return d?(g=r?r+d:d,this._events[g]&&a(this,g)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(gI);const Kh=gI.exports;var xp={exports:{}};xp.exports=bp;xp.exports.default=bp;function bp(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=mI(t,0,i,r,!0),a=[];if(!s||s.next===s.prev)return a;var l,c,d,g,_,w,T;if(n&&(s=b3(t,e,s,r)),t.length>80*r){l=d=t[0],c=g=t[1];for(var S=r;S<i;S+=r)_=t[S],w=t[S+1],_<l&&(l=_),w<c&&(c=w),_>d&&(d=_),w>g&&(g=w);T=Math.max(d-l,g-c),T=T!==0?32767/T:0}return sh(s,a,r,l,c,T,0),a}function mI(t,e,r,n,i){var s,a;if(i===_y(t,e,r,n)>0)for(s=e;s<r;s+=n)a=CT(s,t[s],t[s+1],a);else for(s=r-n;s>=e;s-=n)a=CT(s,t[s],t[s+1],a);return a&&Tp(a,a.next)&&(oh(a),a=a.next),a}function Sa(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Tp(r,r.next)||Ct(r.prev,r,r.next)===0)){if(oh(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function sh(t,e,r,n,i,s,a){if(t){!a&&s&&I3(t,n,i,s);for(var l=t,c,d;t.prev!==t.next;){if(c=t.prev,d=t.next,s?_3(t,n,i,s):y3(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(d.i/r|0),oh(t),t=d.next,l=d.next;continue}if(t=d,t===l){a?a===1?(t=w3(Sa(t),e,r),sh(t,e,r,n,i,s,2)):a===2&&x3(t,e,r,n,i,s):sh(Sa(t),e,r,n,i,s,1);break}}}}function y3(t){var e=t.prev,r=t,n=t.next;if(Ct(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,a=n.x,l=e.y,c=r.y,d=n.y,g=i<s?i<a?i:a:s<a?s:a,_=l<c?l<d?l:d:c<d?c:d,w=i>s?i>a?i:a:s>a?s:a,T=l>c?l>d?l:d:c>d?c:d,S=n.next;S!==e;){if(S.x>=g&&S.x<=w&&S.y>=_&&S.y<=T&&wo(i,l,s,c,a,d,S.x,S.y)&&Ct(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function _3(t,e,r,n){var i=t.prev,s=t,a=t.next;if(Ct(i,s,a)>=0)return!1;for(var l=i.x,c=s.x,d=a.x,g=i.y,_=s.y,w=a.y,T=l<c?l<d?l:d:c<d?c:d,S=g<_?g<w?g:w:_<w?_:w,P=l>c?l>d?l:d:c>d?c:d,E=g>_?g>w?g:w:_>w?_:w,A=my(T,S,e,r,n),k=my(P,E,e,r,n),M=t.prevZ,R=t.nextZ;M&&M.z>=A&&R&&R.z<=k;){if(M.x>=T&&M.x<=P&&M.y>=S&&M.y<=E&&M!==i&&M!==a&&wo(l,g,c,_,d,w,M.x,M.y)&&Ct(M.prev,M,M.next)>=0||(M=M.prevZ,R.x>=T&&R.x<=P&&R.y>=S&&R.y<=E&&R!==i&&R!==a&&wo(l,g,c,_,d,w,R.x,R.y)&&Ct(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;M&&M.z>=A;){if(M.x>=T&&M.x<=P&&M.y>=S&&M.y<=E&&M!==i&&M!==a&&wo(l,g,c,_,d,w,M.x,M.y)&&Ct(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;R&&R.z<=k;){if(R.x>=T&&R.x<=P&&R.y>=S&&R.y<=E&&R!==i&&R!==a&&wo(l,g,c,_,d,w,R.x,R.y)&&Ct(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function w3(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Tp(i,s)&&yI(i,n,n.next,s)&&ah(i,s)&&ah(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),oh(n),oh(n.next),n=t=s),n=n.next}while(n!==t);return Sa(n)}function x3(t,e,r,n,i,s){var a=t;do{for(var l=a.next.next;l!==a.prev;){if(a.i!==l.i&&k3(a,l)){var c=_I(a,l);a=Sa(a,a.next),c=Sa(c,c.next),sh(a,e,r,n,i,s,0),sh(c,e,r,n,i,s,0);return}l=l.next}a=a.next}while(a!==t)}function b3(t,e,r,n){var i=[],s,a,l,c,d;for(s=0,a=e.length;s<a;s++)l=e[s]*n,c=s<a-1?e[s+1]*n:t.length,d=mI(t,l,c,n,!1),d===d.next&&(d.steiner=!0),i.push(A3(d));for(i.sort(T3),s=0;s<i.length;s++)r=S3(i[s],r);return r}function T3(t,e){return t.x-e.x}function S3(t,e){var r=E3(t,e);if(!r)return e;var n=_I(r,t);return Sa(n,n.next),Sa(r,r.next)}function E3(t,e){var r=e,n=t.x,i=t.y,s=-1/0,a;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var l=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(l<=n&&l>s&&(s=l,a=r.x<r.next.x?r:r.next,l===n))return a}r=r.next}while(r!==e);if(!a)return null;var c=a,d=a.x,g=a.y,_=1/0,w;r=a;do n>=r.x&&r.x>=d&&n!==r.x&&wo(i<g?n:s,i,d,g,i<g?s:n,i,r.x,r.y)&&(w=Math.abs(i-r.y)/(n-r.x),ah(r,t)&&(w<_||w===_&&(r.x>a.x||r.x===a.x&&C3(a,r)))&&(a=r,_=w)),r=r.next;while(r!==c);return a}function C3(t,e){return Ct(t.prev,t,e.prev)<0&&Ct(e.next,t,t.next)<0}function I3(t,e,r,n){var i=t;do i.z===0&&(i.z=my(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,P3(i)}function P3(t){var e,r,n,i,s,a,l,c,d=1;do{for(r=t,t=null,s=null,a=0;r;){for(a++,n=r,l=0,e=0;e<d&&(l++,n=n.nextZ,!!n);e++);for(c=d;l>0||c>0&&n;)l!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,l--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,d*=2}while(a>1);return t}function my(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function A3(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function wo(t,e,r,n,i,s,a,l){return(i-a)*(e-l)>=(t-a)*(s-l)&&(t-a)*(n-l)>=(r-a)*(e-l)&&(r-a)*(s-l)>=(i-a)*(n-l)}function k3(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!O3(t,e)&&(ah(t,e)&&ah(e,t)&&M3(t,e)&&(Ct(t.prev,t,e.prev)||Ct(t,e.prev,e))||Tp(t,e)&&Ct(t.prev,t,t.next)>0&&Ct(e.prev,e,e.next)>0)}function Ct(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Tp(t,e){return t.x===e.x&&t.y===e.y}function yI(t,e,r,n){var i=Qc(Ct(t,e,r)),s=Qc(Ct(t,e,n)),a=Qc(Ct(r,n,t)),l=Qc(Ct(r,n,e));return!!(i!==s&&a!==l||i===0&&Kc(t,r,e)||s===0&&Kc(t,n,e)||a===0&&Kc(r,t,n)||l===0&&Kc(r,e,n))}function Kc(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Qc(t){return t>0?1:t<0?-1:0}function O3(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&yI(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function ah(t,e){return Ct(t.prev,t,t.next)<0?Ct(t,e,t.next)>=0&&Ct(t,t.prev,e)>=0:Ct(t,e,t.prev)<0||Ct(t,t.next,e)<0}function M3(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function _I(t,e){var r=new yy(t.i,t.x,t.y),n=new yy(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function CT(t,e,r,n){var i=new yy(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function oh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function yy(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}bp.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,a=Math.abs(_y(t,0,s,r));if(i)for(var l=0,c=e.length;l<c;l++){var d=e[l]*r,g=l<c-1?e[l+1]*r:t.length;a-=Math.abs(_y(t,d,g,r))}var _=0;for(l=0;l<n.length;l+=3){var w=n[l]*r,T=n[l+1]*r,S=n[l+2]*r;_+=Math.abs((t[w]-t[S])*(t[T+1]-t[w+1])-(t[w]-t[T])*(t[S+1]-t[w+1]))}return a===0&&_===0?0:Math.abs((_-a)/a)};function _y(t,e,r,n){for(var i=0,s=e,a=r-n;s<r;s+=n)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}bp.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var a=0;a<e;a++)r.vertices.push(t[i][s][a]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var wl={},wy={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof da=="object"&&da;(s.global===s||s.window===s||s.self===s)&&(r=s);var a,l=2147483647,c=36,d=1,g=26,_=38,w=700,T=72,S=128,P="-",E=/^xn--/,A=/[^\x20-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=c-d,V=Math.floor,L=String.fromCharCode,j;function W(he){throw RangeError(M[he])}function U(he,H){for(var X=he.length,ne=[];X--;)ne[X]=H(he[X]);return ne}function $(he,H){var X=he.split("@"),ne="";X.length>1&&(ne=X[0]+"@",he=X[1]),he=he.replace(k,".");var we=he.split("."),ie=U(we,H).join(".");return ne+ie}function J(he){for(var H=[],X=0,ne=he.length,we,ie;X<ne;)we=he.charCodeAt(X++),we>=55296&&we<=56319&&X<ne?(ie=he.charCodeAt(X++),(ie&64512)==56320?H.push(((we&1023)<<10)+(ie&1023)+65536):(H.push(we),X--)):H.push(we);return H}function se(he){return U(he,function(H){var X="";return H>65535&&(H-=65536,X+=L(H>>>10&1023|55296),H=56320|H&1023),X+=L(H),X}).join("")}function te(he){return he-48<10?he-22:he-65<26?he-65:he-97<26?he-97:c}function Le(he,H){return he+22+75*(he<26)-((H!=0)<<5)}function oe(he,H,X){var ne=0;for(he=X?V(he/w):he>>1,he+=V(he/H);he>R*g>>1;ne+=c)he=V(he/R);return V(ne+(R+1)*he/(he+_))}function ue(he){var H=[],X=he.length,ne,we=0,ie=S,Pe=T,$e,at,pe,_t,We,ge,ot,Lt,Ut;for($e=he.lastIndexOf(P),$e<0&&($e=0),at=0;at<$e;++at)he.charCodeAt(at)>=128&&W("not-basic"),H.push(he.charCodeAt(at));for(pe=$e>0?$e+1:0;pe<X;){for(_t=we,We=1,ge=c;pe>=X&&W("invalid-input"),ot=te(he.charCodeAt(pe++)),(ot>=c||ot>V((l-we)/We))&&W("overflow"),we+=ot*We,Lt=ge<=Pe?d:ge>=Pe+g?g:ge-Pe,!(ot<Lt);ge+=c)Ut=c-Lt,We>V(l/Ut)&&W("overflow"),We*=Ut;ne=H.length+1,Pe=oe(we-_t,ne,_t==0),V(we/ne)>l-ie&&W("overflow"),ie+=V(we/ne),we%=ne,H.splice(we++,0,ie)}return se(H)}function re(he){var H,X,ne,we,ie,Pe,$e,at,pe,_t,We,ge=[],ot,Lt,Ut,An;for(he=J(he),ot=he.length,H=S,X=0,ie=T,Pe=0;Pe<ot;++Pe)We=he[Pe],We<128&&ge.push(L(We));for(ne=we=ge.length,we&&ge.push(P);ne<ot;){for($e=l,Pe=0;Pe<ot;++Pe)We=he[Pe],We>=H&&We<$e&&($e=We);for(Lt=ne+1,$e-H>V((l-X)/Lt)&&W("overflow"),X+=($e-H)*Lt,H=$e,Pe=0;Pe<ot;++Pe)if(We=he[Pe],We<H&&++X>l&&W("overflow"),We==H){for(at=X,pe=c;_t=pe<=ie?d:pe>=ie+g?g:pe-ie,!(at<_t);pe+=c)An=at-_t,Ut=c-_t,ge.push(L(Le(_t+An%Ut,0))),at=V(An/Ut);ge.push(L(Le(at,0))),ie=oe(X,Lt,ne==we),X=0,++ne}++X,++H}return ge.join("")}function et(he){return $(he,function(H){return E.test(H)?ue(H.slice(4).toLowerCase()):H})}function pt(he){return $(he,function(H){return A.test(H)?"xn--"+re(H):H})}if(a={version:"1.3.2",ucs2:{decode:J,encode:se},decode:ue,encode:re,toASCII:pt,toUnicode:et},n&&i)if(t.exports==n)i.exports=a;else for(j in a)a.hasOwnProperty(j)&&(n[j]=a[j]);else r.punycode=a})(da)})(wy,wy.exports);var D3={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},lh={};function R3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var N3=function(t,e,r,n){e=e||"&",r=r||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var a=1e3;n&&typeof n.maxKeys=="number"&&(a=n.maxKeys);var l=t.length;a>0&&l>a&&(l=a);for(var c=0;c<l;++c){var d=t[c].replace(s,"%20"),g=d.indexOf(r),_,w,T,S;g>=0?(_=d.substr(0,g),w=d.substr(g+1)):(_=d,w=""),T=decodeURIComponent(_),S=decodeURIComponent(w),R3(i,T)?Array.isArray(i[T])?i[T].push(S):i[T]=[i[T],S]:i[T]=S}return i},ru=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},F3=function(t,e,r,n){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(ru(i))+r;return Array.isArray(t[i])?t[i].map(function(a){return s+encodeURIComponent(ru(a))}).join(e):s+encodeURIComponent(ru(t[i]))}).join(e):n?encodeURIComponent(ru(n))+r+encodeURIComponent(ru(t)):""};lh.decode=lh.parse=N3;lh.encode=lh.stringify=F3;var L3=wy.exports,Rn=D3,U3=wl.parse=Qh;wl.resolve=X3;wl.resolveObject=q3;wl.format=Y3;wl.Url=fn;function fn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var B3=/^([a-z0-9.+-]+:)/i,V3=/:[0-9]*$/,z3=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,$3=["<",">",'"',"`"," ","\r",`
`,"	"],H3=["{","}","|","\\","^","`"].concat($3),xy=["'"].concat(H3),IT=["%","/","?",";","#"].concat(xy),PT=["/","?","#"],j3=255,AT=/^[+a-z0-9A-Z_-]{0,63}$/,W3=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,G3={javascript:!0,"javascript:":!0},by={javascript:!0,"javascript:":!0},Lo={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Ty=lh;function Qh(t,e,r){if(t&&Rn.isObject(t)&&t instanceof fn)return t;var n=new fn;return n.parse(t,e,r),n}fn.prototype.parse=function(t,e,r){if(!Rn.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),a=/\\/g;s[0]=s[0].replace(a,"/"),t=s.join(i);var l=t;if(l=l.trim(),!r&&t.split("#").length===1){var c=z3.exec(l);if(c)return this.path=l,this.href=l,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=Ty.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=B3.exec(l);if(d){d=d[0];var g=d.toLowerCase();this.protocol=g,l=l.substr(d.length)}if(r||d||l.match(/^\/\/[^@\/]+@[^@\/]+/)){var _=l.substr(0,2)==="//";_&&!(d&&by[d])&&(l=l.substr(2),this.slashes=!0)}if(!by[d]&&(_||d&&!Lo[d])){for(var w=-1,T=0;T<PT.length;T++){var S=l.indexOf(PT[T]);S!==-1&&(w===-1||S<w)&&(w=S)}var P,E;w===-1?E=l.lastIndexOf("@"):E=l.lastIndexOf("@",w),E!==-1&&(P=l.slice(0,E),l=l.slice(E+1),this.auth=decodeURIComponent(P)),w=-1;for(var T=0;T<IT.length;T++){var S=l.indexOf(IT[T]);S!==-1&&(w===-1||S<w)&&(w=S)}w===-1&&(w=l.length),this.host=l.slice(0,w),l=l.slice(w),this.parseHost(),this.hostname=this.hostname||"";var A=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!A)for(var k=this.hostname.split(/\./),T=0,M=k.length;T<M;T++){var R=k[T];if(R&&!R.match(AT)){for(var V="",L=0,j=R.length;L<j;L++)R.charCodeAt(L)>127?V+="x":V+=R[L];if(!V.match(AT)){var W=k.slice(0,T),U=k.slice(T+1),$=R.match(W3);$&&(W.push($[1]),U.unshift($[2])),U.length&&(l="/"+U.join(".")+l),this.hostname=W.join(".");break}}}this.hostname.length>j3?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=L3.toASCII(this.hostname));var J=this.port?":"+this.port:"",se=this.hostname||"";this.host=se+J,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!G3[g])for(var T=0,M=xy.length;T<M;T++){var te=xy[T];if(l.indexOf(te)!==-1){var Le=encodeURIComponent(te);Le===te&&(Le=escape(te)),l=l.split(te).join(Le)}}var oe=l.indexOf("#");oe!==-1&&(this.hash=l.substr(oe),l=l.slice(0,oe));var ue=l.indexOf("?");if(ue!==-1?(this.search=l.substr(ue),this.query=l.substr(ue+1),e&&(this.query=Ty.parse(this.query)),l=l.slice(0,ue)):e&&(this.search="",this.query={}),l&&(this.pathname=l),Lo[g]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var J=this.pathname||"",re=this.search||"";this.path=J+re}return this.href=this.format(),this};function Y3(t){return Rn.isString(t)&&(t=Qh(t)),t instanceof fn?t.format():fn.prototype.format.call(t)}fn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Rn.isObject(this.query)&&Object.keys(this.query).length&&(s=Ty.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Lo[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),a=a.replace("#","%23"),e+i+r+a+n};function X3(t,e){return Qh(t,!1,!0).resolve(e)}fn.prototype.resolve=function(t){return this.resolveObject(Qh(t,!1,!0)).format()};function q3(t,e){return t?Qh(t,!1,!0).resolveObject(e):e}fn.prototype.resolveObject=function(t){if(Rn.isString(t)){var e=new fn;e.parse(t,!1,!0),t=e}for(var r=new fn,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),l=0;l<a.length;l++){var c=a[l];c!=="protocol"&&(r[c]=t[c])}return Lo[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Lo[t.protocol]){for(var d=Object.keys(t),g=0;g<d.length;g++){var _=d[g];r[_]=t[_]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!by[t.protocol]){for(var M=(t.pathname||"").split("/");M.length&&!(t.host=M.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),M[0]!==""&&M.unshift(""),M.length<2&&M.unshift(""),r.pathname=M.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var w=r.pathname||"",T=r.search||"";r.path=w+T}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var S=r.pathname&&r.pathname.charAt(0)==="/",P=t.host||t.pathname&&t.pathname.charAt(0)==="/",E=P||S||r.host&&t.pathname,A=E,k=r.pathname&&r.pathname.split("/")||[],M=t.pathname&&t.pathname.split("/")||[],R=r.protocol&&!Lo[r.protocol];if(R&&(r.hostname="",r.port=null,r.host&&(k[0]===""?k[0]=r.host:k.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(M[0]===""?M[0]=t.host:M.unshift(t.host)),t.host=null),E=E&&(M[0]===""||k[0]==="")),P)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,k=M;else if(M.length)k||(k=[]),k.pop(),k=k.concat(M),r.search=t.search,r.query=t.query;else if(!Rn.isNullOrUndefined(t.search)){if(R){r.hostname=r.host=k.shift();var V=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;V&&(r.auth=V.shift(),r.host=r.hostname=V.shift())}return r.search=t.search,r.query=t.query,(!Rn.isNull(r.pathname)||!Rn.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!k.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var L=k.slice(-1)[0],j=(r.host||t.host||k.length>1)&&(L==="."||L==="..")||L==="",W=0,U=k.length;U>=0;U--)L=k[U],L==="."?k.splice(U,1):L===".."?(k.splice(U,1),W++):W&&(k.splice(U,1),W--);if(!E&&!A)for(;W--;W)k.unshift("..");E&&k[0]!==""&&(!k[0]||k[0].charAt(0)!=="/")&&k.unshift(""),j&&k.join("/").substr(-1)!=="/"&&k.push("");var $=k[0]===""||k[0]&&k[0].charAt(0)==="/";if(R){r.hostname=r.host=$?"":k.length?k.shift():"";var V=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;V&&(r.auth=V.shift(),r.host=r.hostname=V.shift())}return E=E||r.host&&k.length,E&&!$&&k.unshift(""),k.length?r.pathname=k.join("/"):(r.pathname=null,r.path=null),(!Rn.isNull(r.pathname)||!Rn.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};fn.prototype.parseHost=function(){var t=this.host,e=V3.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};/*!
 * @pixi/constants - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ai;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Ai||(Ai={}));var uh;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(uh||(uh={}));var Td;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Td||(Td={}));var Ce;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Ce||(Ce={}));var Tn;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Tn||(Tn={}));var hh;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(hh||(hh={}));var va;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(va||(va={}));var Vt;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Vt||(Vt={}));var gi;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(gi||(gi={}));var fs;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(fs||(fs={}));var ch;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"})(ch||(ch={}));var Ts;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(Ts||(Ts={}));var Dn;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Dn||(Dn={}));var Sy;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Sy||(Sy={}));var zn;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(zn||(zn={}));var Yr;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(Yr||(Yr={}));var Xo;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Xo||(Xo={}));/*!
 * @pixi/utils - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.RETINA_PREFIX=/@([0-9\.]+)x/;Te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var kT=!1,OT="5.3.12";function K3(t){var e;if(!kT){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+OT+" - ✰ "+t+` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,r)}else window.console&&window.console.log("PixiJS "+OT+" - "+t+" - http://www.pixijs.com/");kT=!0}}var Ng;function Q3(){return typeof Ng>"u"&&(Ng=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:Te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Ng}function qo(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function wI(t){var e=t.toString(16);return e="000000".substr(0,6-e.length)+e,"#"+e}function xI(t){return typeof t=="string"&&t[0]==="#"&&(t=t.substr(1)),parseInt(t,16)}function Z3(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[Ce.NORMAL_NPM]=Ce.NORMAL,t[Ce.ADD_NPM]=Ce.ADD,t[Ce.SCREEN_NPM]=Ce.SCREEN,e[Ce.NORMAL]=Ce.NORMAL_NPM,e[Ce.ADD]=Ce.ADD_NPM,e[Ce.SCREEN]=Ce.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var bI=Z3();function TI(t,e){return bI[e?1:0][t]}function J3(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function W_(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function SI(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function e5(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function Sd(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function MT(t){return!(t&t-1)&&!!t}function DT(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Uo(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}}function xo(t){return t===0?0:t<0?-1:1}var t5=0;function Ko(){return++t5}var RT={};function ds(t,e,r){if(r===void 0&&(r=3),!RT[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),RT[e]=!0}}var NT={},ui=Object.create(null),Gs=Object.create(null),FT=function(){function t(e,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||Te.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=e*this.resolution,this.canvas.height=r*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=e},enumerable:!1,configurable:!0}),t}();function r5(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r),s=i.data,a=s.length,l={top:null,left:null,right:null,bottom:null},c=null,d,g,_;for(d=0;d<a;d+=4)s[d+3]!==0&&(g=d/4%e,_=~~(d/4/e),l.top===null&&(l.top=_),(l.left===null||g<l.left)&&(l.left=g),(l.right===null||l.right<g)&&(l.right=g+1),(l.bottom===null||l.bottom<_)&&(l.bottom=_));return l.top!==null&&(e=l.right-l.left,r=l.bottom-l.top+1,c=n.getImageData(l.left,l.top,e,r)),{height:r,width:e,data:c}}var Zc;function n5(t,e){if(e===void 0&&(e=window.location),t.indexOf("data:")===0)return"";e=e||window.location,Zc||(Zc=document.createElement("a")),Zc.href=t;var r=U3(Zc.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function Ed(t,e){var r=Te.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}/*!
 * @pixi/math - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var fh=Math.PI*2,i5=180/Math.PI,s5=Math.PI/180,Mt;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(Mt||(Mt={}));var it=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Mt.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this},t}(),a5=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=Mt.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n},t.prototype.getBounds=function(){return new it(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t}(),o5=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=Mt.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new it(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),Nu=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var s=[],a=0,l=i.length;a<l;a++)s.push(i[a].x,i[a].y);i=s}this.points=i,this.type=Mt.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,s=0,a=i-1;s<i;a=s++){var l=this.points[s*2],c=this.points[s*2+1],d=this.points[a*2],g=this.points[a*2+1],_=c>r!=g>r&&e<(d-l)*((r-c)/(g-c))+l;_&&(n=!n)}return n},t}(),l5=function(){function t(e,r,n,i,s){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),s===void 0&&(s=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Mt.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){if(r>=this.y+this.radius&&r<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var n=e-(this.x+this.radius),i=r-(this.y+this.radius),s=this.radius*this.radius;if(n*n+i*i<=s||(n=e-(this.x+this.width-this.radius),n*n+i*i<=s)||(i=r-(this.y+this.height-this.radius),n*n+i*i<=s)||(n=e-(this.x+this.radius),n*n+i*i<=s))return!0}return!1},t}(),hr=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t}(),bo=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Gt=function(){function t(e,r,n,i,s,a){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=0),a===void 0&&(a=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=a}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,s,a){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=a,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new hr;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new hr;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,a=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=a*r-this.ty*n,this.ty=a*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this},t.prototype.setTransform=function(e,r,n,i,s,a,l,c,d){return this.a=Math.cos(l+d)*s,this.b=Math.sin(l+d)*s,this.c=-Math.sin(l-c)*a,this.d=Math.cos(l-c)*a,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,s=this.d,a=-Math.atan2(-i,s),l=Math.atan2(n,r),c=Math.abs(a+l);return c<1e-5||Math.abs(fh-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx,e.position.y=this.ty,e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,a=e*i-r*n;return this.a=i/a,this.b=-r/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-i*s)/a,this.ty=-(e*this.ty-r*s)/a,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Zs=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Js=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ea=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ta=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Ey=[],EI=[],Jc=Math.sign;function u5(){for(var t=0;t<16;t++){var e=[];Ey.push(e);for(var r=0;r<16;r++)for(var n=Jc(Zs[t]*Zs[r]+ea[t]*Js[r]),i=Jc(Js[t]*Zs[r]+ta[t]*Js[r]),s=Jc(Zs[t]*ea[r]+ea[t]*ta[r]),a=Jc(Js[t]*ea[r]+ta[t]*ta[r]),l=0;l<16;l++)if(Zs[l]===n&&Js[l]===i&&ea[l]===s&&ta[l]===a){e.push(l);break}}for(var t=0;t<16;t++){var c=new Gt;c.set(Zs[t],Js[t],ea[t],ta[t],0,0),EI.push(c)}}u5();var Et={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Zs[t]},uY:function(t){return Js[t]},vX:function(t){return ea[t]},vY:function(t){return ta[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return Ey[t][e]},sub:function(t,e){return Ey[t][Et.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?Et.S:Et.N:Math.abs(e)*2<=Math.abs(t)?t>0?Et.E:Et.W:e>0?t>0?Et.SE:Et.SW:t>0?Et.NE:Et.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=EI[Et.inv(e)];i.tx=r,i.ty=n,t.append(i)}},CI=function(){function t(){this.worldTransform=new Gt,this.localTransform=new Gt,this.position=new bo(this.onChange,this,0,0),this.scale=new bo(this.onChange,this,1,1),this.pivot=new bo(this.onChange,this,0,0),this.skew=new bo(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.SORTABLE_CHILDREN=!1;var Cd=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?it.EMPTY:(e=e||new it(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,a=e[0],l=e[1];r=a<r?a:r,n=l<n?l:n,i=a>i?a:i,s=l>s?l:s,a=e[2],l=e[3],r=a<r?a:r,n=l<n?l:n,i=a>i?a:i,s=l>s?l:s,a=e[4],l=e[5],r=a<r?a:r,n=l<n?l:n,i=a>i?a:i,s=l>s?l:s,a=e[6],l=e[7],r=a<r?a:r,n=l<n?l:n,i=a>i?a:i,s=l>s?l:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s},t.prototype.addFrame=function(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)},t.prototype.addFrameMatrix=function(e,r,n,i,s){var a=e.a,l=e.b,c=e.c,d=e.d,g=e.tx,_=e.ty,w=this.minX,T=this.minY,S=this.maxX,P=this.maxY,E=a*r+c*n+g,A=l*r+d*n+_;w=E<w?E:w,T=A<T?A:T,S=E>S?E:S,P=A>P?A:P,E=a*i+c*n+g,A=l*i+d*n+_,w=E<w?E:w,T=A<T?A:T,S=E>S?E:S,P=A>P?A:P,E=a*r+c*s+g,A=l*r+d*s+_,w=E<w?E:w,T=A<T?A:T,S=E>S?E:S,P=A>P?A:P,E=a*i+c*s+g,A=l*i+d*s+_,w=E<w?E:w,T=A<T?A:T,S=E>S?E:S,P=A>P?A:P,this.minX=w,this.minY=T,this.maxX=S,this.maxY=P},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,s=this.minY,a=this.maxX,l=this.maxY,c=r;c<n;c+=2){var d=e[c],g=e[c+1];i=d<i?d:i,s=g<s?g:s,a=d>a?d:a,l=g>l?g:l}this.minX=i,this.minY=s,this.maxX=a,this.maxY=l},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,s,a){s===void 0&&(s=0),a===void 0&&(a=s);for(var l=e.a,c=e.b,d=e.c,g=e.d,_=e.tx,w=e.ty,T=this.minX,S=this.minY,P=this.maxX,E=this.maxY,A=n;A<i;A+=2){var k=r[A],M=r[A+1],R=l*k+d*M+_,V=g*M+c*k+w;T=Math.min(T,R-s),P=Math.max(P,R+s),S=Math.min(S,V-a),E=Math.max(E,V+a)}this.minX=T,this.minY=S,this.maxX=P,this.maxY=E},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,a=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=a){var l=this.minX,c=this.minY,d=this.maxX,g=this.maxY;this.minX=n<l?n:l,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=a>g?a:g}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,a=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=a){var l=this.minX,c=this.minY,d=this.maxX,g=this.maxY;this.minX=n<l?n:l,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=a>g?a:g}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,s,a){e-=s,r-=a,n+=s,i+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Cy=function(t,e){return Cy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Cy(t,e)};function G_(t,e){Cy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Yt=function(t){G_(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new CI,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new Cd,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var s=n[i];Object.defineProperty(e.prototype,s,Object.getOwnPropertyDescriptor(r,s))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new it),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new it),r=this._localBoundsRect),this._localBounds||(this._localBounds=new Cd);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var s=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var l=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=s,this._bounds.updateID+=this._boundsID-a,l},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,s){return n&&(r=n.toGlobal(r,i,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,s,a,l,c,d,g){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=1),a===void 0&&(a=0),l===void 0&&(l=0),c===void 0&&(c=0),d===void 0&&(d=0),g===void 0&&(g=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=s||1,this.rotation=a,this.skew.x=l,this.skew.y=c,this.pivot.x=d,this.pivot.y=g,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new II),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*i5},set:function(r){this.transform.rotation=r*s5},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask){var n=this._mask.maskObject||this._mask;n.renderable=!0,n.isMask=!1}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n.renderable=!1,n.isMask=!0}},enumerable:!1,configurable:!0}),e}(Kh),II=function(t){G_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(Yt);Yt.prototype.displayObjectUpdateTransform=Yt.prototype.updateTransform;function h5(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var En=function(t){G_(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=Te.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var s=0;s<n.length;s++)this.addChild(n[s]);else{var a=n[0];a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),s=this.getChildIndex(n);this.children[i]=n,this.children[s]=r,this.onChildrenChange(i<s?i:s)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);Uo(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var s=0;s<n.length;s++)this.removeChild(n[s]);else{var a=n[0],l=this.children.indexOf(a);if(l===-1)return null;a.parent=null,a.transform._parentID=-1,Uo(this.children,l,1),this._boundsID++,this.onChildrenChange(l),a.emit("removed",this),this.emit("childRemoved",a,this,l)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,Uo(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,s=n,a=s-i,l;if(a>0&&a<=s){l=this.children.splice(i,a);for(var c=0;c<l.length;++c)l[c].parent=null,l[c].transform&&(l[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<l.length;++c)l[c].emit("removed",this),this.emit("childRemoved",l[c],this,c);return l}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var s=this.children[n];s._lastSortedIndex=n,!r&&s.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(h5),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var s=0,a=this.children.length;s<a;++s){var l=this.children[s];l.visible&&l.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){r.batch.flush();var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<n.length;s++)n[s].enabled&&this._enabledFilters.push(n[s]);this._enabledFilters.length&&r.filter.push(this,this._enabledFilters)}i&&r.mask.push(this,this._mask),this._render(r);for(var s=0,a=this.children.length;s<a;s++)this.children[s].render(r);r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var s=0;s<i.length;++s)i[s].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(Yt);En.prototype.containerUpdateTransform=En.prototype.updateTransform;/*!
 * @pixi/accessibility - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var c5={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Yt.mixin(c5);var f5=9,ef=100,d5=0,p5=0,LT=2,UT=1,v5=-1e3,g5=-1e3,m5=2,y5=function(){function t(e){this._hookDiv=null,(Vn.tablet||Vn.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=ef+"px",r.style.height=ef+"px",r.style.position="absolute",r.style.top=d5+"px",r.style.left=p5+"px",r.style.zIndex=LT.toString(),this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=UT+"px",r.style.height=UT+"px",r.style.position="absolute",r.style.top=v5+"px",r.style.left=g5+"px",r.style.zIndex=m5.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessability for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var r=e.children,n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(Vn.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=this.renderer.resolution,i=r.width/this.renderer.width*n,s=r.height/this.renderer.height*n,a=this.div;a.style.left=r.left+"px",a.style.top=r.top+"px",a.style.width=this.renderer.width+"px",a.style.height=this.renderer.height+"px";for(var l=0;l<this.children.length;l++){var c=this.children[l];if(c.renderId!==this.renderId)c._accessibleActive=!1,Uo(this.children,l,1),this.div.removeChild(c._accessibleDiv),this.pool.push(c._accessibleDiv),c._accessibleDiv=null,l--;else{a=c._accessibleDiv;var d=c.hitArea,g=c.worldTransform;c.hitArea?(a.style.left=(g.tx+d.x*g.a)*i+"px",a.style.top=(g.ty+d.y*g.d)*s+"px",a.style.width=d.width*g.a*i+"px",a.style.height=d.height*g.d*s+"px"):(d=c.getBounds(),this.capHitArea(d),a.style.left=d.x*i+"px",a.style.top=d.y*s+"px",a.style.width=d.width*i+"px",a.style.height=d.height*s+"px",a.title!==c.accessibleTitle&&c.accessibleTitle!==null&&(a.title=c.accessibleTitle),a.getAttribute("aria-label")!==c.accessibleHint&&c.accessibleHint!==null&&a.setAttribute("aria-label",c.accessibleHint)),(c.accessibleTitle!==a.title||c.tabIndex!==a.tabIndex)&&(a.title=c.accessibleTitle,a.tabIndex=c.tabIndex,this.debug&&this.updateDebugHTML(a))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=ef+"px",r.style.height=ef+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=LT.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction;r.dispatchEvent(e.target.displayObject,"click",r.eventData),r.dispatchEvent(e.target.displayObject,"pointertap",r.eventData),r.dispatchEvent(e.target.displayObject,"tap",r.eventData)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction;r.dispatchEvent(e.target.displayObject,"mouseover",r.eventData)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction;r.dispatchEvent(e.target.displayObject,"mouseout",r.eventData)},t.prototype._onKeyDown=function(e){e.keyCode===f5&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();/*!
 * @pixi/ticker - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.TARGET_FPMS=.06;var ki;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(ki||(ki={}));var Fg=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.fn=e,this.context=r,this.priority=n,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),Zt=function(){function t(){var e=this;this._head=new Fg(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/Te.TARGET_FPMS,this.elapsedMS=1/Te.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=ki.NORMAL),this._addListener(new Fg(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=ki.NORMAL),this._addListener(new Fg(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Te.TARGET_FPMS;for(var i=this._head,s=i.next;s;)s=s.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Te.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),_5=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,ki.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Zt.shared:new Zt,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t}();/*!
 * @pixi/interaction - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var BT=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new hr,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Iy=function(t,e){return Iy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Iy(t,e)};function w5(t,e){Iy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var x5=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),Lg=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),t}(),b5=function(){function t(){this._tempPoint=new hr}return t.prototype.recursiveFindHit=function(e,r,n,i,s){if(!r||!r.visible)return!1;var a=e.data.global;s=r.interactive||s;var l=!1,c=s,d=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(a,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?l=!0:(i=!1,d=!1)),c=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(a)||(i=!1)),d&&r.interactiveChildren&&r.children)for(var g=r.children,_=g.length-1;_>=0;_--){var w=g[_],T=this.recursiveFindHit(e,w,n,i,c);if(T){if(!w.parent)continue;c=!1,T&&(e.target&&(i=!1),l=!0)}}return s&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(a)&&(l=!0),r.interactive&&(l&&!e.target&&(e.target=r),n&&n(e,r,!!l))),l},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),T5={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Yt.mixin(T5);var tf=1,rf={target:null,data:{global:null}},S5=function(t){w5(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new BT,i.mouse.identifier=tf,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[tf]=i.mouse,i.interactionDataPool=[],i.eventData=new x5,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new b5,i._tempDisplayObject=new II,i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return rf.target=null,rf.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(rf,n,null,!0),rf.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Zt.system.add(this.tickerUpdate,this,ki.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(Zt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){if(r=r||"default",this.currentCursorMode!==r){this.currentCursorMode=r;var n=this.cursorStyles[r];if(n)switch(typeof n){case"string":this.interactionDOMElement.style.cursor=n;break;case"function":n(r);break;case"object":Object.assign(this.interactionDOMElement.style,n);break}else typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var s;this.interactionDOMElement.parentElement?s=this.interactionDOMElement.getBoundingClientRect():s={x:0,y:0,width:0,height:0};var a=1/this.resolution;r.x=(n-s.left)*(this.interactionDOMElement.width/s.width)*a,r.y=(i-s.top)*(this.interactionDOMElement.height/s.height)*a},e.prototype.processInteractive=function(r,n,i,s){var a=this.search.findHit(r,n,i,s),l=this.delayedEvents;if(!l.length)return a;r.stopPropagationHint=!1;var c=l.length;this.delayedEvents=[];for(var d=0;d<c;d++){var g=l[d],_=g.displayObject,w=g.eventString,T=g.eventData;T.stopsPropagatingAt===_&&(T.stopPropagationHint=!0),this.dispatchEvent(_,w,T)}return a},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var s=n.length,a=0;a<s;a++){var l=n[a],c=this.getInteractionDataForPointerId(l),d=this.configureInteractionEventForDOMEvent(this.eventData,l,c);if(d.data.originalEvent=r,this.processInteractive(d,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",d),l.pointerType==="touch")this.emit("touchstart",d);else if(l.pointerType==="mouse"||l.pointerType==="pen"){var g=l.button===2;this.emit(g?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var s=r.data,a=r.data.identifier;if(i){if(n.trackedPointers[a]||(n.trackedPointers[a]=new Lg(a)),this.dispatchEvent(n,"pointerdown",r),s.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var l=s.button===2;l?n.trackedPointers[a].rightDown=!0:n.trackedPointers[a].leftDown=!0,this.dispatchEvent(n,l?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){for(var s=this.normalizeToPointerData(r),a=s.length,l=r.target!==this.interactionDOMElement?"outside":"",c=0;c<a;c++){var d=s[c],g=this.getInteractionDataForPointerId(d),_=this.configureInteractionEventForDOMEvent(this.eventData,d,g);if(_.data.originalEvent=r,this.processInteractive(_,this.lastObjectRendered,i,n||!l),this.emit(n?"pointercancel":"pointerup"+l,_),d.pointerType==="mouse"||d.pointerType==="pen"){var w=d.button===2;this.emit(w?"rightup"+l:"mouseup"+l,_)}else d.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+l,_),this.releaseInteractionDataForPointerId(d.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,s=r.data.identifier;n.trackedPointers[s]!==void 0&&(delete n.trackedPointers[s],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var s=r.data,a=r.data.identifier,l=n.trackedPointers[a],c=s.pointerType==="touch",d=s.pointerType==="mouse"||s.pointerType==="pen",g=!1;if(d){var _=s.button===2,w=Lg.FLAGS,T=_?w.RIGHT_DOWN:w.LEFT_DOWN,S=l!==void 0&&l.flags&T;i?(this.dispatchEvent(n,_?"rightup":"mouseup",r),S&&(this.dispatchEvent(n,_?"rightclick":"click",r),g=!0)):S&&this.dispatchEvent(n,_?"rightupoutside":"mouseupoutside",r),l&&(_?l.rightDown=!1:l.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),c&&this.dispatchEvent(n,"touchend",r),l&&((!d||g)&&this.dispatchEvent(n,"pointertap",r),c&&(this.dispatchEvent(n,"tap",r),l.over=!1))):l&&(this.dispatchEvent(n,"pointerupoutside",r),c&&this.dispatchEvent(n,"touchendoutside",r)),l&&l.none&&delete n.trackedPointers[a]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,s=0;s<i;s++){var a=n[s],l=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,l);c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",c),a.pointerType==="touch"&&this.emit("touchmove",c),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",c)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var s=r.data,a=s.pointerType==="touch",l=s.pointerType==="mouse"||s.pointerType==="pen";l&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),a&&this.dispatchEvent(n,"touchmove",r),l&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var s=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,s);a.data.originalEvent=i,this.processInteractive(a,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",a),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(s.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var s=r.data,a=r.data.identifier,l=s.pointerType==="mouse"||s.pointerType==="pen",c=n.trackedPointers[a];i&&!c&&(c=n.trackedPointers[a]=new Lg(a)),c!==void 0&&(i&&this.mouseOverRenderer?(c.over||(c.over=!0,this.delayDispatchEvent(n,"pointerover",r),l&&this.delayDispatchEvent(n,"mouseover",r)),l&&this.cursor===null&&(this.cursor=n.cursor)):c.over&&(c.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),l&&this.dispatchEvent(n,"mouseout",r),c.none&&delete n.trackedPointers[a]))},e.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],s=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,s);a.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",a)},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===tf||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new BT,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,s=r.changedTouches.length;i<s;i++){var a=r.changedTouches[i];typeof a.button>"u"&&(a.button=r.touches.length?1:0),typeof a.buttons>"u"&&(a.buttons=r.touches.length?1:0),typeof a.isPrimary>"u"&&(a.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,n.push(a)}else if(r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof window.PointerEvent))){var l=r;typeof l.isPrimary>"u"&&(l.isPrimary=!0),typeof l.width>"u"&&(l.width=1),typeof l.height>"u"&&(l.height=1),typeof l.tiltX>"u"&&(l.tiltX=0),typeof l.tiltY>"u"&&(l.tiltY=0),typeof l.pointerType>"u"&&(l.pointerType="mouse"),typeof l.pointerId>"u"&&(l.pointerId=tf),typeof l.pressure>"u"&&(l.pressure=.5),typeof l.twist>"u"&&(l.twist=0),typeof l.tangentialPressure>"u"&&(l.tangentialPressure=0),l.isNormalized=!0,n.push(l)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(Kh);/*!
 * @pixi/runner - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var vr=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,s,a,l,c){if(arguments.length>8)throw new Error("max arguments reached");var d=this,g=d.name,_=d.items;this._aliasCount++;for(var w=0,T=_.length;w<T;w++)_[w][g](e,r,n,i,s,a,l,c);return _===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(vr.prototype,{dispatch:{value:vr.prototype.emit},run:{value:vr.prototype.emit}});/*!
 * @pixi/core - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.PREFER_ENV=Vn.any?Ai.WEBGL:Ai.WEBGL2;Te.STRICT_TEXTURE_CACHE=!1;var Py=[];function PI(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=Py.length-1;i>=0;--i){var s=Py[i];if(s.test&&s.test(t,r))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ay=function(t,e){return Ay=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ay(t,e)};function Ve(t,e){Ay(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var dh=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new vr("setRealSize"),this.onUpdate=new vr("update"),this.onError=new vr("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),Y_=function(t){Ve(e,t);function e(r,n){var i=this,s=n||{},a=s.width,l=s.height;if(!a||!l)throw new Error("BufferResource width or height invalid");return i=t.call(this,a,l)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var s=r.gl;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ts.UNPACK),i.width===n.width&&i.height===n.height?s.texSubImage2D(n.target,0,0,0,n.width,n.height,n.format,n.type,this.data):(i.width=n.width,i.height=n.height,s.texImage2D(n.target,0,i.internalFormat,n.width,n.height,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(dh),E5={scaleMode:gi.NEAREST,format:hh.RGBA,alphaMode:Ts.NPM},xt=function(t){Ve(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var s=n.alphaMode,a=n.mipmap,l=n.anisotropicLevel,c=n.scaleMode,d=n.width,g=n.height,_=n.wrapMode,w=n.format,T=n.type,S=n.target,P=n.resolution,E=n.resourceOptions;return r&&!(r instanceof dh)&&(r=PI(r,E),r.internal=!0),i.width=d||0,i.height=g||0,i.resolution=P||Te.RESOLUTION,i.mipmap=a!==void 0?a:Te.MIPMAP_TEXTURES,i.anisotropicLevel=l!==void 0?l:Te.ANISOTROPIC_LEVEL,i.wrapMode=_||Te.WRAP_MODE,i.scaleMode=c!==void 0?c:Te.SCALE_MODE,i.format=w||hh.RGBA,i.type=T||Vt.UNSIGNED_BYTE,i.target=S||va.TEXTURE_2D,i.alphaMode=s!==void 0?s:Ts.UNPACK,n.premultiplyAlpha!==void 0&&(i.premultiplyAlpha=n.premultiplyAlpha),i.uid=Ko(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=d>0&&g>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=r,this.height=n,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=r/this.resolution,this.height=n/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=MT(this.realWidth)&&MT(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=this.width*n/r,this.height=this.height*n/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Gs[this.cacheId],delete ui[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=Te.STRICT_TEXTURE_CACHE);var s=typeof r=="string",a=null;s?a=r:(r._pixiId||(r._pixiId="pixiid_"+Ko()),a=r._pixiId);var l=Gs[a];if(s&&i&&!l)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return l||(l=new e(r,n),l.cacheId=a,e.addToCache(l,a)),l},e.fromBuffer=function(r,n,i,s){r=r||new Float32Array(n*i*4);var a=new Y_(r,{width:n,height:i}),l=r instanceof Float32Array?Vt.FLOAT:Vt.UNSIGNED_BYTE;return new e(a,Object.assign(E5,s||{width:n,height:i,type:l}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Gs[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),Gs[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=Gs[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Gs[r],n}}else if(r&&r.textureCacheIds){for(var s=0;s<r.textureCacheIds.length;++s)delete Gs[r.textureCacheIds[s]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(Kh),AI=function(t){Ve(e,t);function e(r,n){var i=this,s=n||{},a=s.width,l=s.height;i=t.call(this,a,l)||this,i.items=[],i.itemDirtyIds=[];for(var c=0;c<r;c++){var d=new xt;i.items.push(d),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof dh?this.addResourceAt(r[i],i):this.addResourceAt(PI(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(s){return s.resource}).filter(function(s){return s}),i=n.map(function(s){return s.load()});return this._load=Promise.all(i).then(function(){var s=r.items[0],a=s.realWidth,l=s.realHeight;return r.resize(a,l),Promise.resolve(r)}),this._load},e}(dh),C5=function(t){Ve(e,t);function e(r,n){var i=this,s=n||{},a=s.width,l=s.height,c,d;return Array.isArray(r)?(c=r,d=r.length):d=r,i=t.call(this,d,{width:a,height:l})||this,c&&i.initFromArray(c,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=va.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var s=this,a=s.length,l=s.itemDirtyIds,c=s.items,d=r.gl;i.dirtyId<0&&d.texImage3D(d.TEXTURE_2D_ARRAY,0,n.format,this._width,this._height,a,0,n.format,n.type,null);for(var g=0;g<a;g++){var _=c[g];l[g]<_.dirtyId&&(l[g]=_.dirtyId,_.valid&&d.texSubImage3D(d.TEXTURE_2D_ARRAY,0,0,0,g,_.resource.width,_.resource.height,1,n.format,n.type,_.resource.source))}return!0},e}(AI),Ss=function(t){Ve(e,t);function e(r){var n=this,i=r,s=i.naturalWidth||i.videoWidth||i.width,a=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,s,a)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=n5(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,s){var a=r.gl,l=n.realWidth,c=n.realHeight;return s=s||this.source,a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ts.UNPACK),!this.noSubImage&&n.target===a.TEXTURE_2D&&i.width===l&&i.height===c?a.texSubImage2D(a.TEXTURE_2D,0,0,0,n.format,n.type,s):(i.width=l,i.height=c,a.texImage2D(n.target,0,n.format,n.format,n.type,s)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(dh),kI=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.test=function(r){var n=window.OffscreenCanvas;return n&&r instanceof n?!0:r instanceof HTMLCanvasElement},e}(Ss),I5=function(t){Ve(e,t);function e(r,n){var i=this,s=n||{},a=s.width,l=s.height,c=s.autoLoad,d=s.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:a,height:l})||this;for(var g=0;g<e.SIDES;g++)i.items[g].target=va.TEXTURE_CUBE_MAP_POSITIVE_X+g;return i.linkBaseTexture=d!==!1,r&&i.initFromArray(r,n),c!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=va.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(i===void 0&&(i=this.linkBaseTexture),!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=va.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var s=this.itemDirtyIds,a=0;a<e.SIDES;a++){var l=this.items[a];s[a]<l.dirtyId&&(l.valid&&l.resource?(l.resource.upload(r,l,i),s[a]=l.dirtyId):s[a]<-1&&(r.gl.texImage2D(l.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),s[a]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(AI),OI=function(t){Ve(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var s=new Image;Ss.crossOrigin(s,r,n.crossorigin),s.src=r,r=s}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:Te.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,n.premultiplyAlpha!==void 0&&(i.premultiplyAlpha=n.premultiplyAlpha),i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,s){var a=n.source;n.url=a.src;var l=function(){n.destroyed||(a.onload=null,a.onerror=null,n.resize(a.width,a.height),n._load=null,n.createBitmap?i(n.process()):i(n))};a.complete&&a.src?l():(a.onload=l,a.onerror=function(c){s(c),n.onError.emit(c)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;return this._process!==null?this._process:this.bitmap!==null||!window.createImageBitmap?Promise.resolve(this):(this._process=window.createImageBitmap(n,0,0,n.width,n.height,{premultiplyAlpha:this.alphaMode===Ts.UNPACK?"premultiply":"none"}).then(function(i){return r.destroyed?Promise.reject():(r.bitmap=i,r.update(),r._process=null,Promise.resolve(r))}),this._process)},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var s=!0,a=n._glTextures;for(var l in a){var c=a[l];if(c!==i&&c.dirtyId!==n.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(Ss),P5=function(t){Ve(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},/^\<svg/.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;Ss.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,s=n.height;if(!i||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var a=i*r.scale,l=s*r.scale;(r._overrideWidth||r._overrideHeight)&&(a=r._overrideWidth||r._overrideHeight/s*i,l=r._overrideHeight||r._overrideWidth/i*s),a=Math.round(a),l=Math.round(l);var c=r.source;c.width=a,c.height=l,c._pixiId="canvas_"+Ko(),c.getContext("2d").drawImage(n,0,0,i,s,0,0,a,l),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&r.indexOf("<svg")===0},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(Ss),A5=function(t){Ve(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var a=r[0].src||r[0];Ss.crossOrigin(s,a,n.crossorigin);for(var l=0;l<r.length;++l){var c=document.createElement("source"),d=r[l],g=d.src,_=d.mime;g=g||r[l];var w=g.split("?").shift().toLowerCase(),T=w.substr(w.lastIndexOf(".")+1);_=_||e.MIME_TYPES[T]||"video/"+T,c.src=g,c.type=_,s.appendChild(c)}r=s}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=Zt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Zt.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&Zt.shared.remove(this.update,this);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Zt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(Ss),k5=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.test=function(r){return!!window.createImageBitmap&&r instanceof ImageBitmap},e}(Ss);Py.push(OI,k5,kI,A5,P5,Y_,I5,C5);var tn=function(){function t(e){this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),O5=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var s=r.gl;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ts.UNPACK),i.width===n.width&&i.height===n.height?s.texSubImage2D(n.target,0,0,0,n.width,n.height,n.format,n.type,this.data):(i.width=n.width,i.height=n.height,s.texImage2D(n.target,0,r.context.webGLVersion===1?s.DEPTH_COMPONENT:s.DEPTH_COMPONENT16,n.width,n.height,0,n.format,n.type,this.data)),!0},e}(Y_),ky=function(){function t(e,r){this.width=Math.ceil(e||100),this.height=Math.ceil(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new vr("disposeFramebuffer"),this.multisample=Xo.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new xt(null,{scaleMode:gi.NEAREST,resolution:1,mipmap:ch.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new xt(new O5(null,{width:this.width,height:this.height}),{scaleMode:gi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ch.OFF,format:hh.DEPTH_COMPONENT,type:Vt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.ceil(e),r=Math.ceil(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){var s=this.depthTexture.resolution;this.depthTexture.setSize(e/s,r/s)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),Ff=function(t){Ve(e,t);function e(r){var n=this;if(typeof r=="number"){var i=arguments[0],s=arguments[1],a=arguments[2],l=arguments[3];r={width:i,height:s,scaleMode:a,resolution:l}}n=t.call(this,null,r)||this;var c=r||{},d=c.width,g=c.height;return n.mipmap=0,n.width=Math.ceil(d)||100,n.height=Math.ceil(g)||100,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new ky(n.width*n.resolution,n.height*n.resolution).addColorTexture(0,n),n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){r=Math.ceil(r),n=Math.ceil(n),this.framebuffer.resize(r*this.resolution,n*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(xt),MI=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,s=r.height;if(n){var a=e.width/2/i,l=e.height/2/s,c=e.x/i+a,d=e.y/s+l;n=Et.add(n,Et.NW),this.x0=c+a*Et.uX(n),this.y0=d+l*Et.uY(n),n=Et.add(n,2),this.x1=c+a*Et.uX(n),this.y1=d+l*Et.uY(n),n=Et.add(n,2),this.x2=c+a*Et.uX(n),this.y2=d+l*Et.uY(n),n=Et.add(n,2),this.x3=c+a*Et.uX(n),this.y3=d+l*Et.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),VT=new MI,Me=function(t){Ve(e,t);function e(r,n,i,s,a,l){var c=t.call(this)||this;if(c.noFrame=!1,n||(c.noFrame=!0,n=new it(0,0,1,1)),r instanceof e&&(r=r.baseTexture),c.baseTexture=r,c._frame=n,c.trim=s,c.valid=!1,c._uvs=VT,c.uvMatrix=null,c.orig=i||n,c._rotate=Number(a||0),a===!0)c._rotate=2;else if(c._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return c.defaultAnchor=l?new hr(l.x,l.y):new hr(0,0),c._updateID=0,c.textureCacheIds=[],r.valid?c.noFrame?r.valid&&c.onBaseTextureUpdated(r):c.frame=n:r.once("loaded",c.onBaseTextureUpdated,c),c.noFrame&&r.on("update",c.onBaseTextureUpdated,c),c}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture;n&&n.url&&ui[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===VT&&(this._uvs=new MI),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=Te.STRICT_TEXTURE_CACHE);var s=typeof r=="string",a=null;s?a=r:(r._pixiId||(r._pixiId="pixiid_"+Ko()),a=r._pixiId);var l=ui[a];if(s&&i&&!l)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return l||(n.resolution||(n.resolution=Ed(r)),l=new e(new xt(r,n)),l.baseTexture.cacheId=a,xt.addToCache(l.baseTexture,a),e.addToCache(l,a)),l},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),s=e.from(r,Object.assign({resourceOptions:i},n),!1),a=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):a.load().then(function(){return Promise.resolve(s)})},e.fromBuffer=function(r,n,i,s){return new e(xt.fromBuffer(r,n,i,s))},e.fromLoader=function(r,n,i){var s=new OI(r);s.url=n;var a=new xt(s,{scaleMode:Te.SCALE_MODE,resolution:Ed(n)}),l=new e(a);return i||(i=n),xt.addToCache(l.baseTexture,i),e.addToCache(l,i),i!==n&&(xt.addToCache(l.baseTexture,n),e.addToCache(l,n)),l},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),ui[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),ui[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=ui[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete ui[r],n}}else if(r&&r.textureCacheIds){for(var s=0;s<r.textureCacheIds.length;++s)ui[r.textureCacheIds[s]]===r&&delete ui[r.textureCacheIds[s]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,s=r.width,a=r.height,l=n+s>this.baseTexture.width,c=i+a>this.baseTexture.height;if(l||c){var d=l&&c?"and":"or",g="X: "+n+" + "+s+" = "+(n+s)+" > "+this.baseTexture.width,_="Y: "+i+" + "+a+" = "+(i+a)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(g+" "+d+" "+_))}this.valid=s&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(Kh);function M5(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new Me(new xt(new kI(t)))}function Sp(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Me.EMPTY=new Me(new xt);Sp(Me.EMPTY);Sp(Me.EMPTY.baseTexture);Me.WHITE=M5();Sp(Me.WHITE);Sp(Me.WHITE.baseTexture);var Qo=function(t){Ve(e,t);function e(r,n){var i=this,s=null;if(!(r instanceof Ff)){var a=arguments[1],l=arguments[2],c=arguments[3],d=arguments[4];console.warn("Please use RenderTexture.create("+a+", "+l+") instead of the ctor directly."),s=arguments[0],n=null,r=new Ff({width:a,height:l,scaleMode:c,resolution:d})}return i=t.call(this,r,n)||this,i.legacyRenderer=s,i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0),r=Math.ceil(r),n=Math.ceil(n),this.valid=r>0&&n>0,this._frame.width=this.orig.width=r,this._frame.height=this.orig.height=n,i&&this.baseTexture.resize(r,n),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){return typeof r=="number"&&(r={width:r,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new Ff(r))},e}(Me),D5=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r){var n=new Ff(Object.assign({width:e,height:r,resolution:1},this.textureOptions));return new Qo(n)},t.prototype.getOptimalTexture=function(e,r,n){n===void 0&&(n=1);var i=t.SCREEN_KEY;e*=n,r*=n,(!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight)&&(e=Sd(e),r=Sd(r),i=(e&65535)<<16|r&65535),this.texturePool[i]||(this.texturePool[i]=[]);var s=this.texturePool[i].pop();return s||(s=this.createTexture(e,r)),s.filterPoolKey=i,s.setResolution(n),s},t.prototype.getFilterTexture=function(e,r){var n=this.getOptimalTexture(e.width,e.height,r||e.resolution);return n.filterFrame=e.filterFrame,n},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){var r=t.SCREEN_KEY,n=this.texturePool[r];if(this.enableFullScreen=e.width>0&&e.height>0,n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),zT=function(){function t(e,r,n,i,s,a,l){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=5126),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=a,this.instance=l}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,s){return new t(e,r,n,i,s)},t}(),R5=0,ar=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=R5++,this.disposeRunner=new vr("disposeBuffer")}return t.prototype.update=function(e){this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function DI(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var N5={Float32Array,Uint32Array,Int32Array,Uint8Array};function F5(t,e){for(var r=0,n=0,i={},s=0;s<t.length;s++)n+=e[s],r+=t[s].length;for(var a=new ArrayBuffer(r*4),l=null,c=0,s=0;s<t.length;s++){var d=e[s],g=t[s],_=DI(g);i[_]||(i[_]=new N5[_](a)),l=i[_];for(var w=0;w<g.length;w++){var T=(w/d|0)*n+c,S=w%d;l[T+S]=g[w]}c+=d}return new Float32Array(a)}var $T={5126:4,5123:2,5121:1},L5=0,U5={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Zh=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=L5++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new vr("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,s,a,l,c){if(n===void 0&&(n=0),i===void 0&&(i=!1),c===void 0&&(c=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof ar||(r instanceof Array&&(r=new Float32Array(r)),r=new ar(r));var d=e.split("|");if(d.length>1){for(var g=0;g<d.length;g++)this.addAttribute(d[g],r,n,i,s);return this}var _=this.buffers.indexOf(r);return _===-1&&(this.buffers.push(r),_=this.buffers.length-1),this.attributes[e]=new zT(_,n,i,s,a,l,c),this.instanced=this.instanced||c,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof ar||(e instanceof Array&&(e=new Uint16Array(e)),e=new ar(e)),e.index=!0,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new ar,i;for(i in this.attributes){var s=this.attributes[i],a=this.buffers[s.buffer];e.push(a.data),r.push(s.size*$T[s.type]/4),s.buffer=0}for(n.data=F5(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new ar(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new zT(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var r=new t,n=[],i=[],s=[],a,l=0;l<e.length;l++){a=e[l];for(var c=0;c<a.buffers.length;c++)i[c]=i[c]||0,i[c]+=a.buffers[c].data.length,s[c]=0}for(var l=0;l<a.buffers.length;l++)n[l]=new U5[DI(a.buffers[l].data)](i[l]),r.buffers[l]=new ar(n[l]);for(var l=0;l<e.length;l++){a=e[l];for(var c=0;c<a.buffers.length;c++)n[c].set(a.buffers[c].data,s[c]),s[c]+=a.buffers[c].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.index=!0;for(var d=0,g=0,_=0,w=0,l=0;l<a.buffers.length;l++)if(a.buffers[l]!==a.indexBuffer){w=l;break}for(var l in a.attributes){var T=a.attributes[l];(T.buffer|0)===w&&(g+=T.size*$T[T.type]/4)}for(var l=0;l<e.length;l++){for(var S=e[l].indexBuffer.data,c=0;c<S.length;c++)r.indexBuffer.data[c+_]+=d;d+=a.buffers[w].data.length/g,_+=S.length}}return r},t}(),B5=function(t){Ve(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(Zh),RI=function(t){Ve(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new ar(r.vertices),r.uvBuffer=new ar(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,s=0;return this.uvs[0]=i,this.uvs[1]=s,this.uvs[2]=i+n.width/r.width,this.uvs[3]=s,this.uvs[4]=i+n.width/r.width,this.uvs[5]=s+n.height/r.height,this.uvs[6]=i,this.uvs[7]=s+n.height/r.height,i=n.x,s=n.y,this.vertices[0]=i,this.vertices[1]=s,this.vertices[2]=i+n.width,this.vertices[3]=s,this.vertices[4]=i+n.width,this.vertices[5]=s+n.height,this.vertices[6]=i,this.vertices[7]=s+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Zh),V5=0,ga=function(){function t(e,r){this.uniforms=e,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=V5++,this.static=!!r}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,r,n){this.uniforms[e]=new t(r,n)},t.from=function(e,r){return new t(e,r)},t}(),z5=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new it,this.destinationFrame=new it,this.filters=[]}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),$5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.defaultFilterStack=[{}],n.texturePool=new D5,n.texturePool.setScreenSize(r.view),n.statePool=[],n.quad=new B5,n.quadUv=new RI,n.tempRect=new it,n.activeState={},n.globalUniforms=new ga({outputFrame:n.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),n.forceClear=!1,n.useMaxPadding=!1,n}return e.prototype.push=function(r,n){for(var i=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new z5,l=n[0].resolution,c=n[0].padding,d=n[0].autoFit,g=n[0].legacy,_=1;_<n.length;_++){var w=n[_];l=Math.min(l,w.resolution),c=this.useMaxPadding?Math.max(c,w.padding):c+w.padding,d=d&&w.autoFit,g=g||w.legacy}s.length===1&&(this.defaultFilterStack[0].renderTexture=i.renderTexture.current),s.push(a),a.resolution=l,a.legacy=g,a.target=r,a.sourceFrame.copyFrom(r.filterArea||r.getBounds(!0)),a.sourceFrame.pad(c),d&&a.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),a.sourceFrame.ceil(l),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,l),a.filters=n,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var T=this.tempRect;T.width=a.sourceFrame.width,T.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,i.renderTexture.bind(a.renderTexture,a.sourceFrame,T),i.renderTexture.clear()},e.prototype.pop=function(){var r=this.defaultFilterStack,n=r.pop(),i=n.filters;this.activeState=n;var s=this.globalUniforms.uniforms;s.outputFrame=n.sourceFrame,s.resolution=n.resolution;var a=s.inputSize,l=s.inputPixel,c=s.inputClamp;if(a[0]=n.destinationFrame.width,a[1]=n.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],l[0]=a[0]*n.resolution,l[1]=a[1]*n.resolution,l[2]=1/l[0],l[3]=1/l[1],c[0]=.5*l[2],c[1]=.5*l[3],c[2]=n.sourceFrame.width*a[2]-.5*l[2],c[3]=n.sourceFrame.height*a[3]-.5*l[3],n.legacy){var d=s.filterArea;d[0]=n.destinationFrame.width,d[1]=n.destinationFrame.height,d[2]=n.sourceFrame.x,d[3]=n.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();var g=r[r.length-1];if(n.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,n.renderTexture,g.renderTexture,Dn.BLEND,n),this.returnFilterTexture(n.renderTexture);else{var _=n.renderTexture,w=this.getOptimalFilterTexture(_.width,_.height,n.resolution);w.filterFrame=_.filterFrame;var T=0;for(T=0;T<i.length-1;++T){i[T].apply(this,_,w,Dn.CLEAR,n);var S=_;_=w,w=S}i[T].apply(this,_,g.renderTexture,Dn.BLEND,n),this.returnFilterTexture(_),this.returnFilterTexture(w)}n.clear(),this.statePool.push(n)},e.prototype.bindAndClear=function(r,n){if(n===void 0&&(n=Dn.CLEAR),r&&r.filterFrame){var i=this.tempRect;i.width=r.filterFrame.width,i.height=r.filterFrame.height,this.renderer.renderTexture.bind(r,r.filterFrame,i)}else this.renderer.renderTexture.bind(r);typeof n=="boolean"&&(n=n?Dn.CLEAR:Dn.BLEND,ds("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(n===Dn.CLEAR||n===Dn.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},e.prototype.applyFilter=function(r,n,i,s){var a=this.renderer;this.bindAndClear(i,s),r.uniforms.uSampler=n,r.uniforms.filterGlobals=this.globalUniforms,a.state.set(r.state),a.shader.bind(r),r.legacy?(this.quadUv.map(n._frame,n.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(Tn.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(Tn.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(r,n){var i=this.activeState,s=i.sourceFrame,a=i.destinationFrame,l=n._texture.orig,c=r.set(a.width,0,0,a.height,s.x,s.y),d=n.worldTransform.copyTo(Gt.TEMP_MATRIX);return d.invert(),c.prepend(d),c.scale(1/l.width,1/l.height),c.translate(n.anchor.x,n.anchor.y),c},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(r,n,i){return i===void 0&&(i=1),this.texturePool.getOptimalTexture(r,n,i)},e.prototype.getFilterTexture=function(r,n){if(typeof r=="number"){var i=r;r=n,n=i}r=r||this.activeState.renderTexture;var s=this.texturePool.getOptimalTexture(r.width,r.height,n||r.resolution);return s.filterFrame=r.filterFrame,s},e.prototype.returnFilterTexture=function(r){this.texturePool.returnTexture(r)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(tn),Ep=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),H5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.emptyRenderer=new Ep(r),n.currentRenderer=n.emptyRenderer,n}return e.prototype.setObjectRenderer=function(r){this.currentRenderer!==r&&(this.currentRenderer.stop(),this.currentRenderer=r,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(r,n){for(var i=this.renderer.texture.boundTextures,s=n-1;s>=0;--s)r[s]=i[s]||null,r[s]&&(r[s]._batchLocation=s)},e.prototype.boundArray=function(r,n,i,s){for(var a=r.elements,l=r.ids,c=r.count,d=0,g=0;g<c;g++){var _=a[g],w=_._batchLocation;if(w>=0&&w<s&&n[w]===_){l[g]=w;continue}for(;d<s;){var T=n[d];if(T&&T._batchEnabled===i&&T._batchLocation===d){d++;continue}l[g]=d,_._batchLocation=d,n[d]=_;break}}},e}(tn),HT=0,j5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.webGLVersion=1,n.extensions={},n.supports={uint32Indices:!1},n.handleContextLost=n.handleContextLost.bind(n),n.handleContextRestored=n.handleContextRestored.bind(n),r.view.addEventListener("webglcontextlost",n.handleContextLost,!1),r.view.addEventListener("webglcontextrestored",n.handleContextRestored,!1),n}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(r){this.gl=r,this.renderer.gl=r,this.renderer.CONTEXT_UID=HT++,r.isContextLost()&&r.getExtension("WEBGL_lose_context")&&r.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(r){this.gl=r,this.validateContext(r),this.renderer.gl=r,this.renderer.CONTEXT_UID=HT++,this.renderer.runners.contextChange.emit(r)},e.prototype.initFromOptions=function(r){var n=this.createContext(this.renderer.view,r);this.initFromContext(n)},e.prototype.createContext=function(r,n){var i;if(Te.PREFER_ENV>=Ai.WEBGL2&&(i=r.getContext("webgl2",n)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=r.getContext("webgl",n)||r.getContext("experimental-webgl",n),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var r=this.gl;this.webGLVersion===1?Object.assign(this.extensions,{drawBuffers:r.getExtension("WEBGL_draw_buffers"),depthTexture:r.getExtension("WEBGL_depth_texture"),loseContext:r.getExtension("WEBGL_lose_context"),vertexArrayObject:r.getExtension("OES_vertex_array_object")||r.getExtension("MOZ_OES_vertex_array_object")||r.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:r.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:r.getExtension("OES_element_index_uint"),floatTexture:r.getExtension("OES_texture_float"),floatTextureLinear:r.getExtension("OES_texture_float_linear"),textureHalfFloat:r.getExtension("OES_texture_half_float"),textureHalfFloatLinear:r.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,{anisotropicFiltering:r.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:r.getExtension("EXT_color_buffer_float"),floatTextureLinear:r.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(r){r.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var r=this.renderer.view;r.removeEventListener("webglcontextlost",this.handleContextLost),r.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(r){var n=r.getContextAttributes(),i="WebGL2RenderingContext"in window&&r instanceof window.WebGL2RenderingContext;i&&(this.webGLVersion=2),n.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var s=i||!!r.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(tn),W5=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=Xo.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}return t}(),G5=new it,Y5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.managedFramebuffers=[],n.unknownFramebuffer=new ky(10,10),n.msaaSamples=null,n}return e.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new it,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var n=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;Te.PREFER_ENV===Ai.WEBGL_LEGACY&&(n=null,i=null),n?r.drawBuffers=function(s){return n.drawBuffersWEBGL(s)}:(this.hasMRT=!1,r.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=r.getInternalformatParameter(r.RENDERBUFFER,r.RGBA8,r.SAMPLES)},e.prototype.bind=function(r,n){var i=this.gl;if(r){var s=r.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(r);this.current!==r&&(this.current=r,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.dirtyId!==r.dirtyId&&(s.dirtyId=r.dirtyId,s.dirtyFormat!==r.dirtyFormat?(s.dirtyFormat=r.dirtyFormat,this.updateFramebuffer(r)):s.dirtySize!==r.dirtySize&&(s.dirtySize=r.dirtySize,this.resizeFramebuffer(r)));for(var a=0;a<r.colorTextures.length;a++){var l=r.colorTextures[a];this.renderer.texture.unbind(l.parentTextureArray||l)}r.depthTexture&&this.renderer.texture.unbind(r.depthTexture),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,r.width,r.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(r,n,i,s){var a=this.viewport;(a.width!==i||a.height!==s||a.x!==r||a.y!==n)&&(a.x=r,a.y=n,a.width=i,a.height=s,this.gl.viewport(r,n,i,s))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(r,n,i,s,a){a===void 0&&(a=Td.COLOR|Td.DEPTH);var l=this.gl;l.clearColor(r,n,i,s),l.clear(a)},e.prototype.initFramebuffer=function(r){var n=this.gl,i=new W5(n.createFramebuffer());return i.multisample=this.detectSamples(r.multisample),r.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(r),r.disposeRunner.add(this),i},e.prototype.resizeFramebuffer=function(r){var n=this.gl,i=r.glFramebuffers[this.CONTEXT_UID];i.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r.width,r.height));for(var s=r.colorTextures,a=0;a<s.length;a++)this.renderer.texture.bind(s[a],0);r.depthTexture&&this.renderer.texture.bind(r.depthTexture,0)},e.prototype.updateFramebuffer=function(r){var n=this.gl,i=r.glFramebuffers[this.CONTEXT_UID],s=r.colorTextures,a=s.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&(i.msaaBuffer=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,r.width,r.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer));for(var l=[],c=0;c<a;c++)if(!(c===0&&i.multisample>1)){var d=r.colorTextures[c],g=d.parentTextureArray||d;this.renderer.texture.bind(g,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,d.target,g._glTextures[this.CONTEXT_UID].texture,0),l.push(n.COLOR_ATTACHMENT0+c)}if(l.length>1&&n.drawBuffers(l),r.depthTexture){var _=this.writeDepthTexture;if(_){var w=r.depthTexture;this.renderer.texture.bind(w,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,w._glTextures[this.CONTEXT_UID].texture,0)}}!i.stencil&&(r.stencil||r.depth)&&(i.stencil=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r.width,r.height),r.depthTexture||n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil))},e.prototype.detectSamples=function(r){var n=this.msaaSamples,i=Xo.NONE;if(r<=1||n===null)return i;for(var s=0;s<n.length;s++)if(n[s]<=r){i=n[s];break}return i===1&&(i=Xo.NONE),i},e.prototype.blit=function(r,n,i){var s=this,a=s.current,l=s.renderer,c=s.gl,d=s.CONTEXT_UID;if(l.context.webGLVersion===2&&a){var g=a.glFramebuffers[d];if(g){if(!r){if(g.multisample<=1)return;g.blitFramebuffer||(g.blitFramebuffer=new ky(a.width,a.height),g.blitFramebuffer.addColorTexture(0,a.colorTextures[0])),r=g.blitFramebuffer,r.width=a.width,r.height=a.height}n||(n=G5,n.width=a.width,n.height=a.height),i||(i=n);var _=n.width===i.width&&n.height===i.height;this.bind(r),c.bindFramebuffer(c.READ_FRAMEBUFFER,g.framebuffer),c.blitFramebuffer(n.x,n.y,n.width,n.height,i.x,i.y,i.width,i.height,c.COLOR_BUFFER_BIT,_?c.NEAREST:c.LINEAR)}}},e.prototype.disposeFramebuffer=function(r,n){var i=r.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(i){delete r.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(r);a>=0&&this.managedFramebuffers.splice(a,1),r.disposeRunner.remove(this),n||(s.deleteFramebuffer(i.framebuffer),i.stencil&&s.deleteRenderbuffer(i.stencil))}},e.prototype.disposeAll=function(r){var n=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<n.length;i++)this.disposeFramebuffer(n[i],r)},e.prototype.forceStencil=function(){var r=this.current;if(r){var n=r.glFramebuffers[this.CONTEXT_UID];if(!(!n||n.stencil)){r.enableStencil();var i=r.width,s=r.height,a=this.gl,l=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,l),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,i,s),n.stencil=l,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,l)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new it},e}(tn),X5=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),Ug={5126:4,5123:2,5121:1},q5=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n._activeGeometry=null,n._activeVao=null,n.hasVao=!0,n.hasInstance=!0,n.canUseUInt32ElementIndex=!1,n.managedGeometries={},n.managedBuffers={},n}return e.prototype.contextChange=function(){this.disposeAll(!0);var r=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){var i=this.renderer.context.extensions.vertexArrayObject;Te.PREFER_ENV===Ai.WEBGL_LEGACY&&(i=null),i?(r.createVertexArray=function(){return i.createVertexArrayOES()},r.bindVertexArray=function(a){return i.bindVertexArrayOES(a)},r.deleteVertexArray=function(a){return i.deleteVertexArrayOES(a)}):(this.hasVao=!1,r.createVertexArray=function(){return null},r.bindVertexArray=function(){return null},r.deleteVertexArray=function(){return null})}if(n.webGLVersion!==2){var s=r.getExtension("ANGLE_instanced_arrays");s?(r.vertexAttribDivisor=function(a,l){return s.vertexAttribDivisorANGLE(a,l)},r.drawElementsInstanced=function(a,l,c,d,g){return s.drawElementsInstancedANGLE(a,l,c,d,g)},r.drawArraysInstanced=function(a,l,c,d){return s.drawArraysInstancedANGLE(a,l,c,d)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex},e.prototype.bind=function(r,n){n=n||this.renderer.shader.shader;var i=this.gl,s=r.glVertexArrayObjects[this.CONTEXT_UID],a=!1;s||(this.managedGeometries[r.id]=r,r.disposeRunner.add(this),r.glVertexArrayObjects[this.CONTEXT_UID]=s={},a=!0);var l=s[n.program.id]||this.initGeometryVao(r,n.program,a);this._activeGeometry=r,this._activeVao!==l&&(this._activeVao=l,this.hasVao?i.bindVertexArray(l):this.activateVao(r,n.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var r=this._activeGeometry,n=this.gl,i=0;i<r.buffers.length;i++){var s=r.buffers[i],a=s._glBuffers[this.CONTEXT_UID];if(s._updateID!==a.updateID){a.updateID=s._updateID;var l=s.index?n.ELEMENT_ARRAY_BUFFER:n.ARRAY_BUFFER;if(n.bindBuffer(l,a.buffer),this._boundBuffer=a,a.byteLength>=s.data.byteLength)n.bufferSubData(l,0,s.data);else{var c=s.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=s.data.byteLength,n.bufferData(l,s.data,c)}}}},e.prototype.checkCompatibility=function(r,n){var i=r.attributes,s=n.attributeData;for(var a in s)if(!i[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},e.prototype.getSignature=function(r,n){var i=r.attributes,s=n.attributeData,a=["g",r.id];for(var l in i)s[l]&&a.push(l);return a.join("-")},e.prototype.initGeometryVao=function(r,n,i){i===void 0&&(i=!0),this.checkCompatibility(r,n);var s=this.gl,a=this.CONTEXT_UID,l=this.getSignature(r,n),c=r.glVertexArrayObjects[this.CONTEXT_UID],d=c[l];if(d)return c[n.id]=d,d;var g=r.buffers,_=r.attributes,w={},T={};for(var S in g)w[S]=0,T[S]=0;for(var S in _)!_[S].size&&n.attributeData[S]?_[S].size=n.attributeData[S].size:_[S].size||console.warn("PIXI Geometry attribute '"+S+"' size cannot be determined (likely the bound shader does not have the attribute)"),w[_[S].buffer]+=_[S].size*Ug[_[S].type];for(var S in _){var P=_[S],E=P.size;P.stride===void 0&&(w[P.buffer]===E*Ug[P.type]?P.stride=0:P.stride=w[P.buffer]),P.start===void 0&&(P.start=T[P.buffer],T[P.buffer]+=E*Ug[P.type])}d=s.createVertexArray(),s.bindVertexArray(d);for(var A=0;A<g.length;A++){var k=g[A];k._glBuffers[a]||(k._glBuffers[a]=new X5(s.createBuffer()),this.managedBuffers[k.id]=k,k.disposeRunner.add(this)),i&&k._glBuffers[a].refCount++}return this.activateVao(r,n),this._activeVao=d,c[n.id]=d,c[l]=d,d},e.prototype.disposeBuffer=function(r,n){if(this.managedBuffers[r.id]){delete this.managedBuffers[r.id];var i=r._glBuffers[this.CONTEXT_UID],s=this.gl;r.disposeRunner.remove(this),i&&(n||s.deleteBuffer(i.buffer),delete r._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(r,n){if(this.managedGeometries[r.id]){delete this.managedGeometries[r.id];var i=r.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,a=r.buffers;if(r.disposeRunner.remove(this),!!i){for(var l=0;l<a.length;l++){var c=a[l]._glBuffers[this.CONTEXT_UID];c.refCount--,c.refCount===0&&!n&&this.disposeBuffer(a[l],n)}if(!n){for(var d in i)if(d[0]==="g"){var g=i[d];this._activeVao===g&&this.unbind(),s.deleteVertexArray(g)}}delete r.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(r){for(var n=Object.keys(this.managedGeometries),i=0;i<n.length;i++)this.disposeGeometry(this.managedGeometries[n[i]],r);n=Object.keys(this.managedBuffers);for(var i=0;i<n.length;i++)this.disposeBuffer(this.managedBuffers[n[i]],r)},e.prototype.activateVao=function(r,n){var i=this.gl,s=this.CONTEXT_UID,a=r.buffers,l=r.attributes;r.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,r.indexBuffer._glBuffers[s].buffer);var c=null;for(var d in l){var g=l[d],_=a[g.buffer],w=_._glBuffers[s];if(n.attributeData[d]){c!==w&&(i.bindBuffer(i.ARRAY_BUFFER,w.buffer),c=w);var T=n.attributeData[d].location;if(i.enableVertexAttribArray(T),i.vertexAttribPointer(T,g.size,g.type||i.FLOAT,g.normalized,g.stride,g.start),g.instance)if(this.hasInstance)i.vertexAttribDivisor(T,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},e.prototype.draw=function(r,n,i,s){var a=this.gl,l=this._activeGeometry;if(l.indexBuffer){var c=l.indexBuffer.data.BYTES_PER_ELEMENT,d=c===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;c===2||c===4&&this.canUseUInt32ElementIndex?l.instanced?a.drawElementsInstanced(r,n||l.indexBuffer.data.length,d,(i||0)*c,s||1):a.drawElements(r,n||l.indexBuffer.data.length,d,(i||0)*c):console.warn("unsupported index buffer type: uint32")}else l.instanced?a.drawArraysInstanced(r,i,n||l.getSize(),s||1):a.drawArrays(r,i,n||l.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(tn),K5=function(){function t(e){e===void 0&&(e=null),this.type=Yr.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Yr.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function jT(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function NI(t,e,r,n){var i=jT(t,t.VERTEX_SHADER,e),s=jT(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,i),t.attachShader(a,s),n)for(var l in n)t.bindAttribLocation(a,n[l],l);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(t.getShaderParameter(i,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(i))),t.getShaderParameter(s,t.COMPILE_STATUS)||(console.warn(r),console.error(t.getShaderInfoLog(s))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),t.getProgramInfoLog(a)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(i),t.deleteShader(s),a}function Bg(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function FI(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return Bg(2*e);case"bvec3":return Bg(3*e);case"bvec4":return Bg(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var LI={},nu=LI;function UI(){if(nu===LI||nu&&nu.isContextLost()){var t=document.createElement("canvas"),e=void 0;Te.PREFER_ENV>=Ai.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),nu=e}return nu}var nf;function Q5(){if(!nf){nf=zn.MEDIUM;var t=UI();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);nf=e.precision?zn.HIGH:zn.MEDIUM}}return nf}function WT(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===zn.HIGH&&r!==zn.HIGH&&(n=zn.MEDIUM),"precision "+n+` float;
`+t}else if(r!==zn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var Z5={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function J5(t){return Z5[t]}var sf=null,GT={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function YT(t,e){if(!sf){var r=Object.keys(GT);sf={};for(var n=0;n<r.length;++n){var i=r[n];sf[t[i]]=GT[i]}}return sf[e]}var Vg=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],eU={float:`
    if(cv !== v)
    {
        cv.v = v;
        gl.uniform1f(location, v)
    }`,vec2:`
    if(cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},tU={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function rU(t,e){var r=[`
        var v = null;
        var cv = null
        var t = 0;
        var gl = renderer.gl
    `];for(var n in t.uniforms){var i=e[n];if(!i){t.uniforms[n].group&&r.push(`
                    renderer.shader.syncUniformGroup(uv["`+n+`"], syncData);
                `);continue}for(var s=t.uniforms[n],a=!1,l=0;l<Vg.length;l++)if(Vg[l].test(i,s)){r.push(Vg[l].code(n,s)),a=!0;break}if(!a){var c=i.size===1?eU:tU,d=c[i.type].replace("location",'ud["'+n+'"].location');r.push(`
            cv = ud["`+n+`"].value;
            v = uv["`+n+`"];
            `+d+";")}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}var nU=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function iU(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function sU(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=nU.replace(/%forloop%/gi,iU(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var iu;function aU(){if(typeof iu=="boolean")return iu;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");iu=t({a:"b"},"a","b")===!0}catch{iu=!1}return iu}var oU=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,lU=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,uU=0,af={},Cp=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=uU++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),af[n]?(af[n]++,n+="-"+af[n]):af[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=WT(this.vertexSrc,Te.PRECISION_VERTEX,zn.HIGH),this.fragmentSrc=WT(this.fragmentSrc,Te.PRECISION_FRAGMENT,Q5())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(e,r){var n=UI();if(n){var i=NI(n,e,r);this.attributeData=this.getAttributeData(i,n),this.uniformData=this.getUniformData(i,n),n.deleteProgram(i)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(e,r){for(var n={},i=[],s=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES),a=0;a<s;a++){var l=r.getActiveAttrib(e,a),c=YT(r,l.type),d={type:c,name:l.name,size:J5(c),location:0};n[l.name]=d,i.push(d)}i.sort(function(g,_){return g.name>_.name?1:-1});for(var a=0;a<i.length;a++)i[a].location=a;return n},t.prototype.getUniformData=function(e,r){for(var n={},i=r.getProgramParameter(e,r.ACTIVE_UNIFORMS),s=0;s<i;s++){var a=r.getActiveUniform(e,s),l=a.name.replace(/\[.*?\]$/,""),c=a.name.match(/\[.*?\]$/),d=YT(r,a.type);n[l]={type:d,size:a.size,isArray:c,value:FI(d,a.size)}}return n},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return lU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return oU},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,s=NT[i];return s||(NT[i]=s=new t(e,r,n)),s},t}(),Ea=function(){function t(e,r){this.program=e,r?r instanceof ga?this.uniformGroup=r:this.uniformGroup=new ga(r):this.uniformGroup=new ga({});for(var n in e.uniformData)this.uniformGroup.uniforms[n]instanceof Array&&(this.uniformGroup.uniforms[n]=new Float32Array(this.uniformGroup.uniforms[n]))}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=Cp.from(e,r);return new t(i,n)},t}(),zg=0,$g=1,Hg=2,jg=3,Wg=4,Ua=function(){function t(){this.data=0,this.blendMode=Ce.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<zg)},set:function(e){!!(this.data&1<<zg)!==e&&(this.data^=1<<zg)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<$g)},set:function(e){!!(this.data&1<<$g)!==e&&(this.data^=1<<$g)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<Hg)},set:function(e){!!(this.data&1<<Hg)!==e&&(this.data^=1<<Hg)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<jg)},set:function(e){!!(this.data&1<<jg)!==e&&(this.data^=1<<jg)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Wg)},set:function(e){!!(this.data&1<<Wg)!==e&&(this.data^=1<<Wg)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==Ce.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),hU=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,cU=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,ks=function(t){Ve(e,t);function e(r,n,i){var s=this,a=Cp.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return s=t.call(this,a,i)||this,s.padding=0,s.resolution=Te.FILTER_RESOLUTION,s.enabled=!0,s.autoFit=!0,s.legacy=!!s.program.attributeData.aTextureCoord,s.state=new Ua,s}return e.prototype.apply=function(r,n,i,s,a){r.applyFilter(this,n,i,s)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return hU},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return cU},enumerable:!1,configurable:!0}),e}(Ea),fU=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,dU=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,XT=new Gt,X_=function(){function t(e,r){this._texture=e,this.mapCoord=new Gt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var s=e[i],a=e[i+1];r[i]=s*n.a+a*n.c+n.tx,r[i+1]=s*n.b+a*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,s=r.trim;s&&(XT.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(XT));var a=r.baseTexture,l=this.uClampFrame,c=this.clampMargin/a.resolution,d=this.clampOffset;return l[0]=(r._frame.x+c+d)/a.width,l[1]=(r._frame.y+c+d)/a.height,l[2]=(r._frame.x+r._frame.width-c+d)/a.width,l[3]=(r._frame.y+r._frame.height-c+d)/a.height,this.uClampOffset[0]=d/a.realWidth,this.uClampOffset[1]=d/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0},t}(),pU=function(t){Ve(e,t);function e(r){var n=this,i=new Gt;return n=t.call(this,fU,dU)||this,r.renderable=!1,n.maskSprite=r,n.maskMatrix=i,n}return e.prototype.apply=function(r,n,i,s){var a=this.maskSprite,l=a._texture;l.valid&&(l.uvMatrix||(l.uvMatrix=new X_(l,0)),l.uvMatrix.update(),this.uniforms.npmAlpha=l.baseTexture.alphaMode?0:1,this.uniforms.mask=l,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,a).prepend(l.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=l.uvMatrix.uClampFrame,r.applyFilter(this,n,i,s))},e}(ks),vU=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.enableScissor=!1,n.alphaMaskPool=[],n.maskDataPool=[],n.maskStack=[],n.alphaMaskIndex=0,n}return e.prototype.setMaskStack=function(r){this.maskStack=r,this.renderer.scissor.setMaskStack(r),this.renderer.stencil.setMaskStack(r)},e.prototype.push=function(r,n){var i=n;if(!i.isMaskData){var s=this.maskDataPool.pop()||new K5;s.pooled=!0,s.maskObject=n,i=s}switch(i.autoDetect&&this.detect(i),i.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),i._target=r,i.type){case Yr.SCISSOR:this.maskStack.push(i),this.renderer.scissor.push(i);break;case Yr.STENCIL:this.maskStack.push(i),this.renderer.stencil.push(i);break;case Yr.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i),this.maskStack.push(i);break}},e.prototype.pop=function(r){var n=this.maskStack.pop();if(!(!n||n._target!==r)){switch(n.type){case Yr.SCISSOR:this.renderer.scissor.pop();break;case Yr.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case Yr.SPRITE:this.popSpriteMask();break}n.reset(),n.pooled&&this.maskDataPool.push(n)}},e.prototype.detect=function(r){var n=r.maskObject;if(n.isSprite){r.type=Yr.SPRITE;return}if(r.type=Yr.STENCIL,this.enableScissor&&n.isFastRect&&n.isFastRect()){var i=n.worldTransform,s=Math.atan2(i.b,i.a),a=Math.atan2(i.d,i.c);s=Math.round(s*(180/Math.PI)*100),a=Math.round(a*(180/Math.PI)*100)-s,s=(s%9e3+9e3)%9e3,a=(a%18e3+18e3)%18e3,s===0&&a===9e3&&(r.type=Yr.SCISSOR)}},e.prototype.pushSpriteMask=function(r){var n=r.maskObject,i=r._target,s=this.alphaMaskPool[this.alphaMaskIndex];s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new pU(n)]),s[0].resolution=this.renderer.resolution,s[0].maskSprite=n;var a=i.filterArea;i.filterArea=n.getBounds(!0),this.renderer.filter.push(i,s),i.filterArea=a,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(tn),BI=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.maskStack=[],n.glConst=0,n}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(r){var n=this.renderer.gl,i=this.getStackLength();this.maskStack=r;var s=this.getStackLength();s!==i&&(s===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(tn),gU=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.push=function(r){var n=r.maskObject;n.renderable=!0;var i=r._scissorRect,s=n.getBounds(!0),a=this.renderer.gl;n.renderable=!1,i?s.fit(i):a.enable(a.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=s,this._useCurrent()},e.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n=this.renderer.renderTexture.current,i=this.renderer.projection,s=i.transform,a=i.sourceFrame,l=i.destinationFrame,c=n?n.resolution:this.renderer.resolution,d=(r.x-a.x)*c+l.x,g=(r.y-a.y)*c+l.y,_=r.width*c,w=r.height*c;s&&(d+=s.tx*c,g+=s.ty*c),n||(g=this.renderer.height-w-g),this.renderer.gl.scissor(d,g,_,w)},e}(BI),mU=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,s=r._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,s,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?(n.disable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),n.clearStencil(0)):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(BI),yU=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.destinationFrame=null,n.sourceFrame=null,n.defaultFrame=null,n.projectionMatrix=new Gt,n.transform=null,n}return e.prototype.update=function(r,n,i,s){this.destinationFrame=r||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||r,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,s),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(r,n,i,s){var a=this.projectionMatrix,l=s?-1:1;a.identity(),a.a=1/n.width*2,a.d=l*(1/n.height*2),a.tx=-1-n.x*a.a,a.ty=-l-n.y*a.d},e.prototype.setTransform=function(r){},e}(tn),Ys=new it,su=new it,au=new it,_U=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.clearColor=r._backgroundColorRgba,n.defaultMaskStack=[],n.current=null,n.sourceFrame=new it,n.destinationFrame=new it,n}return e.prototype.bind=function(r,n,i){r===void 0&&(r=null);var s=this.renderer;this.current=r;var a,l,c;r?(a=r.baseTexture,c=a.resolution,n||(Ys.width=r.frame.width,Ys.height=r.frame.height,n=Ys),i||(su.x=r.frame.x,su.y=r.frame.y,su.width=n.width,su.height=n.height,i=su),l=a.framebuffer):(c=s.resolution,n||(Ys.width=s.screen.width,Ys.height=s.screen.height,n=Ys),i||(i=Ys,i.width=n.width,i.height=n.height)),au.x=i.x*c,au.y=i.y*c,au.width=i.width*c,au.height=i.height*c,this.renderer.framebuffer.bind(l,au),this.renderer.projection.update(i,n,c,!l),r?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(i)},e.prototype.clear=function(r,n){this.current?r=r||this.current.baseTexture.clearColor:r=r||this.clearColor,this.renderer.framebuffer.clear(r[0],r[1],r[2],r[3],n)},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(tn),wU=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),xU=0,qT={textureCount:0},bU=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.destroyed=!1,n.systemCheck(),n.gl=null,n.shader=null,n.program=null,n.cache={},n.id=xU++,n}return e.prototype.systemCheck=function(){if(!aU())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(r){this.gl=r,this.reset()},e.prototype.bind=function(r,n){r.uniforms.globals=this.renderer.globalUniforms;var i=r.program,s=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(r);return this.shader=r,this.program!==i&&(this.program=i,this.gl.useProgram(s.program)),n||(qT.textureCount=0,this.syncUniformGroup(r.uniformGroup,qT)),s},e.prototype.setUniforms=function(r){var n=this.shader.program,i=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(i.uniformData,r,this.renderer)},e.prototype.syncUniformGroup=function(r,n){var i=this.getglProgram();(!r.static||r.dirtyId!==i.uniformGroups[r.id])&&(i.uniformGroups[r.id]=r.dirtyId,this.syncUniforms(r,i,n))},e.prototype.syncUniforms=function(r,n,i){var s=r.syncUniforms[this.shader.program.id]||this.createSyncGroups(r);s(n.uniformData,r.uniforms,this.renderer,i)},e.prototype.createSyncGroups=function(r){var n=this.getSignature(r,this.shader.program.uniformData);return this.cache[n]||(this.cache[n]=rU(r,this.shader.program.uniformData)),r.syncUniforms[this.shader.program.id]=this.cache[n],r.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(r,n){var i=r.uniforms,s=[];for(var a in i)s.push(a),n[a]&&s.push(n[a].type);return s.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(r){var n=this.gl,i=r.program,s={};for(var a in i.attributeData)s[a]=i.attributeData[a].location;var l=NI(n,i.vertexSrc,i.fragmentSrc,s),c={};for(var a in i.uniformData){var d=i.uniformData[a];c[a]={location:n.getUniformLocation(l,a),value:FI(d.type,d.size)}}var g=new wU(l,c);return i.glPrograms[this.renderer.CONTEXT_UID]=g,g},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(tn);function TU(t,e){return e===void 0&&(e=[]),e[Ce.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.ADD]=[t.ONE,t.ONE],e[Ce.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.NONE]=[0,0],e[Ce.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Ce.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Ce.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Ce.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ce.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Ce.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Ce.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Ce.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Ce.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ce.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var SU=0,EU=1,CU=2,IU=3,PU=4,AU=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.gl=null,n.stateId=0,n.polygonOffset=0,n.blendMode=Ce.NONE,n._blendEq=!1,n.map=[],n.map[SU]=n.setBlend,n.map[EU]=n.setOffset,n.map[CU]=n.setCullFace,n.map[IU]=n.setDepthTest,n.map[PU]=n.setFrontFace,n.checks=[],n.defaultState=new Ua,n.defaultState.blend=!0,n}return e.prototype.contextChange=function(r){this.gl=r,this.blendModes=TU(r),this.set(this.defaultState),this.reset()},e.prototype.set=function(r){if(r=r||this.defaultState,this.stateId!==r.data){for(var n=this.stateId^r.data,i=0;n;)n&1&&this.map[i].call(this,!!(r.data&1<<i)),n=n>>1,i++;this.stateId=r.data}for(var i=0;i<this.checks.length;i++)this.checks[i](this,r)},e.prototype.forceState=function(r){r=r||this.defaultState;for(var n=0;n<this.map.length;n++)this.map[n].call(this,!!(r.data&1<<n));for(var n=0;n<this.checks.length;n++)this.checks[n](this,r);this.stateId=r.data},e.prototype.setBlend=function(r){this.updateCheck(e.checkBlendMode,r),this.gl[r?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(r){this.updateCheck(e.checkPolygonOffset,r),this.gl[r?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(r){this.gl[r?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(r){this.gl[r?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(r){this.gl.frontFace(this.gl[r?"CW":"CCW"])},e.prototype.setBlendMode=function(r){if(r!==this.blendMode){this.blendMode=r;var n=this.blendModes[r],i=this.gl;n.length===2?i.blendFunc(n[0],n[1]):i.blendFuncSeparate(n[0],n[1],n[2],n[3]),n.length===6?(this._blendEq=!0,i.blendEquationSeparate(n[4],n[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},e.prototype.setPolygonOffset=function(r,n){this.gl.polygonOffset(r,n)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(r,n){var i=this.checks.indexOf(r);n&&i===-1?this.checks.push(r):!n&&i!==-1&&this.checks.splice(i,1)},e.checkBlendMode=function(r,n){r.setBlendMode(n.blendMode)},e.checkPolygonOffset=function(r,n){r.setPolygonOffset(1,n.polygonOffset)},e}(tn),kU=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.count=0,n.checkCount=0,n.maxIdle=Te.GC_MAX_IDLE,n.checkCountMax=Te.GC_MAX_CHECK_COUNT,n.mode=Te.GC_MODE,n}return e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==Sy.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var r=this.renderer.texture,n=r.managedTextures,i=!1,s=0;s<n.length;s++){var a=n[s];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(r.destroyTexture(a,!0),n[s]=null,i=!0)}if(i){for(var l=0,s=0;s<n.length;s++)n[s]!==null&&(n[l++]=n[s]);n.length=l}},e.prototype.unload=function(r){var n=this.renderer.texture,i=r._texture;i&&!i.framebuffer&&n.destroyTexture(i);for(var s=r.children.length-1;s>=0;s--)this.unload(r.children[s])},e}(tn),Gg=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}return t}(),OU=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.boundTextures=[],n.currentLocation=-1,n.managedTextures=[],n._unknownBoundTextures=!1,n.unknownTexture=new xt,n}return e.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var n=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(var i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};var s=new Gg(r.createTexture());r.bindTexture(r.TEXTURE_2D,s.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[r.TEXTURE_2D]=s,this.emptyTextures[r.TEXTURE_CUBE_MAP]=new Gg(r.createTexture()),r.bindTexture(r.TEXTURE_CUBE_MAP,this.emptyTextures[r.TEXTURE_CUBE_MAP].texture);for(var i=0;i<6;i++)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,null);r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR);for(var i=0;i<this.boundTextures.length;i++)this.bind(null,i)},e.prototype.bind=function(r,n){n===void 0&&(n=0);var i=this.gl;if(r){if(r=r.castToBaseTexture(),r.parentTextureArray)return;if(r.valid){r.touched=this.renderer.textureGC.count;var s=r._glTextures[this.CONTEXT_UID]||this.initTexture(r);this.boundTextures[n]!==r&&(this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),i.bindTexture(r.target,s.texture)),s.dirtyId!==r.dirtyId&&(this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),this.updateTexture(r)),this.boundTextures[n]=r}}else this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[n]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]=this.unknownTexture},e.prototype.unbind=function(r){var n=this,i=n.gl,s=n.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<s.length;a++)s[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<s.length;a++)s[a]===r&&(this.currentLocation!==a&&(i.activeTexture(i.TEXTURE0+a),this.currentLocation=a),i.bindTexture(r.target,this.emptyTextures[r.target].texture),s[a]=null)},e.prototype.initTexture=function(r){var n=new Gg(this.gl.createTexture());return n.dirtyId=-1,r._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(r),r.on("dispose",this.destroyTexture,this),n},e.prototype.initTextureType=function(r,n){if(n.internalFormat=r.format,n.type=r.type,this.webGLVersion===2){var i=this.renderer.gl;r.type===i.FLOAT&&r.format===i.RGBA&&(n.internalFormat=i.RGBA32F),r.type===Vt.HALF_FLOAT&&(n.type=i.HALF_FLOAT),n.type===i.HALF_FLOAT&&r.format===i.RGBA&&(n.internalFormat=i.RGBA16F)}},e.prototype.updateTexture=function(r){var n=r._glTextures[this.CONTEXT_UID];if(n){var i=this.renderer;if(this.initTextureType(r,n),!(r.resource&&r.resource.upload(i,r,n))){var s=r.realWidth,a=r.realHeight,l=i.gl;(n.width!==s||n.height!==a||n.dirtyId<0)&&(n.width=s,n.height=a,l.texImage2D(r.target,0,n.internalFormat,s,a,0,r.format,n.type,null))}r.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(r),n.dirtyId=r.dirtyId}},e.prototype.destroyTexture=function(r,n){var i=this.gl;if(r=r.castToBaseTexture(),r._glTextures[this.CONTEXT_UID]&&(this.unbind(r),i.deleteTexture(r._glTextures[this.CONTEXT_UID].texture),r.off("dispose",this.destroyTexture,this),delete r._glTextures[this.CONTEXT_UID],!n)){var s=this.managedTextures.indexOf(r);s!==-1&&Uo(this.managedTextures,s,1)}},e.prototype.updateTextureStyle=function(r){var n=r._glTextures[this.CONTEXT_UID];n&&((r.mipmap===ch.POW2||this.webGLVersion!==2)&&!r.isPowerOfTwo?n.mipmap=!1:n.mipmap=r.mipmap>=1,this.webGLVersion!==2&&!r.isPowerOfTwo?n.wrapMode=fs.CLAMP:n.wrapMode=r.wrapMode,r.resource&&r.resource.style(this.renderer,r,n)||this.setStyle(r,n),n.dirtyStyleId=r.dirtyStyleId)},e.prototype.setStyle=function(r,n){var i=this.gl;if(n.mipmap&&i.generateMipmap(r.target),i.texParameteri(r.target,i.TEXTURE_WRAP_S,n.wrapMode),i.texParameteri(r.target,i.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){i.texParameteri(r.target,i.TEXTURE_MIN_FILTER,r.scaleMode===gi.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var s=this.renderer.context.extensions.anisotropicFiltering;if(s&&r.anisotropicLevel>0&&r.scaleMode===gi.LINEAR){var a=Math.min(r.anisotropicLevel,i.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(r.target,s.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else i.texParameteri(r.target,i.TEXTURE_MIN_FILTER,r.scaleMode===gi.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(r.target,i.TEXTURE_MAG_FILTER,r.scaleMode===gi.LINEAR?i.LINEAR:i.NEAREST)},e}(tn),Yg=new Gt,MU=function(t){Ve(e,t);function e(r,n){r===void 0&&(r=uh.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},Te.RENDER_OPTIONS,n),n.roundPixels&&(Te.ROUND_PIXELS=n.roundPixels,ds("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),i.options=n,i.type=r,i.screen=new it(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||Te.RESOLUTION,i.transparent=n.transparent,i.autoDensity=n.autoDensity||n.autoResize||!1,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.screen.width=r,this.screen.height=n,this.view.width=r*this.resolution,this.view.height=n*this.resolution,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=n+"px"),this.emit("resize",r,n)},e.prototype.generateTexture=function(r,n,i,s){s=s||r.getLocalBounds(null,!0),s.width===0&&(s.width=1),s.height===0&&(s.height=1);var a=Qo.create({width:s.width|0,height:s.height|0,scaleMode:n,resolution:i});return Yg.tx=-s.x,Yg.ty=-s.y,this.render(r,a,!1,Yg,!!r.parent),a},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=uh.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=wI(r),qo(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),e}(Kh),Os=function(t){Ve(e,t);function e(r){var n=t.call(this,uh.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new vr("destroy"),contextChange:new vr("contextChange"),reset:new vr("reset"),update:new vr("update"),postrender:new vr("postrender"),prerender:new vr("prerender"),resize:new vr("resize")},n.globalUniforms=new ga({projectionMatrix:new Gt},!0),n.addSystem(vU,"mask").addSystem(j5,"context").addSystem(AU,"state").addSystem(bU,"shader").addSystem(OU,"texture").addSystem(q5,"geometry").addSystem(Y5,"framebuffer").addSystem(gU,"scissor").addSystem(mU,"stencil").addSystem(yU,"projection").addSystem(kU,"textureGC").addSystem($5,"filter").addSystem(_U,"renderTexture").addSystem(H5,"batch"),n.initPlugins(e.__plugins),r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.transparent,antialias:r.antialias,premultipliedAlpha:n.transparent&&n.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,K3(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(Q3())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(r,n){n||(n=r.name);var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var s in this.runners)this.runners[s].add(i);return this},e.prototype.render=function(r,n,i,s,a){if(this.renderingToScreen=!n,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=s,!this.context.isLost){if(n||(this._lastObjectRendered=r),!a){var l=r.enableTempParent();r.updateTransform(),r.disableTempParent(l)}this.renderTexture.bind(n),this.batch.currentRenderer.start(),(i!==void 0?i:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),n&&n.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(r,n)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},e.registerPlugin=function(r,n){e.__plugins=e.__plugins||{},e.__plugins[r]=n},e}(MU);function DU(t){return Os.create(t)}var RU=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,VI=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Oy=function(){function t(){this.texArray=null,this.blend=0,this.type=Tn.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),My=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),NU=function(){function t(e){this.rawBinaryData=new ArrayBuffer(e),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),FU=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Ua.for2d(),n.size=Te.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;Te.PREFER_ENV===Ai.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),Te.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=sU(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,s=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new Oy);for(;n.length<s;)n.push(new My);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,s=e._textureArrayPool,a=this.renderer.batch,l=this._tempBoundTextures,c=this.renderer.textureGC.count,d=++xt._globalBatch,g=0,_=s[0],w=0;a.copyBoundTextures(l,i);for(var T=0;T<this._bufferSize;++T){var S=n[T];n[T]=null,S._batchEnabled!==d&&(_.count>=i&&(a.boundArray(_,l,d,i),this.buildDrawCalls(_,w,T),w=T,_=s[++g],++d),S._batchEnabled=d,S.touched=c,_.elements[_.count++]=S)}_.count>0&&(a.boundArray(_,l,d,i),this.buildDrawCalls(_,w,this._bufferSize),++g,++d);for(var T=0;T<l.length;T++)l[T]=null;xt._globalBatch=d},e.prototype.buildDrawCalls=function(r,n,i){var s=this,a=s._bufferedElements,l=s._attributeBuffer,c=s._indexBuffer,d=s.vertexSize,g=e._drawCallPool,_=this._dcIndex,w=this._aIndex,T=this._iIndex,S=g[_];S.start=this._iIndex,S.texArray=r;for(var P=n;P<i;++P){var E=a[P],A=E._texture.baseTexture,k=bI[A.alphaMode?1:0][E.blendMode];a[P]=null,n<P&&S.blend!==k&&(S.size=T-S.start,n=P,S=g[++_],S.texArray=r,S.start=T),this.packInterleavedGeometry(E,l,c,w,T),w+=E.vertexData.length/2*d,T+=E.indices.length,S.blend=k}n<i&&(S.size=T-S.start,++_),this._dcIndex=_,this._aIndex=w,this._iIndex=T},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,s=r._indexBuffer;Te.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,s=n.state,a=e._drawCallPool,l=null,c=0;c<r;c++){var d=a[c],g=d.texArray,_=d.type,w=d.size,T=d.start,S=d.blend;l!==g&&(l=g,this.bindAndClearTexArray(g)),this.state.blendMode=S,s.set(this.state),i.drawElements(_,w,i.UNSIGNED_SHORT,T*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),Te.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=Sd(Math.ceil(r/8)),i=DT(n),s=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._aBuffers[s];return a||(this._aBuffers[s]=a=new NU(s*this.vertexSize*4)),a},e.prototype.getIndexBuffer=function(r){var n=Sd(Math.ceil(r/12)),i=DT(n),s=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._iBuffers[i];return a||(this._iBuffers[i]=a=new Uint16Array(s)),a},e.prototype.packInterleavedGeometry=function(r,n,i,s,a){for(var l=n.uint32View,c=n.float32View,d=s/this.vertexSize,g=r.uvs,_=r.indices,w=r.vertexData,T=r._texture.baseTexture._batchLocation,S=Math.min(r.worldAlpha,1),P=S<1&&r._texture.baseTexture.alphaMode?W_(r._tintRGB,S):r._tintRGB+(S*255<<24),E=0;E<w.length;E+=2)c[s++]=w[E],c[s++]=w[E+1],c[s++]=g[E],c[s++]=g[E+1],l[s++]=P,c[s++]=T;for(var E=0;E<_.length;E++)i[a++]=d+_[E]},e._drawCallPool=[],e._textureArrayPool=[],e}(Ep),LU=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=ga.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Cp(this.vertexSrc,i)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Gt,default:this.defaultGroupCache[e]};return new Ea(this.programCache[e],s)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),zI=function(t){Ve(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new ar(null,r,!1),n._indexBuffer=new ar(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,Vt.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,Vt.FLOAT).addAttribute("aColor",n._buffer,4,!0,Vt.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,Vt.FLOAT).addIndex(n._indexBuffer),n}return e}(Zh),KT=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,QT=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,UU=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:KT,fragment:QT,geometryClass:zI,vertexSize:6},e),n=r.vertex,i=r.fragment,s=r.vertexSize,a=r.geometryClass;return function(l){Ve(c,l);function c(d){var g=l.call(this,d)||this;return g.shaderGenerator=new LU(n,i),g.geometryClass=a,g.vertexSize=s,g}return c}(FU)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return KT},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return QT},enumerable:!1,configurable:!0}),t}(),BU=UU.create();/*!
 * @pixi/app - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Jh=function(){function t(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=DU(e),this.stage=new En,t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(s){s.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t}();Jh._plugins=[];var VU=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){window.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===window)n=window.innerWidth,i=window.innerHeight;else{var s=r._resizeTo,a=s.clientWidth,l=s.clientHeight;n=a,i=l}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();Jh.registerPlugin(VU);/*!
 * @pixi/extract - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ZT=new it,JT=4,zU=function(){function t(e){this.renderer=e,e.extract=this}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e){var r=this.renderer,n,i,s=!1,a,l=!1;e&&(e instanceof Qo?a=e:(a=this.renderer.generateTexture(e),l=!0)),a?(n=a.baseTexture.resolution,i=a.frame,s=!1,r.renderTexture.bind(a)):(n=this.renderer.resolution,s=!0,i=ZT,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var c=Math.floor(i.width*n+1e-4),d=Math.floor(i.height*n+1e-4),g=new FT(c,d,1),_=new Uint8Array(JT*c*d),w=r.gl;w.readPixels(i.x*n,i.y*n,c,d,w.RGBA,w.UNSIGNED_BYTE,_);var T=g.context.getImageData(0,0,c,d);if(t.arrayPostDivide(_,T.data),g.context.putImageData(T,0,0),s){var S=new FT(g.width,g.height,1);S.context.scale(1,-1),S.context.drawImage(g.canvas,0,-d),g.destroy(),g=S}return l&&a.destroy(!0),g.canvas},t.prototype.pixels=function(e){var r=this.renderer,n,i,s,a=!1;e&&(e instanceof Qo?s=e:(s=this.renderer.generateTexture(e),a=!0)),s?(n=s.baseTexture.resolution,i=s.frame,r.renderTexture.bind(s)):(n=r.resolution,i=ZT,i.width=r.width,i.height=r.height,r.renderTexture.bind(null));var l=i.width*n,c=i.height*n,d=new Uint8Array(JT*l*c),g=r.gl;return g.readPixels(i.x*n,i.y*n,l,c,g.RGBA,g.UNSIGNED_BYTE,d),a&&s.destroy(!0),t.arrayPostDivide(d,d),d},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t}(),$I=(t,e={})=>{if(!t)return;const r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={};let s=14;for(;s--;)i[r.key[s]]=n[s]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(a,l,c){l&&(i[r.q.name][l]=c)}),i};class of{constructor(e,r=!1,n){this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}detach(){return this._owner===null?!1:(this._owner.detach(this),!0)}}function eS(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}class di{constructor(){this._head=this._tail=void 0}handlers(e=!1){let r=this._head;if(e)return!!r;const n=[];for(;r;)n.push(r),r=r._next;return n}has(e){if(!(e instanceof of))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}dispatch(){let e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}add(e,r=null){if(typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return eS(this,new of(e,!1,r))}once(e,r=null){if(typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return eS(this,new of(e,!0,r))}detach(e){if(!(e instanceof of))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)}detachAll(){let e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */function Xs(){}function tS(t,e,r,n){var i=0,s=t.length;(function a(l){if(l||i===s){r&&r(l);return}n?setTimeout(function(){e(t[i++],a)},1):e(t[i++],a)})()}function $U(t){return function(){if(t===null)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,arguments)}}function HU(t,e){if(e==null)e=1;else if(e===0)throw new Error("Concurrency must not be zero");var r=0,n={_tasks:[],concurrency:e,saturated:Xs,unsaturated:Xs,buffer:e/4,empty:Xs,drain:Xs,error:Xs,started:!1,paused:!1,push:function(l,c){i(l,!1,c)},kill:function(){r=0,n.drain=Xs,n.started=!1,n._tasks=[]},unshift:function(l,c){i(l,!0,c)},process:function(){for(;!n.paused&&r<n.concurrency&&n._tasks.length;){var l=n._tasks.shift();n._tasks.length===0&&n.empty(),r+=1,r===n.concurrency&&n.saturated(),t(l.data,$U(s(l)))}},length:function(){return n._tasks.length},running:function(){return r},idle:function(){return n._tasks.length+r===0},pause:function(){n.paused!==!0&&(n.paused=!0)},resume:function(){if(n.paused!==!1){n.paused=!1;for(var l=1;l<=n.concurrency;l++)n.process()}}};function i(a,l,c){if(c!=null&&typeof c!="function")throw new Error("task callback must be a function");if(n.started=!0,a==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var d={data:a,callback:typeof c=="function"?c:Xs};l?n._tasks.unshift(d):n._tasks.push(d),setTimeout(function(){return n.process()},1)}function s(a){return function(){r-=1,a.callback.apply(a,arguments),arguments[0]!=null&&n.error(arguments[0],a.data),r<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}}return n}var Xg={};function jU(t,e){var r=this;Xg[t.url]?(t.data=Xg[t.url],t.complete()):t.onComplete.once(function(){return Xg[r.url]=r.data}),e()}function rS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function HI(t,e,r){return e&&rS(t.prototype,e),r&&rS(t,r),t}var WU=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),lf=null,GU=0,nS=200,YU=204,XU=1223,qU=2;function KU(){}var Ie=function(){t.setExtensionLoadType=function(n,i){iS(t._loadTypeMap,n,i)},t.setExtensionXhrType=function(n,i){iS(t._xhrTypeMap,n,i)};function t(r,n,i){if(typeof r!="string"||typeof n!="string")throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,n.indexOf("data:")===0),this.name=r,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=i.crossOrigin===!0?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=KU,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new di,this.onProgress=new di,this.onComplete=new di,this.onAfterMiddleware=new di}var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(n){if(!this.error){if(this.error=new Error(n),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(n){var i=this;if(!this.isLoading){if(this.isComplete){n&&setTimeout(function(){return n(i)},1);return}else n&&this.onComplete.once(n);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:WU&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},e._hasFlag=function(n){return(this._flags&n)!==0},e._setFlag=function(n,i){this._flags=i?this._flags|n:this._flags&~n},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(n){this.metadata.loadElement?this.data=this.metadata.loadElement:n==="image"&&typeof window.Image<"u"?this.data=new Image:this.data=document.createElement(n),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(n){if(this.metadata.loadElement?this.data=this.metadata.loadElement:n==="audio"&&typeof window.Audio<"u"?this.data=new Audio:this.data=document.createElement(n),this.data===null){this.abort("Unsupported element: "+n);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var i=this.metadata.mimeType,s=0;s<this.url.length;++s)this.data.appendChild(this._createSource(n,this.url[s],Array.isArray(i)?i[s]:i));else{var a=this.metadata.mimeType;this.data.appendChild(this._createSource(n,this.url,Array.isArray(a)?a[0]:a))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var n=this.xhr=new XMLHttpRequest;n.open("GET",this.url,!0),n.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?n.responseType=t.XHR_RESPONSE_TYPE.TEXT:n.responseType=this.xhrType,n.addEventListener("error",this._boundXhrOnError,!1),n.addEventListener("timeout",this._boundXhrOnTimeout,!1),n.addEventListener("abort",this._boundXhrOnAbort,!1),n.addEventListener("progress",this._boundOnProgress,!1),n.addEventListener("load",this._boundXhrOnLoad,!1),n.send()},e._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var n=this.xhr=new XDomainRequest;n.timeout=this.timeout||5e3,n.onerror=this._boundXhrOnError,n.ontimeout=this._boundXhrOnTimeout,n.onprogress=this._boundOnProgress,n.onload=this._boundXhrOnLoad,n.open("GET",this.url,!0),setTimeout(function(){return n.send()},1)},e._createSource=function(n,i,s){s||(s=n+"/"+this._getExtension(i));var a=document.createElement("source");return a.src=i,a.type=s,a},e._onError=function(n){this.abort("Failed to load element using: "+n.target.nodeName)},e._onProgress=function(n){n&&n.lengthComputable&&this.onProgress.dispatch(this,n.loaded/n.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var n=this.xhr;this.abort(qg(n)+" Request failed. Status: "+n.status+', text: "'+n.statusText+'"')},e._xhrOnTimeout=function(){var n=this.xhr;this.abort(qg(n)+" Request timed out.")},e._xhrOnAbort=function(){var n=this.xhr;this.abort(qg(n)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var n=this.xhr,i="",s=typeof n.status>"u"?nS:n.status;(n.responseType===""||n.responseType==="text"||typeof n.responseType>"u")&&(i=n.responseText),s===GU&&(i.length>0||n.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?s=nS:s===XU&&(s=YU);var a=s/100|0;if(a===qU)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(d){this.abort("Error trying to parse loaded json: "+d);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var l=new DOMParser;this.data=l.parseFromString(i,"text/xml")}else{var c=document.createElement("div");c.innerHTML=i,this.data=c}this.type=t.TYPE.XML}catch(d){this.abort("Error trying to parse loaded xml: "+d);return}else this.data=n.response||i;else{this.abort("["+n.status+"] "+n.statusText+": "+n.responseURL);return}this.complete()},e._determineCrossOrigin=function(n,i){if(n.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";i=i||window.location,lf||(lf=document.createElement("a")),lf.href=n,n=$I(lf.href,{strictMode:!0});var s=!n.port&&i.port===""||n.port===i.port,a=n.protocol?n.protocol+":":"";return n.host!==i.hostname||!s||a!==i.protocol?"anonymous":""},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var n=this.url,i="";if(this.isDataUrl){var s=n.indexOf("/");i=n.substring(s+1,n.indexOf(";",s))}else{var a=n.indexOf("?"),l=n.indexOf("#"),c=Math.min(a>-1?a:n.length,l>-1?l:n.length);n=n.substring(0,c),i=n.substring(n.lastIndexOf(".")+1)}return i.toLowerCase()},e._getMimeFromXhrType=function(n){switch(n){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},HI(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();Ie.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2};Ie.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};Ie.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};Ie.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};Ie._loadTypeMap={gif:Ie.LOAD_TYPE.IMAGE,png:Ie.LOAD_TYPE.IMAGE,bmp:Ie.LOAD_TYPE.IMAGE,jpg:Ie.LOAD_TYPE.IMAGE,jpeg:Ie.LOAD_TYPE.IMAGE,tif:Ie.LOAD_TYPE.IMAGE,tiff:Ie.LOAD_TYPE.IMAGE,webp:Ie.LOAD_TYPE.IMAGE,tga:Ie.LOAD_TYPE.IMAGE,svg:Ie.LOAD_TYPE.IMAGE,"svg+xml":Ie.LOAD_TYPE.IMAGE,mp3:Ie.LOAD_TYPE.AUDIO,ogg:Ie.LOAD_TYPE.AUDIO,wav:Ie.LOAD_TYPE.AUDIO,mp4:Ie.LOAD_TYPE.VIDEO,webm:Ie.LOAD_TYPE.VIDEO};Ie._xhrTypeMap={xhtml:Ie.XHR_RESPONSE_TYPE.DOCUMENT,html:Ie.XHR_RESPONSE_TYPE.DOCUMENT,htm:Ie.XHR_RESPONSE_TYPE.DOCUMENT,xml:Ie.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Ie.XHR_RESPONSE_TYPE.DOCUMENT,svg:Ie.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Ie.XHR_RESPONSE_TYPE.DOCUMENT,gif:Ie.XHR_RESPONSE_TYPE.BLOB,png:Ie.XHR_RESPONSE_TYPE.BLOB,bmp:Ie.XHR_RESPONSE_TYPE.BLOB,jpg:Ie.XHR_RESPONSE_TYPE.BLOB,jpeg:Ie.XHR_RESPONSE_TYPE.BLOB,tif:Ie.XHR_RESPONSE_TYPE.BLOB,tiff:Ie.XHR_RESPONSE_TYPE.BLOB,webp:Ie.XHR_RESPONSE_TYPE.BLOB,tga:Ie.XHR_RESPONSE_TYPE.BLOB,json:Ie.XHR_RESPONSE_TYPE.JSON,text:Ie.XHR_RESPONSE_TYPE.TEXT,txt:Ie.XHR_RESPONSE_TYPE.TEXT,ttf:Ie.XHR_RESPONSE_TYPE.BUFFER,otf:Ie.XHR_RESPONSE_TYPE.BUFFER};Ie.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function iS(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function qg(t){return t.toString().replace("object ","")}var QU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ZU(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],s=0;s<n.length;++s)r<t.length?n[s]=t.charCodeAt(r++)&255:n[s]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var a=r-(t.length-1);switch(a){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var l=0;l<i.length;++l)e+=QU.charAt(i[l])}return e}var sS=window.URL||window.webkitURL;function JU(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===Ie.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+ZU(t.xhr.responseText),t.type=Ie.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=sS.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=n,t.type=Ie.TYPE.IMAGE,t.data.onload=function(){sS.revokeObjectURL(n),t.data.onload=null,e()};return}}e()}var eB={caching:jU,parsing:JU},Kg=100,tB=/(#[\w-]+)?$/,xi=function(){function t(r,n){var i=this;r===void 0&&(r=""),n===void 0&&(n=10),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,c){return i._loadResource(l,c)},this._queue=HU(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new di,this.onError=new di,this.onLoad=new di,this.onStart=new di,this.onComplete=new di;for(var s=0;s<t._defaultBeforeMiddleware.length;++s)this.pre(t._defaultBeforeMiddleware[s]);for(var a=0;a<t._defaultAfterMiddleware.length;++a)this.use(t._defaultAfterMiddleware[a])}var e=t.prototype;return e.add=function(n,i,s,a){if(Array.isArray(n)){for(var l=0;l<n.length;++l)this.add(n[l]);return this}if(typeof n=="object"&&(a=i||n.callback||n.onComplete,s=n,i=n.url,n=n.name||n.key||n.url),typeof i!="string"&&(a=s,s=i,i=n),typeof i!="string")throw new Error("No url passed to add resource to loader.");if(typeof s=="function"&&(a=s,s=null),this.loading&&(!s||!s.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[n])throw new Error('Resource named "'+n+'" already exists.');if(i=this._prepareUrl(i),this.resources[n]=new Ie(n,i,s),typeof a=="function"&&this.resources[n].onAfterMiddleware.once(a),this.loading){for(var c=s.parentResource,d=[],g=0;g<c.children.length;++g)c.children[g].isComplete||d.push(c.children[g]);var _=c.progressChunk*(d.length+1),w=_/(d.length+2);c.children.push(this.resources[n]),c.progressChunk=w;for(var T=0;T<d.length;++T)d[T].progressChunk=w;this.resources[n].progressChunk=w}return this._queue.push(this.resources[n]),this},e.pre=function(n){return this._beforeMiddleware.push(n),this},e.use=function(n){return this._afterMiddleware.push(n),this},e.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var n in this.resources){var i=this.resources[n];i._onLoadBinding&&i._onLoadBinding.detach(),i.isLoading&&i.abort()}return this.resources={},this},e.load=function(n){if(typeof n=="function"&&this.onComplete.once(n),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var i=this._queue._tasks.length,s=Kg/i,a=0;a<this._queue._tasks.length;++a)this._queue._tasks[a].data.progressChunk=s;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(n){var i=$I(n,{strictMode:!0}),s;if(i.protocol||!i.path||n.indexOf("//")===0?s=n:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&n.charAt(0)!=="/"?s=this.baseUrl+"/"+n:s=this.baseUrl+n,this.defaultQueryString){var a=tB.exec(s)[0];s=s.substr(0,s.length-a.length),s.indexOf("?")!==-1?s+="&"+this.defaultQueryString:s+="?"+this.defaultQueryString,s+=a}return s},e._loadResource=function(n,i){var s=this;n._dequeue=i,tS(this._beforeMiddleware,function(a,l){a.call(s,n,function(){l(n.isComplete?{}:null)})},function(){n.isComplete?s._onLoad(n):(n._onLoadBinding=n.onComplete.once(s._onLoad,s),n.load())},!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=Kg,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(n){var i=this;n._onLoadBinding=null,this._resourcesParsing.push(n),n._dequeue(),tS(this._afterMiddleware,function(s,a){s.call(i,n,a)},function(){n.onAfterMiddleware.dispatch(n),i.progress=Math.min(Kg,i.progress+n.progressChunk),i.onProgress.dispatch(i,n),n.error?i.onError.dispatch(n.error,i,n):i.onLoad.dispatch(i,n),i._resourcesParsing.splice(i._resourcesParsing.indexOf(n),1),i._queue.idle()&&i._resourcesParsing.length===0&&i._onComplete()},!0)},HI(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(n){this._queue.concurrency=n}}]),t}();xi._defaultBeforeMiddleware=[];xi._defaultAfterMiddleware=[];xi.pre=function(e){return xi._defaultBeforeMiddleware.push(e),xi};xi.use=function(e){return xi._defaultAfterMiddleware.push(e),xi};/*!
 * @pixi/loaders - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Lf=Ie;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Dy=function(t,e){return Dy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Dy(t,e)};function rB(t,e){Dy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nB=function(){function t(){}return t.use=function(e,r){e.data&&e.type===Ie.TYPE.IMAGE&&(e.texture=Me.fromLoader(e.data,e.url,e.name)),r()},t}(),Zo=function(t){rB(e,t);function e(r,n){for(var i=t.call(this,r,n)||this,s=0;s<e._plugins.length;++s){var a=e._plugins[s],l=a.pre,c=a.use;l&&i.pre(l),c&&i.use(c)}return i._protected=!1,i}return e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var r=e._shared;return r||(r=new e,r._protected=!0,e._shared=r),r},enumerable:!1,configurable:!0}),e.registerPlugin=function(r){return e._plugins.push(r),r.add&&r.add(),e},e._plugins=[],e}(xi);Zo.registerPlugin({use:eB.parsing});Zo.registerPlugin(nB);var iB=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Zo.shared:new Zo},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}();/*!
 * @pixi/particles - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ry=function(t,e){return Ry=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ry(t,e)};function jI(t,e){Ry(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}(function(t){jI(e,t);function e(r,n,i,s){r===void 0&&(r=1500),i===void 0&&(i=16384),s===void 0&&(s=!1);var a=t.call(this)||this,l=16384;return i>l&&(i=l),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=i,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=Ce.NORMAL,a.autoResize=s,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,qo(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e})(En);var aS=function(){function t(e,r,n){this.geometry=new Zh,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Vt.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new ar(e5(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=new ar(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=a,a+=i.size,this.staticStride+=i.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=new ar(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===Vt.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===Vt.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===Vt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===Vt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),sB=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,aB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,oB=function(t){jI(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Gt,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Vt.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=Ea.from(aB,sB,{}),n.state=Ua.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,s=r._batchSize,a=this.renderer,l=n.length;if(l!==0){l>i&&!r.autoResize&&(l=i);var c=r._buffers;c||(c=r._buffers=this.generateBuffers(r));var d=n[0]._texture.baseTexture;this.state.blendMode=TI(r.blendMode,d.alphaMode),a.state.set(this.state);var g=a.gl,_=r.worldTransform.copyTo(this.tempMatrix);_.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=_.toArray(!0),this.shader.uniforms.uColor=J3(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,d.alphaMode),this.shader.uniforms.uSampler=d,this.renderer.shader.bind(this.shader);for(var w=!1,T=0,S=0;T<l;T+=s,S+=1){var P=l-T;P>s&&(P=s),S>=c.length&&c.push(this._generateOneMoreBuffer(r));var E=c[S];E.uploadDynamic(n,T,P);var A=r._bufferUpdateIDs[S]||0;w=w||E._updateID<A,w&&(E._updateID=r._updateID,E.uploadStatic(n,T,P)),a.geometry.bind(E.geometry),g.drawElements(g.TRIANGLES,P*6,g.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,s=r._batchSize,a=r._properties,l=0;l<i;l+=s)n.push(new aS(this.properties,a,s));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new aS(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,s,a,l){for(var c=0,d=0,g=0,_=0,w=0;w<i;++w){var T=r[n+w],S=T._texture,P=T.scale.x,E=T.scale.y,A=S.trim,k=S.orig;A?(d=A.x-T.anchor.x*k.width,c=d+A.width,_=A.y-T.anchor.y*k.height,g=_+A.height):(c=k.width*(1-T.anchor.x),d=k.width*-T.anchor.x,g=k.height*(1-T.anchor.y),_=k.height*-T.anchor.y),s[l]=d*P,s[l+1]=_*E,s[l+a]=c*P,s[l+a+1]=_*E,s[l+a*2]=c*P,s[l+a*2+1]=g*E,s[l+a*3]=d*P,s[l+a*3+1]=g*E,l+=a*4}},e.prototype.uploadPosition=function(r,n,i,s,a,l){for(var c=0;c<i;c++){var d=r[n+c].position;s[l]=d.x,s[l+1]=d.y,s[l+a]=d.x,s[l+a+1]=d.y,s[l+a*2]=d.x,s[l+a*2+1]=d.y,s[l+a*3]=d.x,s[l+a*3+1]=d.y,l+=a*4}},e.prototype.uploadRotation=function(r,n,i,s,a,l){for(var c=0;c<i;c++){var d=r[n+c].rotation;s[l]=d,s[l+a]=d,s[l+a*2]=d,s[l+a*3]=d,l+=a*4}},e.prototype.uploadUvs=function(r,n,i,s,a,l){for(var c=0;c<i;++c){var d=r[n+c]._texture._uvs;d?(s[l]=d.x0,s[l+1]=d.y0,s[l+a]=d.x1,s[l+a+1]=d.y1,s[l+a*2]=d.x2,s[l+a*2+1]=d.y2,s[l+a*3]=d.x3,s[l+a*3+1]=d.y3,l+=a*4):(s[l]=0,s[l+1]=0,s[l+a]=0,s[l+a+1]=0,s[l+a*2]=0,s[l+a*2+1]=0,s[l+a*3]=0,s[l+a*3+1]=0,l+=a*4)}},e.prototype.uploadTint=function(r,n,i,s,a,l){for(var c=0;c<i;++c){var d=r[n+c],g=d._texture.baseTexture.alphaMode>0,_=d.alpha,w=_<1&&g?W_(d._tintRGB,_):d._tintRGB+(_*255<<24);s[l]=w,s[l+a]=w,s[l+a*2]=w,s[l+a*3]=w,l+=a*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Ep);/*!
 * @pixi/graphics - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ji;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(Ji||(Ji={}));var es;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(es||(es={}));var ph={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},WI=function(){function t(){this.color=16777215,this.alpha=1,this.texture=Me.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Me.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ny=function(t,e){return Ny=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ny(t,e)};function Ip(t,e){Ny(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var GI={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,s=e.indices;if(r.length>=6){for(var a=[],l=0;l<n.length;l++){var c=n[l];a.push(r.length/2),r=r.concat(c.points)}var d=xp.exports(r,a,2);if(!d)return;for(var g=i.length/2,l=0;l<d.length;l+=3)s.push(d[l]+g),s.push(d[l+1]+g),s.push(d[l+2]+g);for(var l=0;l<r.length;l++)i.push(r[l])}}},oS={build:function(t){var e=t.shape,r=t.points,n=e.x,i=e.y,s,a;if(r.length=0,t.type===Mt.CIRC)s=e.radius,a=e.radius;else{var l=t.shape;s=l.width,a=l.height}if(!(s===0||a===0)){var c=Math.floor(30*Math.sqrt(e.radius))||Math.floor(15*Math.sqrt(s+a));c/=2.3;for(var d=Math.PI*2/c,g=0;g<c-.5;g++)r.push(n+Math.sin(-d*g)*s,i+Math.cos(-d*g)*a);r.push(r[0],r[1])}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,s=n.length/2,a=s,l=t.shape,c=t.matrix,d=l.x,g=l.y;n.push(t.matrix?c.a*d+c.c*g+c.tx:d,t.matrix?c.b*d+c.d*g+c.ty:g);for(var _=0;_<r.length;_+=2)n.push(r[_],r[_+1]),i.push(s++,a,s)}},lB={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,a=t.points;a.length=0,a.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function io(t,e,r){var n=e-t;return t+n*r}function uf(t,e,r,n,i,s,a){a===void 0&&(a=[]);for(var l=20,c=a,d=0,g=0,_=0,w=0,T=0,S=0,P=0,E=0;P<=l;++P)E=P/l,d=io(t,r,E),g=io(e,n,E),_=io(r,i,E),w=io(n,s,E),T=io(d,_,E),S=io(g,w,E),c.push(T,S);return c}var uB={build:function(t){var e=t.shape,r=t.points,n=e.x,i=e.y,s=e.width,a=e.height,l=Math.max(0,Math.min(e.radius,Math.min(s,a)/2));r.length=0,l?(uf(n,i+l,n,i,n+l,i,r),uf(n+s-l,i,n+s,i,n+s,i+l,r),uf(n+s,i+a-l,n+s,i+a,n+s-l,i+a,r),uf(n+l,i+a,n,i+a,n,i+a-l,r)):r.push(n,i,n+s,i,n+s,i+a,n,i+a)},triangulate:function(t,e){for(var r=t.points,n=e.points,i=e.indices,s=n.length/2,a=xp.exports(r,null,2),l=0,c=a.length;l<c;l+=3)i.push(a[l]+s),i.push(a[l+1]+s),i.push(a[l+2]+s);for(var l=0,c=r.length;l<c;l++)n.push(r[l],r[++l])}};function lS(t,e,r,n,i,s,a,l){var c=t-r*i,d=e-n*i,g=t+r*s,_=e+n*s,w,T;a?(w=n,T=-r):(w=-n,T=r);var S=c+w,P=d+T,E=g+w,A=_+T;return l.push(S,P),l.push(E,A),2}function so(t,e,r,n,i,s,a,l){var c=r-t,d=n-e,g=Math.atan2(c,d),_=Math.atan2(i-t,s-e);l&&g<_?g+=Math.PI*2:!l&&g>_&&(_+=Math.PI*2);var w=g,T=_-g,S=Math.abs(T),P=Math.sqrt(c*c+d*d),E=(15*S*Math.sqrt(P)/Math.PI>>0)+1,A=T/E;if(w+=A,l){a.push(t,e),a.push(r,n);for(var k=1,M=w;k<E;k++,M+=A)a.push(t,e),a.push(t+Math.sin(M)*P,e+Math.cos(M)*P);a.push(t,e),a.push(i,s)}else{a.push(r,n),a.push(t,e);for(var k=1,M=w;k<E;k++,M+=A)a.push(t+Math.sin(M)*P,e+Math.cos(M)*P),a.push(t,e);a.push(i,s),a.push(t,e)}return E*2}function hB(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var s=t.lineStyle,a=new hr(n[0],n[1]),l=new hr(n[n.length-2],n[n.length-1]),c=r.type!==Mt.POLY||r.closeStroke,d=Math.abs(a.x-l.x)<i&&Math.abs(a.y-l.y)<i;if(c){n=n.slice(),d&&(n.pop(),n.pop(),l.set(n[n.length-2],n[n.length-1]));var g=(a.x+l.x)*.5,_=(l.y+a.y)*.5;n.unshift(g,_),n.push(g,_)}var w=e.points,T=n.length/2,S=n.length,P=w.length/2,E=s.width/2,A=E*E,k=s.miterLimit*s.miterLimit,M=n[0],R=n[1],V=n[2],L=n[3],j=0,W=0,U=-(R-L),$=M-V,J=0,se=0,te=Math.sqrt(U*U+$*$);U/=te,$/=te,U*=E,$*=E;var Le=s.alignment,oe=(1-Le)*2,ue=Le*2;c||(s.cap===es.ROUND?S+=so(M-U*(oe-ue)*.5,R-$*(oe-ue)*.5,M-U*oe,R-$*oe,M+U*ue,R+$*ue,w,!0)+2:s.cap===es.SQUARE&&(S+=lS(M,R,U,$,oe,ue,!0,w))),w.push(M-U*oe,R-$*oe),w.push(M+U*ue,R+$*ue);for(var re=1;re<T-1;++re){M=n[(re-1)*2],R=n[(re-1)*2+1],V=n[re*2],L=n[re*2+1],j=n[(re+1)*2],W=n[(re+1)*2+1],U=-(R-L),$=M-V,te=Math.sqrt(U*U+$*$),U/=te,$/=te,U*=E,$*=E,J=-(L-W),se=V-j,te=Math.sqrt(J*J+se*se),J/=te,se/=te,J*=E,se*=E;var et=V-M,pt=R-L,he=V-j,H=W-L,X=pt*he-H*et,ne=X<0;if(Math.abs(X)<.1){w.push(V-U*oe,L-$*oe),w.push(V+U*ue,L+$*ue);continue}var we=(-U+M)*(-$+L)-(-U+V)*(-$+R),ie=(-J+j)*(-se+L)-(-J+V)*(-se+W),Pe=(et*ie-he*we)/X,$e=(H*we-pt*ie)/X,at=(Pe-V)*(Pe-V)+($e-L)*($e-L),pe=V+(Pe-V)*oe,_t=L+($e-L)*oe,We=V-(Pe-V)*ue,ge=L-($e-L)*ue,ot=Math.min(et*et+pt*pt,he*he+H*H),Lt=ne?oe:ue,Ut=ot+Lt*Lt*A,An=at<=Ut;An?s.join===Ji.BEVEL||at/A>k?(ne?(w.push(pe,_t),w.push(V+U*ue,L+$*ue),w.push(pe,_t),w.push(V+J*ue,L+se*ue)):(w.push(V-U*oe,L-$*oe),w.push(We,ge),w.push(V-J*oe,L-se*oe),w.push(We,ge)),S+=2):s.join===Ji.ROUND?ne?(w.push(pe,_t),w.push(V+U*ue,L+$*ue),S+=so(V,L,V+U*ue,L+$*ue,V+J*ue,L+se*ue,w,!0)+4,w.push(pe,_t),w.push(V+J*ue,L+se*ue)):(w.push(V-U*oe,L-$*oe),w.push(We,ge),S+=so(V,L,V-U*oe,L-$*oe,V-J*oe,L-se*oe,w,!1)+4,w.push(V-J*oe,L-se*oe),w.push(We,ge)):(w.push(pe,_t),w.push(We,ge)):(w.push(V-U*oe,L-$*oe),w.push(V+U*ue,L+$*ue),s.join===Ji.BEVEL||at/A>k||(s.join===Ji.ROUND?ne?S+=so(V,L,V+U*ue,L+$*ue,V+J*ue,L+se*ue,w,!0)+2:S+=so(V,L,V-U*oe,L-$*oe,V-J*oe,L-se*oe,w,!1)+2:(ne?(w.push(We,ge),w.push(We,ge)):(w.push(pe,_t),w.push(pe,_t)),S+=2)),w.push(V-J*oe,L-se*oe),w.push(V+J*ue,L+se*ue),S+=2)}M=n[(T-2)*2],R=n[(T-2)*2+1],V=n[(T-1)*2],L=n[(T-1)*2+1],U=-(R-L),$=M-V,te=Math.sqrt(U*U+$*$),U/=te,$/=te,U*=E,$*=E,w.push(V-U*oe,L-$*oe),w.push(V+U*ue,L+$*ue),c||(s.cap===es.ROUND?S+=so(V-U*(oe-ue)*.5,L-$*(oe-ue)*.5,V-U*oe,L-$*oe,V+U*ue,L+$*ue,w,!1)+2:s.cap===es.SQUARE&&(S+=lS(V,L,U,$,oe,ue,!1,w)));for(var Ns=e.indices,me=ph.epsilon*ph.epsilon,re=P;re<S+P-2;++re)M=w[re*2],R=w[re*2+1],V=w[(re+1)*2],L=w[(re+1)*2+1],j=w[(re+2)*2],W=w[(re+2)*2+1],!(Math.abs(M*(L-W)+V*(W-R)+j*(R-L))<me)&&Ns.push(re,re+1,re+2)}}function cB(t,e){var r=0,n=t.shape,i=t.points||n.points,s=n.type!==Mt.POLY||n.closeStroke;if(i.length!==0){var a=e.points,l=e.indices,c=i.length/2,d=a.length/2,g=d;for(a.push(i[0],i[1]),r=1;r<c;r++)a.push(i[r*2],i[r*2+1]),l.push(g,g+1),g++;s&&l.push(g,d)}}function uS(t,e){t.lineStyle.native?cB(t,e):hB(t,e)}var fB=function(t){Ip(e,t);function e(r,n,i,s,a,l){l===void 0&&(l=0);var c=this;a=a||s/2;for(var d=-1*Math.PI/2+l,g=i*2,_=fh/g,w=[],T=0;T<g;T++){var S=T%2?a:s,P=T*_+d;w.push(r+S*Math.cos(P),n+S*Math.sin(P))}return c=t.call(this,w)||this,c}return e}(Nu),hS=function(){function t(){}return t.curveTo=function(e,r,n,i,s,a){var l=a[a.length-2],c=a[a.length-1],d=c-r,g=l-e,_=i-r,w=n-e,T=Math.abs(d*w-g*_);if(T<1e-8||s===0)return(a[a.length-2]!==e||a[a.length-1]!==r)&&a.push(e,r),null;var S=d*d+g*g,P=_*_+w*w,E=d*_+g*w,A=s*Math.sqrt(S)/T,k=s*Math.sqrt(P)/T,M=A*E/S,R=k*E/P,V=A*w+k*g,L=A*_+k*d,j=g*(k+M),W=d*(k+M),U=w*(A+R),$=_*(A+R),J=Math.atan2(W-L,j-V),se=Math.atan2($-L,U-V);return{cx:V+e,cy:L+r,radius:s,startAngle:J,endAngle:se,anticlockwise:g*_>w*d}},t.arc=function(e,r,n,i,s,a,l,c,d){for(var g=l-a,_=ph._segmentsCount(Math.abs(g)*s,Math.ceil(Math.abs(g)/fh)*40),w=g/(_*2),T=w*2,S=Math.cos(w),P=Math.sin(w),E=_-1,A=E%1/E,k=0;k<=E;++k){var M=k+A*k,R=w+a+T*M,V=Math.cos(R),L=-Math.sin(R);d.push((S*V+P*L)*s+n,(S*-L+P*V)*s+i)}},t}(),dB=function(){function t(){}return t.curveLength=function(e,r,n,i,s,a,l,c){for(var d=10,g=0,_=0,w=0,T=0,S=0,P=0,E=0,A=0,k=0,M=0,R=0,V=e,L=r,j=1;j<=d;++j)_=j/d,w=_*_,T=w*_,S=1-_,P=S*S,E=P*S,A=E*e+3*P*_*n+3*S*w*s+T*l,k=E*r+3*P*_*i+3*S*w*a+T*c,M=V-A,R=L-k,V=A,L=k,g+=Math.sqrt(M*M+R*R);return g},t.curveTo=function(e,r,n,i,s,a,l){var c=l[l.length-2],d=l[l.length-1];l.length-=2;var g=ph._segmentsCount(t.curveLength(c,d,e,r,n,i,s,a)),_=0,w=0,T=0,S=0,P=0;l.push(c,d);for(var E=1,A=0;E<=g;++E)A=E/g,_=1-A,w=_*_,T=w*_,S=A*A,P=S*A,l.push(T*c+3*w*A*e+3*_*S*n+P*s,T*d+3*w*A*r+3*_*S*i+P*a)},t}(),pB=function(){function t(){}return t.curveLength=function(e,r,n,i,s,a){var l=e-2*n+s,c=r-2*i+a,d=2*n-2*e,g=2*i-2*r,_=4*(l*l+c*c),w=4*(l*d+c*g),T=d*d+g*g,S=2*Math.sqrt(_+w+T),P=Math.sqrt(_),E=2*_*P,A=2*Math.sqrt(T),k=w/P;return(E*S+P*w*(S-A)+(4*T*_-w*w)*Math.log((2*P+k+S)/(k+A)))/(4*E)},t.curveTo=function(e,r,n,i,s){for(var a=s[s.length-2],l=s[s.length-1],c=ph._segmentsCount(t.curveLength(a,l,e,r,n,i)),d=0,g=0,_=1;_<=c;++_){var w=_/c;d=a+(e-a)*w,g=l+(r-l)*w,s.push(d+(e+(n-e)*w-d)*w,g+(r+(i-r)*w-g)*w)}},t}(),vB=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),qs,Qg=(qs={},qs[Mt.POLY]=GI,qs[Mt.CIRC]=oS,qs[Mt.ELIP]=oS,qs[Mt.RECT]=lB,qs[Mt.RREC]=uB,qs),cS=[],hf=[],fS=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),ao=new hr,gB=new Cd,mB=function(t){Ip(e,t);function e(){var r=t.call(this)||this;return r.uvsFloat32=null,r.indicesUint16=null,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.dirty=0,r.batchDirty=-1,r.cacheDirty=-1,r.clearDirty=0,r.drawCalls=[],r.batches=[],r.shapeIndex=0,r._bounds=new Cd,r.boundsDirty=-1,r.boundsPadding=0,r.batchable=!1,r.indicesUint16=null,r.uvsFloat32=null,r.closePointEps=1e-4,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),hf.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),cS.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,s){n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=null);var a=new fS(r,n,i,s);return this.graphicsData.push(a),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new fS(r,null,null,n),s=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=s.lineStyle,s.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var s=n[i];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(r,ao):ao.copyFrom(r),s.shape.contains(ao.x,ao.y))){var a=!1;if(s.holes)for(var l=0;l<s.holes.length;l++){var c=s.holes[l];if(c.shape.contains(ao.x,ao.y)){a=!0;break}}if(!a)return!0}}return!1},e.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,s=null,a=null;this.batches.length>0&&(s=this.batches[this.batches.length-1],a=s.style);for(var l=this.shapeIndex;l<i.length;l++){this.shapeIndex++;var c=i[l],d=c.fillStyle,g=c.lineStyle,_=Qg[c.type];_.build(c),c.matrix&&this.transformPoints(c.points,c.matrix);for(var w=0;w<2;w++){var T=w===0?d:g;if(T.visible){var S=T.texture.baseTexture,P=this.indices.length,E=this.points.length/2;S.wrapMode=fs.REPEAT,w===0?this.processFill(c):this.processLine(c);var A=this.points.length/2-E;A!==0&&(s&&!this._compareStyles(a,T)&&(s.end(P,E),s=null),s||(s=cS.pop()||new vB,s.begin(T,P,E),this.batches.push(s),a=T),this.addUvs(this.points,n,T.texture,E,A,T.matrix))}}}var k=this.indices.length,M=this.points.length/2;if(s&&s.end(k,M),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var R=M>65535&&r;this.indicesUint16=R?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],s=i.fillStyle,a=i.lineStyle;if(s&&!s.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var s=r[n],a=0;a<s.size;a++){var l=s.start+a;this.indicesUint16[l]=this.indicesUint16[l]-s.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++xt._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),hf.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,s=this.textureIds,a=hf.pop();a||(a=new Oy,a.texArray=new My),a.texArray.count=0,a.start=0,a.size=0,a.type=Tn.TRIANGLES;var l=0,c=null,d=0,g=!1,_=Tn.TRIANGLES,w=0;this.drawCalls.push(a);for(var n=0;n<this.batches.length;n++){var T=this.batches[n],S=8,P=T.style,E=P.texture.baseTexture;g!==!!P.native&&(g=!!P.native,_=g?Tn.LINES:Tn.TRIANGLES,c=null,l=S,r++),c!==E&&(c=E,E._batchEnabled!==r&&(l===S&&(r++,l=0,a.size>0&&(a=hf.pop(),a||(a=new Oy,a.texArray=new My),this.drawCalls.push(a)),a.start=w,a.size=0,a.texArray.count=0,a.type=_),E.touched=1,E._batchEnabled=r,E._batchLocation=l,E.wrapMode=10497,a.texArray.elements[a.texArray.count++]=E,l++)),a.size+=T.size,w+=T.size,d=E._batchLocation,this.addColors(i,P.color,P.alpha,T.attribSize,T.attribStart),this.addTextureIds(s,d,T.attribSize,T.attribStart)}xt._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,s=this.textureIds,a=new ArrayBuffer(r.length*3*4),l=new Float32Array(a),c=new Uint32Array(a),d=0,g=0;g<r.length/2;g++)l[d++]=r[g*2],l[d++]=r[g*2+1],l[d++]=n[g*2],l[d++]=n[g*2+1],c[d++]=i[g],l[d++]=s[g];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)this.processHoles(r.holes),GI.triangulate(r,this);else{var n=Qg[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){uS(r,this);for(var n=0;n<r.holes.length;n++)uS(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],s=Qg[i.type];s.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds,n=gB,i=Gt.IDENTITY;this._bounds.clear(),n.clear();for(var s=0;s<this.graphicsData.length;s++){var a=this.graphicsData[s],l=a.shape,c=a.type,d=a.lineStyle,g=a.matrix||Gt.IDENTITY,_=0;if(d&&d.visible){var w=d.alignment;_=d.width,c===Mt.POLY?_=_*(.5+Math.abs(.5-w)):_=_*Math.max(0,w)}if(i!==g&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=g),c===Mt.RECT||c===Mt.RREC){var T=l;n.addFramePad(T.x,T.y,T.x+T.width,T.y+T.height,_,_)}else if(c===Mt.CIRC){var S=l;n.addFramePad(S.x,S.y,S.x,S.y,S.radius+_,S.radius+_)}else if(c===Mt.ELIP){var P=l;n.addFramePad(P.x,P.y,P.x,P.y,P.width+_,P.height+_)}else{var E=l;r.addVerticesMatrix(i,E.points,0,E.points.length,_,_)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var s=r[i*2],a=r[i*2+1];r[i*2]=n.a*s+n.c*a+n.tx,r[i*2+1]=n.b*s+n.d*a+n.ty}},e.prototype.addColors=function(r,n,i,s,a){a===void 0&&(a=0);var l=(n>>16)+(n&65280)+((n&255)<<16),c=W_(l,i);r.length=Math.max(r.length,a+s);for(var d=0;d<s;d++)r[a+d]=c},e.prototype.addTextureIds=function(r,n,i,s){s===void 0&&(s=0),r.length=Math.max(r.length,s+i);for(var a=0;a<i;a++)r[s+a]=n},e.prototype.addUvs=function(r,n,i,s,a,l){l===void 0&&(l=null);for(var c=0,d=n.length,g=i.frame;c<a;){var _=r[(s+c)*2],w=r[(s+c)*2+1];if(l){var T=l.a*_+l.c*w+l.tx;w=l.b*_+l.d*w+l.ty,_=T}c++,n.push(_/g.width,w/g.height)}var S=i.baseTexture;(g.width<S.width||g.height<S.height)&&this.adjustUvs(n,i,d,a)},e.prototype.adjustUvs=function(r,n,i,s){for(var a=n.baseTexture,l=1e-6,c=i+s*2,d=n.frame,g=d.width/a.width,_=d.height/a.height,w=d.x/d.width,T=d.y/d.height,S=Math.floor(r[i]+l),P=Math.floor(r[i+1]+l),E=i+2;E<c;E+=2)S=Math.min(S,Math.floor(r[E]+l)),P=Math.min(P,Math.floor(r[E+1]+l));w-=S,T-=P;for(var E=i;E<c;E+=2)r[E]=(r[E]+w)*g,r[E+1]=(r[E+1]+T)*_},e.BATCHABLE_SIZE=100,e}(zI),yB=function(t){Ip(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=es.BUTT,r.join=Ji.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(WI),_B=new Float32Array(3),Zg={},YI=function(t){Ip(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n._geometry=r||new mB,n._geometry.refCount++,n.shader=null,n.state=Ua.for2d(),n._fillStyle=new WI,n._lineStyle=new yB,n._matrix=null,n._holeMode=!1,n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n.pluginName="batch",n._transformID=-1,n.tint=16777215,n.blendMode=Ce.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r){if(r===void 0&&(r=null),typeof r=="number"){var n=arguments;r={width:n[0]||0,color:n[1]||0,alpha:n[2]!==void 0?n[2]:1,alignment:n[3]!==void 0?n[3]:.5,native:!!n[4]}}return this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){if(typeof r=="number"){ds("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var n=arguments,i=n[0],s=n[1],a=n[2],l=n[3],c=n[4],d=n[5],g=n[6];r={width:i,texture:s,color:a,alpha:l,matrix:c,alignment:d,native:g},Object.keys(r).forEach(function(w){return r[w]===void 0&&delete r[w]})}r=Object.assign({width:0,texture:Me.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:es.BUTT,join:Ji.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var _=r.width>0&&r.alpha>0;return _?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:_},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new Nu,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new Nu,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,s=i[i.length-2],a=i[i.length-1];return(s!==r||a!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,s){this._initCurve();var a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),pB.curveTo(r,n,i,s,a),this},e.prototype.bezierCurveTo=function(r,n,i,s,a,l){return this._initCurve(),dB.curveTo(r,n,i,s,a,l,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,s,a){this._initCurve(r,n);var l=this.currentPath.points,c=hS.curveTo(r,n,i,s,a,l);if(c){var d=c.cx,g=c.cy,_=c.radius,w=c.startAngle,T=c.endAngle,S=c.anticlockwise;this.arc(d,g,_,w,T,S)}return this},e.prototype.arc=function(r,n,i,s,a,l){if(l===void 0&&(l=!1),s===a)return this;!l&&a<=s?a+=fh:l&&s<=a&&(s+=fh);var c=a-s;if(c===0)return this;var d=r+Math.cos(s)*i,g=n+Math.sin(s)*i,_=this._geometry.closePointEps,w=this.currentPath?this.currentPath.points:null;if(w){var T=Math.abs(w[w.length-2]-d),S=Math.abs(w[w.length-1]-g);T<_&&S<_||w.push(d,g)}else this.moveTo(d,g),w=this.currentPath.points;return hS.arc(d,g,r,n,i,s,a,l,w),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:Me.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){if(r instanceof Me){ds("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var n=arguments,i=n[0],s=n[1],a=n[2],l=n[3];r={texture:i,color:s,alpha:a,matrix:l},Object.keys(r).forEach(function(d){return r[d]===void 0&&delete r[d]})}r=Object.assign({texture:Me.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var c=r.alpha>0;return c?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:c},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,s){return this.drawShape(new it(r,n,i,s))},e.prototype.drawRoundedRect=function(r,n,i,s,a){return this.drawShape(new l5(r,n,i,s,a))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new a5(r,n,i))},e.prototype.drawEllipse=function(r,n,i,s){return this.drawShape(new o5(r,n,i,s))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var s,a=!0,l=n[0];l.points?(a=l.closeStroke,s=l.points):Array.isArray(n[0])?s=n[0]:s=n;var c=new Nu(s);return c.closeStroke=a,this.drawShape(c),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(r,n,i,s,a,l){return l===void 0&&(l=0),this.drawPolygon(new fB(r,n,i,s,a,l))},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===Mt.RECT&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var s=0;s<i;s++){var a=r.batches[s],l=a.style.color,c=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),d=new Float32Array(r.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),g=new Uint16Array(r.indicesUint16.buffer,a.start*2,a.size),_={vertexData:c,blendMode:n,indices:g,uvs:d,_batchRGB:qo(l),_tintRGB:l,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[s]=_}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var s=this.batches[n];s.worldAlpha=this.worldAlpha*s.alpha,r.plugins[this.pluginName].render(s)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,s=this.tint,a=this.worldAlpha,l=n.uniforms,c=i.drawCalls;l.translationMatrix=this.transform.worldTransform,l.tint[0]=(s>>16&255)/255*a,l.tint[1]=(s>>8&255)/255*a,l.tint[2]=(s&255)/255*a,l.tint[3]=a,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var d=0,g=c.length;d<g;d++)this._renderDrawCallDirect(r,i.drawCalls[d])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,s=n.type,a=n.size,l=n.start,c=i.count,d=0;d<c;d++)r.texture.bind(i.elements[d],d);r.geometry.draw(s,a,l)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!Zg[i]){for(var s=r.plugins.batch.MAX_TEXTURES,a=new Int32Array(s),l=0;l<s;l++)a[l]=l;var c={tint:new Float32Array([1,1,1,1]),translationMatrix:new Gt,default:ga.from({uSamplers:a},!0)},d=r.plugins[i]._shader.program;Zg[i]=new Ea(d,c)}n=Zg[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,s=n.minY,a=n.maxX,l=n.maxY;this._bounds.addFrame(this.transform,i,s,a,l)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=qo(this.tint,_B),n=0;n<this.batches.length;n++){var i=this.batches[n],s=i._batchRGB,a=r[0]*s[0]*255,l=r[1]*s[1]*255,c=r[2]*s[2]*255,d=(a<<16)+(l<<8)+(c|0);i._tintRGB=(d>>16)+(d&65280)+((d&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,s=n.b,a=n.c,l=n.d,c=n.tx,d=n.ty,g=this._geometry.points,_=this.vertexData,w=0,T=0;T<g.length;T+=2){var S=g[T],P=g[T+1];_[w++]=i*S+a*P+c,_[w++]=l*P+s*S+d}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e._TEMP_POINT=new hr,e}(En);/*!
 * @pixi/sprite - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Fy=function(t,e){return Fy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Fy(t,e)};function wB(t,e){Fy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ou=new hr,xB=new Uint16Array([0,1,2,0,2,3]),Ba=function(t){wB(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new bo(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=Ce.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||Me.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=xB,n.pluginName="batch",n.isSprite=!0,n._roundPixels=Te.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=xo(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=xo(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,s=n.b,a=n.c,l=n.d,c=n.tx,d=n.ty,g=this.vertexData,_=r.trim,w=r.orig,T=this._anchor,S=0,P=0,E=0,A=0;if(_?(P=_.x-T._x*w.width,S=P+_.width,A=_.y-T._y*w.height,E=A+_.height):(P=-T._x*w.width,S=P+w.width,A=-T._y*w.height,E=A+w.height),g[0]=i*P+a*A+c,g[1]=l*A+s*P+d,g[2]=i*S+a*A+c,g[3]=l*A+s*S+d,g[4]=i*S+a*E+c,g[5]=l*E+s*S+d,g[6]=i*P+a*E+c,g[7]=l*E+s*P+d,this._roundPixels)for(var k=Te.RESOLUTION,M=0;M<g.length;++M)g[M]=Math.round((g[M]*k|0)/k)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,s=this._anchor,a=this.transform.worldTransform,l=a.a,c=a.b,d=a.c,g=a.d,_=a.tx,w=a.ty,T=-s._x*i.width,S=T+i.width,P=-s._y*i.height,E=P+i.height;n[0]=l*T+d*P+_,n[1]=g*P+c*T+w,n[2]=l*S+d*P+_,n[3]=g*P+c*S+w,n[4]=l*S+d*E+_,n[5]=g*E+c*S+w,n[6]=l*T+d*E+_,n[7]=g*E+c*T+w},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new it),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,ou);var n=this._texture.orig.width,i=this._texture.orig.height,s=-n*this.anchor.x,a=0;return ou.x>=s&&ou.x<s+n&&(a=-i*this.anchor.y,ou.y>=a&&ou.y<a+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof Me?r:Me.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=xo(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=xo(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||Me.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(En);/*!
 * @pixi/text - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ly=function(t,e){return Ly=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ly(t,e)};function bB(t,e){Ly(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var vh;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(vh||(vh={}));var Jg={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:vh.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},TB=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Ca=function(){function t(e){this.styleID=0,this.reset(),tm(this,e,e)}return t.prototype.clone=function(){var e={};return tm(e,this,Jg),new t(e)},t.prototype.reset=function(){tm(this,Jg,Jg)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=em(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=em(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){SB(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=em(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&TB.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function dS(t){return typeof t=="number"?wI(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function em(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=dS(t[e]);return t}else return dS(t)}function SB(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function tm(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var Zr=function(){function t(e,r,n,i,s,a,l,c,d){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=a,this.lineHeight=l,this.maxLineWidth=c,this.fontProperties=d}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var s=r.toFontString(),a=t.measureFont(s);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);var l=i.getContext("2d");l.font=s;for(var c=n?t.wordWrap(e,r,i):e,d=c.split(/(?:\r\n|\r|\n)/),g=new Array(d.length),_=0,w=0;w<d.length;w++){var T=l.measureText(d[w]).width+(d[w].length-1)*r.letterSpacing;g[w]=T,_=Math.max(_,T)}var S=_+r.strokeThickness;r.dropShadow&&(S+=r.dropShadowDistance);var P=r.lineHeight||a.fontSize+r.strokeThickness,E=Math.max(P,a.fontSize+r.strokeThickness)+(d.length-1)*(P+r.leading);return r.dropShadow&&(E+=r.dropShadowDistance),new t(e,r,S,E,d,g,P+r.leading,_,a)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d"),s=0,a="",l="",c=Object.create(null),d=r.letterSpacing,g=r.whiteSpace,_=t.collapseSpaces(g),w=t.collapseNewlines(g),T=!_,S=r.wordWrapWidth+d,P=t.tokenize(e),E=0;E<P.length;E++){var A=P[E];if(t.isNewline(A)){if(!w){l+=t.addLine(a),T=!_,a="",s=0;continue}A=" "}if(_){var k=t.isBreakingSpace(A),M=t.isBreakingSpace(a[a.length-1]);if(k&&M)continue}var R=t.getFromCache(A,d,c,i);if(R>S)if(a!==""&&(l+=t.addLine(a),a="",s=0),t.canBreakWords(A,r.breakWords))for(var V=t.wordWrapSplit(A),L=0;L<V.length;L++){for(var j=V[L],W=1;V[L+W];){var U=V[L+W],$=j[j.length-1];if(!t.canBreakChars($,U,A,L,r.breakWords))j+=U;else break;W++}L+=j.length-1;var J=t.getFromCache(j,d,c,i);J+s>S&&(l+=t.addLine(a),T=!1,a="",s=0),a+=j,s+=J}else{a.length>0&&(l+=t.addLine(a),a="",s=0);var se=E===P.length-1;l+=t.addLine(A,!se),T=!1,a="",s=0}else R+s>S&&(T=!1,l+=t.addLine(a),a="",s=0),(a.length>0||!t.isBreakingSpace(A)||T)&&(a+=A,s+=R)}return l+=t.addLine(a,!1),l},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var s=n[e];if(typeof s!="number"){var a=e.length*r;s=i.measureText(e).width+a,n[e]=s}return s},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var s=e[i];if(t.isBreakingSpace(s)||t.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,s){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var s=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(i.measureText(s).width),l=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),c=2*l;l=l*t.BASELINE_MULTIPLIER|0,n.width=a,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,a,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,l);var d=i.getImageData(0,0,a,c).data,g=d.length,_=a*4,w=0,T=0,S=!1;for(w=0;w<l;++w){for(var P=0;P<_;P+=4)if(d[T+P]!==255){S=!0;break}if(!S)T+=_;else break}for(r.ascent=l-w,T=g-_,S=!1,w=c;w>l;--w){for(var P=0;P<_;P+=4)if(d[T+P]!==255){S=!0;break}if(!S)T-=_;else break}return r.descent=w-l,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),Id=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch{return document.createElement("canvas")}}();Id.width=Id.height=10;Zr._canvas=Id;Zr._context=Id.getContext("2d");Zr._fonts={};Zr.METRICS_STRING="|ÉqÅ";Zr.BASELINE_SYMBOL="M";Zr.BASELINE_MULTIPLIER=1.4;Zr._newlines=[10,13];Zr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var EB={texture:!0,children:!1,baseTexture:!0},q_=function(t){bB(e,t);function e(r,n,i){var s=this,a=!1;i||(i=document.createElement("canvas"),a=!0),i.width=3,i.height=3;var l=Me.from(i);return l.orig=new it,l.trim=new it,s=t.call(this,l)||this,s._ownCanvas=a,s.canvas=i,s.context=s.canvas.getContext("2d"),s._resolution=Te.RESOLUTION,s._autoResolution=!0,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=r,s.style=n,s.localStyleID=-1,s}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,s=Zr.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,l=s.height,c=s.lines,d=s.lineHeight,g=s.lineWidths,_=s.maxLineWidth,w=s.fontProperties;this.canvas.width=Math.ceil((Math.max(1,a)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,l)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var T,S,P=n.dropShadow?2:1,E=0;E<P;++E){var A=n.dropShadow&&E===0,k=A?Math.ceil(Math.max(1,l)+n.padding*2):0,M=k*this._resolution;if(A){i.fillStyle="black",i.strokeStyle="black";var R=n.dropShadowColor,V=qo(typeof R=="number"?R:xI(R)),L=n.dropShadowBlur*this._resolution,j=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+V[0]*255+","+V[1]*255+","+V[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=L,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*j,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*j+M}else i.fillStyle=this._generateFillStyle(n,c,s),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;for(var W=0;W<c.length;W++)T=n.strokeThickness/2,S=n.strokeThickness/2+W*d+w.ascent,n.align==="right"?T+=_-g[W]:n.align==="center"&&(T+=(_-g[W])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(c[W],T+n.padding,S+n.padding-k,!0),n.fill&&this.drawLetterSpacing(c[W],T+n.padding,S+n.padding-k)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,s){s===void 0&&(s=!1);var a=this._style,l=a.letterSpacing;if(l===0){s?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var c=n,d=Array.from?Array.from(r):r.split(""),g=this.context.measureText(r).width,_=0,w=0;w<d.length;++w){var T=d[w];s?this.context.strokeText(T,c,i):this.context.fillText(T,c,i),_=this.context.measureText(r.substring(w+1)).width,c+=g-_+l,g=_}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=r5(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,s=this._style,a=s.trim?0:s.padding,l=i.baseTexture;i.trim.width=i._frame.width=Math.ceil(r.width/this._resolution),i.trim.height=i._frame.height=Math.ceil(r.height/this._resolution),i.trim.x=-a,i.trim.y=-a,i.orig.width=i._frame.width-a*2,i.orig.height=i._frame.height-a*2,this._onTextureUpdate(),l.setRealSize(r.width,r.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var s=r.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;var a,l=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,d=Math.ceil(this.canvas.width/this._resolution)-l-c*2,g=Math.ceil(this.canvas.height/this._resolution)-l-c*2,_=s.slice(),w=r.fillGradientStops.slice();if(!w.length)for(var T=_.length+1,S=1;S<T;++S)w.push(S/T);if(_.unshift(s[0]),w.unshift(0),_.push(s[s.length-1]),w.push(1),r.fillGradientType===vh.LINEAR_VERTICAL){a=this.context.createLinearGradient(d/2,c,d/2,g+c);for(var P=0,E=i.fontProperties.fontSize+r.strokeThickness,A=E/g,S=0;S<n.length;S++)for(var k=i.lineHeight*S,M=0;M<_.length;M++){var R=0;typeof w[M]=="number"?R=w[M]:R=M/_.length;var V=k/g+R*A,L=Math.max(P,V);L=Math.min(L,1),a.addColorStop(L,_[M]),P=L}}else{a=this.context.createLinearGradient(c,g/2,d+c,g/2);for(var j=_.length+1,W=1,S=0;S<_.length;S++){var U=void 0;typeof w[S]=="number"?U=w[S]:U=W/j,a.addColorStop(U,_[S]),W++}}return a},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},EB,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=xo(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=xo(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof Ca?this._style=r:this._style=new Ca(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e}(Ba);/*!
 * @pixi/prepare - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Uy=function(t,e){return Uy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Uy(t,e)};function CB(t,e){Uy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var IB=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function PB(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof Me){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function AB(t,e){if(t.baseTexture instanceof xt){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function kB(t,e){if(t._texture&&t._texture instanceof Me){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function OB(t,e){return e instanceof q_?(e.updateText(!0),!0):!1}function MB(t,e){if(e instanceof Ca){var r=e.toFontString();return Zr.measureFont(r),!0}return!1}function DB(t,e){if(t instanceof q_){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function RB(t,e){return t instanceof Ca?(e.indexOf(t)===-1&&e.push(t),!0):!1}var NB=function(){function t(e){var r=this;this.limiter=new IB(Te.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(DB),this.registerFindHook(RB),this.registerFindHook(PB),this.registerFindHook(AB),this.registerFindHook(kB),this.registerUploadHook(OB),this.registerUploadHook(MB)}return t.prototype.upload=function(e,r){typeof e=="function"&&(r=e,e=null),e&&this.add(e),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,Zt.system.addOnce(this.tick,this,ki.UTILITY))):r&&r()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Zt.system.addOnce(this.tick,this,ki.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(var n=0,i=s.length;n<i;n++)s[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof En)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&Zt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function XI(t,e){return e instanceof xt?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function FB(t,e){if(!(e instanceof YI))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var s=n[i].style.texture;s&&XI(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function LB(t,e){return t instanceof YI?(e.push(t),!0):!1}var UB=function(t){CB(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(LB),n.registerUploadHook(XI),n.registerUploadHook(FB),n}return e}(NB);/*!
 * @pixi/spritesheet - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var BB=function(){function t(e,r,n){n===void 0&&(n=null),this._texture=e instanceof Me?e:null,this.baseTexture=e instanceof xt?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=Ed(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],s=this._frames[i],a=s.frame;if(a){var l=null,c=null,d=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,g=new it(0,0,Math.floor(d.w)/this.resolution,Math.floor(d.h)/this.resolution);s.rotated?l=new it(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):l=new it(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(c=new it(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new Me(this.baseTexture,l,g,c,s.rotated?2:0,s.anchor),Me.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),VB=function(){function t(){}return t.use=function(e,r){var n=this,i=e.name+"_image";if(!e.data||e.type!==Lf.TYPE.JSON||!e.data.frames||n.resources[i]){r();return}var s={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},a=t.getResourcePath(e,n.baseUrl);n.add(i,a,s,function(c){if(c.error){r(c.error);return}var d=new BB(c.texture,e.data,e.url);d.parse(function(){e.spritesheet=d,e.textures=d.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:wl.resolve(e.url.replace(r,""),e.data.meta.image)},t}();/*!
 * @pixi/sprite-tiling - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var By=function(t,e){return By=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},By(t,e)};function qI(t,e){By(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var lu=new hr;(function(t){qI(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var s=t.call(this,r)||this;return s.tileTransform=new CI,s._width=n,s._height=i,s.uvMatrix=s.texture.uvMatrix||new X_(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,s)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new it),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,lu);var n=this._width,i=this._height,s=-n*this.anchor._x;if(lu.x>=s&&lu.x<s+n){var a=-i*this.anchor._y;if(lu.y>=a&&lu.y<a+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){return typeof n=="number"&&(ds("5.3.0","TilingSprite.from use options instead of width and height args"),n={width:n,height:arguments[2]}),new e(Me.from(r,n),n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e})(Ba);var pS=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,zB=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture2D(uSampler, coord);
    gl_FragColor = texSample * uColor;
}
`,$B=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,cf=new Gt,HB=function(t){qI(e,t);function e(r){var n=t.call(this,r)||this,i={globals:n.renderer.globalUniforms};return n.shader=Ea.from(pS,zB,i),n.simpleShader=Ea.from(pS,$B,i),n.quad=new RI,n.state=Ua.for2d(),n}return e.prototype.render=function(r){var n=this.renderer,i=this.quad,s=i.vertices;s[0]=s[6]=r._width*-r.anchor.x,s[1]=s[3]=r._height*-r.anchor.y,s[2]=s[4]=r._width*(1-r.anchor.x),s[5]=s[7]=r._height*(1-r.anchor.y),r.uvRespectAnchor&&(s=i.uvs,s[0]=s[6]=-r.anchor.x,s[1]=s[3]=-r.anchor.y,s[2]=s[4]=1-r.anchor.x,s[5]=s[7]=1-r.anchor.y),i.invalidate();var a=r._texture,l=a.baseTexture,c=r.tileTransform.localTransform,d=r.uvMatrix,g=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;g&&(l._glTextures[n.CONTEXT_UID]?g=l.wrapMode!==fs.CLAMP:l.wrapMode===fs.CLAMP&&(l.wrapMode=fs.REPEAT));var _=g?this.simpleShader:this.shader,w=a.width,T=a.height,S=r._width,P=r._height;cf.set(c.a*w/S,c.b*w/P,c.c*T/S,c.d*T/P,c.tx/S,c.ty/P),cf.invert(),g?cf.prepend(d.mapCoord):(_.uniforms.uMapCoord=d.mapCoord.toArray(!0),_.uniforms.uClampFrame=d.uClampFrame,_.uniforms.uClampOffset=d.uClampOffset),_.uniforms.uTransform=cf.toArray(!0),_.uniforms.uColor=SI(r.tint,r.worldAlpha,_.uniforms.uColor,l.alphaMode),_.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),_.uniforms.uSampler=a,n.shader.bind(_),n.geometry.bind(i),this.state.blendMode=TI(r.blendMode,l.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Ep);/*!
 * @pixi/mesh - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Vy=function(t,e){return Vy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Vy(t,e)};function K_(t,e){Vy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var jB=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),rm=new hr,vS=new Nu,gh=function(t){K_(e,t);function e(r,n,i,s){s===void 0&&(s=Tn.TRIANGLES);var a=t.call(this)||this;return a.geometry=r,r.refCount++,a.shader=n,a.state=i||Ua.for2d(),a.drawMode=s,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=0,a._transformID=-1,a._roundPixels=Te.ROUND_PIXELS,a.batchUvs=null,a}return Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this.shader.tint},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Tn.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.program.uniformData.translationMatrix&&(n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var i=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[i]),r.plugins[i].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0].data;if(!(r.vertexDirtyId===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));for(var i=this.transform.worldTransform,s=i.a,a=i.b,l=i.c,c=i.d,d=i.tx,g=i.ty,_=this.vertexData,w=0;w<_.length/2;w++){var T=n[w*2],S=n[w*2+1];_[w*2]=s*T+l*S+d,_[w*2+1]=a*T+c*S+g}if(this._roundPixels)for(var P=Te.RESOLUTION,w=0;w<_.length;++w)_[w]=Math.round((_[w]*P|0)/P);this.vertexDirty=r.vertexDirtyId}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new jB(r,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,rm);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=vS.points,s=this.geometry.getIndex().data,a=s.length,l=this.drawMode===4?3:1,c=0;c+2<a;c+=l){var d=s[c]*2,g=s[c+1]*2,_=s[c+2]*2;if(i[0]=n[d],i[1]=n[d+1],i[2]=n[g],i[3]=n[g+1],i[4]=n[_],i[5]=n[_+1],vS.contains(rm.x,rm.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.geometry.refCount--,this.geometry.refCount===0&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(En),WB=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,GB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Pp=function(t){K_(e,t);function e(r,n){var i=this,s={uSampler:r,alpha:1,uTextureMatrix:Gt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(s,n.uniforms),i=t.call(this,n.program||Cp.from(GB,WB),s)||this,i._colorDirty=!1,i.uvMatrix=new X_(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;SI(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Ea),Ap=function(t){K_(e,t);function e(r,n,i){var s=t.call(this)||this,a=new ar(r),l=new ar(n,!0),c=new ar(i,!0,!0);return s.addAttribute("aVertexPosition",a,2,!1,Vt.FLOAT).addAttribute("aTextureCoord",l,2,!1,Vt.FLOAT).addIndex(c),s._updateId=-1,s}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Zh);/*!
 * @pixi/text-bitmap - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var zy=function(t,e){return zy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},zy(t,e)};function YB(t,e){zy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Pd=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}return t}(),XB=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var i in r){var s=r[i].match(/^[a-z]+/gm)[0],a=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(var c in a){var d=a[c].split("="),g=d[0],_=d[1].replace(/"/gm,""),w=parseFloat(_),T=isNaN(w)?_:w;l[g]=T}n[s].push(l)}var S=new Pd;return n.info.forEach(function(P){return S.info.push({face:P.face,size:parseInt(P.size,10)})}),n.common.forEach(function(P){return S.common.push({lineHeight:parseInt(P.lineHeight,10)})}),n.page.forEach(function(P){return S.page.push({id:parseInt(P.id,10),file:P.file})}),n.char.forEach(function(P){return S.char.push({id:parseInt(P.id,10),page:parseInt(P.page,10),x:parseInt(P.x,10),y:parseInt(P.y,10),width:parseInt(P.width,10),height:parseInt(P.height,10),xoffset:parseInt(P.xoffset,10),yoffset:parseInt(P.yoffset,10),xadvance:parseInt(P.xadvance,10)})}),n.kerning.forEach(function(P){return S.kerning.push({first:parseInt(P.first,10),second:parseInt(P.second,10),amount:parseInt(P.amount,10)})}),S},t}(),$y=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new Pd,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),l=e.getElementsByTagName("kerning"),c=0;c<n.length;c++)r.info.push({face:n[c].getAttribute("face"),size:parseInt(n[c].getAttribute("size"),10)});for(var c=0;c<i.length;c++)r.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(var c=0;c<s.length;c++)r.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(var c=0;c<a.length;c++){var d=a[c];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(var c=0;c<l.length;c++)r.kerning.push({first:parseInt(l[c].getAttribute("first"),10),second:parseInt(l[c].getAttribute("second"),10),amount:parseInt(l[c].getAttribute("amount"),10)});return r},t}(),qB=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new self.DOMParser().parseFromString(e,"text/xml");return $y.test(r)}return!1},t.parse=function(e){var r=new window.DOMParser().parseFromString(e,"text/xml");return $y.parse(r)},t}(),nm=[XB,$y,qB];function KI(t){for(var e=0;e<nm.length;e++)if(nm[e].test(t))return nm[e];return null}function KB(t,e,r,n,i,s){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var l,c=r.dropShadow?r.dropShadowDistance:0,d=r.padding||0,g=Math.ceil(t.width/n)-c-d*2,_=Math.ceil(t.height/n)-c-d*2,w=a.slice(),T=r.fillGradientStops.slice();if(!T.length)for(var S=w.length+1,P=1;P<S;++P)T.push(P/S);if(w.unshift(a[0]),T.unshift(0),w.push(a[a.length-1]),T.push(1),r.fillGradientType===vh.LINEAR_VERTICAL){l=e.createLinearGradient(g/2,d,g/2,_+d);for(var E=0,A=s.fontProperties.fontSize+r.strokeThickness,k=A/_,P=0;P<i.length;P++)for(var M=s.lineHeight*P,R=0;R<w.length;R++){var V=0;typeof T[R]=="number"?V=T[R]:V=R/w.length;var L=M/_+V*k,j=Math.max(E,L);j=Math.min(j,1),l.addColorStop(j,w[R]),E=j}}else{l=e.createLinearGradient(d,_/2,g+d,_/2);for(var W=w.length+1,U=1,P=0;P<w.length;P++){var $=void 0;typeof T[P]=="number"?$=T[P]:$=U/W,l.addColorStop($,w[P]),U++}}return l}function QB(t,e,r,n,i,s,a){var l=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);var d=a.strokeThickness/2,g=-(a.strokeThickness/2);if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=KB(t,e,a,s,[l],r),e.strokeStyle=a.stroke,a.dropShadow){var _=a.dropShadowColor,w=qo(typeof _=="number"?_:xI(_)),T=a.dropShadowBlur*s,S=a.dropShadowDistance*s;e.shadowColor="rgba("+w[0]*255+","+w[1]*255+","+w[2]*255+","+a.dropShadowAlpha+")",e.shadowBlur=T,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*S,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*S}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(l,d,g+r.lineHeight-c.descent),a.fill&&e.fillText(l,d,g+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function ZB(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var s=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<s)throw new Error("[BitmapFont]: Invalid character range.");for(var l=s,c=a;l<=c;l++)e.push(String.fromCharCode(l))}else e.push.apply(e,i.split(""))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}var ra=function(){function t(e,r,n){var i=e.info[0],s=e.common[0],a=e.page[0],l=Ed(a.file),c={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/l,this.chars={},this.pageTextures=c;for(var d=0;d<e.page.length;d++){var g=e.page[d],_=g.id,w=g.file;c[_]=r instanceof Array?r[d]:r[w]}for(var d=0;d<e.char.length;d++){var T=e.char[d],_=T.id,S=T.page,P=e.char[d],E=P.x,A=P.y,k=P.width,M=P.height,R=P.xoffset,V=P.yoffset,L=P.xadvance;E/=l,A/=l,k/=l,M/=l,R/=l,V/=l,L/=l;var j=new it(E+c[S].frame.x/l,A+c[S].frame.y/l,k,M);this.chars[_]={xOffset:R,yOffset:V,xAdvance:L,kerning:{},texture:new Me(c[S].baseTexture,j),page:S}}for(var d=0;d<e.kerning.length;d++){var W=e.kerning[d],U=W.first,$=W.second,J=W.amount;U/=l,$/=l,J/=l,this.chars[$]&&(this.chars[$].kerning[U]=J)}}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof Pd)i=e;else{var s=KI(e);if(!s)throw new Error("Unrecognized data format for font.");i=s.parse(e)}r instanceof Me&&(r=[r]);var a=new t(i,r,n);return t.available[a.font]=a,a},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),s=i.chars,a=i.padding,l=i.resolution,c=i.textureWidth,d=i.textureHeight,g=ZB(s),_=r instanceof Ca?r:new Ca(r),w=c,T=new Pd;T.info[0]={face:_.fontFamily,size:_.fontSize},T.common[0]={lineHeight:_.fontSize};for(var S=0,P=0,E,A,k,M=0,R=[],V=0;V<g.length;V++){E||(E=document.createElement("canvas"),E.width=c,E.height=d,A=E.getContext("2d"),k=new xt(E,{resolution:l}),R.push(new Me(k)),T.page.push({id:R.length-1,file:""}));var L=Zr.measureText(g[V],_,!1,E),j=L.width,W=Math.ceil(L.height),U=Math.ceil((_.fontStyle==="italic"?2:1)*j);if(P>=d-W*l){if(P===0)throw new Error("[BitmapFont] textureHeight "+d+"px is "+("too small for "+_.fontSize+"px fonts"));--V,E=null,A=null,k=null,P=0,S=0,M=0;continue}if(M=Math.max(W+L.fontProperties.descent,M),U*l+S>=w){--V,P+=M*l,P=Math.ceil(P),S=0,M=0;continue}QB(E,A,L,S,P,l,_);var $=L.text.charCodeAt(0);T.char.push({id:$,page:R.length-1,x:S/l,y:P/l,width:U,height:W,xoffset:0,yoffset:0,xadvance:Math.ceil(j-(_.dropShadow?_.dropShadowDistance:0)-(_.stroke?_.strokeThickness:0))}),S+=(U+2*a)*l,S=Math.ceil(S)}var J=new t(T,R,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=J,J},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),gS=[],mS=[];(function(t){YB(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215,n.font&&(ds("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),i._upgradeStyle(n));var s=Object.assign({},e.styleDefaults,n),a=s.align,l=s.tint,c=s.maxWidth,d=s.letterSpacing,g=s.fontName,_=s.fontSize;if(!ra.available[g])throw new Error('Missing BitmapFont "'+g+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=l,i._fontName=g,i._fontSize=_||ra.available[g].size,i._text=r,i._maxWidth=c,i._maxLineHeight=0,i._letterSpacing=d,i._anchor=new bo(function(){i.dirty=!0},i,0,0),i._roundPixels=Te.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=ra.available[this._fontName],i=this._fontSize/n.size,s=new hr,a=[],l=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",d=c.length,g=this._maxWidth*n.size/this._fontSize,_=null,w=0,T=0,S=0,P=-1,E=0,A=0,k=0,M=0;M<d;M++){var R=c.charCodeAt(M),V=c.charAt(M);if(/(?:\s)/.test(V)&&(P=M,E=w),V==="\r"||V===`
`){l.push(w),T=Math.max(T,w),++S,++A,s.x=0,s.y+=n.lineHeight,_=null;continue}var L=n.chars[R];if(L){_&&L.kerning[_]&&(s.x+=L.kerning[_]);var j=mS.pop()||{texture:Me.EMPTY,line:0,charCode:0,position:new hr};j.texture=L.texture,j.line=S,j.charCode=R,j.position.x=s.x+L.xOffset+this._letterSpacing/2,j.position.y=s.y+L.yOffset,a.push(j),s.x+=L.xAdvance+this._letterSpacing,w=s.x,k=Math.max(k,L.yOffset+L.texture.height),_=R,P!==-1&&g>0&&s.x>g&&(++A,Uo(a,1+P-A,1+M-P),M=P,P=-1,l.push(E),T=Math.max(T,E),S++,s.x=0,s.y+=n.lineHeight,_=null)}}var W=c.charAt(c.length-1);W!=="\r"&&W!==`
`&&(/(?:\s)/.test(W)&&(w=E),l.push(w),T=Math.max(T,w));for(var U=[],M=0;M<=S;M++){var $=0;this._align==="right"?$=T-l[M]:this._align==="center"&&($=(T-l[M])/2),U.push($)}for(var J=a.length,se={},te=[],Le=this._activePagesMeshData,M=0;M<Le.length;M++)gS.push(Le[M]);for(var M=0;M<J;M++){var oe=a[M].texture,ue=oe.baseTexture.uid;if(!se[ue]){var re=gS.pop();if(!re){var et=new Ap,pt=new Pp(Me.EMPTY),he=new gh(et,pt);re={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:he,vertices:null,uvs:null,indices:null}}re.index=0,re.indexCount=0,re.vertexCount=0,re.uvsCount=0,re.total=0;var H=this._textureCache;H[ue]=H[ue]||new Me(oe.baseTexture),re.mesh.texture=H[ue],re.mesh.tint=this._tint,te.push(re),se[ue]=re}se[ue].total++}for(var M=0;M<Le.length;M++)te.indexOf(Le[M])===-1&&this.removeChild(Le[M].mesh);for(var M=0;M<te.length;M++)te[M].mesh.parent!==this&&this.addChild(te[M].mesh);this._activePagesMeshData=te;for(var M in se){var re=se[M],X=re.total;if(!(((r=re.indices)===null||r===void 0?void 0:r.length)>6*X)||re.vertices.length<gh.BATCHABLE_SIZE*2)re.vertices=new Float32Array(4*2*X),re.uvs=new Float32Array(4*2*X),re.indices=new Uint16Array(6*X);else for(var ne=re.total,we=re.vertices,ie=ne*4*2;ie<we.length;ie++)we[ie]=0;re.mesh.size=6*X}for(var M=0;M<J;M++){var V=a[M],Pe=V.position.x+U[V.line];this._roundPixels&&(Pe=Math.round(Pe));var $e=Pe*i,at=V.position.y*i,oe=V.texture,pe=se[oe.baseTexture.uid],_t=oe.frame,We=oe._uvs,ge=pe.index++;pe.indices[ge*6+0]=0+ge*4,pe.indices[ge*6+1]=1+ge*4,pe.indices[ge*6+2]=2+ge*4,pe.indices[ge*6+3]=0+ge*4,pe.indices[ge*6+4]=2+ge*4,pe.indices[ge*6+5]=3+ge*4,pe.vertices[ge*8+0]=$e,pe.vertices[ge*8+1]=at,pe.vertices[ge*8+2]=$e+_t.width*i,pe.vertices[ge*8+3]=at,pe.vertices[ge*8+4]=$e+_t.width*i,pe.vertices[ge*8+5]=at+_t.height*i,pe.vertices[ge*8+6]=$e,pe.vertices[ge*8+7]=at+_t.height*i,pe.uvs[ge*8+0]=We.x0,pe.uvs[ge*8+1]=We.y0,pe.uvs[ge*8+2]=We.x1,pe.uvs[ge*8+3]=We.y1,pe.uvs[ge*8+4]=We.x2,pe.uvs[ge*8+5]=We.y2,pe.uvs[ge*8+6]=We.x3,pe.uvs[ge*8+7]=We.y3}this._textWidth=T*i,this._textHeight=(s.y+n.lineHeight)*i;for(var M in se){var re=se[M];if(this.anchor.x!==0||this.anchor.y!==0)for(var ot=0,Lt=this._textWidth*this.anchor.x,Ut=this._textHeight*this.anchor.y,An=0;An<re.total;An++)re.vertices[ot++]-=Lt,re.vertices[ot++]-=Ut,re.vertices[ot++]-=Lt,re.vertices[ot++]-=Ut,re.vertices[ot++]-=Lt,re.vertices[ot++]-=Ut,re.vertices[ot++]-=Lt,re.vertices[ot++]-=Ut;this._maxLineHeight=k*i;var Ns=re.mesh.geometry.getBuffer("aVertexPosition"),me=re.mesh.geometry.getBuffer("aTextureCoord"),Fs=re.mesh.geometry.getIndex();Ns.data=re.vertices,me.data=re.uvs,Fs.data=re.indices,Ns.update(),me.update(),Fs.update()}for(var M=0;M<a.length;M++)mS.push(a[M])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!ra.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype._upgradeStyle=function(r){if(typeof r.font=="string"){var n=r.font.split(" ");r.fontName=n.length===1?n[0]:n.slice(1).join(" "),n.length>=2&&(r.fontSize=parseInt(n[0],10))}else r.fontName=r.font.name,r.fontSize=typeof r.font.size=="number"?r.font.size:parseInt(r.font.size,10)},e.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var s=n[i];s.destroy(),delete n[i]}this._textureCache=null,t.prototype.destroy.call(this,r)},e.registerFont=function(r,n){return ds("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),ra.install(r,n)},Object.defineProperty(e,"fonts",{get:function(){return ds("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),ra.available},enumerable:!1,configurable:!0}),e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e})(En);var JB=function(){function t(){}return t.add=function(){Lf.setExtensionXhrType("fnt",Lf.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=KI(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),s=n.parse(e.data),a={},l=function(P){a[P.metadata.pageFile]=P.texture,Object.keys(a).length===s.page.length&&(e.bitmapFont=ra.install(s,a,!0),r())},c=0;c<s.page.length;++c){var d=s.page[c].file,g=i+d,_=!1;for(var w in this.resources){var T=this.resources[w];if(T.url===g){T.metadata.pageFile=d,T.texture?l(T):T.onAfterMiddleware.add(l),_=!0;break}}if(!_){var S={crossOrigin:e.crossOrigin,loadType:Lf.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:d},e.metadata.imageMetadata),parentResource:e};this.add(g,S,l)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t}();/*!
 * @pixi/filter-alpha - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Hy=function(t,e){return Hy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Hy(t,e)};function e4(t,e){Hy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var t4=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;(function(t){e4(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,RU,t4,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e})(ks);/*!
 * @pixi/filter-blur - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var jy=function(t,e){return jy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},jy(t,e)};function QI(t,e){jy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var r4=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function n4(t,e){var r=Math.ceil(t/2),n=r4,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var l=s.replace("%index%",a.toString());l=l.replace("%sampleIndex%",a-(r-1)+".0"),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var i4={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},s4=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function a4(t){for(var e=i4[t],r=e.length,n=s4,i="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",a,l=0;l<t;l++){var c=s.replace("%index%",l.toString());a=l,l>=r&&(a=t-l-1),c=c.replace("%value%",e[a].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var yS;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(yS||(yS={}));var _S;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(_S||(_S={}));var wS;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(wS||(wS={}));var xS;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(xS||(xS={}));var bS;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(bS||(bS={}));var TS;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(TS||(TS={}));var SS;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(SS||(SS={}));var ES;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(ES||(ES={}));var CS;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(CS||(CS={}));var IS;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(IS||(IS={}));var PS;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"})(PS||(PS={}));var AS;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(AS||(AS={}));var mh;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(mh||(mh={}));var kS;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(kS||(kS={}));var OS;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(OS||(OS={}));var MS;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(MS||(MS={}));var DS;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(DS||(DS={}));var RS=function(t){QI(e,t);function e(r,n,i,s,a){n===void 0&&(n=8),i===void 0&&(i=4),s===void 0&&(s=Te.FILTER_RESOLUTION),a===void 0&&(a=5);var l=this,c=n4(a,r),d=a4(a);return l=t.call(this,c,d)||this,l.horizontal=r,l.resolution=s,l._quality=0,l.quality=i,l.blur=n,l}return e.prototype.apply=function(r,n,i,s){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,s);else{var a=r.getFilterTexture(),l=r.renderer,c=n,d=a;this.state.blend=!1,r.applyFilter(this,c,d,mh.CLEAR);for(var g=1;g<this.passes-1;g++){r.bindAndClear(c,mh.BLIT),this.uniforms.uSampler=d;var _=d;d=c,c=_,l.shader.bind(this),l.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,d,i,s),r.returnFilterTexture(a)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(ks);(function(t){QI(e,t);function e(r,n,i,s){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=Te.FILTER_RESOLUTION),s===void 0&&(s=5);var a=t.call(this)||this;return a.blurXFilter=new RS(!0,r,n,i,s),a.blurYFilter=new RS(!1,r,n,i,s),a.resolution=i,a.quality=n,a.blur=r,a.repeatEdgePixels=!1,a}return e.prototype.apply=function(r,n,i,s){var a=Math.abs(this.blurXFilter.strength),l=Math.abs(this.blurYFilter.strength);if(a&&l){var c=r.getFilterTexture();this.blurXFilter.apply(r,n,c,mh.CLEAR),this.blurYFilter.apply(r,c,i,s),r.returnFilterTexture(c)}else l?this.blurYFilter.apply(r,n,i,s):this.blurXFilter.apply(r,n,i,s)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e})(ks);/*!
 * @pixi/filter-color-matrix - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Wy=function(t,e){return Wy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Wy(t,e)};function o4(t,e){Wy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var l4=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,NS=function(t){o4(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,VI,l4,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),s=Math.sin(r),a=Math.sqrt,l=1/3,c=a(l),d=i+(1-i)*l,g=l*(1-i)-c*s,_=l*(1-i)+c*s,w=l*(1-i)+c*s,T=i+l*(1-i),S=l*(1-i)-c*s,P=l*(1-i)-c*s,E=l*(1-i)+c*s,A=i+l*(1-i),k=[d,g,_,0,0,w,T,S,0,0,P,E,A,0,0,0,0,0,1,0];this._loadMatrix(k,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,s=-.5*(i-1),a=[i,0,0,0,s,0,i,0,0,s,0,0,i,0,s,0,0,0,1,0];this._loadMatrix(a,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,s=(i-1)*-.5,a=[i,s,s,0,0,s,i,s,0,0,s,s,i,0,0,0,0,0,1,0];this._loadMatrix(a,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,s,a){r=r||.2,n=n||.15,i=i||16770432,s=s||3375104;var l=(i>>16&255)/255,c=(i>>8&255)/255,d=(i&255)/255,g=(s>>16&255)/255,_=(s>>8&255)/255,w=(s&255)/255,T=[.3,.59,.11,0,0,l,c,d,r,0,g,_,w,n,0,l-g,c-_,d-w,0,0];this._loadMatrix(T,a)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(ks);NS.prototype.grayscale=NS.prototype.greyscale;/*!
 * @pixi/filter-displacement - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Gy=function(t,e){return Gy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Gy(t,e)};function u4(t,e){Gy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var h4=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,c4=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;(function(t){u4(e,t);function e(r,n){var i=this,s=new Gt;return r.renderable=!1,i=t.call(this,c4,h4,{mapSampler:r._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=s,n==null&&(n=20),i.scale=new hr(n,n),i}return e.prototype.apply=function(r,n,i,s){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var a=this.maskSprite.worldTransform,l=Math.sqrt(a.a*a.a+a.b*a.b),c=Math.sqrt(a.c*a.c+a.d*a.d);l!==0&&c!==0&&(this.uniforms.rotation[0]=a.a/l,this.uniforms.rotation[1]=a.b/l,this.uniforms.rotation[2]=a.c/c,this.uniforms.rotation[3]=a.d/c),r.applyFilter(this,n,i,s)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e})(ks);/*!
 * @pixi/filter-fxaa - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Yy=function(t,e){return Yy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Yy(t,e)};function f4(t,e){Yy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var d4=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputPixel;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,p4=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputPixel;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;(function(t){f4(e,t);function e(){return t.call(this,d4,p4)||this}return e})(ks);/*!
 * @pixi/filter-noise - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Xy=function(t,e){return Xy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Xy(t,e)};function v4(t,e){Xy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var g4=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;(function(t){v4(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,VI,g4,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e})(ks);/*!
 * @pixi/mixin-cache-as-bitmap - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ZI=new Gt;Yt.prototype._cacheAsBitmap=!1;Yt.prototype._cacheData=null;var m4=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(Yt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new m4),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});Yt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Yt.prototype._initCachedDisplayObject=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.alpha;this.alpha=1,e.batch.flush();var n=this.getLocalBounds(null,!0).clone();if(this.filters){var i=this.filters[0].padding;n.pad(i)}n.ceil(Te.RESOLUTION);var s=e.renderTexture.current,a=e.renderTexture.sourceFrame.clone(),l=e.renderTexture.destinationFrame.clone(),c=e.projection.transform,d=Qo.create({width:n.width,height:n.height}),g="cacheAsBitmap_"+Ko();this._cacheData.textureCacheId=g,xt.addToCache(d.baseTexture,g),Me.addToCache(d,g);var _=this.transform.localTransform.copyTo(ZI).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,d,!0,_,!1),e.projection.transform=c,e.renderTexture.bind(s,a,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var w=new Ba(d);w.transform.worldTransform=this.transform.worldTransform,w.anchor.x=-(n.x/n.width),w.anchor.y=-(n.y/n.height),w.alpha=r,w._bounds=this._bounds,this._cacheData.sprite=w,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=w.containsPoint.bind(w)}};Yt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Yt.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,s=e._projTransform;r.ceil(Te.RESOLUTION);var a=Qo.create({width:r.width,height:r.height}),l="cacheAsBitmap_"+Ko();this._cacheData.textureCacheId=l,xt.addToCache(a.baseTexture,l),Me.addToCache(a,l);var c=ZI;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=r.x,c.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,a,!0,c,!1),e.context=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var d=new Ba(a);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(r.x/r.width),d.anchor.y=-(r.y/r.height),d.alpha=n,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)}};Yt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Yt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Yt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,xt.removeFromCache(this._cacheData.textureCacheId),Me.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Yt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Yt.prototype.name=null;En.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var s=this.children[n];if(s.getChildByName){var a=this.children[n].getChildByName(e,!0);if(a)return a}}return null};/*!
 * @pixi/mixin-get-global-position - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Yt.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new hr),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/mesh-extras - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var qy=function(t,e){return qy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},qy(t,e)};function xl(t,e){qy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var y4=function(t){xl(e,t);function e(r,n,i,s){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),s===void 0&&(s=10);var a=t.call(this)||this;return a.segWidth=i,a.segHeight=s,a.width=r,a.height=n,a.build(),a}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],s=[],a=this.segWidth-1,l=this.segHeight-1,c=this.width/a,d=this.height/l,g=0;g<r;g++){var _=g%this.segWidth,w=g/this.segWidth|0;n.push(_*c,w*d),i.push(_/a,w/l)}for(var T=a*l,g=0;g<T;g++){var S=g%a,P=g/a|0,E=P*this.segWidth+S,A=P*this.segWidth+S+1,k=(P+1)*this.segWidth+S,M=(P+1)*this.segWidth+S+1;s.push(E,A,k,A,M,k)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(Ap),_4=function(t){xl(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var s=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return s.points=n,s._width=r,s.textureScale=i,s.build(),s}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),s=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),s.data=new Uint16Array((r.length-1)*6));var a=i.data,l=s.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;for(var c=0,d=r[0],g=this._width*this.textureScale,_=r.length,w=0;w<_;w++){var T=w*4;if(this.textureScale>0){var S=d.x-r[w].x,P=d.y-r[w].y,E=Math.sqrt(S*S+P*P);d=r[w],c+=E/g}else c=w/(_-1);a[T]=c,a[T+1]=0,a[T+2]=c,a[T+3]=1}for(var A=0,w=0;w<_-1;w++){var T=w*2;l[A++]=T,l[A++]=T+1,l[A++]=T+2,l[A++]=T+2,l[A++]=T+1,l[A++]=T+3}i.update(),s.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,s=0,a=0,l=this.buffers[0].data,c=r.length,d=0;d<c;d++){var g=r[d],_=d*4;d<r.length-1?i=r[d+1]:i=g,a=-(i.x-n.x),s=i.y-n.y;var w=Math.sqrt(s*s+a*a),T=this.textureScale>0?this.textureScale*this._width/2:this._width/2;s/=w,a/=w,s*=T,a*=T,l[_]=g.x+s,l[_+1]=g.y+a,l[_+2]=g.x-s,l[_+3]=g.y-a,n=g}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(Ap);(function(t){xl(e,t);function e(r,n,i){i===void 0&&(i=0);var s=this,a=new _4(r.height,n,i),l=new Pp(r);return i>0&&(r.baseTexture.wrapMode=fs.REPEAT),s=t.call(this,a,l)||this,s.autoUpdate=!0,s}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e})(gh);var w4=function(t){xl(e,t);function e(r,n,i){var s=this,a=new y4(r.width,r.height,n,i),l=new Pp(Me.WHITE);return s=t.call(this,a,l)||this,s.texture=r,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry;r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(gh);(function(t){xl(e,t);function e(r,n,i,s,a){r===void 0&&(r=Me.EMPTY);var l=this,c=new Ap(n,i,s);c.getBuffer("aVertexPosition").static=!1;var d=new Pp(r);return l=t.call(this,c,d,null,a)||this,l.autoUpdate=!0,l}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e})(gh);var ff=10;(function(t){xl(e,t);function e(r,n,i,s,a){n===void 0&&(n=ff),i===void 0&&(i=ff),s===void 0&&(s=ff),a===void 0&&(a=ff);var l=t.call(this,Me.WHITE,4,4)||this;return l._origWidth=r.orig.width,l._origHeight=r.orig.height,l._width=l._origWidth,l._height=l._origHeight,l._leftWidth=n,l._rightWidth=s,l._topHeight=i,l._bottomHeight=a,l.texture=r,l}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,s=this._height>i?1:this._height/i,a=Math.min(n,s);return a},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,s=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=s*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e})(w4);/*!
 * @pixi/sprite-animated - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ky=function(t,e){return Ky=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ky(t,e)};function x4(t,e){Ky(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var b4=function(t){x4(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof Me?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Zt.shared.add(this.update,this,ki.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var s=this._currentTime%1*this._durations[this.currentFrame];for(s+=n/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Me.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Me.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof Me)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Zt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(Ba);/*!
 * pixi.js - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Os.registerPlugin("accessibility",y5);Os.registerPlugin("extract",zU);Os.registerPlugin("interaction",S5);Os.registerPlugin("particle",oB);Os.registerPlugin("prepare",UB);Os.registerPlugin("batch",BU);Os.registerPlugin("tilingSprite",HB);Zo.registerPlugin(JB);Zo.registerPlugin(VB);Jh.registerPlugin(_5);Jh.registerPlugin(iB);class Q_{constructor(e,r){q(this,"container");q(this,"parts",{});q(this,"spawned");q(this,"tag","entity");q(this,"timeSinceSpawned",()=>performance.now()-this.spawned);q(this,"sprite",e=>{let r=new Ba.from(e);return r.anchor.set(.5),this.parts.sprite=r,this.container.addChild(this.parts.sprite),this.parts.sprite});q(this,"part",e=>this.parts[e]);q(this,"add",(e,r)=>{this.parts[e]=r,this.container.addChild(r)});q(this,"onUpdate",e=>{});q(this,"onEvent",(e,r)=>{});q(this,"draw",e=>{});let n=new En;n.pivot.x=Math.round(n.width/2),n.pivot.y=Math.round(n.height/2),n.x=e,n.y=r,this.container=n,this.spawned=performance.now()}}const T4=wn("bullet");class S4 extends Q_{constructor(r,n,i){super(r,n);q(this,"width",10);q(this,"height",10);q(this,"target");q(this,"enemyDelta");q(this,"onUpdate",r=>{let n=this.enemyDelta.getVector(this.enemyDelta.distance,this.enemyDelta.angle);this.container.x+=n.x*(r/10),this.container.y+=n.y*(r/10),this.hit()&&(this.target.takeDamage(),rl.remove(this))});q(this,"hit",()=>this.container.x>=this.target.container.x-this.target.container.width/2&&this.container.x<=this.target.container.x+this.target.container.width/2&&this.container.y>=this.target.container.y-this.target.container.height/2&&this.container.y<=this.target.container.y+this.target.container.height/2);q(this,"draw",()=>{});this.sprite(T4),this.part("sprite").width=this.width,this.part("sprite").height=this.height,this.target=i,this.enemyDelta=new dI(this.container.x,this.container.y,this.target.container.x,this.target.container.y)}}class To{constructor(){q(this,"on",(e,r)=>{this.events[e]||(this.events[e]=[]),this.events[e].push(r)});q(this,"emit",(e,...r)=>{this.events[e].forEach(n=>{n(...r)})});this.events={}}static getInstance(){return To._instance||(To._instance=new To),To._instance}}const tt=function(){return To.getInstance()}();class E4 extends Q_{constructor(r,n,i){super(n,i);q(this,"width",40);q(this,"height",40);q(this,"target");q(this,"name");q(this,"shouldResetTarget",r=>r.toLowerCase()=="backspace"&&this.target!==null);q(this,"onEvent",(r,n)=>{if(r!=="keydown")return;const{key:i}=n;this.shouldResetTarget(i)&&(this.target.isTargeted(!1),this.target=null);let s=this.getTarget(i);s&&this.makeAttack(s,i)});q(this,"getTarget",r=>{if(this.target)return this.target;let n=rl.find("enemy").filter(s=>s.word.toLowerCase().startsWith(r.toLowerCase()));if(n.length===0)return;n=n.sort((s,a)=>s.container.y-a.container.y);let i=n.pop();return this.target=i,this.target.isTargeted(!0),this.target});q(this,"makeAttack",(r,n)=>{let i=!0;r.word.toLowerCase().startsWith(n.toLowerCase())&&(rl.add(new S4(this.container.x,this.container.y,r)),r.takeHit(),r.isDead()&&(this.target=null),i=!1),tt.emit("shotFired",i)});this.name=r,this.sprite(wn(r)),this.part("sprite").width=this.width,this.part("sprite").height=this.height}}class C4 extends Q_{constructor(r,n,i,s){super(Math.random()*(400-20)+20,Math.random()*(-100-50)+-50);q(this,"angle",0);q(this,"velocity",2);q(this,"rotationSpeed",.01);q(this,"maxRotationSpeed",.02);q(this,"playerDelta");q(this,"follow",!1);q(this,"alertTime",1e3);q(this,"word");q(this,"originalWord");q(this,"targeted",!1);q(this,"dead",!1);q(this,"target",null);q(this,"image");q(this,"width",30);q(this,"height",30);q(this,"life",1);q(this,"stunned",0);q(this,"velocityCalculator");q(this,"draw",r=>{this.targeted?this.part("text").style.fill=16748288:this.part("text").style.fill=16777215,this.drawWord()});q(this,"drawWord",()=>{let r=Zr.measureText(this.word,this.part("text").style);this.part("blackBar").width=r.width+10,this.word===""&&(this.part("blackBar").alpha=0),this.part("text").text=this.word});q(this,"onUpdate",r=>{if(this.stunned){this.stunned-=Zt.shared.elapsedMS,this.stunned<=0&&(this.stunned=0);return}this.container.x>=this.target.container.x-this.target.container.width/2&&this.container.x<=this.target.container.x+this.target.container.width/2&&this.container.y>=this.target.container.y-this.target.container.height/2&&this.container.y<=this.target.container.y+this.target.container.height/2&&(tt.emit("playerDeath"),console.log("Player should be dead now. Killed by word: ",this.word)),this.follow||(this.follow=this.timeSinceSpawned()-this.alertTime>0,this.container.x<150&&this.container.x>350&&(this.follow=!0));let n=this.container.x-this.target.container.x,i=this.container.y-this.target.container.y,s=Math.atan2(i,n),a=s-this.angle;this.follow&&a!==0&&(a>0?this.angle+=this.rotationSpeed*r:this.angle-=this.rotationSpeed*r,a>-.01&&a<.01&&(this.angle=s));let l=this.container.x,c=this.container.y;this.container.x-=this.velocity*r*Math.cos(this.angle),this.container.y-=this.velocity*r*Math.sin(this.angle),this.part("sprite").angle=Math.atan2(c-this.container.y,l-this.container.x)*180/Math.PI+90});q(this,"takeDamage",()=>{this.life--,this.stunned=100,this.parts.sprite.tint=16711680,setTimeout(()=>{this.parts.sprite.tint=16777215},100),this.life===0&&(tt.emit("enemyDeath"),this.deathAnimation(()=>{rl.remove(this)}))});q(this,"deathAnimation",r=>{let n=[wn("asd"),wn("3433"),wn("dsds"),wn("Math.random()"),wn("ssssMath.random()")],i=[];for(let a=0;a<4;a++){let l=Me.from(n[a]);i.push(l)}this.parts.sprite.removeChild();let s=new b4(i);s.width=30,s.height=30,s.anchor.set(.5),s.onComplete=()=>{r()},s.loop=!1,this.container.addChild(s),s.play()});q(this,"takeHit",()=>{this.word=this.word.substring(1),this.word.length===0&&(this.dead=!0)});q(this,"isDead",()=>this.dead);q(this,"isTargeted",r=>{r&&tt.emit("enemyTargeted",this),this.targeted=r});q(this,"createBlackBar",(r,n)=>{let i=new Ba.from(Me.WHITE);return i.anchor.set(.5),i.width=r,i.height=n,i.tint=0,i.y=30,i});q(this,"createWordText",r=>{let n=new Ca({fontFamily:"Poppins",fontSize:16,align:"center",fill:16777215}),i=new q_(r,n);return i.anchor.set(.5),i.y=30,i});this.sprite(wn(r)),this.part("sprite").width=30,this.part("sprite").height=30,this.velocity=s.calculate(i),this.rotationSpeed=(Math.floor(Math.random()*(this.maxRotationSpeed*1e4))+100)/1e4;let a=this.createWordText(r),l=a.style,c=Zr.measureText(r,l);this.add("blackBar",this.createBlackBar(c.width,c.height)),this.add("text",a),this.life=r.length,this.tag="enemy",this.word=r,this.originalWord=r,this.target=n,this.alertTime=Math.floor(Math.random()*(3e3-1e3))+1e3;let d=Math.floor(Math.random()*60)-30;this.angle=(-90+d)*Math.PI/180,this.playerDelta=new dI(this.container.x,this.container.y,this.target.container.x,this.target.container.y)}}function JI(t,e){return function(){return t.apply(e,arguments)}}const{toString:eP}=Object.prototype,{getPrototypeOf:Z_}=Object,J_=(t=>e=>{const r=eP.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ui=t=>(t=t.toLowerCase(),e=>J_(e)===t),kp=t=>e=>typeof e===t,{isArray:bl}=Array,yh=kp("undefined");function I4(t){return t!==null&&!yh(t)&&t.constructor!==null&&!yh(t.constructor)&&Ia(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const tP=Ui("ArrayBuffer");function P4(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&tP(t.buffer),e}const A4=kp("string"),Ia=kp("function"),rP=kp("number"),e1=t=>t!==null&&typeof t=="object",k4=t=>t===!0||t===!1,Uf=t=>{if(J_(t)!=="object")return!1;const e=Z_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},O4=Ui("Date"),M4=Ui("File"),D4=Ui("Blob"),R4=Ui("FileList"),N4=t=>e1(t)&&Ia(t.pipe),F4=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||eP.call(t)===e||Ia(t.toString)&&t.toString()===e)},L4=Ui("URLSearchParams"),U4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ec(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),bl(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let l;for(n=0;n<a;n++)l=s[n],e.call(null,t[l],l,t)}}function nP(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const iP=typeof self>"u"?typeof global>"u"?globalThis:global:self,sP=t=>!yh(t)&&t!==iP;function Qy(){const{caseless:t}=sP(this)&&this||{},e={},r=(n,i)=>{const s=t&&nP(e,i)||i;Uf(e[s])&&Uf(n)?e[s]=Qy(e[s],n):Uf(n)?e[s]=Qy({},n):bl(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ec(arguments[n],r);return e}const B4=(t,e,r,{allOwnKeys:n}={})=>(ec(e,(i,s)=>{r&&Ia(i)?t[s]=JI(i,r):t[s]=i},{allOwnKeys:n}),t),V4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),z4=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},$4=(t,e,r,n)=>{let i,s,a;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=r!==!1&&Z_(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},H4=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},j4=t=>{if(!t)return null;if(bl(t))return t;let e=t.length;if(!rP(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},W4=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Z_(Uint8Array)),G4=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Y4=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},X4=Ui("HTMLFormElement"),q4=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),FS=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),K4=Ui("RegExp"),aP=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ec(r,(i,s)=>{e(i,s,t)!==!1&&(n[s]=i)}),Object.defineProperties(t,n)},Q4=t=>{aP(t,(e,r)=>{if(Ia(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ia(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Z4=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return bl(t)?n(t):n(String(t).split(e)),r},J4=()=>{},eV=(t,e)=>(t=+t,Number.isFinite(t)?t:e),tV=t=>{const e=new Array(10),r=(n,i)=>{if(e1(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=bl(n)?[]:{};return ec(n,(a,l)=>{const c=r(a,i+1);!yh(c)&&(s[l]=c)}),e[i]=void 0,s}}return n};return r(t,0)},G={isArray:bl,isArrayBuffer:tP,isBuffer:I4,isFormData:F4,isArrayBufferView:P4,isString:A4,isNumber:rP,isBoolean:k4,isObject:e1,isPlainObject:Uf,isUndefined:yh,isDate:O4,isFile:M4,isBlob:D4,isRegExp:K4,isFunction:Ia,isStream:N4,isURLSearchParams:L4,isTypedArray:W4,isFileList:R4,forEach:ec,merge:Qy,extend:B4,trim:U4,stripBOM:V4,inherits:z4,toFlatObject:$4,kindOf:J_,kindOfTest:Ui,endsWith:H4,toArray:j4,forEachEntry:G4,matchAll:Y4,isHTMLForm:X4,hasOwnProperty:FS,hasOwnProp:FS,reduceDescriptors:aP,freezeMethods:Q4,toObjectSet:Z4,toCamelCase:q4,noop:J4,toFiniteNumber:eV,findKey:nP,global:iP,isContextDefined:sP,toJSONObject:tV};function qe(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}G.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const oP=qe.prototype,lP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{lP[t]={value:t}});Object.defineProperties(qe,lP);Object.defineProperty(oP,"isAxiosError",{value:!0});qe.from=(t,e,r,n,i,s)=>{const a=Object.create(oP);return G.toFlatObject(t,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),qe.call(a,t.message,e,r,n,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};var rV=typeof self=="object"?self.FormData:window.FormData;const nV=rV;function Zy(t){return G.isPlainObject(t)||G.isArray(t)}function uP(t){return G.endsWith(t,"[]")?t.slice(0,-2):t}function LS(t,e,r){return t?t.concat(e).map(function(i,s){return i=uP(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function iV(t){return G.isArray(t)&&!t.some(Zy)}const sV=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function aV(t){return t&&G.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function Op(t,e,r){if(!G.isObject(t))throw new TypeError("target must be an object");e=e||new(nV||FormData),r=G.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,E){return!G.isUndefined(E[P])});const n=r.metaTokens,i=r.visitor||g,s=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&aV(e);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function d(S){if(S===null)return"";if(G.isDate(S))return S.toISOString();if(!c&&G.isBlob(S))throw new qe("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(S)||G.isTypedArray(S)?c&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function g(S,P,E){let A=S;if(S&&!E&&typeof S=="object"){if(G.endsWith(P,"{}"))P=n?P:P.slice(0,-2),S=JSON.stringify(S);else if(G.isArray(S)&&iV(S)||G.isFileList(S)||G.endsWith(P,"[]")&&(A=G.toArray(S)))return P=uP(P),A.forEach(function(M,R){!(G.isUndefined(M)||M===null)&&e.append(a===!0?LS([P],R,s):a===null?P:P+"[]",d(M))}),!1}return Zy(S)?!0:(e.append(LS(E,P,s),d(S)),!1)}const _=[],w=Object.assign(sV,{defaultVisitor:g,convertValue:d,isVisitable:Zy});function T(S,P){if(!G.isUndefined(S)){if(_.indexOf(S)!==-1)throw Error("Circular reference detected in "+P.join("."));_.push(S),G.forEach(S,function(A,k){(!(G.isUndefined(A)||A===null)&&i.call(e,A,G.isString(k)?k.trim():k,P,w))===!0&&T(A,P?P.concat(k):[k])}),_.pop()}}if(!G.isObject(t))throw new TypeError("data must be an object");return T(t),e}function US(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function t1(t,e){this._pairs=[],t&&Op(t,this,e)}const hP=t1.prototype;hP.append=function(e,r){this._pairs.push([e,r])};hP.toString=function(e){const r=e?function(n){return e.call(this,n,US)}:US;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function oV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cP(t,e,r){if(!e)return t;const n=r&&r.encode||oV,i=r&&r.serialize;let s;if(i?s=i(e,r):s=G.isURLSearchParams(e)?e.toString():new t1(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class lV{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(n){n!==null&&e(n)})}}const BS=lV,fP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uV=typeof URLSearchParams<"u"?URLSearchParams:t1,hV=FormData,cV=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),fV=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),$n={isBrowser:!0,classes:{URLSearchParams:uV,FormData:hV,Blob},isStandardBrowserEnv:cV,isStandardBrowserWebWorkerEnv:fV,protocols:["http","https","file","blob","url","data"]};function dV(t,e){return Op(t,new $n.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return $n.isNode&&G.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function pV(t){return G.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vV(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function dP(t){function e(r,n,i,s){let a=r[s++];const l=Number.isFinite(+a),c=s>=r.length;return a=!a&&G.isArray(i)?i.length:a,c?(G.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!l):((!i[a]||!G.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&G.isArray(i[a])&&(i[a]=vV(i[a])),!l)}if(G.isFormData(t)&&G.isFunction(t.entries)){const r={};return G.forEachEntry(t,(n,i)=>{e(pV(n),i,r,0)}),r}return null}const gV={"Content-Type":void 0};function mV(t,e,r){if(G.isString(t))try{return(e||JSON.parse)(t),G.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Mp={transitional:fP,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=G.isObject(e);if(s&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return i&&i?JSON.stringify(dP(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return dV(e,this.formSerializer).toString();if((l=G.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Op(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),mV(e)):e}],transformResponse:[function(e){const r=this.transitional||Mp.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&G.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?qe.from(l,qe.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};G.forEach(["delete","get","head"],function(e){Mp.headers[e]={}});G.forEach(["post","put","patch"],function(e){Mp.headers[e]=G.merge(gV)});const r1=Mp,yV=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_V=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&yV[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},VS=Symbol("internals");function uu(t){return t&&String(t).trim().toLowerCase()}function Bf(t){return t===!1||t==null?t:G.isArray(t)?t.map(Bf):String(t)}function wV(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}function xV(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function zS(t,e,r,n){if(G.isFunction(n))return n.call(this,e,r);if(G.isString(e)){if(G.isString(n))return e.indexOf(n)!==-1;if(G.isRegExp(n))return n.test(e)}}function bV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function TV(t,e){const r=G.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}class Dp{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(l,c,d){const g=uu(c);if(!g)throw new Error("header name must be a non-empty string");const _=G.findKey(i,g);(!_||i[_]===void 0||d===!0||d===void 0&&i[_]!==!1)&&(i[_||c]=Bf(l))}const a=(l,c)=>G.forEach(l,(d,g)=>s(d,g,c));return G.isPlainObject(e)||e instanceof this.constructor?a(e,r):G.isString(e)&&(e=e.trim())&&!xV(e)?a(_V(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=uu(e),e){const n=G.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return wV(i);if(G.isFunction(r))return r.call(this,i,n);if(G.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=uu(e),e){const n=G.findKey(this,e);return!!(n&&(!r||zS(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=uu(a),a){const l=G.findKey(n,a);l&&(!r||zS(n,n[l],l,r))&&(delete n[l],i=!0)}}return G.isArray(e)?e.forEach(s):s(e),i}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const r=this,n={};return G.forEach(this,(i,s)=>{const a=G.findKey(n,s);if(a){r[a]=Bf(i),delete r[s];return}const l=e?bV(s):String(s).trim();l!==s&&delete r[s],r[l]=Bf(i),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return G.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&G.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[VS]=this[VS]={accessors:{}}).accessors,i=this.prototype;function s(a){const l=uu(a);n[l]||(TV(i,a),n[l]=!0)}return G.isArray(e)?e.forEach(s):s(e),this}}Dp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);G.freezeMethods(Dp.prototype);G.freezeMethods(Dp);const bi=Dp;function im(t,e){const r=this||r1,n=e||r,i=bi.from(n.headers);let s=n.data;return G.forEach(t,function(l){s=l.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function pP(t){return!!(t&&t.__CANCEL__)}function tc(t,e,r){qe.call(this,t??"canceled",qe.ERR_CANCELED,e,r),this.name="CanceledError"}G.inherits(tc,qe,{__CANCEL__:!0});const SV=null;function EV(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new qe("Request failed with status code "+r.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const CV=$n.isStandardBrowserEnv?function(){return{write:function(r,n,i,s,a,l){const c=[];c.push(r+"="+encodeURIComponent(n)),G.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),G.isString(s)&&c.push("path="+s),G.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function IV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function PV(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function vP(t,e){return t&&!IV(e)?PV(t,e):e}const AV=$n.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let a=s;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){const l=G.isString(a)?i(a):a;return l.protocol===n.protocol&&l.host===n.host}}():function(){return function(){return!0}}();function kV(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function OV(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),g=n[s];a||(a=d),r[i]=c,n[i]=d;let _=s,w=0;for(;_!==i;)w+=r[_++],_=_%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-a<e)return;const T=g&&d-g;return T?Math.round(w*1e3/T):void 0}}function $S(t,e){let r=0;const n=OV(50,250);return i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,l=s-r,c=n(l),d=s<=a;r=s;const g={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-s)/c:void 0,event:i};g[e?"download":"upload"]=!0,t(g)}}const MV=typeof XMLHttpRequest<"u",DV=MV&&function(t){return new Promise(function(r,n){let i=t.data;const s=bi.from(t.headers).normalize(),a=t.responseType;let l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}G.isFormData(i)&&($n.isStandardBrowserEnv||$n.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let d=new XMLHttpRequest;if(t.auth){const T=t.auth.username||"",S=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(T+":"+S))}const g=vP(t.baseURL,t.url);d.open(t.method.toUpperCase(),cP(g,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function _(){if(!d)return;const T=bi.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),P={data:!a||a==="text"||a==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:T,config:t,request:d};EV(function(A){r(A),c()},function(A){n(A),c()},P),d=null}if("onloadend"in d?d.onloadend=_:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(_)},d.onabort=function(){d&&(n(new qe("Request aborted",qe.ECONNABORTED,t,d)),d=null)},d.onerror=function(){n(new qe("Network Error",qe.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let S=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const P=t.transitional||fP;t.timeoutErrorMessage&&(S=t.timeoutErrorMessage),n(new qe(S,P.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,t,d)),d=null},$n.isStandardBrowserEnv){const T=(t.withCredentials||AV(g))&&t.xsrfCookieName&&CV.read(t.xsrfCookieName);T&&s.set(t.xsrfHeaderName,T)}i===void 0&&s.setContentType(null),"setRequestHeader"in d&&G.forEach(s.toJSON(),function(S,P){d.setRequestHeader(P,S)}),G.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),a&&a!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",$S(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",$S(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=T=>{d&&(n(!T||T.type?new tc(null,t,d):T),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const w=kV(g);if(w&&$n.protocols.indexOf(w)===-1){n(new qe("Unsupported protocol "+w+":",qe.ERR_BAD_REQUEST,t));return}d.send(i||null)})},Vf={http:SV,xhr:DV};G.forEach(Vf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const RV={getAdapter:t=>{t=G.isArray(t)?t:[t];const{length:e}=t;let r,n;for(let i=0;i<e&&(r=t[i],!(n=G.isString(r)?Vf[r.toLowerCase()]:r));i++);if(!n)throw n===!1?new qe(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(G.hasOwnProp(Vf,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!G.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:Vf};function sm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new tc(null,t)}function HS(t){return sm(t),t.headers=bi.from(t.headers),t.data=im.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),RV.getAdapter(t.adapter||r1.adapter)(t).then(function(n){return sm(t),n.data=im.call(t,t.transformResponse,n),n.headers=bi.from(n.headers),n},function(n){return pP(n)||(sm(t),n&&n.response&&(n.response.data=im.call(t,t.transformResponse,n.response),n.response.headers=bi.from(n.response.headers))),Promise.reject(n)})}const jS=t=>t instanceof bi?t.toJSON():t;function Jo(t,e){e=e||{};const r={};function n(d,g,_){return G.isPlainObject(d)&&G.isPlainObject(g)?G.merge.call({caseless:_},d,g):G.isPlainObject(g)?G.merge({},g):G.isArray(g)?g.slice():g}function i(d,g,_){if(G.isUndefined(g)){if(!G.isUndefined(d))return n(void 0,d,_)}else return n(d,g,_)}function s(d,g){if(!G.isUndefined(g))return n(void 0,g)}function a(d,g){if(G.isUndefined(g)){if(!G.isUndefined(d))return n(void 0,d)}else return n(void 0,g)}function l(d,g,_){if(_ in e)return n(d,g);if(_ in t)return n(void 0,d)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(d,g)=>i(jS(d),jS(g),!0)};return G.forEach(Object.keys(t).concat(Object.keys(e)),function(g){const _=c[g]||i,w=_(t[g],e[g],g);G.isUndefined(w)&&_!==l||(r[g]=w)}),r}const gP="1.2.1",n1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{n1[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const WS={};n1.transitional=function(e,r,n){function i(s,a){return"[Axios v"+gP+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,l)=>{if(e===!1)throw new qe(i(a," has been removed"+(r?" in "+r:"")),qe.ERR_DEPRECATED);return r&&!WS[a]&&(WS[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,l):!0}};function NV(t,e,r){if(typeof t!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const l=t[s],c=l===void 0||a(l,s,t);if(c!==!0)throw new qe("option "+s+" must be "+c,qe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new qe("Unknown option "+s,qe.ERR_BAD_OPTION)}}const Jy={assertOptions:NV,validators:n1},Wi=Jy.validators;class Ad{constructor(e){this.defaults=e,this.interceptors={request:new BS,response:new BS}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Jo(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Jy.assertOptions(n,{silentJSONParsing:Wi.transitional(Wi.boolean),forcedJSONParsing:Wi.transitional(Wi.boolean),clarifyTimeoutError:Wi.transitional(Wi.boolean)},!1),i!==void 0&&Jy.assertOptions(i,{encode:Wi.function,serialize:Wi.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a;a=s&&G.merge(s.common,s[r.method]),a&&G.forEach(["delete","get","head","post","put","patch","common"],S=>{delete s[S]}),r.headers=bi.concat(a,s);const l=[];let c=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(r)===!1||(c=c&&P.synchronous,l.unshift(P.fulfilled,P.rejected))});const d=[];this.interceptors.response.forEach(function(P){d.push(P.fulfilled,P.rejected)});let g,_=0,w;if(!c){const S=[HS.bind(this),void 0];for(S.unshift.apply(S,l),S.push.apply(S,d),w=S.length,g=Promise.resolve(r);_<w;)g=g.then(S[_++],S[_++]);return g}w=l.length;let T=r;for(_=0;_<w;){const S=l[_++],P=l[_++];try{T=S(T)}catch(E){P.call(this,E);break}}try{g=HS.call(this,T)}catch(S){return Promise.reject(S)}for(_=0,w=d.length;_<w;)g=g.then(d[_++],d[_++]);return g}getUri(e){e=Jo(this.defaults,e);const r=vP(e.baseURL,e.url);return cP(r,e.params,e.paramsSerializer)}}G.forEach(["delete","get","head","options"],function(e){Ad.prototype[e]=function(r,n){return this.request(Jo(n||{},{method:e,url:r,data:(n||{}).data}))}});G.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,l){return this.request(Jo(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Ad.prototype[e]=r(),Ad.prototype[e+"Form"]=r(!0)});const zf=Ad;class i1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(l=>{n.subscribe(l),s=l}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,l){n.reason||(n.reason=new tc(s,a,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new i1(function(i){e=i}),cancel:e}}}const FV=i1;function LV(t){return function(r){return t.apply(null,r)}}function UV(t){return G.isObject(t)&&t.isAxiosError===!0}function mP(t){const e=new zf(t),r=JI(zf.prototype.request,e);return G.extend(r,zf.prototype,e,{allOwnKeys:!0}),G.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return mP(Jo(t,i))},r}const er=mP(r1);er.Axios=zf;er.CanceledError=tc;er.CancelToken=FV;er.isCancel=pP;er.VERSION=gP;er.toFormData=Op;er.AxiosError=qe;er.Cancel=er.CanceledError;er.all=function(e){return Promise.all(e)};er.spread=LV;er.isAxiosError=UV;er.mergeConfig=Jo;er.AxiosHeaders=bi;er.formToJSON=t=>dP(G.isHTMLForm(t)?new FormData(t):t);er.default=er;const BV=er;var yP="1.13.6",GS=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Rp=Array.prototype,s1=Object.prototype,YS=typeof Symbol<"u"?Symbol.prototype:null,VV=Rp.push,rc=Rp.slice,_h=s1.toString,zV=s1.hasOwnProperty,_P=typeof ArrayBuffer<"u",$V=typeof DataView<"u",HV=Array.isArray,XS=Object.keys,qS=Object.create,KS=_P&&ArrayBuffer.isView,jV=isNaN,WV=isFinite,wP=!{toString:null}.propertyIsEnumerable("toString"),QS=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],GV=Math.pow(2,53)-1;function jr(t,e){return e=e==null?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=n,t.apply(this,s)}}function Va(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function YV(t){return t===null}function xP(t){return t===void 0}function bP(t){return t===!0||t===!1||_h.call(t)==="[object Boolean]"}function XV(t){return!!(t&&t.nodeType===1)}function Er(t){var e="[object "+t+"]";return function(r){return _h.call(r)===e}}const a1=Er("String"),TP=Er("Number"),qV=Er("Date"),KV=Er("RegExp"),QV=Er("Error"),SP=Er("Symbol"),EP=Er("ArrayBuffer");var CP=Er("Function"),ZV=GS.document&&GS.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof ZV!="function"&&(CP=function(t){return typeof t=="function"||!1});const Or=CP,IP=Er("Object");var PP=$V&&IP(new DataView(new ArrayBuffer(8))),o1=typeof Map<"u"&&IP(new Map),JV=Er("DataView");function e6(t){return t!=null&&Or(t.getInt8)&&EP(t.buffer)}const kd=PP?e6:JV,za=HV||Er("Array");function Ms(t,e){return t!=null&&zV.call(t,e)}var e0=Er("Arguments");(function(){e0(arguments)||(e0=function(t){return Ms(t,"callee")})})();const l1=e0;function t6(t){return!SP(t)&&WV(t)&&!isNaN(parseFloat(t))}function AP(t){return TP(t)&&jV(t)}function kP(t){return function(){return t}}function OP(t){return function(e){var r=t(e);return typeof r=="number"&&r>=0&&r<=GV}}function MP(t){return function(e){return e==null?void 0:e[t]}}const Od=MP("byteLength"),r6=OP(Od);var n6=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function i6(t){return KS?KS(t)&&!kd(t):r6(t)&&n6.test(_h.call(t))}const DP=_P?i6:kP(!1),Wr=MP("length");function s6(t){for(var e={},r=t.length,n=0;n<r;++n)e[t[n]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,t.push(i)}}}function RP(t,e){e=s6(e);var r=QS.length,n=t.constructor,i=Or(n)&&n.prototype||s1,s="constructor";for(Ms(t,s)&&!e.contains(s)&&e.push(s);r--;)s=QS[r],s in t&&t[s]!==i[s]&&!e.contains(s)&&e.push(s)}function tr(t){if(!Va(t))return[];if(XS)return XS(t);var e=[];for(var r in t)Ms(t,r)&&e.push(r);return wP&&RP(t,e),e}function a6(t){if(t==null)return!0;var e=Wr(t);return typeof e=="number"&&(za(t)||a1(t)||l1(t))?e===0:Wr(tr(t))===0}function NP(t,e){var r=tr(e),n=r.length;if(t==null)return!n;for(var i=Object(t),s=0;s<n;s++){var a=r[s];if(e[a]!==i[a]||!(a in i))return!1}return!0}function st(t){if(t instanceof st)return t;if(!(this instanceof st))return new st(t);this._wrapped=t}st.VERSION=yP;st.prototype.value=function(){return this._wrapped};st.prototype.valueOf=st.prototype.toJSON=st.prototype.value;st.prototype.toString=function(){return String(this._wrapped)};function ZS(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Od(t))}var JS="[object DataView]";function t0(t,e,r,n){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:FP(t,e,r,n)}function FP(t,e,r,n){t instanceof st&&(t=t._wrapped),e instanceof st&&(e=e._wrapped);var i=_h.call(t);if(i!==_h.call(e))return!1;if(PP&&i=="[object Object]"&&kd(t)){if(!kd(e))return!1;i=JS}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return YS.valueOf.call(t)===YS.valueOf.call(e);case"[object ArrayBuffer]":case JS:return FP(ZS(t),ZS(e),r,n)}var s=i==="[object Array]";if(!s&&DP(t)){var a=Od(t);if(a!==Od(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var l=t.constructor,c=e.constructor;if(l!==c&&!(Or(l)&&l instanceof l&&Or(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var d=r.length;d--;)if(r[d]===t)return n[d]===e;if(r.push(t),n.push(e),s){if(d=t.length,d!==e.length)return!1;for(;d--;)if(!t0(t[d],e[d],r,n))return!1}else{var g=tr(t),_;if(d=g.length,tr(e).length!==d)return!1;for(;d--;)if(_=g[d],!(Ms(e,_)&&t0(t[_],e[_],r,n)))return!1}return r.pop(),n.pop(),!0}function o6(t,e){return t0(t,e)}function nc(t){if(!Va(t))return[];var e=[];for(var r in t)e.push(r);return wP&&RP(t,e),e}function u1(t){var e=Wr(t);return function(r){if(r==null)return!1;var n=nc(r);if(Wr(n))return!1;for(var i=0;i<e;i++)if(!Or(r[t[i]]))return!1;return t!==BP||!Or(r[h1])}}var h1="forEach",LP="has",c1=["clear","delete"],UP=["get",LP,"set"],l6=c1.concat(h1,UP),BP=c1.concat(UP),u6=["add"].concat(c1,h1,LP);const h6=o1?u1(l6):Er("Map"),c6=o1?u1(BP):Er("WeakMap"),f6=o1?u1(u6):Er("Set"),d6=Er("WeakSet");function Tl(t){for(var e=tr(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n}function p6(t){for(var e=tr(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n}function VP(t){for(var e={},r=tr(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e}function r0(t){var e=[];for(var r in t)Or(t[r])&&e.push(r);return e.sort()}function f1(t,e){return function(r){var n=arguments.length;if(e&&(r=Object(r)),n<2||r==null)return r;for(var i=1;i<n;i++)for(var s=arguments[i],a=t(s),l=a.length,c=0;c<l;c++){var d=a[c];(!e||r[d]===void 0)&&(r[d]=s[d])}return r}}const zP=f1(nc),Md=f1(tr),$P=f1(nc,!0);function v6(){return function(){}}function HP(t){if(!Va(t))return{};if(qS)return qS(t);var e=v6();e.prototype=t;var r=new e;return e.prototype=null,r}function g6(t,e){var r=HP(t);return e&&Md(r,e),r}function m6(t){return Va(t)?za(t)?t.slice():zP({},t):t}function y6(t,e){return e(t),t}function jP(t){return za(t)?t:[t]}st.toPath=jP;function ic(t){return st.toPath(t)}function d1(t,e){for(var r=e.length,n=0;n<r;n++){if(t==null)return;t=t[e[n]]}return r?t:void 0}function WP(t,e,r){var n=d1(t,ic(e));return xP(n)?r:n}function _6(t,e){e=ic(e);for(var r=e.length,n=0;n<r;n++){var i=e[n];if(!Ms(t,i))return!1;t=t[i]}return!!r}function p1(t){return t}function wh(t){return t=Md({},t),function(e){return NP(e,t)}}function v1(t){return t=ic(t),function(e){return d1(e,t)}}function sc(t,e,r){if(e===void 0)return t;switch(r??3){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,s){return t.call(e,n,i,s)};case 4:return function(n,i,s,a){return t.call(e,n,i,s,a)}}return function(){return t.apply(e,arguments)}}function GP(t,e,r){return t==null?p1:Or(t)?sc(t,e,r):Va(t)&&!za(t)?wh(t):v1(t)}function g1(t,e){return GP(t,e,1/0)}st.iteratee=g1;function Gr(t,e,r){return st.iteratee!==g1?st.iteratee(t,e):GP(t,e,r)}function w6(t,e,r){e=Gr(e,r);for(var n=tr(t),i=n.length,s={},a=0;a<i;a++){var l=n[a];s[l]=e(t[l],l,t)}return s}function YP(){}function x6(t){return t==null?YP:function(e){return WP(t,e)}}function b6(t,e,r){var n=Array(Math.max(0,t));e=sc(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n}function n0(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const xh=Date.now||function(){return new Date().getTime()};function XP(t){var e=function(s){return t[s]},r="(?:"+tr(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(s){return s=s==null?"":""+s,n.test(s)?s.replace(i,e):s}}const qP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T6=XP(qP),S6=VP(qP),E6=XP(S6),C6=st.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var am=/(.)^/,I6={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},P6=/\\|'|\r|\n|\u2028|\u2029/g;function A6(t){return"\\"+I6[t]}var k6=/^\s*(\w|\$)+\s*$/;function O6(t,e,r){!e&&r&&(e=r),e=$P({},e,st.templateSettings);var n=RegExp([(e.escape||am).source,(e.interpolate||am).source,(e.evaluate||am).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(n,function(d,g,_,w,T){return s+=t.slice(i,T).replace(P6,A6),i=T+d.length,g?s+=`'+
((__t=(`+g+`))==null?'':_.escape(__t))+
'`:_?s+=`'+
((__t=(`+_+`))==null?'':__t)+
'`:w&&(s+=`';
`+w+`
__p+='`),d}),s+=`';
`;var a=e.variable;if(a){if(!k6.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var l;try{l=new Function(a,"_",s)}catch(d){throw d.source=s,d}var c=function(d){return l.call(this,d,st)};return c.source="function("+a+`){
`+s+"}",c}function M6(t,e,r){e=ic(e);var n=e.length;if(!n)return Or(r)?r.call(t):r;for(var i=0;i<n;i++){var s=t==null?void 0:t[e[i]];s===void 0&&(s=r,i=n),t=Or(s)?s.call(t):s}return t}var D6=0;function R6(t){var e=++D6+"";return t?t+e:e}function N6(t){var e=st(t);return e._chain=!0,e}function KP(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var s=HP(t.prototype),a=t.apply(s,i);return Va(a)?a:s}var Sl=jr(function(t,e){var r=Sl.placeholder,n=function(){for(var i=0,s=e.length,a=Array(s),l=0;l<s;l++)a[l]=e[l]===r?arguments[i++]:e[l];for(;i<arguments.length;)a.push(arguments[i++]);return KP(t,n,this,this,a)};return n});Sl.placeholder=st;const QP=jr(function(t,e,r){if(!Or(t))throw new TypeError("Bind must be called on a function");var n=jr(function(i){return KP(t,n,e,this,r.concat(i))});return n}),rn=OP(Wr);function $a(t,e,r,n){if(n=n||[],!e&&e!==0)e=1/0;else if(e<=0)return n.concat(t);for(var i=n.length,s=0,a=Wr(t);s<a;s++){var l=t[s];if(rn(l)&&(za(l)||l1(l)))if(e>1)$a(l,e-1,r,n),i=n.length;else for(var c=0,d=l.length;c<d;)n[i++]=l[c++];else r||(n[i++]=l)}return n}const F6=jr(function(t,e){e=$a(e,!1,!1);var r=e.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=e[r];t[n]=QP(t[n],t)}return t});function L6(t,e){var r=function(n){var i=r.cache,s=""+(e?e.apply(this,arguments):n);return Ms(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return r.cache={},r}const ZP=jr(function(t,e,r){return setTimeout(function(){return t.apply(null,r)},e)}),U6=Sl(ZP,st,1);function B6(t,e,r){var n,i,s,a,l=0;r||(r={});var c=function(){l=r.leading===!1?0:xh(),n=null,a=t.apply(i,s),n||(i=s=null)},d=function(){var g=xh();!l&&r.leading===!1&&(l=g);var _=e-(g-l);return i=this,s=arguments,_<=0||_>e?(n&&(clearTimeout(n),n=null),l=g,a=t.apply(i,s),n||(i=s=null)):!n&&r.trailing!==!1&&(n=setTimeout(c,_)),a};return d.cancel=function(){clearTimeout(n),l=0,n=i=s=null},d}function V6(t,e,r){var n,i,s,a,l,c=function(){var g=xh()-i;e>g?n=setTimeout(c,e-g):(n=null,r||(a=t.apply(l,s)),n||(s=l=null))},d=jr(function(g){return l=this,s=g,i=xh(),n||(n=setTimeout(c,e),r&&(a=t.apply(l,s))),a});return d.cancel=function(){clearTimeout(n),n=s=l=null},d}function z6(t,e){return Sl(e,t)}function m1(t){return function(){return!t.apply(this,arguments)}}function $6(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}}function H6(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function JP(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}}const j6=Sl(JP,2);function eA(t,e,r){e=Gr(e,r);for(var n=tr(t),i,s=0,a=n.length;s<a;s++)if(i=n[s],e(t[i],i,t))return i}function tA(t){return function(e,r,n){r=Gr(r,n);for(var i=Wr(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(r(e[s],s,e))return s;return-1}}const y1=tA(1),rA=tA(-1);function nA(t,e,r,n){r=Gr(r,n,1);for(var i=r(e),s=0,a=Wr(t);s<a;){var l=Math.floor((s+a)/2);r(t[l])<i?s=l+1:a=l}return s}function iA(t,e,r){return function(n,i,s){var a=0,l=Wr(n);if(typeof s=="number")t>0?a=s>=0?s:Math.max(s+l,a):l=s>=0?Math.min(s+1,l):s+l+1;else if(r&&s&&l)return s=r(n,i),n[s]===i?s:-1;if(i!==i)return s=e(rc.call(n,a,l),AP),s>=0?s+a:-1;for(s=t>0?a:l-1;s>=0&&s<l;s+=t)if(n[s]===i)return s;return-1}}const sA=iA(1,y1,nA),W6=iA(-1,rA);function i0(t,e,r){var n=rn(t)?y1:eA,i=n(t,e,r);if(i!==void 0&&i!==-1)return t[i]}function G6(t,e){return i0(t,wh(e))}function Oi(t,e,r){e=sc(e,r);var n,i;if(rn(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var s=tr(t);for(n=0,i=s.length;n<i;n++)e(t[s[n]],s[n],t)}return t}function Pa(t,e,r){e=Gr(e,r);for(var n=!rn(t)&&tr(t),i=(n||t).length,s=Array(i),a=0;a<i;a++){var l=n?n[a]:a;s[a]=e(t[l],l,t)}return s}function aA(t){var e=function(r,n,i,s){var a=!rn(r)&&tr(r),l=(a||r).length,c=t>0?0:l-1;for(s||(i=r[a?a[c]:c],c+=t);c>=0&&c<l;c+=t){var d=a?a[c]:c;i=n(i,r[d],d,r)}return i};return function(r,n,i,s){var a=arguments.length>=3;return e(r,sc(n,s,4),i,a)}}const om=aA(1),eE=aA(-1);function el(t,e,r){var n=[];return e=Gr(e,r),Oi(t,function(i,s,a){e(i,s,a)&&n.push(i)}),n}function Y6(t,e,r){return el(t,m1(Gr(e)),r)}function tE(t,e,r){e=Gr(e,r);for(var n=!rn(t)&&tr(t),i=(n||t).length,s=0;s<i;s++){var a=n?n[s]:s;if(!e(t[a],a,t))return!1}return!0}function rE(t,e,r){e=Gr(e,r);for(var n=!rn(t)&&tr(t),i=(n||t).length,s=0;s<i;s++){var a=n?n[s]:s;if(e(t[a],a,t))return!0}return!1}function Ti(t,e,r,n){return rn(t)||(t=Tl(t)),(typeof r!="number"||n)&&(r=0),sA(t,e,r)>=0}const X6=jr(function(t,e,r){var n,i;return Or(e)?i=e:(e=ic(e),n=e.slice(0,-1),e=e[e.length-1]),Pa(t,function(s){var a=i;if(!a){if(n&&n.length&&(s=d1(s,n)),s==null)return;a=s[e]}return a==null?a:a.apply(s,r)})});function _1(t,e){return Pa(t,v1(e))}function q6(t,e){return el(t,wh(e))}function oA(t,e,r){var n=-1/0,i=-1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=rn(t)?t:Tl(t);for(var l=0,c=t.length;l<c;l++)s=t[l],s!=null&&s>n&&(n=s)}else e=Gr(e,r),Oi(t,function(d,g,_){a=e(d,g,_),(a>i||a===-1/0&&n===-1/0)&&(n=d,i=a)});return n}function K6(t,e,r){var n=1/0,i=1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=rn(t)?t:Tl(t);for(var l=0,c=t.length;l<c;l++)s=t[l],s!=null&&s<n&&(n=s)}else e=Gr(e,r),Oi(t,function(d,g,_){a=e(d,g,_),(a<i||a===1/0&&n===1/0)&&(n=d,i=a)});return n}var Q6=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function lA(t){return t?za(t)?rc.call(t):a1(t)?t.match(Q6):rn(t)?Pa(t,p1):Tl(t):[]}function uA(t,e,r){if(e==null||r)return rn(t)||(t=Tl(t)),t[n0(t.length-1)];var n=lA(t),i=Wr(n);e=Math.max(Math.min(e,i),0);for(var s=i-1,a=0;a<e;a++){var l=n0(a,s),c=n[a];n[a]=n[l],n[l]=c}return n.slice(0,e)}function Z6(t){return uA(t,1/0)}function J6(t,e,r){var n=0;return e=Gr(e,r),_1(Pa(t,function(i,s,a){return{value:i,index:n++,criteria:e(i,s,a)}}).sort(function(i,s){var a=i.criteria,l=s.criteria;if(a!==l){if(a>l||a===void 0)return 1;if(a<l||l===void 0)return-1}return i.index-s.index}),"value")}function Np(t,e){return function(r,n,i){var s=e?[[],[]]:{};return n=Gr(n,i),Oi(r,function(a,l){var c=n(a,l,r);t(s,a,c)}),s}}const ez=Np(function(t,e,r){Ms(t,r)?t[r].push(e):t[r]=[e]}),tz=Np(function(t,e,r){t[r]=e}),rz=Np(function(t,e,r){Ms(t,r)?t[r]++:t[r]=1}),nz=Np(function(t,e,r){t[r?0:1].push(e)},!0);function iz(t){return t==null?0:rn(t)?t.length:tr(t).length}function sz(t,e,r){return e in r}const hA=jr(function(t,e){var r={},n=e[0];if(t==null)return r;Or(n)?(e.length>1&&(n=sc(n,e[1])),e=nc(t)):(n=sz,e=$a(e,!1,!1),t=Object(t));for(var i=0,s=e.length;i<s;i++){var a=e[i],l=t[a];n(l,a,t)&&(r[a]=l)}return r}),az=jr(function(t,e){var r=e[0],n;return Or(r)?(r=m1(r),e.length>1&&(n=e[1])):(e=Pa($a(e,!1,!1),String),r=function(i,s){return!Ti(e,s)}),hA(t,r,n)});function cA(t,e,r){return rc.call(t,0,Math.max(0,t.length-(e==null||r?1:e)))}function lm(t,e,r){return t==null||t.length<1?e==null||r?void 0:[]:e==null||r?t[0]:cA(t,t.length-e)}function $f(t,e,r){return rc.call(t,e==null||r?1:e)}function oz(t,e,r){return t==null||t.length<1?e==null||r?void 0:[]:e==null||r?t[t.length-1]:$f(t,Math.max(0,t.length-e))}function lz(t){return el(t,Boolean)}function uz(t,e){return $a(t,e,!1)}const fA=jr(function(t,e){return e=$a(e,!0,!0),el(t,function(r){return!Ti(e,r)})}),hz=jr(function(t,e){return fA(t,e)});function s0(t,e,r,n){bP(e)||(n=r,r=e,e=!1),r!=null&&(r=Gr(r,n));for(var i=[],s=[],a=0,l=Wr(t);a<l;a++){var c=t[a],d=r?r(c,a,t):c;e&&!r?((!a||s!==d)&&i.push(c),s=d):r?Ti(s,d)||(s.push(d),i.push(c)):Ti(i,c)||i.push(c)}return i}const cz=jr(function(t){return s0($a(t,!0,!0))});function fz(t){for(var e=[],r=arguments.length,n=0,i=Wr(t);n<i;n++){var s=t[n];if(!Ti(e,s)){var a;for(a=1;a<r&&Ti(arguments[a],s);a++);a===r&&e.push(s)}}return e}function a0(t){for(var e=t&&oA(t,Wr).length||0,r=Array(e),n=0;n<e;n++)r[n]=_1(t,n);return r}const dz=jr(a0);function pz(t,e){for(var r={},n=0,i=Wr(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r}function vz(t,e,r){e==null&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),s=0;s<n;s++,t+=r)i[s]=t;return i}function gz(t,e){if(e==null||e<1)return[];for(var r=[],n=0,i=t.length;n<i;)r.push(rc.call(t,n,n+=e));return r}function w1(t,e){return t._chain?st(e).chain():e}function dA(t){return Oi(r0(t),function(e){var r=st[e]=t[e];st.prototype[e]=function(){var n=[this._wrapped];return VV.apply(n,arguments),w1(this,r.apply(st,n))}}),st}Oi(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Rp[t];st.prototype[t]=function(){var r=this._wrapped;return r!=null&&(e.apply(r,arguments),(t==="shift"||t==="splice")&&r.length===0&&delete r[0]),w1(this,r)}});Oi(["concat","join","slice"],function(t){var e=Rp[t];st.prototype[t]=function(){var r=this._wrapped;return r!=null&&(r=e.apply(r,arguments)),w1(this,r)}});const mz=Object.freeze(Object.defineProperty({__proto__:null,VERSION:yP,restArguments:jr,isObject:Va,isNull:YV,isUndefined:xP,isBoolean:bP,isElement:XV,isString:a1,isNumber:TP,isDate:qV,isRegExp:KV,isError:QV,isSymbol:SP,isArrayBuffer:EP,isDataView:kd,isArray:za,isFunction:Or,isArguments:l1,isFinite:t6,isNaN:AP,isTypedArray:DP,isEmpty:a6,isMatch:NP,isEqual:o6,isMap:h6,isWeakMap:c6,isSet:f6,isWeakSet:d6,keys:tr,allKeys:nc,values:Tl,pairs:p6,invert:VP,functions:r0,methods:r0,extend:zP,extendOwn:Md,assign:Md,defaults:$P,create:g6,clone:m6,tap:y6,get:WP,has:_6,mapObject:w6,identity:p1,constant:kP,noop:YP,toPath:jP,property:v1,propertyOf:x6,matcher:wh,matches:wh,times:b6,random:n0,now:xh,escape:T6,unescape:E6,templateSettings:C6,template:O6,result:M6,uniqueId:R6,chain:N6,iteratee:g1,partial:Sl,bind:QP,bindAll:F6,memoize:L6,delay:ZP,defer:U6,throttle:B6,debounce:V6,wrap:z6,negate:m1,compose:$6,after:H6,before:JP,once:j6,findKey:eA,findIndex:y1,findLastIndex:rA,sortedIndex:nA,indexOf:sA,lastIndexOf:W6,find:i0,detect:i0,findWhere:G6,each:Oi,forEach:Oi,map:Pa,collect:Pa,reduce:om,foldl:om,inject:om,reduceRight:eE,foldr:eE,filter:el,select:el,reject:Y6,every:tE,all:tE,some:rE,any:rE,contains:Ti,includes:Ti,include:Ti,invoke:X6,pluck:_1,where:q6,max:oA,min:K6,shuffle:Z6,sample:uA,sortBy:J6,groupBy:ez,indexBy:tz,countBy:rz,partition:nz,toArray:lA,size:iz,pick:hA,omit:az,first:lm,head:lm,take:lm,initial:cA,last:oz,rest:$f,tail:$f,drop:$f,compact:lz,flatten:uz,without:hz,uniq:s0,unique:s0,union:cz,intersection:fz,difference:fA,unzip:a0,transpose:a0,zip:dz,object:pz,range:vz,chunk:gz,mixin:dA,default:st},Symbol.toStringTag,{value:"Module"}));var Dd=dA(mz);Dd._=Dd;class yz{constructor(){q(this,"text");q(this,"list");q(this,"counter",0);q(this,"load",async()=>{let r=(await BV.get(window.location.href+"/data/test.txt")).data;return this.text=r,this.split(),this.list});q(this,"split",()=>{let e=this.text.split(/[\s,.()\/\\=?<>`´!"#¤%&\[\]§_:;\*'^~¨\-\+{}|]/gm).filter(n=>n.length>0).map(n=>n.toLowerCase().trim());console.log("Words is",e);let r=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]];e.forEach(n=>{switch(!0){case n.startsWith("a"):r[0].push(n);break;case n.startsWith("b"):r[1].push(n);break;case n.startsWith("c"):r[2].push(n);break;case n.startsWith("d"):r[3].push(n);break;case n.startsWith("e"):r[4].push(n);break;case n.startsWith("f"):r[5].push(n);break;case n.startsWith("g"):r[6].push(n);break;case n.startsWith("h"):r[7].push(n);break;case n.startsWith("i"):r[8].push(n);break;case n.startsWith("j"):r[9].push(n);break;case n.startsWith("k"):r[10].push(n);break;case n.startsWith("l"):r[11].push(n);break;case n.startsWith("m"):r[12].push(n);break;case n.startsWith("n"):r[13].push(n);break;case n.startsWith("o"):r[14].push(n);break;case n.startsWith("p"):r[15].push(n);break;case n.startsWith("q"):r[16].push(n);break;case n.startsWith("r"):r[17].push(n);break;case n.startsWith("s"):r[18].push(n);break;case n.startsWith("t"):r[19].push(n);break;case n.startsWith("u"):r[20].push(n);break;case n.startsWith("v"):r[21].push(n);break;case n.startsWith("w"):r[22].push(n);break;case n.startsWith("x"):r[23].push(n);break;case n.startsWith("y"):r[24].push(n);break;case n.startsWith("z"):r[25].push(n);break}}),this.list=r,console.log(this.list)});q(this,"setOrdered",e=>{this.orderedMode=e});q(this,"next",()=>{this.counter>=this.list.length-1&&(this.counter=0);let e=this.list[this.counter],r=Dd.sample(e);return this.counter++,r})}}const _z=t=>new Promise(e=>setTimeout(e,t)),pA=t=>{let e=t;if(t<1e3)return t;const r=["","k","m","b","t"],n=Math.floor((""+t).length/3);let i="";for(var s=2;s>=1;s--){i=parseFloat((n!=0?t/Math.pow(1e3,n):t).toPrecision(s));var a=(i+"").replace(/[^a-zA-Z 0-9]+/g,"");if(a.length<=2)break}return i%1!=0&&(i=i.toFixed(1)),e=i+r[n],e},nE=(t,e)=>t.length>e?t.substr(0,e-1)+"...":t,iE=.475,wz=4,xz=.025;class bz{constructor(){q(this,"maxVelocity",wz);q(this,"minVelocity",iE);q(this,"velocity",iE);q(this,"wave",0);q(this,"calculate",e=>this._hasReachedMaximumVelocity()?this.maxVelocity:(this.wave!=e&&(this.velocity+=xz,this.wave=e),console.log(this.velocity),this.velocity));q(this,"_hasReachedMaximumVelocity",()=>this.velocity>=this.maxVelocity)}}let Br,sE,aE,Hf,Rd=!1,Fu=[],qi=[],jf=!1,vA=!1,x1=0,Nd=0,bh=0,Th=0,Sh=0,Tz=new bz;const Sz=async(t,e)=>{for(let r=1;r<=t;r++){let n=Fu.next();for(;!n;)n=Fu.next();tl.add(new C4(n,Hf,e,Tz)),r%3===0&&await _z(1e3)}},Ez=()=>{vA||(console.log("Setting up events"),window.addEventListener("keydown",t=>{jf||qi.forEach(e=>{e.onEvent("keydown",t)})}),tt.on("enemyDeath",()=>{bh++}),tt.on("enemyTargeted",t=>{tl.remove(t),tl.add(t)}),tt.on("shotFired",t=>{t&&Sh++,Th++}),tt.on("playerDeath",()=>{Rd||(Rd=!0,Nd=Date.now(),tt.emit("gameOver",{waveStart:x1,waveEnd:Nd,enemiesKilled:bh,shotsFired:Th,shotsMissed:Sh}))}))},Cz=t=>{if(Rd){Br.ticker.stop();return}if(qi.forEach(e=>{e.onUpdate(t)}),qi.forEach(e=>{e.draw(t)}),!tl.find("enemy").length){Nd=Date.now(),tt.emit("waveEnd",{waveStart:x1,waveEnd:Nd,enemiesKilled:bh,shotsFired:Th,shotsMissed:Sh}),Br.ticker.stop();return}},tl={start:async t=>{Br=new Jh({width:500,height:800,antialias:!0,autoResize:!0,backgroundColor:1777702,resolution:window.devicePixelRatio}),document.body.querySelector(".grid").appendChild(Br.view),sE=Br.screen.width,aE=Br.screen.height,Fu=new yz,await Fu.load(),Hf=new E4(t,sE/2,aE-60),tl.add(Hf),Ez(),Br.ticker.stop(),Br.ticker.add(Cz)},nextWave:t=>{x1=Date.now(),Th=0,Sh=0,bh=0;let e=3,r=3;Sz(e+Math.ceil(t/4)*r,t),Br.ticker.start()},add:t=>{qi.push(t),Br.stage.addChild(t.container)},find:t=>qi.filter(e=>e.tag===t),remove:t=>{Br.stage.removeChild(t.container);const e=qi.indexOf(t);e>-1&&qi.splice(e,1)},pause:t=>{jf=t,jf?Br.ticker.stop():Br.ticker.start()},reset:()=>{vA=!0,jf=!1,Th=0,Sh=0,bh=0,Rd=!1,Br.ticker.destroy(),Fu=[],qi=[],Hf=null}},rl=tl;class Iz extends fr.exports.Component{constructor(e){super(e)}render(){const{hidden:e}=this.props,r="background"+(e?" hidden":"");return He("div",{className:r,children:[ae("svg",{className:"front",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",children:ae("path",{fill:"#0099ff",fillOpacity:"1",d:"M0,128L34.3,112C68.6,96,137,64,206,58.7C274.3,53,343,75,411,112C480,149,549,203,617,224C685.7,245,754,235,823,224C891.4,213,960,203,1029,218.7C1097.1,235,1166,277,1234,277.3C1302.9,277,1371,235,1406,213.3L1440,192L1440,320L1405.7,320C1371.4,320,1303,320,1234,320C1165.7,320,1097,320,1029,320C960,320,891,320,823,320C754.3,320,686,320,617,320C548.6,320,480,320,411,320C342.9,320,274,320,206,320C137.1,320,69,320,34,320L0,320Z"})}),ae("div",{className:"front filler"}),ae("svg",{className:"back",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",children:ae("path",{fill:"#0099ff",fillOpacity:"0.6",d:"M0,256L34.3,213.3C68.6,171,137,85,206,58.7C274.3,32,343,64,411,101.3C480,139,549,181,617,213.3C685.7,245,754,267,823,272C891.4,277,960,267,1029,224C1097.1,181,1166,107,1234,96C1302.9,85,1371,139,1406,165.3L1440,192L1440,320L1405.7,320C1371.4,320,1303,320,1234,320C1165.7,320,1097,320,1029,320C960,320,891,320,823,320C754.3,320,686,320,617,320C548.6,320,480,320,411,320C342.9,320,274,320,206,320C137.1,320,69,320,34,320L0,320Z"})}),ae("div",{className:"back filler"}),ae("svg",{className:"bumpy",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",children:ae("path",{fill:"#0099ff",fillOpacity:"0.2",d:"M0,192L34.3,181.3C68.6,171,137,149,206,149.3C274.3,149,343,171,411,160C480,149,549,107,617,90.7C685.7,75,754,85,823,90.7C891.4,96,960,96,1029,112C1097.1,128,1166,160,1234,149.3C1302.9,139,1371,85,1406,58.7L1440,32L1440,320L1405.7,320C1371.4,320,1303,320,1234,320C1165.7,320,1097,320,1029,320C960,320,891,320,823,320C754.3,320,686,320,617,320C548.6,320,480,320,411,320C342.9,320,274,320,206,320C137.1,320,69,320,34,320L0,320Z"})}),ae("div",{className:"bumpy filler"})]})}}class Hn extends fr.exports.Component{constructor(r){super(r);q(this,"_handleKeyDown",r=>{let n=r.key,i=this.props.hint;i&&(i.toLowerCase()==="ret"&&(i="Enter"),i.toLowerCase()==="esc"&&(i="Escape"),n.toLowerCase()===i.toLowerCase()&&(r.preventDefault(),r.stopPropagation(),this.props.onClick()))})}componentDidMount(){document.addEventListener("keydown",this._handleKeyDown,!1)}componentWillUnmount(){document.removeEventListener("keydown",this._handleKeyDown,!1)}render(){const{hint:r,text:n,onClick:i,mini:s,disabled:a,danger:l}=this.props;let c=r?"":"rounded",d="buttonContainer"+(l?" danger":"")+(s?" sub":"")+(a?" disabled":"");return He("div",{className:d,children:[ae("div",{className:c,onClick:a?()=>{}:i,children:a||n}),r&&ae("div",{className:"shortcutHint",children:r})]})}}var gA={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},b1={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Pz=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Fd={CSS:{},springs:{}};function jn(t,e,r){return Math.min(Math.max(t,e),r)}function Lu(t,e){return t.indexOf(e)>-1}function um(t,e){return t.apply(null,e)}var xe={arr:function(t){return Array.isArray(t)},obj:function(t){return Lu(Object.prototype.toString.call(t),"Object")},pth:function(t){return xe.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||xe.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t>"u"},nil:function(t){return xe.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return xe.hex(t)||xe.rgb(t)||xe.hsl(t)},key:function(t){return!gA.hasOwnProperty(t)&&!b1.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function mA(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(r){return parseFloat(r)}):[]}function yA(t,e){var r=mA(t),n=jn(xe.und(r[0])?1:r[0],.1,100),i=jn(xe.und(r[1])?100:r[1],.1,100),s=jn(xe.und(r[2])?10:r[2],.1,100),a=jn(xe.und(r[3])?0:r[3],.1,100),l=Math.sqrt(i/n),c=s/(2*Math.sqrt(i*n)),d=c<1?l*Math.sqrt(1-c*c):0,g=1,_=c<1?(c*l+-a)/d:-a+l;function w(S){var P=e?e*S/1e3:S;return c<1?P=Math.exp(-P*c*l)*(g*Math.cos(d*P)+_*Math.sin(d*P)):P=(g+_*P)*Math.exp(-P*l),S===0||S===1?S:1-P}function T(){var S=Fd.springs[t];if(S)return S;for(var P=1/6,E=0,A=0;;)if(E+=P,w(E)===1){if(A++,A>=16)break}else A=0;var k=E*P*1e3;return Fd.springs[t]=k,k}return e?w:T}function Az(t){return t===void 0&&(t=10),function(e){return Math.ceil(jn(e,1e-6,1)*t)*(1/t)}}var kz=function(){var t=11,e=1/(t-1);function r(g,_){return 1-3*_+3*g}function n(g,_){return 3*_-6*g}function i(g){return 3*g}function s(g,_,w){return((r(_,w)*g+n(_,w))*g+i(_))*g}function a(g,_,w){return 3*r(_,w)*g*g+2*n(_,w)*g+i(_)}function l(g,_,w,T,S){var P,E,A=0;do E=_+(w-_)/2,P=s(E,T,S)-g,P>0?w=E:_=E;while(Math.abs(P)>1e-7&&++A<10);return E}function c(g,_,w,T){for(var S=0;S<4;++S){var P=a(_,w,T);if(P===0)return _;var E=s(_,w,T)-g;_-=E/P}return _}function d(g,_,w,T){if(!(0<=g&&g<=1&&0<=w&&w<=1))return;var S=new Float32Array(t);if(g!==_||w!==T)for(var P=0;P<t;++P)S[P]=s(P*e,g,w);function E(A){for(var k=0,M=1,R=t-1;M!==R&&S[M]<=A;++M)k+=e;--M;var V=(A-S[M])/(S[M+1]-S[M]),L=k+V*e,j=a(L,g,w);return j>=.001?c(A,L,g,w):j===0?L:l(A,k,k+e,g,w)}return function(A){return g===_&&w===T||A===0||A===1?A:s(E(A),_,T)}}return d}(),_A=function(){var t={linear:function(){return function(n){return n}}},e={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var i,s=4;n<((i=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((i*3-2)/22-n,2)}},Elastic:function(n,i){n===void 0&&(n=1),i===void 0&&(i=.5);var s=jn(n,1,10),a=jn(i,.1,2);return function(l){return l===0||l===1?l:-s*Math.pow(2,10*(l-1))*Math.sin((l-1-a/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/a)}}},r=["Quad","Cubic","Quart","Quint","Expo"];return r.forEach(function(n,i){e[n]=function(){return function(s){return Math.pow(s,i+2)}}}),Object.keys(e).forEach(function(n){var i=e[n];t["easeIn"+n]=i,t["easeOut"+n]=function(s,a){return function(l){return 1-i(s,a)(1-l)}},t["easeInOut"+n]=function(s,a){return function(l){return l<.5?i(s,a)(l*2)/2:1-i(s,a)(l*-2+2)/2}},t["easeOutIn"+n]=function(s,a){return function(l){return l<.5?(1-i(s,a)(1-l*2))/2:(i(s,a)(l*2-1)+1)/2}}}),t}();function T1(t,e){if(xe.fnc(t))return t;var r=t.split("(")[0],n=_A[r],i=mA(t);switch(r){case"spring":return yA(t,e);case"cubicBezier":return um(kz,i);case"steps":return um(Az,i);default:return um(n,i)}}function wA(t){try{var e=document.querySelectorAll(t);return e}catch{return}}function Fp(t,e){for(var r=t.length,n=arguments.length>=2?arguments[1]:void 0,i=[],s=0;s<r;s++)if(s in t){var a=t[s];e.call(n,a,s,t)&&i.push(a)}return i}function Lp(t){return t.reduce(function(e,r){return e.concat(xe.arr(r)?Lp(r):r)},[])}function oE(t){return xe.arr(t)?t:(xe.str(t)&&(t=wA(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function S1(t,e){return t.some(function(r){return r===e})}function E1(t){var e={};for(var r in t)e[r]=t[r];return e}function o0(t,e){var r=E1(t);for(var n in t)r[n]=e.hasOwnProperty(n)?e[n]:t[n];return r}function Up(t,e){var r=E1(t);for(var n in e)r[n]=xe.und(t[n])?e[n]:t[n];return r}function Oz(t){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?"rgba("+e[1]+",1)":t}function Mz(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=t.replace(e,function(l,c,d,g){return c+c+d+d+g+g}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),i=parseInt(n[1],16),s=parseInt(n[2],16),a=parseInt(n[3],16);return"rgba("+i+","+s+","+a+",1)"}function Dz(t){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),r=parseInt(e[1],10)/360,n=parseInt(e[2],10)/100,i=parseInt(e[3],10)/100,s=e[4]||1;function a(w,T,S){return S<0&&(S+=1),S>1&&(S-=1),S<1/6?w+(T-w)*6*S:S<1/2?T:S<2/3?w+(T-w)*(2/3-S)*6:w}var l,c,d;if(n==0)l=c=d=i;else{var g=i<.5?i*(1+n):i+n-i*n,_=2*i-g;l=a(_,g,r+1/3),c=a(_,g,r),d=a(_,g,r-1/3)}return"rgba("+l*255+","+c*255+","+d*255+","+s+")"}function Rz(t){if(xe.rgb(t))return Oz(t);if(xe.hex(t))return Mz(t);if(xe.hsl(t))return Dz(t)}function Si(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function Nz(t){if(Lu(t,"translate")||t==="perspective")return"px";if(Lu(t,"rotate")||Lu(t,"skew"))return"deg"}function l0(t,e){return xe.fnc(t)?t(e.target,e.id,e.total):t}function Wn(t,e){return t.getAttribute(e)}function C1(t,e,r){var n=Si(e);if(S1([r,"deg","rad","turn"],n))return e;var i=Fd.CSS[e+r];if(!xe.und(i))return i;var s=100,a=document.createElement(t.tagName),l=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;l.appendChild(a),a.style.position="absolute",a.style.width=s+r;var c=s/a.offsetWidth;l.removeChild(a);var d=c*parseFloat(e);return Fd.CSS[e+r]=d,d}function xA(t,e,r){if(e in t.style){var n=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=t.style[e]||getComputedStyle(t).getPropertyValue(n)||"0";return r?C1(t,i,r):i}}function I1(t,e){if(xe.dom(t)&&!xe.inp(t)&&(!xe.nil(Wn(t,e))||xe.svg(t)&&t[e]))return"attribute";if(xe.dom(t)&&S1(Pz,e))return"transform";if(xe.dom(t)&&e!=="transform"&&xA(t,e))return"css";if(t[e]!=null)return"object"}function bA(t){if(xe.dom(t)){for(var e=t.style.transform||"",r=/(\w+)\(([^)]*)\)/g,n=new Map,i;i=r.exec(e);)n.set(i[1],i[2]);return n}}function Fz(t,e,r,n){var i=Lu(e,"scale")?1:0+Nz(e),s=bA(t).get(e)||i;return r&&(r.transforms.list.set(e,s),r.transforms.last=e),n?C1(t,s,n):s}function P1(t,e,r,n){switch(I1(t,e)){case"transform":return Fz(t,e,n,r);case"css":return xA(t,e,r);case"attribute":return Wn(t,e);default:return t[e]||0}}function A1(t,e){var r=/^(\*=|\+=|-=)/.exec(t);if(!r)return t;var n=Si(t)||0,i=parseFloat(e),s=parseFloat(t.replace(r[0],""));switch(r[0][0]){case"+":return i+s+n;case"-":return i-s+n;case"*":return i*s+n}}function TA(t,e){if(xe.col(t))return Rz(t);if(/\s/g.test(t))return t;var r=Si(t),n=r?t.substr(0,t.length-r.length):t;return e?n+e:n}function k1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Lz(t){return Math.PI*2*Wn(t,"r")}function Uz(t){return Wn(t,"width")*2+Wn(t,"height")*2}function Bz(t){return k1({x:Wn(t,"x1"),y:Wn(t,"y1")},{x:Wn(t,"x2"),y:Wn(t,"y2")})}function SA(t){for(var e=t.points,r=0,n,i=0;i<e.numberOfItems;i++){var s=e.getItem(i);i>0&&(r+=k1(n,s)),n=s}return r}function Vz(t){var e=t.points;return SA(t)+k1(e.getItem(e.numberOfItems-1),e.getItem(0))}function EA(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return Lz(t);case"rect":return Uz(t);case"line":return Bz(t);case"polyline":return SA(t);case"polygon":return Vz(t)}}function zz(t){var e=EA(t);return t.setAttribute("stroke-dasharray",e),e}function $z(t){for(var e=t.parentNode;xe.svg(e)&&xe.svg(e.parentNode);)e=e.parentNode;return e}function CA(t,e){var r=e||{},n=r.el||$z(t),i=n.getBoundingClientRect(),s=Wn(n,"viewBox"),a=i.width,l=i.height,c=r.viewBox||(s?s.split(" "):[0,0,a,l]);return{el:n,viewBox:c,x:c[0]/1,y:c[1]/1,w:a,h:l,vW:c[2],vH:c[3]}}function Hz(t,e){var r=xe.str(t)?wA(t)[0]:t,n=e||100;return function(i){return{property:i,el:r,svg:CA(r),totalLength:EA(r)*(n/100)}}}function jz(t,e,r){function n(g){g===void 0&&(g=0);var _=e+g>=1?e+g:0;return t.el.getPointAtLength(_)}var i=CA(t.el,t.svg),s=n(),a=n(-1),l=n(1),c=r?1:i.w/i.vW,d=r?1:i.h/i.vH;switch(t.property){case"x":return(s.x-i.x)*c;case"y":return(s.y-i.y)*d;case"angle":return Math.atan2(l.y-a.y,l.x-a.x)*180/Math.PI}}function lE(t,e){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=TA(xe.pth(t)?t.totalLength:t,e)+"";return{original:n,numbers:n.match(r)?n.match(r).map(Number):[0],strings:xe.str(t)||e?n.split(r):[]}}function O1(t){var e=t?Lp(xe.arr(t)?t.map(oE):oE(t)):[];return Fp(e,function(r,n,i){return i.indexOf(r)===n})}function IA(t){var e=O1(t);return e.map(function(r,n){return{target:r,id:n,total:e.length,transforms:{list:bA(r)}}})}function Wz(t,e){var r=E1(e);if(/^spring/.test(r.easing)&&(r.duration=yA(r.easing)),xe.arr(t)){var n=t.length,i=n===2&&!xe.obj(t[0]);i?t={value:t}:xe.fnc(e.duration)||(r.duration=e.duration/n)}var s=xe.arr(t)?t:[t];return s.map(function(a,l){var c=xe.obj(a)&&!xe.pth(a)?a:{value:a};return xe.und(c.delay)&&(c.delay=l?0:e.delay),xe.und(c.endDelay)&&(c.endDelay=l===s.length-1?e.endDelay:0),c}).map(function(a){return Up(a,r)})}function Gz(t){for(var e=Fp(Lp(t.map(function(s){return Object.keys(s)})),function(s){return xe.key(s)}).reduce(function(s,a){return s.indexOf(a)<0&&s.push(a),s},[]),r={},n=function(s){var a=e[s];r[a]=t.map(function(l){var c={};for(var d in l)xe.key(d)?d==a&&(c.value=l[d]):c[d]=l[d];return c})},i=0;i<e.length;i++)n(i);return r}function Yz(t,e){var r=[],n=e.keyframes;n&&(e=Up(Gz(n),e));for(var i in e)xe.key(i)&&r.push({name:i,tweens:Wz(e[i],t)});return r}function Xz(t,e){var r={};for(var n in t){var i=l0(t[n],e);xe.arr(i)&&(i=i.map(function(s){return l0(s,e)}),i.length===1&&(i=i[0])),r[n]=i}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function qz(t,e){var r;return t.tweens.map(function(n){var i=Xz(n,e),s=i.value,a=xe.arr(s)?s[1]:s,l=Si(a),c=P1(e.target,t.name,l,e),d=r?r.to.original:c,g=xe.arr(s)?s[0]:d,_=Si(g)||Si(c),w=l||_;return xe.und(a)&&(a=d),i.from=lE(g,w),i.to=lE(A1(a,g),w),i.start=r?r.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=T1(i.easing,i.duration),i.isPath=xe.pth(s),i.isPathTargetInsideSVG=i.isPath&&xe.svg(e.target),i.isColor=xe.col(i.from.original),i.isColor&&(i.round=1),r=i,i})}var PA={css:function(t,e,r){return t.style[e]=r},attribute:function(t,e,r){return t.setAttribute(e,r)},object:function(t,e,r){return t[e]=r},transform:function(t,e,r,n,i){if(n.list.set(e,r),e===n.last||i){var s="";n.list.forEach(function(a,l){s+=l+"("+a+") "}),t.style.transform=s}}};function AA(t,e){var r=IA(t);r.forEach(function(n){for(var i in e){var s=l0(e[i],n),a=n.target,l=Si(s),c=P1(a,i,l,n),d=l||Si(c),g=A1(TA(s,d),c),_=I1(a,i);PA[_](a,i,g,n.transforms,!0)}})}function Kz(t,e){var r=I1(t.target,e.name);if(r){var n=qz(e,t),i=n[n.length-1];return{type:r,property:e.name,animatable:t,tweens:n,duration:i.end,delay:n[0].delay,endDelay:i.endDelay}}}function Qz(t,e){return Fp(Lp(t.map(function(r){return e.map(function(n){return Kz(r,n)})})),function(r){return!xe.und(r)})}function kA(t,e){var r=t.length,n=function(s){return s.timelineOffset?s.timelineOffset:0},i={};return i.duration=r?Math.max.apply(Math,t.map(function(s){return n(s)+s.duration})):e.duration,i.delay=r?Math.min.apply(Math,t.map(function(s){return n(s)+s.delay})):e.delay,i.endDelay=r?i.duration-Math.max.apply(Math,t.map(function(s){return n(s)+s.duration-s.endDelay})):e.endDelay,i}var uE=0;function Zz(t){var e=o0(gA,t),r=o0(b1,t),n=Yz(r,t),i=IA(t.targets),s=Qz(i,n),a=kA(s,r),l=uE;return uE++,Up(e,{id:l,children:[],animatables:i,animations:s,duration:a.duration,delay:a.delay,endDelay:a.endDelay})}var xn=[],OA=function(){var t;function e(){!t&&(!hE()||!It.suspendWhenDocumentHidden)&&xn.length>0&&(t=requestAnimationFrame(r))}function r(i){for(var s=xn.length,a=0;a<s;){var l=xn[a];l.paused?(xn.splice(a,1),s--):(l.tick(i),a++)}t=a>0?requestAnimationFrame(r):void 0}function n(){It.suspendWhenDocumentHidden&&(hE()?t=cancelAnimationFrame(t):(xn.forEach(function(i){return i._onDocumentVisibility()}),OA()))}return typeof document<"u"&&document.addEventListener("visibilitychange",n),e}();function hE(){return!!document&&document.hidden}function It(t){t===void 0&&(t={});var e=0,r=0,n=0,i,s=0,a=null;function l(k){var M=window.Promise&&new Promise(function(R){return a=R});return k.finished=M,M}var c=Zz(t);l(c);function d(){var k=c.direction;k!=="alternate"&&(c.direction=k!=="normal"?"normal":"reverse"),c.reversed=!c.reversed,i.forEach(function(M){return M.reversed=c.reversed})}function g(k){return c.reversed?c.duration-k:k}function _(){e=0,r=g(c.currentTime)*(1/It.speed)}function w(k,M){M&&M.seek(k-M.timelineOffset)}function T(k){if(c.reversePlayback)for(var R=s;R--;)w(k,i[R]);else for(var M=0;M<s;M++)w(k,i[M])}function S(k){for(var M=0,R=c.animations,V=R.length;M<V;){var L=R[M],j=L.animatable,W=L.tweens,U=W.length-1,$=W[U];U&&($=Fp(W,function(Pe){return k<Pe.end})[0]||$);for(var J=jn(k-$.start-$.delay,0,$.duration)/$.duration,se=isNaN(J)?1:$.easing(J),te=$.to.strings,Le=$.round,oe=[],ue=$.to.numbers.length,re=void 0,et=0;et<ue;et++){var pt=void 0,he=$.to.numbers[et],H=$.from.numbers[et]||0;$.isPath?pt=jz($.value,se*he,$.isPathTargetInsideSVG):pt=H+se*(he-H),Le&&($.isColor&&et>2||(pt=Math.round(pt*Le)/Le)),oe.push(pt)}var X=te.length;if(!X)re=oe[0];else{re=te[0];for(var ne=0;ne<X;ne++){te[ne];var we=te[ne+1],ie=oe[ne];isNaN(ie)||(we?re+=ie+we:re+=ie+" ")}}PA[L.type](j.target,L.property,re,j.transforms),L.currentValue=re,M++}}function P(k){c[k]&&!c.passThrough&&c[k](c)}function E(){c.remaining&&c.remaining!==!0&&c.remaining--}function A(k){var M=c.duration,R=c.delay,V=M-c.endDelay,L=g(k);c.progress=jn(L/M*100,0,100),c.reversePlayback=L<c.currentTime,i&&T(L),!c.began&&c.currentTime>0&&(c.began=!0,P("begin")),!c.loopBegan&&c.currentTime>0&&(c.loopBegan=!0,P("loopBegin")),L<=R&&c.currentTime!==0&&S(0),(L>=V&&c.currentTime!==M||!M)&&S(M),L>R&&L<V?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,P("changeBegin")),P("change"),S(L)):c.changeBegan&&(c.changeCompleted=!0,c.changeBegan=!1,P("changeComplete")),c.currentTime=jn(L,0,M),c.began&&P("update"),k>=M&&(r=0,E(),c.remaining?(e=n,P("loopComplete"),c.loopBegan=!1,c.direction==="alternate"&&d()):(c.paused=!0,c.completed||(c.completed=!0,P("loopComplete"),P("complete"),!c.passThrough&&"Promise"in window&&(a(),l(c)))))}return c.reset=function(){var k=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.loopBegan=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed=k==="reverse",c.remaining=c.loop,i=c.children,s=i.length;for(var M=s;M--;)c.children[M].reset();(c.reversed&&c.loop!==!0||k==="alternate"&&c.loop===1)&&c.remaining++,S(c.reversed?c.duration:0)},c._onDocumentVisibility=_,c.set=function(k,M){return AA(k,M),c},c.tick=function(k){n=k,e||(e=n),A((n+(r-e))*It.speed)},c.seek=function(k){A(g(k))},c.pause=function(){c.paused=!0,_()},c.play=function(){c.paused&&(c.completed&&c.reset(),c.paused=!1,xn.push(c),_(),OA())},c.reverse=function(){d(),c.completed=!c.reversed,_()},c.restart=function(){c.reset(),c.play()},c.remove=function(k){var M=O1(k);MA(M,c)},c.reset(),c.autoplay&&c.play(),c}function cE(t,e){for(var r=e.length;r--;)S1(t,e[r].animatable.target)&&e.splice(r,1)}function MA(t,e){var r=e.animations,n=e.children;cE(t,r);for(var i=n.length;i--;){var s=n[i],a=s.animations;cE(t,a),!a.length&&!s.children.length&&n.splice(i,1)}!r.length&&!n.length&&e.pause()}function Jz(t){for(var e=O1(t),r=xn.length;r--;){var n=xn[r];MA(e,n)}}function e$(t,e){e===void 0&&(e={});var r=e.direction||"normal",n=e.easing?T1(e.easing):null,i=e.grid,s=e.axis,a=e.from||0,l=a==="first",c=a==="center",d=a==="last",g=xe.arr(t),_=parseFloat(g?t[0]:t),w=g?parseFloat(t[1]):0,T=Si(g?t[1]:t)||0,S=e.start||0+(g?_:0),P=[],E=0;return function(A,k,M){if(l&&(a=0),c&&(a=(M-1)/2),d&&(a=M-1),!P.length){for(var R=0;R<M;R++){if(!i)P.push(Math.abs(a-R));else{var V=c?(i[0]-1)/2:a%i[0],L=c?(i[1]-1)/2:Math.floor(a/i[0]),j=R%i[0],W=Math.floor(R/i[0]),U=V-j,$=L-W,J=Math.sqrt(U*U+$*$);s==="x"&&(J=-U),s==="y"&&(J=-$),P.push(J)}E=Math.max.apply(Math,P)}n&&(P=P.map(function(te){return n(te/E)*E})),r==="reverse"&&(P=P.map(function(te){return s?te<0?te*-1:-te:Math.abs(E-te)}))}var se=g?(w-_)/E:_;return S+se*(Math.round(P[k]*100)/100)+T}}function t$(t){t===void 0&&(t={});var e=It(t);return e.duration=0,e.add=function(r,n){var i=xn.indexOf(e),s=e.children;i>-1&&xn.splice(i,1);function a(w){w.passThrough=!0}for(var l=0;l<s.length;l++)a(s[l]);var c=Up(r,o0(b1,t));c.targets=c.targets||t.targets;var d=e.duration;c.autoplay=!1,c.direction=e.direction,c.timelineOffset=xe.und(n)?d:A1(n,d),a(e),e.seek(c.timelineOffset);var g=It(c);a(g),s.push(g);var _=kA(s,t);return e.delay=_.delay,e.endDelay=_.endDelay,e.duration=_.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}It.version="3.2.1";It.speed=1;It.suspendWhenDocumentHidden=!0;It.running=xn;It.remove=Jz;It.get=P1;It.set=AA;It.convertPx=C1;It.path=Hz;It.setDashoffset=zz;It.stagger=e$;It.timeline=t$;It.easing=T1;It.penner=_A;It.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};function DA(){return(DA=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function r$(t){const e=[];return RA(t,e),e}function RA(t,e){for(let r=0;r<t.length;r++){const n=t[r];Array.isArray(n)?RA(n,e):e.push(n)}}function Wf(t){const e=fr.exports.useRef([]),r=fr.exports.useRef([]),n=fr.exports.useRef([]),i=fr.exports.useRef(new Set),s=()=>{for(let d of e.current)d.completed&&(e.current=e.current.filter(g=>g!=d));r.current=r.current.filter(d=>d!=null&&d!=null),n.current=n.current.filter(d=>d&&d.current!=null)},a=fr.exports.useCallback(()=>{(d=>{s(),r.current.length>0&&It.remove(r),r.current=[];for(let _ of n.current)_.current&&!i.current.has(_.current)&&r.current.push(_.current);const g=DA({},d,{targets:r.current,complete:_=>{d.complete&&d.complete(_),_.animatables.map(w=>i.current.add(w.target)),s()}});delete g.children,e.current.push(It(g))})(t)},[t]);fr.exports.useEffect(()=>{a()},[a]);const l=n.current;let c=Array.isArray(t.children)?t.children:[t.children];return c=r$(c),ae(fr.exports.Fragment,{children:c.map((d,g)=>(l.push(fr.exports.createRef()),ae(t.component?t.component:"div",Object.assign({ref:l[l.length-1]},{children:d}),`__anime__${g}`)))},void 0)}let n$={scale:[.9,1]};const i$={default:t=>ae(Wf,{...n$,children:t})};class Ha extends fr.exports.Component{constructor(r){super(r);q(this,"smoothly",r=>i$.default(r));this.state={}}}class s$ extends Ha{constructor(r){super(r);q(this,"unpauseGame",()=>{tt.emit("unpause")});q(this,"restartGame",()=>{tt.emit("restartGame")})}render(){return this.smoothly(He("div",{className:"pauseMenu menu",children:[ae("h1",{className:"pauseHeader header",children:"Paused"}),ae(Hn,{hint:"esc",text:"Continue",onClick:this.unpauseGame}),ae(Hn,{danger:!0,text:"Back to Menu",onClick:this.restartGame})]}))}}class a$ extends Ha{constructor(r){super(r);q(this,"startGame",()=>{tt.emit("gameStarted")});q(this,"openSettings",()=>{tt.emit("settingsOpened")});q(this,"openLeaderboard",()=>{tt.emit("leaderboardOpened")})}render(){const{playerName:r,playerSignature:n}=this.props;return this.smoothly(He("div",{className:"startMenu menu",children:[He("header",{children:[ae("h1",{className:"startHeader header",children:"XTYPE"}),He("div",{className:"username",children:["Playing as ",r]})]}),ae(Hn,{hint:"P",text:"Singleplayer",onClick:this.startGame,disabled:(!r||!n)&&"Update settings to play"}),ae(Hn,{disabled:"multiplayer is in development",hint:"M",text:"Multiplayer",onClick:()=>console.log("Multiplayer is WIP")}),ae("div",{className:"spacer"}),ae(Hn,{mini:!0,hint:"S",text:"Settings",onClick:this.openSettings}),ae(Hn,{mini:!0,hint:"L",text:"Leaderboard",onClick:this.openLeaderboard})]}))}}class o$ extends Ha{constructor(r){super(r);q(this,"handleFocus",r=>r.target.select());q(this,"handleNameChange",r=>{r.stopPropagation(),r.preventDefault(),this.setState({playerName:r.target.value},()=>{this.updateShip()})});q(this,"handleSignatureChange",r=>{r.stopPropagation(),r.preventDefault(),this.setState({playerSignature:r.target.value})});q(this,"updateShip",()=>{this.setState(r=>({playerShip:wn(r.playerName,{size:200})}))});q(this,"saveSettings",()=>{const{playerName:r,playerSignature:n}=this.state;tt.emit("settingsSaved",r,n)});this.state={playerName:r.playerName,playerSignature:r.playerSignature,playerShip:""},this.changed=!1}componentDidMount(){this.updateShip(),this.changed=!0}render(){const{playerShip:r,playerName:n,playerSignature:i}=this.state;let s=He("div",{className:"settingsMenu menu",children:[ae("div",{className:"settingsHeader",children:ae("img",{src:r,alt:"Visual representation of the player ship"})}),ae("input",{type:"text",placeholder:"input ship name",defaultValue:n,onChange:this.handleNameChange,onFocus:this.handleFocus,required:!0,autoFocus:!0}),ae("input",{type:"password",placeholder:"input unique signature",defaultValue:i,onChange:this.handleSignatureChange,onFocus:this.handleFocus,required:!0}),ae("div",{className:"signature-description-text",children:"identification on the global leaderboard (keep this to yourself)"}),ae(Hn,{text:"Save",hint:"ret",onClick:this.saveSettings,disabled:(!n||!i)&&"fill in all fields to continue"})]});return this.changed?s:this.smoothly(s)}}const df=window.localStorage,ts={set:(t,e)=>{df.setItem(t,e)},get:t=>df.getItem(t),del:t=>{df.removeItem(t)},push:(t,e)=>{let r=get(t);r&&(r=JSON.parse(r)),typeof r!="object"&&(r=[]),r.push(e),set(t,JSON.stringify(r))},pop:t=>{let e=get(t);if(e&&(e=JSON.parse(e)),typeof e!="object")return null;let r=e.pop();return set(t,JSON.stringify(e)),r},first:t=>{let e=get(t);return e?typeof e!="object"&&value.constructor!==Array?e:e[0]:null},last:t=>{let e=get(t);return e?typeof e!="object"&&value.constructor!==Array?e:e[e.length-1]:null},exists:t=>!!df.getItem(t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},l$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],l=t[r++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},M1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,g=s>>2,_=(s&3)<<4|l>>4;let w=(l&15)<<2|d>>6,T=d&63;c||(T=64,a||(w=64)),n.push(r[g],r[_],r[w],r[T])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const _=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||_==null)throw Error();const w=s<<2|l>>4;if(n.push(w),d!==64){const T=l<<4&240|d>>2;if(n.push(T),_!==64){const S=d<<6&192|_;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u$=function(t){const e=NA(t);return M1.encodeByteArray(e,!0)},Ld=function(t){return u$(t).replace(/\./g,"")},h$=function(t){try{return M1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function D1(){try{return typeof indexedDB=="object"}catch{return!1}}function c$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function FA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=()=>FA().__FIREBASE_DEFAULTS__,d$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},p$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&h$(t[1]);return e&&JSON.parse(e)},LA=()=>{try{return f$()||d$()||p$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v$=t=>{var e,r;return(r=(e=LA())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},g$=t=>{const e=v$(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},m$=()=>{var t;return(t=LA())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Ld(JSON.stringify(r)),Ld(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$="FirebaseError";class El extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=_$,Object.setPrototypeOf(this,El.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R1.prototype.create)}}class R1{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?w$(s,n):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new El(i,l,n)}}function w$(t,e){return t.replace(x$,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const x$=/\{\$([^}]+)}/g;function u0(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(fE(s)&&fE(a)){if(!u0(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function fE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=1e3,S$=2,E$=4*60*60*1e3,C$=.5;function I$(t,e=T$,r=S$){const n=e*Math.pow(r,t),i=Math.round(C$*n*(Math.random()-.5)*2);return Math.min(E$,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){return t&&t._delegate?t._delegate:t}class Aa{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Eh;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k$(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);n===l&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:A$(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A$(t){return t===na?void 0:t}function k$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new P$(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const M$={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},D$=rt.INFO,R$={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},N$=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=R$[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class N1{constructor(e){this.name=e,this._logLevel=D$,this._logHandler=N$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const F$=(t,e)=>e.some(r=>t instanceof r);let dE,pE;function L$(){return dE||(dE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U$(){return pE||(pE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UA=new WeakMap,h0=new WeakMap,BA=new WeakMap,hm=new WeakMap,F1=new WeakMap;function B$(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(ps(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&UA.set(r,t)}).catch(()=>{}),F1.set(e,t),e}function V$(t){if(h0.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});h0.set(t,e)}let c0={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return h0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BA.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ps(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z$(t){c0=t(c0)}function $$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(cm(this),e,...r);return BA.set(n,e.sort?e.sort():[e]),ps(n)}:U$().includes(t)?function(...e){return t.apply(cm(this),e),ps(UA.get(this))}:function(...e){return ps(t.apply(cm(this),e))}}function H$(t){return typeof t=="function"?$$(t):(t instanceof IDBTransaction&&V$(t),F$(t,L$())?new Proxy(t,c0):t)}function ps(t){if(t instanceof IDBRequest)return B$(t);if(hm.has(t))return hm.get(t);const e=H$(t);return e!==t&&(hm.set(t,e),F1.set(e,t)),e}const cm=t=>F1.get(t);function j$(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=ps(a);return n&&a.addEventListener("upgradeneeded",c=>{n(ps(a.result),c.oldVersion,c.newVersion,ps(a.transaction))}),r&&a.addEventListener("blocked",()=>r()),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const W$=["get","getKey","getAll","getAllKeys","count"],G$=["put","add","delete","clear"],fm=new Map;function vE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fm.get(e))return fm.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=G$.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||W$.includes(r)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),i&&c.done]))[0]};return fm.set(e,s),s}z$(t=>({...t,get:(e,r,n)=>vE(e,r)||t.get(e,r,n),has:(e,r)=>!!vE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(X$(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function X$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const f0="@firebase/app",gE="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new N1("@firebase/app"),q$="@firebase/app-compat",K$="@firebase/analytics-compat",Q$="@firebase/analytics",Z$="@firebase/app-check-compat",J$="@firebase/app-check",eH="@firebase/auth",tH="@firebase/auth-compat",rH="@firebase/database",nH="@firebase/database-compat",iH="@firebase/functions",sH="@firebase/functions-compat",aH="@firebase/installations",oH="@firebase/installations-compat",lH="@firebase/messaging",uH="@firebase/messaging-compat",hH="@firebase/performance",cH="@firebase/performance-compat",fH="@firebase/remote-config",dH="@firebase/remote-config-compat",pH="@firebase/storage",vH="@firebase/storage-compat",gH="@firebase/firestore",mH="@firebase/firestore-compat",yH="firebase",_H="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="[DEFAULT]",wH={[f0]:"fire-core",[q$]:"fire-core-compat",[Q$]:"fire-analytics",[K$]:"fire-analytics-compat",[J$]:"fire-app-check",[Z$]:"fire-app-check-compat",[eH]:"fire-auth",[tH]:"fire-auth-compat",[rH]:"fire-rtdb",[nH]:"fire-rtdb-compat",[iH]:"fire-fn",[sH]:"fire-fn-compat",[aH]:"fire-iid",[oH]:"fire-iid-compat",[lH]:"fire-fcm",[uH]:"fire-fcm-compat",[hH]:"fire-perf",[cH]:"fire-perf-compat",[fH]:"fire-rc",[dH]:"fire-rc-compat",[pH]:"fire-gcs",[vH]:"fire-gcs-compat",[gH]:"fire-fst",[mH]:"fire-fst-compat","fire-js":"fire-js",[yH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Map,p0=new Map;function xH(t,e){try{t.container.addComponent(e)}catch(r){ka.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function il(t){const e=t.name;if(p0.has(e))return ka.debug(`There were multiple attempts to register component ${e}.`),!1;p0.set(e,t);for(const r of Ud.values())xH(r,t);return!0}function L1(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vs=new R1("app","Firebase",bH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH=_H;function VA(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:d0,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw vs.create("bad-app-name",{appName:String(i)});if(r||(r=m$()),!r)throw vs.create("no-options");const s=Ud.get(i);if(s){if(u0(r,s.options)&&u0(n,s.config))return s;throw vs.create("duplicate-app",{appName:i})}const a=new O$(i);for(const c of p0.values())a.addComponent(c);const l=new TH(r,n,a);return Ud.set(i,l),l}function zA(t=d0){const e=Ud.get(t);if(!e&&t===d0)return VA();if(!e)throw vs.create("no-app",{appName:t});return e}function ma(t,e,r){var n;let i=(n=wH[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ka.warn(l.join(" "));return}il(new Aa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH="firebase-heartbeat-database",CH=1,Ch="firebase-heartbeat-store";let dm=null;function $A(){return dm||(dm=j$(EH,CH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ch)}}}).catch(t=>{throw vs.create("idb-open",{originalErrorMessage:t.message})})),dm}async function IH(t){try{return(await $A()).transaction(Ch).objectStore(Ch).get(HA(t))}catch(e){if(e instanceof El)ka.warn(e.message);else{const r=vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ka.warn(r.message)}}}async function mE(t,e){try{const n=(await $A()).transaction(Ch,"readwrite");return await n.objectStore(Ch).put(e,HA(t)),n.done}catch(r){if(r instanceof El)ka.warn(r.message);else{const n=vs.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ka.warn(n.message)}}}function HA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=1024,AH=30*24*60*60*1e3;class kH{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new MH(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=yE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=AH}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yE(),{heartbeatsToSend:r,unsentEntries:n}=OH(this._heartbeatsCache.heartbeats),i=Ld(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function yE(){return new Date().toISOString().substring(0,10)}function OH(t,e=PH){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),_E(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),_E(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class MH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D1()?c$().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await IH(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return mE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return mE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _E(t){return Ld(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(t){il(new Aa("platform-logger",e=>new Y$(e),"PRIVATE")),il(new Aa("heartbeat",e=>new kH(e),"PRIVATE")),ma(f0,gE,t),ma(f0,gE,"esm2017"),ma("fire-js","")}DH("");var RH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ye,U1=U1||{},Oe=RH||self;function Bd(){}function Bp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ac(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function NH(t){return Object.prototype.hasOwnProperty.call(t,pm)&&t[pm]||(t[pm]=++FH)}var pm="closure_uid_"+(1e9*Math.random()>>>0),FH=0;function LH(t,e,r){return t.call.apply(t.bind,arguments)}function UH(t,e,r){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function wr(t,e,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wr=LH:wr=UH,wr.apply(null,arguments)}function pf(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var n=r.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function cr(t,e){function r(){}r.prototype=e.prototype,t.X=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.Wb=function(n,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[i].apply(n,a)}}function Ds(){this.s=this.s,this.o=this.o}var BH=0;Ds.prototype.s=!1;Ds.prototype.na=function(){!this.s&&(this.s=!0,this.M(),BH!=0)&&NH(this)};Ds.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let r=0;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1};function B1(t){const e=t.length;if(0<e){const r=Array(e);for(let n=0;n<e;n++)r[n]=t[n];return r}return[]}function wE(t,e){for(let r=1;r<arguments.length;r++){const n=arguments[r];if(Bp(n)){const i=t.length||0,s=n.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=n[a]}else t.push(n)}}function xr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}xr.prototype.h=function(){this.defaultPrevented=!0};var VH=function(){if(!Oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Oe.addEventListener("test",Bd,e),Oe.removeEventListener("test",Bd,e)}catch{}return t}();function Vd(t){return/^[\s\xa0]*$/.test(t)}var xE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function vm(t,e){return t<e?-1:t>e?1:0}function Vp(){var t=Oe.navigator;return t&&(t=t.userAgent)?t:""}function Nn(t){return Vp().indexOf(t)!=-1}function V1(t){return V1[" "](t),t}V1[" "]=Bd;function zH(t){var e=jH;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var $H=Nn("Opera"),sl=Nn("Trident")||Nn("MSIE"),WA=Nn("Edge"),v0=WA||sl,GA=Nn("Gecko")&&!(Vp().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge"))&&!(Nn("Trident")||Nn("MSIE"))&&!Nn("Edge"),HH=Vp().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge");function YA(){var t=Oe.document;return t?t.documentMode:void 0}var zd;e:{var gm="",mm=function(){var t=Vp();if(GA)return/rv:([^\);]+)(\)|;)/.exec(t);if(WA)return/Edge\/([\d\.]+)/.exec(t);if(sl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(HH)return/WebKit\/(\S+)/.exec(t);if($H)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(mm&&(gm=mm?mm[1]:""),sl){var ym=YA();if(ym!=null&&ym>parseFloat(gm)){zd=String(ym);break e}}zd=gm}var jH={};function WH(){return zH(function(){let t=0;const e=xE(String(zd)).split("."),r=xE("9").split("."),n=Math.max(e.length,r.length);for(let a=0;t==0&&a<n;a++){var i=e[a]||"",s=r[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=vm(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||vm(i[2].length==0,s[2].length==0)||vm(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var g0;if(Oe.document&&sl){var bE=YA();g0=bE||parseInt(zd,10)||void 0}else g0=void 0;var GH=g0;function Ih(t,e){if(xr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var r=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(GA){e:{try{V1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else r=="mouseover"?e=t.fromElement:r=="mouseout"&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:YH[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ih.X.h.call(this)}}cr(Ih,xr);var YH={2:"touch",3:"pen",4:"mouse"};Ih.prototype.h=function(){Ih.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var oc="closure_listenable_"+(1e6*Math.random()|0),XH=0;function qH(t,e,r,n,i){this.listener=t,this.proxy=null,this.src=e,this.type=r,this.capture=!!n,this.ha=i,this.key=++XH,this.ba=this.ea=!1}function zp(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function z1(t,e,r){for(const n in t)e.call(r,t[n],n,t)}function XA(t){const e={};for(const r in t)e[r]=t[r];return e}const TE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qA(t,e){let r,n;for(let i=1;i<arguments.length;i++){n=arguments[i];for(r in n)t[r]=n[r];for(let s=0;s<TE.length;s++)r=TE[s],Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}}function $p(t){this.src=t,this.g={},this.h=0}$p.prototype.add=function(t,e,r,n,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=y0(t,e,n,i);return-1<a?(e=t[a],r||(e.ea=!1)):(e=new qH(e,this.src,s,!!n,i),e.ea=r,t.push(e)),e};function m0(t,e){var r=e.type;if(r in t.g){var n=t.g[r],i=jA(n,e),s;(s=0<=i)&&Array.prototype.splice.call(n,i,1),s&&(zp(e),t.g[r].length==0&&(delete t.g[r],t.h--))}}function y0(t,e,r,n){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!r&&s.ha==n)return i}return-1}var $1="closure_lm_"+(1e6*Math.random()|0),_m={};function KA(t,e,r,n,i){if(n&&n.once)return ZA(t,e,r,n,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)KA(t,e[s],r,n,i);return null}return r=W1(r),t&&t[oc]?t.N(e,r,ac(n)?!!n.capture:!!n,i):QA(t,e,r,!1,n,i)}function QA(t,e,r,n,i,s){if(!e)throw Error("Invalid event type");var a=ac(i)?!!i.capture:!!i,l=j1(t);if(l||(t[$1]=l=new $p(t)),r=l.add(e,r,n,a,s),r.proxy)return r;if(n=KH(),r.proxy=n,n.src=t,n.listener=r,t.addEventListener)VH||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),n,i);else if(t.attachEvent)t.attachEvent(ek(e.toString()),n);else if(t.addListener&&t.removeListener)t.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return r}function KH(){function t(r){return e.call(t.src,t.listener,r)}const e=QH;return t}function ZA(t,e,r,n,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ZA(t,e[s],r,n,i);return null}return r=W1(r),t&&t[oc]?t.O(e,r,ac(n)?!!n.capture:!!n,i):QA(t,e,r,!0,n,i)}function JA(t,e,r,n,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)JA(t,e[s],r,n,i);else n=ac(n)?!!n.capture:!!n,r=W1(r),t&&t[oc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],r=y0(s,r,n,i),-1<r&&(zp(s[r]),Array.prototype.splice.call(s,r,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=j1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=y0(e,r,n,i)),(r=-1<t?e[t]:null)&&H1(r))}function H1(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[oc])m0(e.i,t);else{var r=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(r,n,t.capture):e.detachEvent?e.detachEvent(ek(r),n):e.addListener&&e.removeListener&&e.removeListener(n),(r=j1(e))?(m0(r,t),r.h==0&&(r.src=null,e[$1]=null)):zp(t)}}}function ek(t){return t in _m?_m[t]:_m[t]="on"+t}function QH(t,e){if(t.ba)t=!0;else{e=new Ih(e,this);var r=t.listener,n=t.ha||t.src;t.ea&&H1(t),t=r.call(n,e)}return t}function j1(t){return t=t[$1],t instanceof $p?t:null}var wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function W1(t){return typeof t=="function"?t:(t[wm]||(t[wm]=function(e){return t.handleEvent(e)}),t[wm])}function rr(){Ds.call(this),this.i=new $p(this),this.P=this,this.I=null}cr(rr,Ds);rr.prototype[oc]=!0;rr.prototype.removeEventListener=function(t,e,r,n){JA(this,t,e,r,n)};function lr(t,e){var r,n=t.I;if(n)for(r=[];n;n=n.I)r.push(n);if(t=t.P,n=e.type||e,typeof e=="string")e=new xr(e,t);else if(e instanceof xr)e.target=e.target||t;else{var i=e;e=new xr(n,t),qA(e,i)}if(i=!0,r)for(var s=r.length-1;0<=s;s--){var a=e.g=r[s];i=vf(a,n,!0,e)&&i}if(a=e.g=t,i=vf(a,n,!0,e)&&i,i=vf(a,n,!1,e)&&i,r)for(s=0;s<r.length;s++)a=e.g=r[s],i=vf(a,n,!1,e)&&i}rr.prototype.M=function(){if(rr.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)zp(r[n]);delete t.g[e],t.h--}}this.I=null};rr.prototype.N=function(t,e,r,n){return this.i.add(String(t),e,!1,r,n)};rr.prototype.O=function(t,e,r,n){return this.i.add(String(t),e,!0,r,n)};function vf(t,e,r,n){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.ba&&a.capture==r){var l=a.listener,c=a.ha||a.src;a.ea&&m0(t.i,a),i=l.call(c,n)!==!1&&i}}return i&&!n.defaultPrevented}var G1=Oe.JSON.stringify;function ZH(){var t=nk;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class JH{constructor(){this.h=this.g=null}add(e,r){const n=tk.get();n.set(e,r),this.h?this.h.next=n:this.g=n,this.h=n}}var tk=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new ej,t=>t.reset());class ej{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function tj(t){Oe.setTimeout(()=>{throw t},0)}function rk(t,e){_0||rj(),w0||(_0(),w0=!0),nk.add(t,e)}var _0;function rj(){var t=Oe.Promise.resolve(void 0);_0=function(){t.then(nj)}}var w0=!1,nk=new JH;function nj(){for(var t;t=ZH();){try{t.h.call(t.g)}catch(r){tj(r)}var e=tk;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}w0=!1}function Hp(t,e){rr.call(this),this.h=t||1,this.g=e||Oe,this.j=wr(this.lb,this),this.l=Date.now()}cr(Hp,rr);ye=Hp.prototype;ye.ca=!1;ye.R=null;ye.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),lr(this,"tick"),this.ca&&(Y1(this),this.start()))}};ye.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Y1(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}ye.M=function(){Hp.X.M.call(this),Y1(this),delete this.g};function X1(t,e,r){if(typeof t=="function")r&&(t=wr(t,r));else if(t&&typeof t.handleEvent=="function")t=wr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Oe.setTimeout(t,e||0)}function ik(t){t.g=X1(()=>{t.g=null,t.i&&(t.i=!1,ik(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class ij extends Ds{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ik(this)}M(){super.M(),this.g&&(Oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ph(t){Ds.call(this),this.h=t,this.g={}}cr(Ph,Ds);var SE=[];function sk(t,e,r,n){Array.isArray(r)||(r&&(SE[0]=r.toString()),r=SE);for(var i=0;i<r.length;i++){var s=KA(e,r[i],n||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function ak(t){z1(t.g,function(e,r){this.g.hasOwnProperty(r)&&H1(e)},t),t.g={}}Ph.prototype.M=function(){Ph.X.M.call(this),ak(this)};Ph.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function jp(){this.g=!0}jp.prototype.Aa=function(){this.g=!1};function sj(t,e,r,n,i,s){t.info(function(){if(t.g)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var d=l[c].split("=");if(1<d.length){var g=d[0];d=d[1];var _=g.split("_");a=2<=_.length&&_[1]=="type"?a+(g+"="+d+"&"):a+(g+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+e+`
`+r+`
`+a})}function aj(t,e,r,n,i,s,a){t.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+e+`
`+r+`
`+s+" "+a})}function So(t,e,r,n){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+lj(t,r)+(n?" "+n:"")})}function oj(t,e){t.info(function(){return"TIMEOUT: "+e})}jp.prototype.info=function(){};function lj(t,e){if(!t.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r){for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var n=r[t];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return G1(r)}catch{return e}}var ja={},EE=null;function Wp(){return EE=EE||new rr}ja.Pa="serverreachability";function ok(t){xr.call(this,ja.Pa,t)}cr(ok,xr);function Ah(t){const e=Wp();lr(e,new ok(e))}ja.STAT_EVENT="statevent";function lk(t,e){xr.call(this,ja.STAT_EVENT,t),this.stat=e}cr(lk,xr);function Ar(t){const e=Wp();lr(e,new lk(e,t))}ja.Qa="timingevent";function uk(t,e){xr.call(this,ja.Qa,t),this.size=e}cr(uk,xr);function lc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Oe.setTimeout(function(){t()},e)}var Gp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},hk={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function q1(){}q1.prototype.h=null;function CE(t){return t.h||(t.h=t.i())}function ck(){}var uc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function K1(){xr.call(this,"d")}cr(K1,xr);function Q1(){xr.call(this,"c")}cr(Q1,xr);var x0;function Yp(){}cr(Yp,q1);Yp.prototype.g=function(){return new XMLHttpRequest};Yp.prototype.i=function(){return{}};x0=new Yp;function hc(t,e,r,n){this.l=t,this.j=e,this.m=r,this.U=n||1,this.S=new Ph(this),this.O=uj,t=v0?125:void 0,this.T=new Hp(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new fk}function fk(){this.i=null,this.g="",this.h=!1}var uj=45e3,b0={},$d={};ye=hc.prototype;ye.setTimeout=function(t){this.O=t};function T0(t,e,r){t.K=1,t.v=qp(Mi(e)),t.s=r,t.P=!0,dk(t,null)}function dk(t,e){t.F=Date.now(),cc(t),t.A=Mi(t.v);var r=t.A,n=t.U;Array.isArray(n)||(n=[String(n)]),xk(r.i,"t",n),t.C=0,r=t.l.H,t.h=new fk,t.g=$k(t.l,r?e:null,!t.s),0<t.N&&(t.L=new ij(wr(t.La,t,t.g),t.N)),sk(t.S,t.g,"readystatechange",t.ib),e=t.H?XA(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Ah(),sj(t.j,t.u,t.A,t.m,t.U,t.s)}ye.ib=function(t){t=t.target;const e=this.L;e&&mi(t)==3?e.l():this.La(t)};ye.La=function(t){try{if(t==this.g)e:{const g=mi(this.g);var e=this.g.Ea();const _=this.g.aa();if(!(3>g)&&(g!=3||v0||this.g&&(this.h.h||this.g.fa()||kE(this.g)))){this.I||g!=4||e==7||(e==8||0>=_?Ah(3):Ah(2)),Xp(this);var r=this.g.aa();this.Y=r;t:if(pk(this)){var n=kE(this.g);t="";var i=n.length,s=mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ua(this),Uu(this);var a="";break t}this.h.i=new Oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:s&&e==i-1});n.splice(0,i),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=r==200,aj(this.j,this.u,this.A,this.m,this.U,g,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vd(l)){var d=l;break t}}d=null}if(r=d)So(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,S0(this,r);else{this.i=!1,this.o=3,Ar(12),ua(this),Uu(this);break e}}this.P?(vk(this,g,a),v0&&this.i&&g==3&&(sk(this.S,this.T,"tick",this.hb),this.T.start())):(So(this.j,this.m,a,null),S0(this,a)),g==4&&ua(this),this.i&&!this.I&&(g==4?Uk(this.l,this):(this.i=!1,cc(this)))}else r==400&&0<a.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),ua(this),Uu(this)}}}catch{}finally{}};function pk(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function vk(t,e,r){let n=!0,i;for(;!t.I&&t.C<r.length;)if(i=hj(t,r),i==$d){e==4&&(t.o=4,Ar(14),n=!1),So(t.j,t.m,null,"[Incomplete Response]");break}else if(i==b0){t.o=4,Ar(15),So(t.j,t.m,r,"[Invalid Chunk]"),n=!1;break}else So(t.j,t.m,i,null),S0(t,i);pk(t)&&i!=$d&&i!=b0&&(t.h.g="",t.C=0),e!=4||r.length!=0||t.h.h||(t.o=1,Ar(16),n=!1),t.i=t.i&&n,n?0<r.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+r.length),iw(e),e.K=!0,Ar(11))):(So(t.j,t.m,r,"[Invalid Chunked Response]"),ua(t),Uu(t))}ye.hb=function(){if(this.g){var t=mi(this.g),e=this.g.fa();this.C<e.length&&(Xp(this),vk(this,t,e),this.i&&t!=4&&cc(this))}};function hj(t,e){var r=t.C,n=e.indexOf(`
`,r);return n==-1?$d:(r=Number(e.substring(r,n)),isNaN(r)?b0:(n+=1,n+r>e.length?$d:(e=e.substr(n,r),t.C=n+r,e)))}ye.cancel=function(){this.I=!0,ua(this)};function cc(t){t.V=Date.now()+t.O,gk(t,t.O)}function gk(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=lc(wr(t.gb,t),e)}function Xp(t){t.B&&(Oe.clearTimeout(t.B),t.B=null)}ye.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(oj(this.j,this.A),this.K!=2&&(Ah(),Ar(17)),ua(this),this.o=2,Uu(this)):gk(this,this.V-t)};function Uu(t){t.l.G==0||t.I||Uk(t.l,t)}function ua(t){Xp(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Y1(t.T),ak(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function S0(t,e){try{var r=t.l;if(r.G!=0&&(r.g==t||E0(r.h,t))){if(!t.J&&E0(r.h,t)&&r.G==3){try{var n=r.Fa.g.parse(e)}catch{n=null}if(Array.isArray(n)&&n.length==3){var i=n;if(i[0]==0){e:if(!r.u){if(r.g)if(r.g.F+3e3<t.F)Wd(r),Zp(r);else break e;nw(r),Ar(18)}}else r.Ba=i[1],0<r.Ba-r.T&&37500>i[2]&&r.L&&r.A==0&&!r.v&&(r.v=lc(wr(r.cb,r),6e3));if(1>=Sk(r.h)&&r.ja){try{r.ja()}catch{}r.ja=void 0}}else ha(r,11)}else if((t.J||r.g==t)&&Wd(r),!Vd(e))for(i=r.Fa.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(r.T=d[0],d=d[1],r.G==2)if(d[0]=="c"){r.I=d[1],r.ka=d[2];const g=d[3];g!=null&&(r.ma=g,r.j.info("VER="+r.ma));const _=d[4];_!=null&&(r.Ca=_,r.j.info("SVER="+r.Ca));const w=d[5];w!=null&&typeof w=="number"&&0<w&&(n=1.5*w,r.J=n,r.j.info("backChannelRequestTimeoutMs_="+n)),n=r;const T=t.g;if(T){const S=T.g?T.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var s=n.h;s.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Z1(s,s.h),s.h=null))}if(n.D){const P=T.g?T.g.getResponseHeader("X-HTTP-Session-Id"):null;P&&(n.za=P,bt(n.F,n.D,P))}}r.G=3,r.l&&r.l.xa(),r.$&&(r.P=Date.now()-t.F,r.j.info("Handshake RTT: "+r.P+"ms")),n=r;var a=t;if(n.sa=zk(n,n.H?n.ka:null,n.V),a.J){Ek(n.h,a);var l=a,c=n.J;c&&l.setTimeout(c),l.B&&(Xp(l),cc(l)),n.g=a}else Fk(n);0<r.i.length&&Jp(r)}else d[0]!="stop"&&d[0]!="close"||ha(r,7);else r.G==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?ha(r,7):rw(r):d[0]!="noop"&&r.l&&r.l.wa(d),r.A=0)}}Ah(4)}catch{}}function cj(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Bp(t)){for(var e=[],r=t.length,n=0;n<r;n++)e.push(t[n]);return e}e=[],r=0;for(n in t)e[r++]=t[n];return e}function fj(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Bp(t)||typeof t=="string"){var e=[];t=t.length;for(var r=0;r<t;r++)e.push(r);return e}e=[],r=0;for(const n in t)e[r++]=n;return e}}}function mk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Bp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var r=fj(t),n=cj(t),i=n.length,s=0;s<i;s++)e.call(void 0,n[s],r&&r[s],t)}var yk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dj(t,e){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var n=t[r].indexOf("="),i=null;if(0<=n){var s=t[r].substring(0,n);i=t[r].substring(n+1)}else s=t[r];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ya(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ya){this.h=e!==void 0?e:t.h,Hd(this,t.j),this.s=t.s,this.g=t.g,jd(this,t.m),this.l=t.l,e=t.i;var r=new kh;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),IE(this,r),this.o=t.o}else t&&(r=String(t).match(yk))?(this.h=!!e,Hd(this,r[1]||"",!0),this.s=_u(r[2]||""),this.g=_u(r[3]||"",!0),jd(this,r[4]),this.l=_u(r[5]||"",!0),IE(this,r[6]||"",!0),this.o=_u(r[7]||"")):(this.h=!!e,this.i=new kh(null,this.h))}ya.prototype.toString=function(){var t=[],e=this.j;e&&t.push(wu(e,PE,!0),":");var r=this.g;return(r||e=="file")&&(t.push("//"),(e=this.s)&&t.push(wu(e,PE,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&t.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&t.push("/"),t.push(wu(r,r.charAt(0)=="/"?gj:vj,!0))),(r=this.i.toString())&&t.push("?",r),(r=this.o)&&t.push("#",wu(r,yj)),t.join("")};function Mi(t){return new ya(t)}function Hd(t,e,r){t.j=r?_u(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function jd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function IE(t,e,r){e instanceof kh?(t.i=e,_j(t.i,t.h)):(r||(e=wu(e,mj)),t.i=new kh(e,t.h))}function bt(t,e,r){t.i.set(e,r)}function qp(t){return bt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function _u(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function wu(t,e,r){return typeof t=="string"?(t=encodeURI(t).replace(e,pj),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var PE=/[#\/\?@]/g,vj=/[#\?:]/g,gj=/[#\?]/g,mj=/[#\?@]/g,yj=/#/g;function kh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Rs(t){t.g||(t.g=new Map,t.h=0,t.i&&dj(t.i,function(e,r){t.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}ye=kh.prototype;ye.add=function(t,e){Rs(this),this.i=null,t=Cl(this,t);var r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(e),this.h+=1,this};function _k(t,e){Rs(t),e=Cl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function wk(t,e){return Rs(t),e=Cl(t,e),t.g.has(e)}ye.forEach=function(t,e){Rs(this),this.g.forEach(function(r,n){r.forEach(function(i){t.call(e,i,n,this)},this)},this)};ye.oa=function(){Rs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let n=0;n<e.length;n++){const i=t[n];for(let s=0;s<i.length;s++)r.push(e[n])}return r};ye.W=function(t){Rs(this);let e=[];if(typeof t=="string")wk(this,t)&&(e=e.concat(this.g.get(Cl(this,t))));else{t=Array.from(this.g.values());for(let r=0;r<t.length;r++)e=e.concat(t[r])}return e};ye.set=function(t,e){return Rs(this),this.i=null,t=Cl(this,t),wk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ye.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function xk(t,e,r){_k(t,e),0<r.length&&(t.i=null,t.g.set(Cl(t,e),B1(r)),t.h+=r.length)}ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var n=e[r];const s=encodeURIComponent(String(n)),a=this.W(n);for(n=0;n<a.length;n++){var i=s;a[n]!==""&&(i+="="+encodeURIComponent(String(a[n]))),t.push(i)}}return this.i=t.join("&")};function Cl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function _j(t,e){e&&!t.j&&(Rs(t),t.i=null,t.g.forEach(function(r,n){var i=n.toLowerCase();n!=i&&(_k(this,n),xk(this,i,r))},t)),t.j=e}var wj=class{constructor(e,r){this.h=e,this.g=r}};function bk(t){this.l=t||xj,Oe.PerformanceNavigationTiming?(t=Oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Oe.g&&Oe.g.Ga&&Oe.g.Ga()&&Oe.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xj=10;function Tk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Sk(t){return t.h?1:t.g?t.g.size:0}function E0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Z1(t,e){t.g?t.g.add(e):t.h=e}function Ek(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}bk.prototype.cancel=function(){if(this.i=Ck(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Ck(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const r of t.g.values())e=e.concat(r.D);return e}return B1(t.i)}function J1(){}J1.prototype.stringify=function(t){return Oe.JSON.stringify(t,void 0)};J1.prototype.parse=function(t){return Oe.JSON.parse(t,void 0)};function bj(){this.g=new J1}function Tj(t,e,r){const n=r||"";try{mk(t,function(i,s){let a=i;ac(i)&&(a=G1(i)),e.push(n+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(n+"type="+encodeURIComponent("_badmap")),i}}function Sj(t,e){const r=new jp;if(Oe.Image){const n=new Image;n.onload=pf(gf,r,n,"TestLoadImage: loaded",!0,e),n.onerror=pf(gf,r,n,"TestLoadImage: error",!1,e),n.onabort=pf(gf,r,n,"TestLoadImage: abort",!1,e),n.ontimeout=pf(gf,r,n,"TestLoadImage: timeout",!1,e),Oe.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=t}else e(!1)}function gf(t,e,r,n,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(n)}catch{}}function fc(t){this.l=t.ac||null,this.j=t.jb||!1}cr(fc,q1);fc.prototype.g=function(){return new Kp(this.l,this.j)};fc.prototype.i=function(t){return function(){return t}}({});function Kp(t,e){rr.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=ew,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cr(Kp,rr);var ew=0;ye=Kp.prototype;ye.open=function(t,e){if(this.readyState!=ew)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Oh(this)};ye.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Oe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dc(this)),this.readyState=ew};ye.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Oh(this)),this.g&&(this.readyState=3,Oh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ik(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function Ik(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}ye.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?dc(this):Oh(this),this.readyState==3&&Ik(this)}};ye.Va=function(t){this.g&&(this.response=this.responseText=t,dc(this))};ye.Ua=function(t){this.g&&(this.response=t,dc(this))};ye.ga=function(){this.g&&dc(this)};function dc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Oh(t)}ye.setRequestHeader=function(t,e){this.v.append(t,e)};ye.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ye.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var r=e.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=e.next();return t.join(`\r
`)};function Oh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Kp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Ej=Oe.JSON.parse;function kt(t){rr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Pk,this.K=this.L=!1}cr(kt,rr);var Pk="",Cj=/^https?$/i,Ij=["POST","PUT"];ye=kt.prototype;ye.Ka=function(t){this.L=t};ye.da=function(t,e,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():x0.g(),this.C=this.u?CE(this.u):CE(x0),this.g.onreadystatechange=wr(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){AE(this,s);return}if(t=r||"",r=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var i in n)r.set(i,n[i]);else if(typeof n.keys=="function"&&typeof n.get=="function")for(const s of n.keys())r.set(s,n.get(s));else throw Error("Unknown input type for opt_headers: "+String(n));n=Array.from(r.keys()).find(s=>s.toLowerCase()=="content-type"),i=Oe.FormData&&t instanceof Oe.FormData,!(0<=jA(Ij,e))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of r)this.g.setRequestHeader(s,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ok(this),0<this.B&&((this.K=Pj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wr(this.qa,this)):this.A=X1(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){AE(this,s)}};function Pj(t){return sl&&WH()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ye.qa=function(){typeof U1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lr(this,"timeout"),this.abort(8))};function AE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ak(t),Qp(t)}function Ak(t){t.D||(t.D=!0,lr(t,"complete"),lr(t,"error"))}ye.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,lr(this,"complete"),lr(this,"abort"),Qp(this))};ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qp(this,!0)),kt.X.M.call(this)};ye.Ha=function(){this.s||(this.F||this.v||this.l?kk(this):this.fb())};ye.fb=function(){kk(this)};function kk(t){if(t.h&&typeof U1<"u"&&(!t.C[1]||mi(t)!=4||t.aa()!=2)){if(t.v&&mi(t)==4)X1(t.Ha,0,t);else if(lr(t,"readystatechange"),mi(t)==4){t.h=!1;try{const l=t.aa();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var n;if(n=l===0){var i=String(t.H).match(yk)[1]||null;if(!i&&Oe.self&&Oe.self.location){var s=Oe.self.location.protocol;i=s.substr(0,s.length-1)}n=!Cj.test(i?i.toLowerCase():"")}r=n}if(r)lr(t,"complete"),lr(t,"success");else{t.m=6;try{var a=2<mi(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.aa()+"]",Ak(t)}}finally{Qp(t)}}}}function Qp(t,e){if(t.g){Ok(t);const r=t.g,n=t.C[0]?Bd:null;t.g=null,t.C=null,e||lr(t,"ready");try{r.onreadystatechange=n}catch{}}}function Ok(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Oe.clearTimeout(t.A),t.A=null)}function mi(t){return t.g?t.g.readyState:0}ye.aa=function(){try{return 2<mi(this)?this.g.status:-1}catch{return-1}};ye.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ye.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Ej(e)}};function kE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Pk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ye.Ea=function(){return this.m};ye.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Mk(t){let e="";return z1(t,function(r,n){e+=n,e+=":",e+=r,e+=`\r
`}),e}function tw(t,e,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=Mk(r),typeof t=="string"?r!=null&&encodeURIComponent(String(r)):bt(t,e,r))}function hu(t,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||e}function Dk(t){this.Ca=0,this.i=[],this.j=new jp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=hu("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=hu("baseRetryDelayMs",5e3,t),this.bb=hu("retryDelaySeedMs",1e4,t),this.$a=hu("forwardChannelMaxRetries",2,t),this.ta=hu("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new bk(t&&t.concurrentRequestLimit),this.Fa=new bj,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ye=Dk.prototype;ye.ma=8;ye.G=1;function rw(t){if(Rk(t),t.G==3){var e=t.U++,r=Mi(t.F);bt(r,"SID",t.I),bt(r,"RID",e),bt(r,"TYPE","terminate"),pc(t,r),e=new hc(t,t.j,e,void 0),e.K=2,e.v=qp(Mi(r)),r=!1,Oe.navigator&&Oe.navigator.sendBeacon&&(r=Oe.navigator.sendBeacon(e.v.toString(),"")),!r&&Oe.Image&&(new Image().src=e.v,r=!0),r||(e.g=$k(e.l,null),e.g.da(e.v)),e.F=Date.now(),cc(e)}Vk(t)}function Zp(t){t.g&&(iw(t),t.g.cancel(),t.g=null)}function Rk(t){Zp(t),t.u&&(Oe.clearTimeout(t.u),t.u=null),Wd(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Oe.clearTimeout(t.m),t.m=null)}function Jp(t){Tk(t.h)||t.m||(t.m=!0,rk(t.Ja,t),t.C=0)}function Aj(t,e){return Sk(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=lc(wr(t.Ja,t,e),Bk(t,t.C)),t.C++,!0)}ye.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new hc(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=XA(s),qA(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,r=0;r<this.i.length;r++){t:{var n=this.i[r];if("__data__"in n.g&&(n=n.g.__data__,typeof n=="string")){n=n.length;break t}n=void 0}if(n===void 0)break;if(e+=n,4096<e){e=r;break e}if(e===4096||r===this.i.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=Nk(this,i,e),r=Mi(this.F),bt(r,"RID",t),bt(r,"CVER",22),this.D&&bt(r,"X-HTTP-Session-Id",this.D),pc(this,r),s&&(this.N?e="headers="+encodeURIComponent(String(Mk(s)))+"&"+e:this.o&&tw(r,this.o,s)),Z1(this.h,i),this.Ya&&bt(r,"TYPE","init"),this.O?(bt(r,"$req",e),bt(r,"SID","null"),i.Z=!0,T0(i,r,null)):T0(i,r,e),this.G=2}}else this.G==3&&(t?OE(this,t):this.i.length==0||Tk(this.h)||OE(this))};function OE(t,e){var r;e?r=e.m:r=t.U++;const n=Mi(t.F);bt(n,"SID",t.I),bt(n,"RID",r),bt(n,"AID",t.T),pc(t,n),t.o&&t.s&&tw(n,t.o,t.s),r=new hc(t,t.j,r,t.C+1),t.o===null&&(r.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Nk(t,r,1e3),r.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Z1(t.h,r),T0(r,n,e)}function pc(t,e){t.ia&&z1(t.ia,function(r,n){bt(e,n,r)}),t.l&&mk({},function(r,n){bt(e,n,r)})}function Nk(t,e,r){r=Math.min(t.i.length,r);var n=t.l?wr(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const a=["count="+r];s==-1?0<r?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);let l=!0;for(let c=0;c<r;c++){let d=i[c].h;const g=i[c].g;if(d-=s,0>d)s=Math.max(0,i[c].h-100),l=!1;else try{Tj(g,a,"req"+d+"_")}catch{n&&n(g)}}if(l){n=a.join("&");break e}}}return t=t.i.splice(0,r),e.D=t,n}function Fk(t){t.g||t.u||(t.Z=1,rk(t.Ia,t),t.A=0)}function nw(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=lc(wr(t.Ia,t),Bk(t,t.A)),t.A++,!0)}ye.Ia=function(){if(this.u=null,Lk(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=lc(wr(this.eb,this),t)}};ye.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ar(10),Zp(this),Lk(this))};function iw(t){t.B!=null&&(Oe.clearTimeout(t.B),t.B=null)}function Lk(t){t.g=new hc(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Mi(t.sa);bt(e,"RID","rpc"),bt(e,"SID",t.I),bt(e,"CI",t.L?"0":"1"),bt(e,"AID",t.T),bt(e,"TYPE","xmlhttp"),pc(t,e),t.o&&t.s&&tw(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var r=t.g;t=t.ka,r.K=1,r.v=qp(Mi(e)),r.s=null,r.P=!0,dk(r,t)}ye.cb=function(){this.v!=null&&(this.v=null,Zp(this),nw(this),Ar(19))};function Wd(t){t.v!=null&&(Oe.clearTimeout(t.v),t.v=null)}function Uk(t,e){var r=null;if(t.g==e){Wd(t),iw(t),t.g=null;var n=2}else if(E0(t.h,e))r=e.D,Ek(t.h,e),n=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(n==1){r=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;n=Wp(),lr(n,new uk(n,r)),Jp(t)}else Fk(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(n==1&&Aj(t,e)||n==2&&nw(t)))switch(r&&0<r.length&&(e=t.h,e.i=e.i.concat(r)),i){case 1:ha(t,5);break;case 4:ha(t,10);break;case 3:ha(t,6);break;default:ha(t,2)}}}function Bk(t,e){let r=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(r*=2),r*e}function ha(t,e){if(t.j.info("Error code "+e),e==2){var r=null;t.l&&(r=null);var n=wr(t.kb,t);r||(r=new ya("//www.google.com/images/cleardot.gif"),Oe.location&&Oe.location.protocol=="http"||Hd(r,"https"),qp(r)),Sj(r.toString(),n)}else Ar(2);t.G=0,t.l&&t.l.va(e),Vk(t),Rk(t)}ye.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Ar(2)):(this.j.info("Failed to ping google.com"),Ar(1))};function Vk(t){if(t.G=0,t.la=[],t.l){const e=Ck(t.h);(e.length!=0||t.i.length!=0)&&(wE(t.la,e),wE(t.la,t.i),t.h.i.length=0,B1(t.i),t.i.length=0),t.l.ua()}}function zk(t,e,r){var n=r instanceof ya?Mi(r):new ya(r,void 0);if(n.g!="")e&&(n.g=e+"."+n.g),jd(n,n.m);else{var i=Oe.location;n=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ya(null,void 0);n&&Hd(s,n),e&&(s.g=e),i&&jd(s,i),r&&(s.l=r),n=s}return r=t.D,e=t.za,r&&e&&bt(n,r,e),bt(n,"VER",t.ma),pc(t,n),n}function $k(t,e,r){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=r&&t.Da&&!t.ra?new kt(new fc({jb:!0})):new kt(t.ra),e.Ka(t.H),e}function Hk(){}ye=Hk.prototype;ye.xa=function(){};ye.wa=function(){};ye.va=function(){};ye.ua=function(){};ye.Ra=function(){};function Gd(){if(sl&&!(10<=Number(GH)))throw Error("Environmental error: no available transport.")}Gd.prototype.g=function(t,e){return new Jr(t,e)};function Jr(t,e){rr.call(this),this.g=new Dk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Vd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vd(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Il(this)}cr(Jr,rr);Jr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,r=this.h||void 0;Ar(0),t.V=e,t.ia=r||{},t.L=t.Y,t.F=zk(t,null,t.V),Jp(t)};Jr.prototype.close=function(){rw(this.g)};Jr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var r={};r.__data__=t,t=r}else this.v&&(r={},r.__data__=G1(t),t=r);e.i.push(new wj(e.ab++,t)),e.G==3&&Jp(e)};Jr.prototype.M=function(){this.g.l=null,delete this.j,rw(this.g),delete this.g,Jr.X.M.call(this)};function jk(t){K1.call(this);var e=t.__sm__;if(e){e:{for(const r in e){t=r;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}cr(jk,K1);function Wk(){Q1.call(this),this.status=1}cr(Wk,Q1);function Il(t){this.g=t}cr(Il,Hk);Il.prototype.xa=function(){lr(this.g,"a")};Il.prototype.wa=function(t){lr(this.g,new jk(t))};Il.prototype.va=function(t){lr(this.g,new Wk)};Il.prototype.ua=function(){lr(this.g,"b")};Gd.prototype.createWebChannel=Gd.prototype.g;Jr.prototype.send=Jr.prototype.u;Jr.prototype.open=Jr.prototype.m;Jr.prototype.close=Jr.prototype.close;Gp.NO_ERROR=0;Gp.TIMEOUT=8;Gp.HTTP_ERROR=6;hk.COMPLETE="complete";ck.EventType=uc;uc.OPEN="a";uc.CLOSE="b";uc.ERROR="c";uc.MESSAGE="d";rr.prototype.listen=rr.prototype.N;kt.prototype.listenOnce=kt.prototype.O;kt.prototype.getLastError=kt.prototype.Oa;kt.prototype.getLastErrorCode=kt.prototype.Ea;kt.prototype.getStatus=kt.prototype.aa;kt.prototype.getResponseJson=kt.prototype.Sa;kt.prototype.getResponseText=kt.prototype.fa;kt.prototype.send=kt.prototype.da;kt.prototype.setWithCredentials=kt.prototype.Ka;var kj=function(){return new Gd},Oj=function(){return Wp()},xm=Gp,Mj=hk,Dj=ja,ME={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Rj=fc,mf=ck,Nj=kt;const DE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl="9.15.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new N1("@firebase/firestore");function RE(){return Oa.logLevel}function _e(t,...e){if(Oa.logLevel<=rt.DEBUG){const r=e.map(sw);Oa.debug(`Firestore (${Pl}): ${t}`,...r)}}function Di(t,...e){if(Oa.logLevel<=rt.ERROR){const r=e.map(sw);Oa.error(`Firestore (${Pl}): ${t}`,...r)}}function C0(t,...e){if(Oa.logLevel<=rt.WARN){const r=e.map(sw);Oa.warn(`Firestore (${Pl}): ${t}`,...r)}}function sw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t="Unexpected state"){const e=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: `+t;throw Di(e),new Error(e)}function dt(t,e){t||ke()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends El{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(pr.UNAUTHENTICATED))}shutdown(){}}class Lj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Uj{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let s=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ei,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ei)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(dt(typeof n.accessToken=="string"),new Gk(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new pr(e)}}class Bj{constructor(e,r,n,i){this.h=e,this.l=r,this.m=n,this.g=i,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(dt(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Vj{constructor(e,r,n,i){this.h=e,this.l=r,this.m=n,this.g=i}getToken(){return Promise.resolve(new Bj(this.h,this.l,this.m,this.g))}start(e,r){e.enqueueRetryable(()=>r(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $j{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,r){const n=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.A;return this.A=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(dt(typeof r.token=="string"),this.A=r.token,new zj(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=Hj(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function nt(t,e){return t<e?-1:t>e?1:0}function al(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Se(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Se(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Se(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new jt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Re(e)}static min(){return new Re(new jt(0,0))}static max(){return new Re(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,r,n){r===void 0?r=0:r>e.length&&ke(),n===void 0?n=e.length-r:n>e.length-r&&ke(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Mh.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Mh?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Tt extends Mh{construct(e,r,n){return new Tt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Se(K.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Tt(r)}static emptyPath(){return new Tt([])}}const jj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mr extends Mh{construct(e,r,n){return new mr(e,r,n)}static isValidIdentifier(e){return jj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Se(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Se(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Se(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(n+=l,i++):(s(),i++)}if(s(),a)throw new Se(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mr(r)}static emptyPath(){return new mr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Tt.fromString(e))}static fromName(e){return new Ee(Tt.fromString(e).popFirst(5))}static empty(){return new Ee(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Tt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Tt(e.slice()))}}function Wj(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(n===1e9?new jt(r+1,0):new jt(r,n));return new Es(i,Ee.empty(),e)}function Gj(t){return new Es(t.readTime,t.key,-1)}class Es{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Es(Re.min(),Ee.empty(),-1)}static max(){return new Es(Re.max(),Ee.empty(),-1)}}function Yj(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ee.comparator(t.documentKey,e.documentKey),r!==0?r:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==Xj)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Z((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Z?r:Z.resolve(r)}catch(r){return Z.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Z.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Z.reject(r)}static resolve(e){return new Z((r,n)=>{r(e)})}static reject(e){return new Z((r,n)=>{n(e)})}static waitFor(e){return new Z((r,n)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&r()},c=>n(c))}),a=!0,s===i&&r()})}static or(e){let r=Z.resolve(!1);for(const n of e)r=r.next(i=>i?Z.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new Z((n,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const d=c;r(e[d]).next(g=>{a[d]=g,++l,l===s&&n(a)},g=>i(g))}})}static doWhile(e,r){return new Z((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function gc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ut(n),this.ct=n=>r.writeSequenceNumber(n))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}aw.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,r,n,i,s,a,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.useFetchStreams=c}}class Dh{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Dh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Al(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function Xk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t){return t==null}function Yd(t){return t===0&&1/t==-1/0}function Qj(t){return typeof t=="number"&&Number.isInteger(t)&&!Yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new Sr(r)}static fromUint8Array(e){const r=function(n){let i="";for(let s=0;s<n.length;++s)i+=String.fromCharCode(n[s]);return i}(e);return new Sr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const Zj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(dt(!!t),typeof t=="string"){let e=0;const r=Zj.exec(t);if(dt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ol(t){return typeof t=="string"?Sr.fromBase64String(t):Sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Kk(t){const e=t.mapValue.fields.__previous_value__;return qk(e)?Kk(e):e}function Rh(t){const e=Cs(t.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ma(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qk(t)?4:Jj(t)?9007199254740991:10:ke()}function Kn(t,e){if(t===e)return!0;const r=Ma(t);if(r!==Ma(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rh(t).isEqual(Rh(e));case 3:return function(n,i){if(typeof n.timestampValue=="string"&&typeof i.timestampValue=="string"&&n.timestampValue.length===i.timestampValue.length)return n.timestampValue===i.timestampValue;const s=Cs(n.timestampValue),a=Cs(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(n,i){return ol(n.bytesValue).isEqual(ol(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(n,i){return Ft(n.geoPointValue.latitude)===Ft(i.geoPointValue.latitude)&&Ft(n.geoPointValue.longitude)===Ft(i.geoPointValue.longitude)}(t,e);case 2:return function(n,i){if("integerValue"in n&&"integerValue"in i)return Ft(n.integerValue)===Ft(i.integerValue);if("doubleValue"in n&&"doubleValue"in i){const s=Ft(n.doubleValue),a=Ft(i.doubleValue);return s===a?Yd(s)===Yd(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return al(t.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:return function(n,i){const s=n.mapValue.fields||{},a=i.mapValue.fields||{};if(NE(s)!==NE(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Kn(s[l],a[l])))return!1;return!0}(t,e);default:return ke()}}function Nh(t,e){return(t.values||[]).find(r=>Kn(r,e))!==void 0}function ll(t,e){if(t===e)return 0;const r=Ma(t),n=Ma(e);if(r!==n)return nt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const a=Ft(i.integerValue||i.doubleValue),l=Ft(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return FE(t.timestampValue,e.timestampValue);case 4:return FE(Rh(t),Rh(e));case 5:return nt(t.stringValue,e.stringValue);case 6:return function(i,s){const a=ol(i),l=ol(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=nt(a[c],l[c]);if(d!==0)return d}return nt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const a=nt(Ft(i.latitude),Ft(s.latitude));return a!==0?a:nt(Ft(i.longitude),Ft(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const a=i.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=ll(a[c],l[c]);if(d)return d}return nt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===yf.mapValue&&s===yf.mapValue)return 0;if(i===yf.mapValue)return 1;if(s===yf.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let g=0;g<l.length&&g<d.length;++g){const _=nt(l[g],d[g]);if(_!==0)return _;const w=ll(a[l[g]],c[d[g]]);if(w!==0)return w}return nt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ke()}}function FE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const r=Cs(t),n=Cs(e),i=nt(r.seconds,n.seconds);return i!==0?i:nt(r.nanos,n.nanos)}function ul(t){return I0(t)}function I0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Cs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ol(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,Ee.fromName(r).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=I0(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${I0(n.fields[l])}`;return s+"}"}(t.mapValue):ke();var e,r}function P0(t){return!!t&&"integerValue"in t}function ow(t){return!!t&&"arrayValue"in t}function LE(t){return!!t&&"nullValue"in t}function UE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gf(t){return!!t&&"mapValue"in t}function Bu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Al(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Bu(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Bu(t.arrayValue.values[r]);return e}return Object.assign({},t)}function Jj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,r){this.position=e,this.inclusive=r}}function BE(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Ee.comparator(Ee.fromName(a.referenceValue),r.key):n=ll(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function VE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Kn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{}class zt extends Qk{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new rW(e,r,n):r==="array-contains"?new sW(e,n):r==="in"?new aW(e,n):r==="not-in"?new oW(e,n):r==="array-contains-any"?new lW(e,n):new zt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new nW(e,n):new iW(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ll(r,this.value)):r!==null&&Ma(this.value)===Ma(r)&&this.matchesComparison(ll(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Qn extends Qk{constructor(e,r){super(),this.filters=e,this.op=r,this.ht=null}static create(e,r){return new Qn(e,r)}matches(e){return Zk(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(r=>r.isInequality());return e!==null?e.field:null}lt(e){for(const r of this.getFlattenedFilters())if(e(r))return r;return null}}function Zk(t){return t.op==="and"}function eW(t){return tW(t)&&Zk(t)}function tW(t){for(const e of t.filters)if(e instanceof Qn)return!1;return!0}function Jk(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+ul(t.value);{const e=t.filters.map(r=>Jk(r)).join(",");return`${t.op}(${e})`}}function eO(t,e){return t instanceof zt?function(r,n){return n instanceof zt&&r.op===n.op&&r.field.isEqual(n.field)&&Kn(r.value,n.value)}(t,e):t instanceof Qn?function(r,n){return n instanceof Qn&&r.op===n.op&&r.filters.length===n.filters.length?r.filters.reduce((i,s,a)=>i&&eO(s,n.filters[a]),!0):!1}(t,e):void ke()}function tO(t){return t instanceof zt?function(e){return`${e.field.canonicalString()} ${e.op} ${ul(e.value)}`}(t):t instanceof Qn?function(e){return e.op.toString()+" {"+e.getFilters().map(tO).join(" ,")+"}"}(t):"Filter"}class rW extends zt{constructor(e,r,n){super(e,r,n),this.key=Ee.fromName(n.referenceValue)}matches(e){const r=Ee.comparator(e.key,this.key);return this.matchesComparison(r)}}class nW extends zt{constructor(e,r){super(e,"in",r),this.keys=rO("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class iW extends zt{constructor(e,r){super(e,"not-in",r),this.keys=rO("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function rO(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ee.fromName(n.referenceValue))}class sW extends zt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ow(r)&&Nh(r.arrayValue,this.value)}}class aW extends zt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Nh(this.value.arrayValue,r)}}class oW extends zt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Nh(this.value.arrayValue,r)}}class lW extends zt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ow(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Nh(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,r="asc"){this.field=e,this.dir=r}}function uW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,r){this.comparator=e,this.root=r||sr.EMPTY}insert(e,r){return new Xt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sr{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??sr.RED,this.left=i??sr.EMPTY,this.right=s??sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new sr(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return sr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(t,e,r,n,i){return this}insert(t,e,r){return new sr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new zE(this.data.getIterator())}getIteratorFrom(e){return new zE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Wt(this.comparator);return r.data=e,r}}class zE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(mr.comparator)}static empty(){return new Xn([])}unionWith(e){let r=new Wt(mr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Xn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return al(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Gf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(r)}setAll(e){let r=mr.emptyPath(),n={},i=[];e.forEach((a,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}a?n[l.lastSegment()]=Bu(a):i.push(l.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());Gf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Gf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Al(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new hn(Bu(this.value))}}function nO(t){const e=[];return Al(t.fields,(r,n)=>{const i=new mr([r]);if(Gf(n)){const s=nO(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,r,n,i,s,a,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new gr(e,0,Re.min(),Re.min(),Re.min(),hn.empty(),0)}static newFoundDocument(e,r,n,i){return new gr(e,1,r,Re.min(),n,i,0)}static newNoDocument(e,r){return new gr(e,2,r,Re.min(),Re.min(),hn.empty(),0)}static newUnknownDocument(e,r){return new gr(e,3,r,Re.min(),Re.min(),hn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(e,r=null,n=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.ft=null}}function $E(t,e=null,r=[],n=[],i=null,s=null,a=null){return new hW(t,e,r,n,i,s,a)}function lw(t){const e=Fe(t);if(e.ft===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Jk(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),ev(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>ul(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>ul(n)).join(",")),e.ft=r}return e.ft}function uw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!uW(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!eO(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VE(t.startAt,e.startAt)&&VE(t.endAt,e.endAt)}function A0(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,r=null,n=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.dt=null,this._t=null,this.startAt,this.endAt}}function cW(t,e,r,n,i,s,a,l){return new tv(t,e,r,n,i,s,a,l)}function hw(t){return new tv(t)}function HE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fW(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function dW(t){for(const e of t.filters){const r=e.getFirstInequalityField();if(r!==null)return r}return null}function pW(t){return t.collectionGroup!==null}function Bo(t){const e=Fe(t);if(e.dt===null){e.dt=[];const r=dW(e),n=fW(e);if(r!==null&&n===null)r.isKeyField()||e.dt.push(new Vu(r)),e.dt.push(new Vu(mr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Vu(mr.keyField(),s))}}}return e.dt}function Ri(t){const e=Fe(t);if(!e._t)if(e.limitType==="F")e._t=$E(e.path,e.collectionGroup,Bo(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const s of Bo(e)){const a=s.dir==="desc"?"asc":"desc";r.push(new Vu(s.field,a))}const n=e.endAt?new Xd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Xd(e.startAt.position,e.startAt.inclusive):null;e._t=$E(e.path,e.collectionGroup,r,e.filters,e.limit,n,i)}return e._t}function k0(t,e,r){return new tv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function rv(t,e){return uw(Ri(t),Ri(e))&&t.limitType===e.limitType}function iO(t){return`${lw(Ri(t))}|lt:${t.limitType}`}function O0(t){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(n=>tO(n)).join(", ")}]`),ev(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(n=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(n)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>ul(n)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>ul(n)).join(",")),`Target(${r})`}(Ri(t))}; limitType=${t.limitType})`}function cw(t,e){return e.isFoundDocument()&&function(r,n){const i=n.key.path;return r.collectionGroup!==null?n.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,n){for(const i of Bo(r))if(!i.field.isKeyField()&&n.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,n){for(const i of r.filters)if(!i.matches(n))return!1;return!0}(t,e)&&function(r,n){return!(r.startAt&&!function(i,s,a){const l=BE(i,s,a);return i.inclusive?l<=0:l<0}(r.startAt,Bo(r),n)||r.endAt&&!function(i,s,a){const l=BE(i,s,a);return i.inclusive?l>=0:l>0}(r.endAt,Bo(r),n))}(t,e)}function vW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sO(t){return(e,r)=>{let n=!1;for(const i of Bo(t)){const s=gW(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function gW(t,e,r){const n=t.field.isKeyField()?Ee.comparator(e.key,r.key):function(i,s,a){const l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?ll(l,c):ke()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function oO(t){return{integerValue:""+t}}function mW(t,e){return Qj(e)?oO(e):aO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this._=void 0}}function yW(t,e,r){return t instanceof qd?function(n,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(r,e):t instanceof Fh?uO(t,e):t instanceof Lh?hO(t,e):function(n,i){const s=lO(n,i),a=jE(s)+jE(n.gt);return P0(s)&&P0(n.gt)?oO(a):aO(n.yt,a)}(t,e)}function _W(t,e,r){return t instanceof Fh?uO(t,e):t instanceof Lh?hO(t,e):r}function lO(t,e){return t instanceof Kd?P0(r=e)||function(n){return!!n&&"doubleValue"in n}(r)?e:{integerValue:0}:null;var r}class qd extends nv{}class Fh extends nv{constructor(e){super(),this.elements=e}}function uO(t,e){const r=cO(e);for(const n of t.elements)r.some(i=>Kn(i,n))||r.push(n);return{arrayValue:{values:r}}}class Lh extends nv{constructor(e){super(),this.elements=e}}function hO(t,e){let r=cO(e);for(const n of t.elements)r=r.filter(i=>!Kn(i,n));return{arrayValue:{values:r}}}class Kd extends nv{constructor(e,r){super(),this.yt=e,this.gt=r}}function jE(t){return Ft(t.integerValue||t.doubleValue)}function cO(t){return ow(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function wW(t,e){return t.field.isEqual(e.field)&&function(r,n){return r instanceof Fh&&n instanceof Fh||r instanceof Lh&&n instanceof Lh?al(r.elements,n.elements,Kn):r instanceof Kd&&n instanceof Kd?Kn(r.gt,n.gt):r instanceof qd&&n instanceof qd}(t.transform,e.transform)}class xW{constructor(e,r){this.version=e,this.transformResults=r}}class Ci{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class iv{}function fO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pO(t.key,Ci.none()):new mc(t.key,t.data,Ci.none());{const r=t.data,n=hn.empty();let i=new Wt(mr.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Wa(t.key,n,new Xn(i.toArray()),Ci.none())}}function bW(t,e,r){t instanceof mc?function(n,i,s){const a=n.value.clone(),l=GE(n.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,r):t instanceof Wa?function(n,i,s){if(!Yf(n.precondition,i))return void i.convertToUnknownDocument(s.version);const a=GE(n.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(dO(n)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):function(n,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function zu(t,e,r,n){return t instanceof mc?function(i,s,a,l){if(!Yf(i.precondition,s))return a;const c=i.value.clone(),d=YE(i.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof Wa?function(i,s,a,l){if(!Yf(i.precondition,s))return a;const c=YE(i.fieldTransforms,l,s),d=s.data;return d.setAll(dO(i)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(t,e,r,n):function(i,s,a){return Yf(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,r)}function TW(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=lO(n.transform,i||null);s!=null&&(r===null&&(r=hn.empty()),r.set(n.field,s))}return r||null}function WE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,n){return r===void 0&&n===void 0||!(!r||!n)&&al(r,n,(i,s)=>wW(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mc extends iv{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wa extends iv{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function dO(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function GE(t,e,r){const n=new Map;dt(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);n.set(s.field,_W(a,l,r[i]))}return n}function YE(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,yW(s,a,e))}return n}class pO extends iv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SW extends iv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Ye;function CW(t){switch(t){default:return ke();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function vO(t){if(t===void 0)return Di("GRPC error has no .code"),K.UNKNOWN;switch(t){case Nt.OK:return K.OK;case Nt.CANCELLED:return K.CANCELLED;case Nt.UNKNOWN:return K.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return K.INTERNAL;case Nt.UNAVAILABLE:return K.UNAVAILABLE;case Nt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Nt.NOT_FOUND:return K.NOT_FOUND;case Nt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Nt.ABORTED:return K.ABORTED;case Nt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Nt.DATA_LOSS:return K.DATA_LOSS;default:return ke()}}(Ye=Nt||(Nt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Al(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return Xk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=new Xt(Ee.comparator);function Ni(){return IW}const gO=new Xt(Ee.comparator);function xu(...t){let e=gO;for(const r of t)e=e.insert(r.key,r);return e}function mO(t){let e=gO;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ca(){return $u()}function yO(){return $u()}function $u(){return new kl(t=>t.toString(),(t,e)=>t.isEqual(e))}const PW=new Xt(Ee.comparator),AW=new Wt(Ee.comparator);function je(...t){let e=AW;for(const r of t)e=e.add(r);return e}const kW=new Wt(nt);function _O(){return kW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new sv(Re.min(),i,_O(),Ni(),je())}}class yc{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new yc(n,r,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,r,n,i){this.It=e,this.removedTargetIds=r,this.key=n,this.Tt=i}}class wO{constructor(e,r){this.targetId=e,this.Et=r}}class xO{constructor(e,r,n=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class XE{constructor(){this.At=0,this.Rt=KE(),this.bt=Sr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=je(),r=je(),n=je();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ke()}}),new yc(this.bt,this.Pt,e,r,n)}xt(){this.vt=!1,this.Rt=KE()}Nt(e,r){this.vt=!0,this.Rt=this.Rt.insert(e,r)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class OW{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Ni(),this.qt=qE(),this.Ut=new Wt(nt)}Kt(e){for(const r of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt);for(const r of e.removedTargetIds)this.Qt(r,e.key,e.Tt)}jt(e){this.forEachTarget(e,r=>{const n=this.Wt(r);switch(e.state){case 0:this.zt(r)&&n.Dt(e.resumeToken);break;case 1:n.Mt(),n.Vt||n.xt(),n.Dt(e.resumeToken);break;case 2:n.Mt(),n.Vt||this.removeTarget(r);break;case 3:this.zt(r)&&(n.Ft(),n.Dt(e.resumeToken));break;case 4:this.zt(r)&&(this.Ht(r),n.Dt(e.resumeToken));break;default:ke()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Bt.forEach((n,i)=>{this.zt(i)&&r(i)})}Jt(e){const r=e.targetId,n=e.Et.count,i=this.Yt(r);if(i){const s=i.target;if(A0(s))if(n===0){const a=new Ee(s.path);this.Qt(r,a,gr.newNoDocument(a,Re.min()))}else dt(n===1);else this.Xt(r)!==n&&(this.Ht(r),this.Ut=this.Ut.add(r))}}Zt(e){const r=new Map;this.Bt.forEach((s,a)=>{const l=this.Yt(a);if(l){if(s.current&&A0(l.target)){const c=new Ee(l.target.path);this.Lt.get(c)!==null||this.te(a,c)||this.Qt(a,c,gr.newNoDocument(c,e))}s.St&&(r.set(a,s.Ct()),s.xt())}});let n=je();this.qt.forEach((s,a)=>{let l=!0;a.forEachWhile(c=>{const d=this.Yt(c);return!d||d.purpose===2||(l=!1,!1)}),l&&(n=n.add(s))}),this.Lt.forEach((s,a)=>a.setReadTime(e));const i=new sv(e,r,this.Ut,this.Lt,n);return this.Lt=Ni(),this.qt=qE(),this.Ut=new Wt(nt),i}Gt(e,r){if(!this.zt(e))return;const n=this.te(e,r.key)?2:0;this.Wt(e).Nt(r.key,n),this.Lt=this.Lt.insert(r.key,r),this.qt=this.qt.insert(r.key,this.ee(r.key).add(e))}Qt(e,r,n){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,r)?i.Nt(r,1):i.kt(r),this.qt=this.qt.insert(r,this.ee(r).delete(e)),n&&(this.Lt=this.Lt.insert(r,n))}removeTarget(e){this.Bt.delete(e)}Xt(e){const r=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let r=this.Bt.get(e);return r||(r=new XE,this.Bt.set(e,r)),r}ee(e){let r=this.qt.get(e);return r||(r=new Wt(nt),this.qt=this.qt.insert(e,r)),r}zt(e){const r=this.Yt(e)!==null;return r||_e("WatchChangeAggregator","Detected inactive target",e),r}Yt(e){const r=this.Bt.get(e);return r&&r.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new XE),this.$t.getRemoteKeysForTarget(e).forEach(r=>{this.Qt(e,r,null)})}te(e,r){return this.$t.getRemoteKeysForTarget(e).has(r)}}function qE(){return new Xt(Ee.comparator)}function KE(){return new Xt(Ee.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MW=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),DW=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),RW=(()=>({and:"AND",or:"OR"}))();class NW{constructor(e,r){this.databaseId=e,this.wt=r}}function Qd(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bO(t,e){return t.wt?e.toBase64():e.toUint8Array()}function FW(t,e){return Qd(t,e.toTimestamp())}function qn(t){return dt(!!t),Re.fromTimestamp(function(e){const r=Cs(e);return new jt(r.seconds,r.nanos)}(t))}function fw(t,e){return function(r){return new Tt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function TO(t){const e=Tt.fromString(t);return dt(IO(e)),e}function M0(t,e){return fw(t.databaseId,e.path)}function bm(t,e){const r=TO(e);if(r.get(1)!==t.databaseId.projectId)throw new Se(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Se(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ee(SO(r))}function D0(t,e){return fw(t.databaseId,e)}function LW(t){const e=TO(t);return e.length===4?Tt.emptyPath():SO(e)}function R0(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SO(t){return dt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function QE(t,e,r){return{name:M0(t,e),fields:r.value.mapValue.fields}}function UW(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.wt?(dt(d===void 0||typeof d=="string"),Sr.fromBase64String(d||"")):(dt(d===void 0||d instanceof Uint8Array),Sr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(c){const d=c.code===void 0?K.UNKNOWN:vO(c.code);return new Se(d,c.message||"")}(a);r=new xO(n,i,s,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=bm(t,n.document.name),s=qn(n.document.updateTime),a=n.document.createTime?qn(n.document.createTime):Re.min(),l=new hn({mapValue:{fields:n.document.fields}}),c=gr.newFoundDocument(i,s,a,l),d=n.targetIds||[],g=n.removedTargetIds||[];r=new Xf(d,g,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=bm(t,n.document),s=n.readTime?qn(n.readTime):Re.min(),a=gr.newNoDocument(i,s),l=n.removedTargetIds||[];r=new Xf([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=bm(t,n.document),s=n.removedTargetIds||[];r=new Xf([],s,i,null)}else{if(!("filter"in e))return ke();{e.filter;const n=e.filter;n.targetId;const i=n.count||0,s=new EW(i),a=n.targetId;r=new wO(a,s)}}return r}function BW(t,e){let r;if(e instanceof mc)r={update:QE(t,e.key,e.value)};else if(e instanceof pO)r={delete:M0(t,e.key)};else if(e instanceof Wa)r={update:QE(t,e.key,e.data),updateMask:XW(e.fieldMask)};else{if(!(e instanceof SW))return ke();r={verify:M0(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,s){const a=s.transform;if(a instanceof qd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Fh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Lh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kd)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw ke()}(0,n))),e.precondition.isNone||(r.currentDocument=function(n,i){return i.updateTime!==void 0?{updateTime:FW(n,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ke()}(t,e.precondition)),r}function VW(t,e){return t&&t.length>0?(dt(e!==void 0),t.map(r=>function(n,i){let s=n.updateTime?qn(n.updateTime):qn(i);return s.isEqual(Re.min())&&(s=qn(i)),new xW(s,n.transformResults||[])}(r,e))):[]}function zW(t,e){return{documents:[D0(t,e.path)]}}function $W(t,e){const r={structuredQuery:{}},n=e.path;e.collectionGroup!==null?(r.parent=D0(t,n),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=D0(t,n.popLast()),r.structuredQuery.from=[{collectionId:n.lastSegment()}]);const i=function(c){if(c.length!==0)return CO(Qn.create(c,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:ho(g.field),direction:WW(g.dir)}}(d))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const a=function(c,d){return c.wt||ev(d)?d:{value:d}}(t,e.limit);var l;return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),r}function HW(t){let e=LW(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){dt(n===1);const g=r.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];r.where&&(s=function(g){const _=EO(g);return _ instanceof Qn&&eW(_)?_.getFilters():[_]}(r.where));let a=[];r.orderBy&&(a=r.orderBy.map(g=>function(_){return new Vu(co(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(g)));let l=null;r.limit&&(l=function(g){let _;return _=typeof g=="object"?g.value:g,ev(_)?null:_}(r.limit));let c=null;r.startAt&&(c=function(g){const _=!!g.before,w=g.values||[];return new Xd(w,_)}(r.startAt));let d=null;return r.endAt&&(d=function(g){const _=!g.before,w=g.values||[];return new Xd(w,_)}(r.endAt)),cW(e,i,a,s,l,"F",c,d)}function jW(t,e){const r=function(n,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ke()}}(0,e.purpose);return r==null?null:{"goog-listen-tags":r}}function EO(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=co(e.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const n=co(e.unaryFilter.field);return zt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=co(e.unaryFilter.field);return zt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=co(e.unaryFilter.field);return zt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(t):t.fieldFilter!==void 0?function(e){return zt.create(co(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Qn.create(e.compositeFilter.filters.map(r=>EO(r)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ke()}}(e.compositeFilter.op))}(t):ke()}function WW(t){return MW[t]}function GW(t){return DW[t]}function YW(t){return RW[t]}function ho(t){return{fieldPath:t.canonicalString()}}function co(t){return mr.fromServerFormat(t.fieldPath)}function CO(t){return t instanceof zt?function(e){if(e.op==="=="){if(UE(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NAN"}};if(LE(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(UE(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NOT_NAN"}};if(LE(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(e.field),op:GW(e.op),value:e.value}}}(t):t instanceof Qn?function(e){const r=e.getFilters().map(n=>CO(n));return r.length===1?r[0]:{compositeFilter:{op:YW(e.op),filters:r}}}(t):ke()}function XW(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function IO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&bW(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=zu(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=zu(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=yO();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=r.has(i.key)?null:l;const c=fO(a,l);c!==null&&n.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Re.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),je())}isEqual(e){return this.batchId===e.batchId&&al(this.mutations,e.mutations,(r,n)=>WE(r,n))&&al(this.baseMutations,e.baseMutations,(r,n)=>WE(r,n))}}class dw{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){dt(e.mutations.length===n.length);let i=PW;const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new dw(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,r,n,i,s=Re.min(),a=Re.min(),l=Sr.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}withSequenceNumber(e){return new _a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e){this.ie=e}}function ZW(t){const e=HW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?k0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(){this.Je=new e8}addToCollectionParentIndex(e,r){return this.Je.add(r),Z.resolve()}getCollectionParents(e,r){return Z.resolve(this.Je.getEntries(r))}addFieldIndex(e,r){return Z.resolve()}deleteFieldIndex(e,r){return Z.resolve()}getDocumentsMatchingTarget(e,r){return Z.resolve(null)}getIndexType(e,r){return Z.resolve(0)}getFieldIndexes(e,r){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,r){return Z.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,r){return Z.resolve(Es.min())}updateCollectionGroup(e,r,n){return Z.resolve()}updateIndexEntries(e,r){return Z.resolve()}}class e8{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Wt(Tt.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Wt(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new hl(0)}static vn(){return new hl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this.changes=new kl(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Z.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&zu(n.mutation,i,Xn.empty(),jt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,je()).next(()=>n))}getLocalViewOfDocuments(e,r,n=je()){const i=ca();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=xu();return s.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=ca();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,je()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{r.set(a,l)})})}computeViews(e,r,n,i){let s=Ni();const a=$u(),l=$u();return r.forEach((c,d)=>{const g=n.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof Wa)?s=s.insert(d.key,d):g!==void 0&&(a.set(d.key,g.mutation.getFieldMask()),zu(g.mutation,d,g.mutation.getFieldMask(),jt.now()))}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,g)=>a.set(d,g)),r.forEach((d,g)=>{var _;return l.set(d,new r8(g,(_=a.get(d))!==null&&_!==void 0?_:null))}),l))}recalculateAndSaveOverlays(e,r){const n=$u();let i=new Xt((a,l)=>a-l),s=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=r.get(c);if(d===null)return;let g=n.get(c)||Xn.empty();g=l.applyToLocalView(d,g),n.set(c,g);const _=(i.get(l.batchId)||je()).add(c);i=i.insert(l.batchId,_)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,g=c.value,_=yO();g.forEach(w=>{if(!s.has(w)){const T=fO(r.get(w),n.get(w));T!==null&&_.set(w,T),s=s.add(w)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,_))}return Z.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n){return function(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):pW(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n):this.getDocumentsMatchingCollectionQuery(e,r,n)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):Z.resolve(ca());let l=-1,c=s;return a.next(d=>Z.forEach(d,(g,_)=>(l<_.largestBatchId&&(l=_.largestBatchId),s.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{c=c.insert(g,w)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,je())).next(g=>({batchId:l,changes:mO(g)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ee(r)).next(n=>{let i=xu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n){const i=r.collectionGroup;let s=xu();return this.indexManager.getCollectionParents(e,i).next(a=>Z.forEach(a,l=>{const c=function(d,g){return new tv(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,n).next(d=>{d.forEach((g,_)=>{s=s.insert(g,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n){let i;return this.remoteDocumentCache.getAllFromCollection(e,r.path,n).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId))).next(s=>{s.forEach((l,c)=>{const d=c.getKey();i.get(d)===null&&(i=i.insert(d,gr.newInvalidDocument(d)))});let a=xu();return i.forEach((l,c)=>{const d=s.get(l);d!==void 0&&zu(d.mutation,c,Xn.empty(),jt.now()),cw(r,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,r){return Z.resolve(this.Zn.get(r))}saveBundleMetadata(e,r){var n;return this.Zn.set(r.id,{id:(n=r).id,version:n.version,createTime:qn(n.createTime)}),Z.resolve()}getNamedQuery(e,r){return Z.resolve(this.ts.get(r))}saveNamedQuery(e,r){return this.ts.set(r.name,function(n){return{name:n.name,query:ZW(n.bundledQuery),readTime:qn(n.readTime)}}(r)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(){this.overlays=new Xt(Ee.comparator),this.es=new Map}getOverlay(e,r){return Z.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ca();return Z.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.oe(e,r,s)}),Z.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.es.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(n)),Z.resolve()}getOverlaysForCollection(e,r,n){const i=ca(),s=r.length+1,a=new Ee(r.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>n&&i.set(c.getKey(),c)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Xt((d,g)=>d-g);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let g=s.get(d.largestBatchId);g===null&&(g=ca(),s=s.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const l=ca(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,g)=>l.set(d,g)),!(l.size()>=i)););return Z.resolve(l)}oe(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.es.get(i.largestBatchId).delete(n.key);this.es.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new KW(r,n));let s=this.es.get(r);s===void 0&&(s=je(),this.es.set(r,s)),this.es.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.ns=new Wt(Qt.ss),this.rs=new Wt(Qt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,r){const n=new Qt(e,r);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.cs(new Qt(e,r))}hs(e,r){e.forEach(n=>this.removeReference(n,r))}ls(e){const r=new Ee(new Tt([])),n=new Qt(r,e),i=new Qt(r,e+1),s=[];return this.rs.forEachInRange([n,i],a=>{this.cs(a),s.push(a.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const r=new Ee(new Tt([])),n=new Qt(r,e),i=new Qt(r,e+1);let s=je();return this.rs.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new Qt(e,0),n=this.ns.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Qt{constructor(e,r){this.key=e,this._s=r}static ss(e,r){return Ee.comparator(e.key,r.key)||nt(e._s,r._s)}static os(e,r){return nt(e._s,r._s)||Ee.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.ws=1,this.gs=new Wt(Qt.ss)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new qW(s,r,n,i);this.mutationQueue.push(a);for(const l of i)this.gs=this.gs.add(new Qt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Z.resolve(a)}lookupMutationBatch(e,r){return Z.resolve(this.ys(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ps(n),s=i<0?0:i;return Z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Qt(r,0),i=new Qt(r,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([n,i],a=>{const l=this.ys(a._s);s.push(l)}),Z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Wt(nt);return r.forEach(i=>{const s=new Qt(i,0),a=new Qt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,a],l=>{n=n.add(l._s)})}),Z.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Ee.isDocumentKey(s)||(s=s.child(""));const a=new Qt(new Ee(s),0);let l=new Wt(nt);return this.gs.forEachWhile(c=>{const d=c.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(l=l.add(c._s)),!0)},a),Z.resolve(this.Is(l))}Is(e){const r=[];return e.forEach(n=>{const i=this.ys(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){dt(this.Ts(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.gs;return Z.forEach(r.mutations,i=>{const s=new Qt(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=n})}An(e){}containsKey(e,r){const n=new Qt(r,0),i=this.gs.firstAfterOrEqual(n);return Z.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Ts(e,r){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const r=this.ps(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){this.Es=e,this.docs=new Xt(Ee.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Es(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Z.resolve(n?n.document.mutableCopy():gr.newInvalidDocument(r))}getEntries(e,r){let n=Ni();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():gr.newInvalidDocument(i))}),Z.resolve(n)}getAllFromCollection(e,r,n){let i=Ni();const s=new Ee(r.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:l,value:{document:c}}=a.getNext();if(!r.isPrefixOf(l.path))break;l.path.length>r.length+1||Yj(Gj(c),n)<=0||(i=i.insert(c.key,c.mutableCopy()))}return Z.resolve(i)}getAllFromCollectionGroup(e,r,n,i){ke()}As(e,r){return Z.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new l8(this)}getSize(e){return Z.resolve(this.size)}}class l8 extends t8{constructor(e){super(),this.Yn=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(n)}),Z.waitFor(r)}getFromCache(e,r){return this.Yn.getEntry(e,r)}getAllFromCache(e,r){return this.Yn.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e){this.persistence=e,this.Rs=new kl(r=>lw(r),uw),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.bs=0,this.Ps=new pw,this.targetCount=0,this.vs=hl.Pn()}forEachTarget(e,r){return this.Rs.forEach((n,i)=>r(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.bs&&(this.bs=r),Z.resolve()}Dn(e){this.Rs.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.vs=new hl(r),this.highestTargetId=r),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,r){return this.Dn(r),this.targetCount+=1,Z.resolve()}updateTargetData(e,r){return this.Dn(r),Z.resolve()}removeTargetData(e,r){return this.Rs.delete(r.target),this.Ps.ls(r.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Rs.forEach((a,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.Rs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),Z.waitFor(s).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,r){const n=this.Rs.get(r)||null;return Z.resolve(n)}addMatchingKeys(e,r,n){return this.Ps.us(r,n),Z.resolve()}removeMatchingKeys(e,r,n){this.Ps.hs(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Z.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Ps.ls(r),Z.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ps.ds(r);return Z.resolve(n)}containsKey(e,r){return Z.resolve(this.Ps.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,r){this.Vs={},this.overlays={},this.Ss=new aw(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new u8(this),this.indexManager=new JW,this.remoteDocumentCache=function(n){return new o8(n)}(n=>this.referenceDelegate.xs(n)),this.yt=new QW(r),this.Ns=new i8(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new s8,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Vs[e.toKey()];return n||(n=new a8(r,this.referenceDelegate),this.Vs[e.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,r,n){_e("MemoryPersistence","Starting transaction:",e);const i=new c8(this.Ss.next());return this.referenceDelegate.ks(),n(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,r){return Z.or(Object.values(this.Vs).map(n=>()=>n.containsKey(e,r)))}}class c8 extends qj{constructor(e){super(),this.currentSequenceNumber=e}}class vw{constructor(e){this.persistence=e,this.Fs=new pw,this.$s=null}static Bs(e){return new vw(e)}get Ls(){if(this.$s)return this.$s;throw ke()}addReference(e,r,n){return this.Fs.addReference(n,r),this.Ls.delete(n.toString()),Z.resolve()}removeReference(e,r,n){return this.Fs.removeReference(n,r),this.Ls.add(n.toString()),Z.resolve()}markPotentiallyOrphaned(e,r){return this.Ls.add(r.toString()),Z.resolve()}removeTarget(e,r){this.Fs.ls(r.targetId).forEach(i=>this.Ls.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}ks(){this.$s=new Set}Os(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Ls,n=>{const i=Ee.fromPath(n);return this.qs(e,i).next(s=>{s||r.removeEntry(i,Re.min())})}).next(()=>(this.$s=null,r.apply(e)))}updateLimboDocument(e,r){return this.qs(e,r).next(n=>{n?this.Ls.delete(r.toString()):this.Ls.add(r.toString())})}xs(e){return 0}qs(e,r){return Z.or([()=>Z.resolve(this.Fs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ms(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Si=n,this.Di=i}static Ci(e,r){let n=je(),i=je();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new gw(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(){this.xi=!1}initialize(e,r){this.Ni=e,this.indexManager=r,this.xi=!0}getDocumentsMatchingQuery(e,r,n,i){return this.ki(e,r).next(s=>s||this.Oi(e,r,i,n)).next(s=>s||this.Mi(e,r))}ki(e,r){if(HE(r))return Z.resolve(null);let n=Ri(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=k0(r,null,"F"),n=Ri(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=je(...s);return this.Ni.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const d=this.Fi(r,l);return this.$i(r,d,a,c.readTime)?this.ki(e,k0(r,null,"F")):this.Bi(e,d,r,c)}))})))}Oi(e,r,n,i){return HE(r)||i.isEqual(Re.min())?this.Mi(e,r):this.Ni.getDocuments(e,n).next(s=>{const a=this.Fi(r,s);return this.$i(r,a,n,i)?this.Mi(e,r):(RE()<=rt.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),O0(r)),this.Bi(e,a,r,Wj(i,-1)))})}Fi(e,r){let n=new Wt(sO(e));return r.forEach((i,s)=>{cw(e,s)&&(n=n.add(s))}),n}$i(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,r){return RE()<=rt.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",O0(r)),this.Ni.getDocumentsMatchingQuery(e,r,Es.min())}Bi(e,r,n,i){return this.Ni.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,r,n,i){this.persistence=e,this.Li=r,this.yt=i,this.qi=new Xt(nt),this.Ui=new kl(s=>lw(s),uw),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(n)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n8(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.qi))}}function p8(t,e,r,n){return new d8(t,e,r,n)}async function PO(t,e){const r=Fe(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.Qi(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],l=[];let c=je();for(const d of i){a.push(d.batchId);for(const g of d.mutations)c=c.add(g.key)}for(const d of s){l.push(d.batchId);for(const g of d.mutations)c=c.add(g.key)}return r.localDocuments.getDocuments(n,c).next(d=>({ji:d,removedBatchIds:a,addedBatchIds:l}))})})}function v8(t,e){const r=Fe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.Gi.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const g=c.batch,_=g.keys();let w=Z.resolve();return _.forEach(T=>{w=w.next(()=>d.getEntry(l,T)).next(S=>{const P=c.docVersions.get(T);dt(P!==null),S.version.compareTo(P)<0&&(g.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),d.addEntry(S)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let l=je();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function AO(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Cs.getLastRemoteSnapshotVersion(r))}function g8(t,e){const r=Fe(t),n=e.snapshotVersion;let i=r.qi;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.Gi.newChangeBuffer({trackRemovals:!0});i=r.qi;const l=[];e.targetChanges.forEach((g,_)=>{const w=i.get(_);if(!w)return;l.push(r.Cs.removeMatchingKeys(s,g.removedDocuments,_).next(()=>r.Cs.addMatchingKeys(s,g.addedDocuments,_)));let T=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(_)?T=T.withResumeToken(Sr.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,n)),i=i.insert(_,T),function(S,P,E){return S.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(w,T,g)&&l.push(r.Cs.updateTargetData(s,T))});let c=Ni(),d=je();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(s,g))}),l.push(m8(s,a,e.documentUpdates).next(g=>{c=g.Wi,d=g.zi})),!n.isEqual(Re.min())){const g=r.Cs.getLastRemoteSnapshotVersion(s).next(_=>r.Cs.setTargetsMetadata(s,s.currentSequenceNumber,n));l.push(g)}return Z.waitFor(l).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(r.qi=i,s))}function m8(t,e,r){let n=je(),i=je();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=Ni();return r.forEach((l,c)=>{const d=s.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Re.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):_e("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{Wi:a,zi:i}})}function y8(t,e){const r=Fe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function _8(t,e){const r=Fe(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Cs.getTargetData(n,e).next(s=>s?(i=s,Z.resolve(i)):r.Cs.allocateTargetId(n).next(a=>(i=new _a(e,a,0,n.currentSequenceNumber),r.Cs.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.qi.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.qi=r.qi.insert(n.targetId,n),r.Ui.set(e,n.targetId)),n})}async function N0(t,e,r){const n=Fe(t),i=n.qi.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!gc(a))throw a;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.qi=n.qi.remove(e),n.Ui.delete(i.target)}function ZE(t,e,r){const n=Fe(t);let i=Re.min(),s=je();return n.persistence.runTransaction("Execute query","readonly",a=>function(l,c,d){const g=Fe(l),_=g.Ui.get(d);return _!==void 0?Z.resolve(g.qi.get(_)):g.Cs.getTargetData(c,d)}(n,a,Ri(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Cs.getMatchingKeysForTargetId(a,l.targetId).next(c=>{s=c})}).next(()=>n.Li.getDocumentsMatchingQuery(a,e,r?i:Re.min(),r?s:je())).next(l=>(w8(n,vW(e),l),{documents:l,Hi:s})))}function w8(t,e,r){let n=t.Ki.get(e)||Re.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.Ki.set(e,n)}class JE{constructor(){this.activeTargetIds=_O()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x8{constructor(){this.Lr=new JE,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,r,n){this.qr[e]=r}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new JE,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http";this.oo=r+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,r,n,i,s){const a=this.ho(e,r);_e("RestConnection","Sending: ",a,n);const l={};return this.lo(l,i,s),this.fo(e,a,l,n).then(c=>(_e("RestConnection","Received: ",c),c),c=>{throw C0("RestConnection",`${e} failed with error: `,c,"url: ",a,"request:",n),c})}_o(e,r,n,i,s,a){return this.ao(e,r,n,i,s)}lo(e,r,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>e[s]=i),n&&n.headers.forEach((i,s)=>e[s]=i)}ho(e,r){const n=T8[e];return`${this.oo}/v1/${r}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,r,n,i){return new Promise((s,a)=>{const l=new Nj;l.setWithCredentials(!0),l.listenOnce(Mj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xm.NO_ERROR:const d=l.getResponseJson();_e("Connection","XHR received:",JSON.stringify(d)),s(d);break;case xm.TIMEOUT:_e("Connection",'RPC "'+e+'" timed out'),a(new Se(K.DEADLINE_EXCEEDED,"Request time out"));break;case xm.HTTP_ERROR:const g=l.getStatus();if(_e("Connection",'RPC "'+e+'" failed with status:',g,"response text:",l.getResponseText()),g>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_==null?void 0:_.error;if(w&&w.status&&w.message){const T=function(S){const P=S.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(P)>=0?P:K.UNKNOWN}(w.status);a(new Se(T,w.message))}else a(new Se(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Se(K.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{_e("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(i);l.send(r,"POST",c,n,15)})}wo(e,r,n){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kj(),a=Oj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new Rj({})),this.lo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=i.join("");_e("Connection","Creating WebChannel: "+c,l);const d=s.createWebChannel(c,l);let g=!1,_=!1;const w=new S8({Hr:S=>{_?_e("Connection","Not sending because WebChannel is closed:",S):(g||(_e("Connection","Opening WebChannel transport."),d.open(),g=!0),_e("Connection","WebChannel sending:",S),d.send(S))},Jr:()=>d.close()}),T=(S,P,E)=>{S.listen(P,A=>{try{E(A)}catch(k){setTimeout(()=>{throw k},0)}})};return T(d,mf.EventType.OPEN,()=>{_||_e("Connection","WebChannel transport opened.")}),T(d,mf.EventType.CLOSE,()=>{_||(_=!0,_e("Connection","WebChannel transport closed"),w.io())}),T(d,mf.EventType.ERROR,S=>{_||(_=!0,C0("Connection","WebChannel transport errored:",S),w.io(new Se(K.UNAVAILABLE,"The operation could not be completed")))}),T(d,mf.EventType.MESSAGE,S=>{var P;if(!_){const E=S.data[0];dt(!!E);const A=E,k=A.error||((P=A[0])===null||P===void 0?void 0:P.error);if(k){_e("Connection","WebChannel received error:",k);const M=k.status;let R=function(L){const j=Nt[L];if(j!==void 0)return vO(j)}(M),V=k.message;R===void 0&&(R=K.INTERNAL,V="Unknown error status: "+M+" with message "+k.message),_=!0,w.io(new Se(R,V)),d.close()}else _e("Connection","WebChannel received:",E),w.ro(E)}}),T(a,Dj.STAT_EVENT,S=>{S.stat===ME.PROXY?_e("Connection","Detected buffering proxy"):S.stat===ME.NOPROXY&&_e("Connection","Detected no buffering proxy")}),setTimeout(()=>{w.so()},0),w}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t){return new NW(t,!0)}class kO{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=r,this.mo=n,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const r=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),i=Math.max(0,r-n);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,r,n,i,s,a,l,c){this.Hs=e,this.vo=n,this.Vo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new kO(e,r)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,r){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():r&&r.code===K.RESOURCE_EXHAUSTED?(Di(r.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):r&&r.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(r)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),r=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.So===r&&this.Go(n,i)},n=>{e(()=>{const i=new Se(K.UNKNOWN,"Fetching auth token failed: "+n.message);return this.Qo(i)})})}Go(e,r){const n=this.Ko(this.So);this.stream=this.jo(e,r),this.stream.Yr(()=>{n(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{n(()=>this.Qo(i))}),this.stream.onMessage(i=>{n(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return r=>{this.Hs.enqueueAndForget(()=>this.So===e?r():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C8 extends OO{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.yt=s}jo(e,r){return this.connection.wo("Listen",e,r)}onMessage(e){this.xo.reset();const r=UW(this.yt,e),n=function(i){if(!("targetChange"in i))return Re.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Re.min():s.readTime?qn(s.readTime):Re.min()}(e);return this.listener.Wo(r,n)}zo(e){const r={};r.database=R0(this.yt),r.addTarget=function(i,s){let a;const l=s.target;return a=A0(l)?{documents:zW(i,l)}:{query:$W(i,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=bO(i,s.resumeToken):s.snapshotVersion.compareTo(Re.min())>0&&(a.readTime=Qd(i,s.snapshotVersion.toTimestamp())),a}(this.yt,e);const n=jW(this.yt,e);n&&(r.labels=n),this.Bo(r)}Ho(e){const r={};r.database=R0(this.yt),r.removeTarget=e,this.Bo(r)}}class I8 extends OO{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,r){return this.connection.wo("Write",e,r)}onMessage(e){if(dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const r=VW(e.writeResults,e.commitTime),n=qn(e.commitTime);return this.listener.Zo(n,r)}return dt(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=R0(this.yt),this.Bo(e)}Xo(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>BW(this.yt,n))};this.Bo(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8 extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Se(K.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,r,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,r,n,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(K.UNKNOWN,i.toString())})}_o(e,r,n,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection._o(e,r,n,s,a,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(K.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class A8{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Di(r),this.ou=!1):_e("OnlineStateTracker",r)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{n.enqueueAndForget(async()=>{Ga(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Fe(l);c._u.add(4),await _c(c),c.gu.set("Unknown"),c._u.delete(4),await ov(c)}(this))})}),this.gu=new A8(n,i)}}async function ov(t){if(Ga(t))for(const e of t.wu)await e(!0)}async function _c(t){for(const e of t.wu)await e(!1)}function MO(t,e){const r=Fe(t);r.du.has(e.targetId)||(r.du.set(e.targetId,e),_w(r)?yw(r):Ol(r).ko()&&mw(r,e))}function DO(t,e){const r=Fe(t),n=Ol(r);r.du.delete(e),n.ko()&&RO(r,e),r.du.size===0&&(n.ko()?n.Fo():Ga(r)&&r.gu.set("Unknown"))}function mw(t,e){t.yu.Ot(e.targetId),Ol(t).zo(e)}function RO(t,e){t.yu.Ot(e),Ol(t).Ho(e)}function yw(t){t.yu=new OW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Ol(t).start(),t.gu.uu()}function _w(t){return Ga(t)&&!Ol(t).No()&&t.du.size>0}function Ga(t){return Fe(t)._u.size===0}function NO(t){t.yu=void 0}async function O8(t){t.du.forEach((e,r)=>{mw(t,e)})}async function M8(t,e){NO(t),_w(t)?(t.gu.hu(e),yw(t)):t.gu.set("Unknown")}async function D8(t,e,r){if(t.gu.set("Online"),e instanceof xO&&e.state===2&&e.cause)try{await async function(n,i){const s=i.cause;for(const a of i.targetIds)n.du.has(a)&&(await n.remoteSyncer.rejectListen(a,s),n.du.delete(a),n.yu.removeTarget(a))}(t,e)}catch(n){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Zd(t,n)}else if(e instanceof Xf?t.yu.Kt(e):e instanceof wO?t.yu.Jt(e):t.yu.jt(e),!r.isEqual(Re.min()))try{const n=await AO(t.localStore);r.compareTo(n)>=0&&await function(i,s){const a=i.yu.Zt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.du.get(c);d&&i.du.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach(l=>{const c=i.du.get(l);if(!c)return;i.du.set(l,c.withResumeToken(Sr.EMPTY_BYTE_STRING,c.snapshotVersion)),RO(i,l);const d=new _a(c.target,l,1,c.sequenceNumber);mw(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){_e("RemoteStore","Failed to raise snapshot:",n),await Zd(t,n)}}async function Zd(t,e,r){if(!gc(e))throw e;t._u.add(1),await _c(t),t.gu.set("Offline"),r||(r=()=>AO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e("RemoteStore","Retrying IndexedDB access"),await r(),t._u.delete(1),await ov(t)})}function FO(t,e){return e().catch(r=>Zd(t,r,e))}async function lv(t){const e=Fe(t),r=Is(e);let n=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;R8(e);)try{const i=await y8(e.localStore,n);if(i===null){e.fu.length===0&&r.Fo();break}n=i.batchId,N8(e,i)}catch(i){await Zd(e,i)}LO(e)&&UO(e)}function R8(t){return Ga(t)&&t.fu.length<10}function N8(t,e){t.fu.push(e);const r=Is(t);r.ko()&&r.Yo&&r.Xo(e.mutations)}function LO(t){return Ga(t)&&!Is(t).No()&&t.fu.length>0}function UO(t){Is(t).start()}async function F8(t){Is(t).eu()}async function L8(t){const e=Is(t);for(const r of t.fu)e.Xo(r.mutations)}async function U8(t,e,r){const n=t.fu.shift(),i=dw.from(n,e,r);await FO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lv(t)}async function B8(t,e){e&&Is(t).Yo&&await async function(r,n){if(i=n.code,CW(i)&&i!==K.ABORTED){const s=r.fu.shift();Is(r).Mo(),await FO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,n)),await lv(r)}var i}(t,e),LO(t)&&UO(t)}async function t2(t,e){const r=Fe(t);r.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const n=Ga(r);r._u.add(3),await _c(r),n&&r.gu.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r._u.delete(3),await ov(r)}async function V8(t,e){const r=Fe(t);e?(r._u.delete(2),await ov(r)):e||(r._u.add(2),await _c(r),r.gu.set("Unknown"))}function Ol(t){return t.pu||(t.pu=function(e,r,n){const i=Fe(e);return i.su(),new C8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,n)}(t.datastore,t.asyncQueue,{Yr:O8.bind(null,t),Zr:M8.bind(null,t),Wo:D8.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),_w(t)?yw(t):t.gu.set("Unknown")):(await t.pu.stop(),NO(t))})),t.pu}function Is(t){return t.Iu||(t.Iu=function(e,r,n){const i=Fe(e);return i.su(),new I8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,n)}(t.datastore,t.asyncQueue,{Yr:F8.bind(null,t),Zr:B8.bind(null,t),tu:L8.bind(null,t),Zo:U8.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await lv(t)):(await t.Iu.stop(),t.fu.length>0&&(_e("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,l=new ww(e,r,a,i,s);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xw(t,e){if(Di("AsyncQueue",`${e}: ${t}`),gc(t))return new Se(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ee.comparator(r.key,n.key):(r,n)=>Ee.comparator(r.key,n.key),this.keyedMap=xu(),this.sortedSet=new Xt(this.comparator)}static emptySet(e){return new Vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Vo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.Tu=new Xt(Ee.comparator)}track(e){const r=e.doc.key,n=this.Tu.get(r);n?e.type!==0&&n.type===3?this.Tu=this.Tu.insert(r,e):e.type===3&&n.type!==1?this.Tu=this.Tu.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Tu=this.Tu.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Tu=this.Tu.remove(r):e.type===1&&n.type===2?this.Tu=this.Tu.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):ke():this.Tu=this.Tu.insert(r,e)}Eu(){const e=[];return this.Tu.inorderTraversal((r,n)=>{e.push(n)}),e}}class cl{constructor(e,r,n,i,s,a,l,c,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(l=>{a.push({type:0,doc:l})}),new cl(e,r,Vo.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(){this.Au=void 0,this.listeners=[]}}class $8{constructor(){this.queries=new kl(e=>iO(e),rv),this.onlineState="Unknown",this.Ru=new Set}}async function BO(t,e){const r=Fe(t),n=e.query;let i=!1,s=r.queries.get(n);if(s||(i=!0,s=new z8),i)try{s.Au=await r.onListen(n)}catch(a){const l=xw(a,`Initialization of query '${O0(e.query)}' failed`);return void e.onError(l)}r.queries.set(n,s),s.listeners.push(e),e.bu(r.onlineState),s.Au&&e.Pu(s.Au)&&bw(r)}async function VO(t,e){const r=Fe(t),n=e.query;let i=!1;const s=r.queries.get(n);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0)}if(i)return r.queries.delete(n),r.onUnlisten(n)}function H8(t,e){const r=Fe(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const l of a.listeners)l.Pu(i)&&(n=!0);a.Au=i}}n&&bw(r)}function j8(t,e,r){const n=Fe(t),i=n.queries.get(e);if(i)for(const s of i.listeners)s.onError(r);n.queries.delete(e)}function bw(t){t.Ru.forEach(e=>{e.next()})}class zO{constructor(e,r,n){this.query=e,this.vu=r,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new cl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),r=!0):this.Cu(e,this.onlineState)&&(this.xu(e),r=!0),this.Su=e,r}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let r=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),r=!0),r}Cu(e,r){if(!e.fromCache)return!0;const n=r!=="Offline";return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const r=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}xu(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.key=e}}class HO{constructor(e){this.key=e}}class W8{constructor(e,r){this.query=e,this.qu=r,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=je(),this.mutatedKeys=je(),this.Gu=sO(e),this.Qu=new Vo(this.Gu)}get ju(){return this.qu}Wu(e,r){const n=r?r.zu:new r2,i=r?r.Qu:this.Qu;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const w=i.get(g),T=cw(this.query,_)?_:null,S=!!w&&this.mutatedKeys.has(w.key),P=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let E=!1;w&&T?w.data.isEqual(T.data)?S!==P&&(n.track({type:3,doc:T}),E=!0):this.Hu(w,T)||(n.track({type:2,doc:T}),E=!0,(c&&this.Gu(T,c)>0||d&&this.Gu(T,d)<0)&&(l=!0)):!w&&T?(n.track({type:0,doc:T}),E=!0):w&&!T&&(n.track({type:1,doc:w}),E=!0,(c||d)&&(l=!0)),E&&(T?(a=a.add(T),s=P?s.add(g):s.delete(g)):(a=a.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const g=this.query.limitType==="F"?a.last():a.first();a=a.delete(g.key),s=s.delete(g.key),n.track({type:1,doc:g})}return{Qu:a,zu:n,$i:l,mutatedKeys:s}}Hu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((d,g)=>function(_,w){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return T(_)-T(w)}(d.type,g.type)||this.Gu(d.doc,g.doc)),this.Ju(n);const a=r?this.Yu():[],l=this.Ku.size===0&&this.current?1:0,c=l!==this.Uu;return this.Uu=l,s.length!==0||c?{snapshot:new cl(this.query,e.Qu,i,s,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:a}:{Xu:a}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new r2,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(r=>this.qu=this.qu.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qu=this.qu.delete(r)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=je(),this.Qu.forEach(n=>{this.Zu(n.key)&&(this.Ku=this.Ku.add(n.key))});const r=[];return e.forEach(n=>{this.Ku.has(n)||r.push(new HO(n))}),this.Ku.forEach(n=>{e.has(n)||r.push(new $O(n))}),r}tc(e){this.qu=e.Hi,this.Ku=je();const r=this.Wu(e.documents);return this.applyChanges(r,!0)}ec(){return cl.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class G8{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Y8{constructor(e){this.key=e,this.nc=!1}}class X8{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.sc={},this.ic=new kl(l=>iO(l),rv),this.rc=new Map,this.oc=new Set,this.uc=new Xt(Ee.comparator),this.cc=new Map,this.ac=new pw,this.hc={},this.lc=new Map,this.fc=hl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function q8(t,e){const r=sG(t);let n,i;const s=r.ic.get(e);if(s)n=s.targetId,r.sharedClientState.addLocalQueryTarget(n),i=s.view.ec();else{const a=await _8(r.localStore,Ri(e));r.isPrimaryClient&&MO(r.remoteStore,a);const l=r.sharedClientState.addLocalQueryTarget(a.targetId);n=a.targetId,i=await K8(r,e,n,l==="current",a.resumeToken)}return i}async function K8(t,e,r,n,i){t._c=(_,w,T)=>async function(S,P,E,A){let k=P.view.Wu(E);k.$i&&(k=await ZE(S.localStore,P.query,!1).then(({documents:V})=>P.view.Wu(V,k)));const M=A&&A.targetChanges.get(P.targetId),R=P.view.applyChanges(k,S.isPrimaryClient,M);return i2(S,P.targetId,R.Xu),R.snapshot}(t,_,w,T);const s=await ZE(t.localStore,e,!0),a=new W8(e,s.Hi),l=a.Wu(s.documents),c=yc.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),d=a.applyChanges(l,t.isPrimaryClient,c);i2(t,r,d.Xu);const g=new G8(e,r,a);return t.ic.set(e,g),t.rc.has(r)?t.rc.get(r).push(e):t.rc.set(r,[e]),d.snapshot}async function Q8(t,e){const r=Fe(t),n=r.ic.get(e),i=r.rc.get(n.targetId);if(i.length>1)return r.rc.set(n.targetId,i.filter(s=>!rv(s,e))),void r.ic.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(n.targetId),r.sharedClientState.isActiveQueryTarget(n.targetId)||await N0(r.localStore,n.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(n.targetId),DO(r.remoteStore,n.targetId),F0(r,n.targetId)}).catch(vc)):(F0(r,n.targetId),await N0(r.localStore,n.targetId,!0))}async function Z8(t,e,r){const n=aG(t);try{const i=await function(s,a){const l=Fe(s),c=jt.now(),d=a.reduce((w,T)=>w.add(T.key),je());let g,_;return l.persistence.runTransaction("Locally write mutations","readwrite",w=>{let T=Ni(),S=je();return l.Gi.getEntries(w,d).next(P=>{T=P,T.forEach((E,A)=>{A.isValidDocument()||(S=S.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(w,T)).next(P=>{g=P;const E=[];for(const A of a){const k=TW(A,g.get(A.key).overlayedDocument);k!=null&&E.push(new Wa(A.key,k,nO(k.value.mapValue),Ci.exists(!0)))}return l.mutationQueue.addMutationBatch(w,c,E,a)}).next(P=>{_=P;const E=P.applyToLocalDocumentSet(g,S);return l.documentOverlayCache.saveOverlays(w,P.batchId,E)})}).then(()=>({batchId:_.batchId,changes:mO(g)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.hc[s.currentUser.toKey()];c||(c=new Xt(nt)),c=c.insert(a,l),s.hc[s.currentUser.toKey()]=c}(n,i.batchId,r),await wc(n,i.changes),await lv(n.remoteStore)}catch(i){const s=xw(i,"Failed to persist write");r.reject(s)}}async function jO(t,e){const r=Fe(t);try{const n=await g8(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.cc.get(s);a&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.nc=!0:i.modifiedDocuments.size>0?dt(a.nc):i.removedDocuments.size>0&&(dt(a.nc),a.nc=!1))}),await wc(r,n,e)}catch(n){await vc(n)}}function n2(t,e,r){const n=Fe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ic.forEach((s,a)=>{const l=a.view.bu(e);l.snapshot&&i.push(l.snapshot)}),function(s,a){const l=Fe(s);l.onlineState=a;let c=!1;l.queries.forEach((d,g)=>{for(const _ of g.listeners)_.bu(a)&&(c=!0)}),c&&bw(l)}(n.eventManager,e),i.length&&n.sc.Wo(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function J8(t,e,r){const n=Fe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.cc.get(e),s=i&&i.key;if(s){let a=new Xt(Ee.comparator);a=a.insert(s,gr.newNoDocument(s,Re.min()));const l=je().add(s),c=new sv(Re.min(),new Map,new Wt(nt),a,l);await jO(n,c),n.uc=n.uc.remove(s),n.cc.delete(e),Tw(n)}else await N0(n.localStore,e,!1).then(()=>F0(n,e,r)).catch(vc)}async function eG(t,e){const r=Fe(t),n=e.batch.batchId;try{const i=await v8(r.localStore,e);GO(r,n,null),WO(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await wc(r,i)}catch(i){await vc(i)}}async function tG(t,e,r){const n=Fe(t);try{const i=await function(s,a){const l=Fe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(g=>(dt(g!==null),d=g.keys(),l.mutationQueue.removeMutationBatch(c,g))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(n.localStore,e);GO(n,e,r),WO(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await wc(n,i)}catch(i){await vc(i)}}function WO(t,e){(t.lc.get(e)||[]).forEach(r=>{r.resolve()}),t.lc.delete(e)}function GO(t,e,r){const n=Fe(t);let i=n.hc[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.hc[n.currentUser.toKey()]=i}}function F0(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.rc.get(e))t.ic.delete(n),r&&t.sc.wc(n,r);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(n=>{t.ac.containsKey(n)||YO(t,n)})}function YO(t,e){t.oc.delete(e.path.canonicalString());const r=t.uc.get(e);r!==null&&(DO(t.remoteStore,r),t.uc=t.uc.remove(e),t.cc.delete(r),Tw(t))}function i2(t,e,r){for(const n of r)n instanceof $O?(t.ac.addReference(n.key,e),rG(t,n)):n instanceof HO?(_e("SyncEngine","Document no longer in limbo: "+n.key),t.ac.removeReference(n.key,e),t.ac.containsKey(n.key)||YO(t,n.key)):ke()}function rG(t,e){const r=e.key,n=r.path.canonicalString();t.uc.get(r)||t.oc.has(n)||(_e("SyncEngine","New document in limbo: "+r),t.oc.add(n),Tw(t))}function Tw(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const r=new Ee(Tt.fromString(e)),n=t.fc.next();t.cc.set(n,new Y8(r)),t.uc=t.uc.insert(r,n),MO(t.remoteStore,new _a(Ri(hw(r.path)),n,2,aw.at))}}async function wc(t,e,r){const n=Fe(t),i=[],s=[],a=[];n.ic.isEmpty()||(n.ic.forEach((l,c)=>{a.push(n._c(c,e,r).then(d=>{if((d||r)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(c.targetId,d!=null&&d.fromCache?"not-current":"current"),d){i.push(d);const g=gw.Ci(c.targetId,d);s.push(g)}}))}),await Promise.all(a),n.sc.Wo(i),await async function(l,c){const d=Fe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>Z.forEach(c,_=>Z.forEach(_.Si,w=>d.persistence.referenceDelegate.addReference(g,_.targetId,w)).next(()=>Z.forEach(_.Di,w=>d.persistence.referenceDelegate.removeReference(g,_.targetId,w)))))}catch(g){if(!gc(g))throw g;_e("LocalStore","Failed to update sequence numbers: "+g)}for(const g of c){const _=g.targetId;if(!g.fromCache){const w=d.qi.get(_),T=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(T);d.qi=d.qi.insert(_,S)}}}(n.localStore,s))}async function nG(t,e){const r=Fe(t);if(!r.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const n=await PO(r.localStore,e);r.currentUser=e,function(i,s){i.lc.forEach(a=>{a.forEach(l=>{l.reject(new Se(K.CANCELLED,s))})}),i.lc.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await wc(r,n.ji)}}function iG(t,e){const r=Fe(t),n=r.cc.get(e);if(n&&n.nc)return je().add(n.key);{let i=je();const s=r.rc.get(e);if(!s)return i;for(const a of s){const l=r.ic.get(a);i=i.unionWith(l.view.ju)}return i}}function sG(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J8.bind(null,e),e.sc.Wo=H8.bind(null,e.eventManager),e.sc.wc=j8.bind(null,e.eventManager),e}function aG(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tG.bind(null,e),e}class oG{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=av(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,r){return null}Ec(e,r){return null}Ic(e){return p8(this.persistence,new f8,e.initialUser,this.yt)}yc(e){return new h8(vw.Bs,this.yt)}gc(e){return new x8}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lG{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>n2(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=nG.bind(null,this.syncEngine),await V8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new $8}createDatastore(e){const r=av(e.databaseInfo.databaseId),n=(i=e.databaseInfo,new E8(i));var i;return function(s,a,l,c){return new P8(s,a,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return r=this.localStore,n=this.datastore,i=e.asyncQueue,s=l=>n2(this.syncEngine,l,0),a=e2.C()?new e2:new b8,new k8(r,n,i,s,a);var r,n,i,s,a}createSyncEngine(e,r){return function(n,i,s,a,l,c,d){const g=new X8(n,i,s,a,l,c);return d&&(g.dc=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return async function(e){const r=Fe(e);_e("RemoteStore","RemoteStore shutting down."),r._u.add(5),await _c(r),r.mu.shutdown(),r.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t,e,r){if(!r)throw new Se(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uG(t,e,r,n){if(e===!0&&n===!0)throw new Se(K.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function s2(t){if(!Ee.isDocumentKey(t))throw new Se(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function a2(t){if(Ee.isDocumentKey(t))throw new Se(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke()}function Da(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Sw(t);throw new Se(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new Map;class l2{constructor(e){var r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,uG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Se(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Fj;switch(r.type){case"gapi":const n=r.client;return new Vj(n,r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=o2.get(e);r&&(_e("ComponentProvider","Removing Datastore"),o2.delete(e),r.terminate())}(this),Promise.resolve()}}function qO(t,e,r,n={}){var i;const s=(t=Da(t,uv))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&C0("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${r}`,ssl:!1})),n.mockUserToken){let a,l;if(typeof n.mockUserToken=="string")a=n.mockUserToken,l=pr.MOCK_USER;else{a=y$(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new Se(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pr(c)}t._authCredentials=new Lj(new Gk(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qr(this.firestore,e,this._key)}}class hv{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hv(this.firestore,e,this._query)}}class gs extends hv{constructor(e,r,n){super(e,r,hw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qr(this.firestore,null,new Ee(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function KO(t,e,...r){if(t=nl(t),XO("collection","path",e),t instanceof uv){const n=Tt.fromString(e,...r);return a2(n),new gs(t,null,n)}{if(!(t instanceof Qr||t instanceof gs))throw new Se(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Tt.fromString(e,...r));return a2(n),new gs(t.firestore,null,n)}}function hG(t,e,...r){if(t=nl(t),arguments.length===1&&(e=Yk.R()),XO("doc","path",e),t instanceof uv){const n=Tt.fromString(e,...r);return s2(n),new Qr(t,null,new Ee(n))}{if(!(t instanceof Qr||t instanceof gs))throw new Se(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Tt.fromString(e,...r));return s2(n),new Qr(t.firestore,t instanceof gs?t.converter:null,new Ee(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e,r,n,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=Yk.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async s=>{_e("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(_e("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=xw(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function fG(t,e){t.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const r=await t.getConfiguration();await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await PO(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function dG(t,e){t.asyncQueue.verifyOperationInProgress();const r=await pG(t);_e("FirestoreClient","Initializing OnlineComponentProvider");const n=await t.getConfiguration();await e.initialize(r,n),t.setCredentialChangeListener(i=>t2(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>t2(e.remoteStore,s)),t.onlineComponents=e}async function pG(t){return t.offlineComponents||(_e("FirestoreClient","Using default OfflineComponentProvider"),await fG(t,new oG)),t.offlineComponents}async function ZO(t){return t.onlineComponents||(_e("FirestoreClient","Using default OnlineComponentProvider"),await dG(t,new lG)),t.onlineComponents}function vG(t){return ZO(t).then(e=>e.syncEngine)}async function JO(t){const e=await ZO(t),r=e.eventManager;return r.onListen=q8.bind(null,e.syncEngine),r.onUnlisten=Q8.bind(null,e.syncEngine),r}function gG(t,e,r={}){const n=new Ei;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,a,l,c){const d=new QO({next:_=>{s.enqueueAndForget(()=>VO(i,g));const w=_.docs.has(a);!w&&_.fromCache?c.reject(new Se(K.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&l&&l.source==="server"?c.reject(new Se(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(_)},error:_=>c.reject(_)}),g=new zO(hw(a.path),d,{includeMetadataChanges:!0,Nu:!0});return BO(i,g)}(await JO(t),t.asyncQueue,e,r,n)),n.promise}function mG(t,e,r={}){const n=new Ei;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,a,l,c){const d=new QO({next:_=>{s.enqueueAndForget(()=>VO(i,g)),_.fromCache&&l.source==="server"?c.reject(new Se(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(_)},error:_=>c.reject(_)}),g=new zO(a,d,{includeMetadataChanges:!0,Nu:!0});return BO(i,g)}(await JO(t),t.asyncQueue,e,r,n)),n.promise}class yG{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new kO(this,"async_queue_retry"),this.Wc=()=>{const r=Tm();r&&_e("AsyncQueue","Visibility state changed to "+r.visibilityState),this.xo.Po()};const e=Tm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const r=Tm();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const r=new Ei;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!gc(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const r=this.Bc.then(()=>(this.Gc=!0,e().catch(n=>{this.Kc=n,this.Gc=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(n);throw Di("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.Gc=!1,n))));return this.Bc=r,r}enqueueAfterDelay(e,r,n){this.zc(),this.jc.indexOf(e)>-1&&(r=0);const i=ww.createAndSchedule(this,e,r,n,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&ke()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const r of this.Uc)if(r.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const r=this.Uc.indexOf(e);this.Uc.splice(r,1)}}class cv extends uv{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new yG,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||eM(this),this._firestoreClient.terminate()}}function _G(t,e){const r=typeof t=="object"?t:zA(),n=typeof t=="string"?t:e||"(default)",i=L1(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=g$("firestore");s&&qO(i,...s)}return i}function Ew(t){return t._firestoreClient||eM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function eM(t){var e;const r=t._freezeSettings(),n=function(i,s,a,l){return new Kj(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new cG(t._authCredentials,t._appCheckCredentials,t._queue,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fl(Sr.fromBase64String(e))}catch(r){throw new Se(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new fl(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Se(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Se(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Se(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG=/^__.*__$/;class xG{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Wa(e,this.data,this.fieldMask,r,this.fieldTransforms):new mc(e,this.data,r,this.fieldTransforms)}}function rM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class Pw{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.yt=n,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Pw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ia({path:n,oa:!1});return i.ua(e),i}ca(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ia({path:n,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Jd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(rM(this.sa)&&wG.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class bG{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.yt=n||av(e)}da(e,r,n,i=!1){return new Pw({sa:e,methodName:r,fa:n,path:mr.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function TG(t){const e=t._freezeSettings(),r=av(t._databaseId);return new bG(t._databaseId,!!e.ignoreUndefinedProperties,r)}function SG(t,e,r,n,i,s={}){const a=t.da(s.merge||s.mergeFields?2:0,e,r,i);aM("Data must be an object, but it was:",a,n);const l=iM(n,a);let c,d;if(s.merge)c=new Xn(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const g=[];for(const _ of s.mergeFields){const w=EG(e,_,r);if(!a.contains(w))throw new Se(K.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);IG(g,w)||g.push(w)}c=new Xn(g),d=a.fieldTransforms.filter(_=>c.covers(_.field))}else c=null,d=a.fieldTransforms;return new xG(new hn(l),c,d)}function nM(t,e){if(sM(t=nl(t)))return aM("Unsupported field value:",e,t),iM(t,e);if(t instanceof tM)return function(r,n){if(!rM(n.sa))throw n.ha(`${r._methodName}() can only be used with update() and set()`);if(!n.path)throw n.ha(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(n);i&&n.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(r,n){const i=[];let s=0;for(const a of r){let l=nM(a,n.aa(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(r,n){if((r=nl(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mW(n.yt,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=jt.fromDate(r);return{timestampValue:Qd(n.yt,i)}}if(r instanceof jt){const i=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qd(n.yt,i)}}if(r instanceof Iw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fl)return{bytesValue:bO(n.yt,r._byteString)};if(r instanceof Qr){const i=n.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw n.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:fw(r.firestore._databaseId||n.databaseId,r._key.path)}}throw n.ha(`Unsupported field value: ${Sw(r)}`)}(t,e)}function iM(t,e){const r={};return Xk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Al(t,(n,i)=>{const s=nM(i,e.ra(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function sM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof Iw||t instanceof fl||t instanceof Qr||t instanceof tM)}function aM(t,e,r){if(!sM(r)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(r)){const n=Sw(r);throw n==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+n)}}function EG(t,e,r){if((e=nl(e))instanceof Cw)return e._internalPath;if(typeof e=="string")return oM(t,e);throw Jd("Field path arguments must be of type string or ",t,!1,void 0,r)}const CG=new RegExp("[~\\*/\\[\\]]");function oM(t,e,r){if(e.search(CG)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Cw(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Jd(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${n}`),a&&(c+=` in document ${i}`),c+=")"),new Se(K.INVALID_ARGUMENT,l+t+c)}function IG(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(uM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class PG extends lM{data(){return super.data()}}function uM(t,e){return typeof e=="string"?oM(t,e):e instanceof Cw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kG{convertValue(e,r="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw ke()}}convertObject(e,r){const n={};return Al(e.fields,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertGeoPoint(e){return new Iw(Ft(e.latitude),Ft(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Kk(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Rh(e));default:return null}}convertTimestamp(e){const r=Cs(e);return new jt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Tt.fromString(e);dt(IO(n));const i=new Dh(n.get(1),n.get(3)),s=new Ee(n.popFirst(5));return i.isEqual(r)||Di(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hM extends lM{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(uM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class qf extends hM{data(e={}){return super.data(e)}}class MG{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new bu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new qf(this._firestore,this._userDataWriter,n.key,n,new bu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Se(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(n,i){if(n._snapshot.oldDocs.isEmpty()){let s=0;return n._snapshot.docChanges.map(a=>{const l=new qf(n._firestore,n._userDataWriter,a.doc.key,a.doc,new bu(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new qf(n._firestore,n._userDataWriter,a.doc.key,a.doc,new bu(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:DG(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function DG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RG(t){t=Da(t,Qr);const e=Da(t.firestore,cv);return gG(Ew(e),t._key).then(r=>UG(e,t,r))}class cM extends kG{constructor(e){super(),this.firestore=e}convertBytes(e){return new fl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Qr(this.firestore,null,r)}}function NG(t){t=Da(t,hv);const e=Da(t.firestore,cv),r=Ew(e),n=new cM(e);return AG(t._query),mG(r,t._query).then(i=>new MG(e,n,t,i))}function FG(t,e,r){t=Da(t,Qr);const n=Da(t.firestore,cv),i=OG(t.converter,e,r);return LG(n,[SG(TG(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Ci.none())])}function LG(t,e){return function(r,n){const i=new Ei;return r.asyncQueue.enqueueAndForget(async()=>Z8(await vG(r),n,i)),i.promise}(Ew(t),e)}function UG(t,e,r){const n=r.docs.get(e._key),i=new cM(t);return new hM(t,i,e._key,n,new bu(r.hasPendingWrites,r.fromCache),e.converter)}(function(t,e=!0){(function(r){Pl=r})(SH),il(new Aa("firestore",(r,{instanceIdentifier:n,options:i})=>{const s=r.getProvider("app").getImmediate(),a=new cv(new Uj(r.getProvider("auth-internal")),new $j(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Se(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dh(l.options.projectId,c)}(s,n),s);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ma(DE,"3.8.0",t),ma(DE,"3.8.0","esm2017")})();let cu=null;const fM=()=>(cu!==null||(cu=_G(),location.host.includes("localhost")&&(console.log("%cConnecting to local emulator!","color: rebeccapurple;font-size:22px"),qO(cu,"localhost",1337))),cu),u2=15;let Gi=[];const BG=(t,e)=>e.totalWaves-t.totalWaves||e.score-t.score,VG=async(t,e,r,n,i)=>{const{name:s,signature:a}=t;let l={id:await gy(a+s),playerName:s,signature:await gy(a),accuracy:e,wpm:r,score:n,totalWaves:i};try{const c=fM(),d=KO(c,"global-leaderboard"),g=hG(d,l.id),_=await RG(g);if(_.exists()){const w=_.data();l.score>w.score&&await FG(g,l)}}catch(c){console.error(c),console.log("Could not set score to global database... Oh well...")}return ts.exists("leaderboard")&&(Gi=JSON.parse(ts.get("leaderboard"))),Gi.push(l),Gi.sort(BG),Gi.length>u2&&(Gi=Gi.slice(0,u2)),ts.set("leaderboard",JSON.stringify(Gi)),Gi},zG=async t=>{if(t==="local"){let e=ts.get("leaderboard");return e?JSON.parse(e):[]}if(t==="global"){const e=fM(),r=KO(e,"global-leaderboard"),n=await NG(r),i=[];return n.forEach(s=>{i.push(s.data())}),i}},Sm={opacity:[0,1],translateX:[-64,0],delay:(t,e)=>e*100,duration:500};class $G extends Ha{constructor(r){super(r);q(this,"getEntries",async r=>{this.setState({leaderboardEntries:await zG(r)})});q(this,"closeLeaderboard",()=>{tt.emit("leaderboardClosed")});q(this,"topLeaderboardEntry",r=>r?He("div",{className:"top-leaderboard-entry",children:[He("div",{className:"wrapper",children:[He("div",{className:"playerInfo",children:[ae("img",{src:wn(r.playerName)}),ae("div",{className:"playerName",children:nE(r.playerName,15)})]}),He("div",{className:"playerData",children:[He("div",{className:"data-top",children:[He("div",{className:"accuracy",children:[r.accuracy,"%"]}),He("div",{className:"wpm",children:[r.wpm," wpm"]})]}),ae("div",{className:"score",children:r.score})]})]}),ae("div",{className:"signature",children:r.signature?r.signature.substring(0,20):"score set before global update"})]}):null);q(this,"leaderboardEntry",(r,n)=>{const i=r.signature===this.state.signedSignature;return He("div",{className:"leaderboardEntry",children:[i&&this.state.isGlobal&&ae("div",{className:"personal-identifier"}),He("div",{className:"playerInfo",children:[ae("img",{src:wn(r.playerName)}),ae("div",{className:"playerName",children:nE(r.playerName,15)}),ae("div",{className:"signature",children:r.signature?r.signature.substring(0,20):"score set before global update"})]}),He("div",{className:"playerData",children:[He("div",{className:"data accuracy",children:[r.accuracy,"%"]}),ae("div",{className:"spacer"}),ae("div",{className:"data wpm",children:r.wpm}),ae("div",{className:"data score",children:r.score})]})]},n)});q(this,"leaderboardSeparator",(r,n)=>He("div",{className:"levelDisplay",children:["Wave ",r]},n*n));this.state={isGlobal:!0,signedSignature:r.playerSignature,leaderboardEntries:[]}}async componentDidMount(){this.setState({signedSignature:await gy(this.props.playerSignature)}),await this.getEntries("global")}render(){const{isGlobal:r,leaderboardEntries:n,signedSignature:i}=this.state;let s=n.sort((T,S)=>S.totalWaves-T.totalWaves||S.score-T.score),a=[],l=s[0]?s[0].totalWaves:0;const d=(T=>T.findIndex(S=>S.playerName===this.props.playerName&&S.signature===i))(s);let g=[];if(d!==-1){const T=Math.min(0,d-5),S=Math.max(s.length,d+5);g=s.slice(T,S)}(d!==-1?g:s).forEach((T,S)=>{S===0&&a.push(this.leaderboardSeparator(l,S)),T.totalWaves!==l&&(l=T.totalWaves,a.push(this.leaderboardSeparator(l,S))),a.push(this.leaderboardEntry(T,S))});const w=["leaderboardMenu menu",r?"global":"local"];return this.smoothly(He("div",{className:w.join(" "),children:[a.length===0&&ae("div",{className:"nothingHere",children:r?"Nobody has set any scores yet...":"You haven't set any scores yet!"}),!r&&a.length>0&&ae(Ef,{children:ae(Wf,{...Sm,children:a})}),r&&s.length>0&&He(Ef,{children:[ae(Wf,{...Sm,children:He("div",{className:"top-three-globally",children:[He("div",{className:"second-place",children:[s[1]?this.topLeaderboardEntry(s[1]):ae("div",{className:"empty-plaque",children:"Not set yet..."}),ae("div",{className:"place",children:"🥈"})]}),He("div",{className:"first-place",children:[s[0]?this.topLeaderboardEntry(s[0]):ae("div",{className:"empty-plaque",children:"Not set yet..."}),ae("div",{className:"place",children:"🥇"})]}),He("div",{className:"third-place",children:[s[2]?this.topLeaderboardEntry(s[2]):ae("div",{className:"empty-plaque",children:"Not set yet..."}),ae("div",{className:"place",children:"🥉"})]})]})}),He("div",{className:"personal-standings-globally",children:[ae("div",{className:"category-text",children:"Standings around you"}),a.length>0&&ae(Ef,{children:ae(Wf,{...Sm,children:a})})]})]}),He("div",{className:"button-container",children:[ae(Hn,{mini:!0,hint:"esc",text:"Close",onClick:this.closeLeaderboard}),ae(Hn,{mini:!0,hint:"g",text:r?"show local":"show global",onClick:async()=>{await this.getEntries(r?"local":"global"),this.setState(T=>({isGlobal:!T.isGlobal}))}})]})]}))}}var dM={exports:{}};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var pM;function le(){return pM.apply(null,arguments)}function HG(t){pM=t}function Cn(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function wa(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Ze(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Aw(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Ze(t,e))return!1;return!0}function Vr(t){return t===void 0}function Fi(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function xc(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function vM(t,e){var r=[],n,i=t.length;for(n=0;n<i;++n)r.push(e(t[n],n));return r}function rs(t,e){for(var r in e)Ze(e,r)&&(t[r]=e[r]);return Ze(e,"toString")&&(t.toString=e.toString),Ze(e,"valueOf")&&(t.valueOf=e.valueOf),t}function ei(t,e,r,n){return BM(t,e,r,n,!0).utc()}function jG(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ue(t){return t._pf==null&&(t._pf=jG()),t._pf}var L0;Array.prototype.some?L0=Array.prototype.some:L0=function(t){var e=Object(this),r=e.length>>>0,n;for(n=0;n<r;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function kw(t){if(t._isValid==null){var e=Ue(t),r=L0.call(e.parsedDateParts,function(i){return i!=null}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n}return t._isValid}function fv(t){var e=ei(NaN);return t!=null?rs(Ue(e),t):Ue(e).userInvalidated=!0,e}var h2=le.momentProperties=[],Em=!1;function Ow(t,e){var r,n,i,s=h2.length;if(Vr(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Vr(e._i)||(t._i=e._i),Vr(e._f)||(t._f=e._f),Vr(e._l)||(t._l=e._l),Vr(e._strict)||(t._strict=e._strict),Vr(e._tzm)||(t._tzm=e._tzm),Vr(e._isUTC)||(t._isUTC=e._isUTC),Vr(e._offset)||(t._offset=e._offset),Vr(e._pf)||(t._pf=Ue(e)),Vr(e._locale)||(t._locale=e._locale),s>0)for(r=0;r<s;r++)n=h2[r],i=e[n],Vr(i)||(t[n]=i);return t}function bc(t){Ow(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Em===!1&&(Em=!0,le.updateOffset(this),Em=!1)}function In(t){return t instanceof bc||t!=null&&t._isAMomentObject!=null}function gM(t){le.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function gn(t,e){var r=!0;return rs(function(){if(le.deprecationHandler!=null&&le.deprecationHandler(null,t),r){var n=[],i,s,a,l=arguments.length;for(s=0;s<l;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(a in arguments[0])Ze(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[s];n.push(i)}gM(t+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return e.apply(this,arguments)},e)}var c2={};function mM(t,e){le.deprecationHandler!=null&&le.deprecationHandler(t,e),c2[t]||(gM(e),c2[t]=!0)}le.suppressDeprecationWarnings=!1;le.deprecationHandler=null;function ti(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function WG(t){var e,r;for(r in t)Ze(t,r)&&(e=t[r],ti(e)?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function U0(t,e){var r=rs({},t),n;for(n in e)Ze(e,n)&&(wa(t[n])&&wa(e[n])?(r[n]={},rs(r[n],t[n]),rs(r[n],e[n])):e[n]!=null?r[n]=e[n]:delete r[n]);for(n in t)Ze(t,n)&&!Ze(e,n)&&wa(t[n])&&(r[n]=rs({},r[n]));return r}function Mw(t){t!=null&&this.set(t)}var B0;Object.keys?B0=Object.keys:B0=function(t){var e,r=[];for(e in t)Ze(t,e)&&r.push(e);return r};var GG={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function YG(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return ti(n)?n.call(e,r):n}function Zn(t,e,r){var n=""+Math.abs(t),i=e-n.length,s=t>=0;return(s?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var Dw=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,wf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Cm={},zo={};function be(t,e,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),t&&(zo[t]=i),e&&(zo[e[0]]=function(){return Zn(i.apply(this,arguments),e[1],e[2])}),r&&(zo[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function XG(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function qG(t){var e=t.match(Dw),r,n;for(r=0,n=e.length;r<n;r++)zo[e[r]]?e[r]=zo[e[r]]:e[r]=XG(e[r]);return function(i){var s="",a;for(a=0;a<n;a++)s+=ti(e[a])?e[a].call(i,t):e[a];return s}}function Kf(t,e){return t.isValid()?(e=yM(e,t.localeData()),Cm[e]=Cm[e]||qG(e),Cm[e](t)):t.localeData().invalidDate()}function yM(t,e){var r=5;function n(i){return e.longDateFormat(i)||i}for(wf.lastIndex=0;r>=0&&wf.test(t);)t=t.replace(wf,n),wf.lastIndex=0,r-=1;return t}var KG={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function QG(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(Dw).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var ZG="Invalid date";function JG(){return this._invalidDate}var eY="%d",tY=/\d{1,2}/;function rY(t){return this._ordinal.replace("%d",t)}var nY={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function iY(t,e,r,n){var i=this._relativeTime[r];return ti(i)?i(t,e,r,n):i.replace(/%d/i,t)}function sY(t,e){var r=this._relativeTime[t>0?"future":"past"];return ti(r)?r(e):r.replace(/%s/i,e)}var Hu={};function Cr(t,e){var r=t.toLowerCase();Hu[r]=Hu[r+"s"]=Hu[e]=t}function mn(t){return typeof t=="string"?Hu[t]||Hu[t.toLowerCase()]:void 0}function Rw(t){var e={},r,n;for(n in t)Ze(t,n)&&(r=mn(n),r&&(e[r]=t[n]));return e}var _M={};function Ir(t,e){_M[t]=e}function aY(t){var e=[],r;for(r in t)Ze(t,r)&&e.push({unit:r,priority:_M[r]});return e.sort(function(n,i){return n.priority-i.priority}),e}function dv(t){return t%4===0&&t%100!==0||t%400===0}function on(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ze(t){var e=+t,r=0;return e!==0&&isFinite(e)&&(r=on(e)),r}function Ml(t,e){return function(r){return r!=null?(wM(this,t,r),le.updateOffset(this,e),this):ep(this,t)}}function ep(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function wM(t,e,r){t.isValid()&&!isNaN(r)&&(e==="FullYear"&&dv(t.year())&&t.month()===1&&t.date()===29?(r=ze(r),t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),_v(r,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](r))}function oY(t){return t=mn(t),ti(this[t])?this[t]():this}function lY(t,e){if(typeof t=="object"){t=Rw(t);var r=aY(t),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](t[r[n].unit])}else if(t=mn(t),ti(this[t]))return this[t](e);return this}var xM=/\d/,nn=/\d\d/,bM=/\d{3}/,Nw=/\d{4}/,pv=/[+-]?\d{6}/,yt=/\d\d?/,TM=/\d\d\d\d?/,SM=/\d\d\d\d\d\d?/,vv=/\d{1,3}/,Fw=/\d{1,4}/,gv=/[+-]?\d{1,6}/,Dl=/\d+/,mv=/[+-]?\d+/,uY=/Z|[+-]\d\d:?\d\d/gi,yv=/Z|[+-]\d\d(?::?\d\d)?/gi,hY=/[+-]?\d+(\.\d{1,3})?/,Tc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,tp;tp={};function fe(t,e,r){tp[t]=ti(e)?e:function(n,i){return n&&r?r:e}}function cY(t,e){return Ze(tp,t)?tp[t](e._strict,e._locale):new RegExp(fY(t))}function fY(t){return Xr(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,r,n,i,s){return r||n||i||s}))}function Xr(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var V0={};function ut(t,e){var r,n=e,i;for(typeof t=="string"&&(t=[t]),Fi(e)&&(n=function(s,a){a[e]=ze(s)}),i=t.length,r=0;r<i;r++)V0[t[r]]=n}function Sc(t,e){ut(t,function(r,n,i,s){i._w=i._w||{},e(r,i._w,i,s)})}function dY(t,e,r){e!=null&&Ze(V0,t)&&V0[t](e,r._a,r,t)}var br=0,yi=1,Fn=2,Ht=3,Sn=4,_i=5,fa=6,pY=7,vY=8;function gY(t,e){return(t%e+e)%e}var Ot;Array.prototype.indexOf?Ot=Array.prototype.indexOf:Ot=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function _v(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=gY(e,12);return t+=(e-r)/12,r===1?dv(t)?29:28:31-r%7%2}be("M",["MM",2],"Mo",function(){return this.month()+1});be("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});be("MMMM",0,0,function(t){return this.localeData().months(this,t)});Cr("month","M");Ir("month",8);fe("M",yt);fe("MM",yt,nn);fe("MMM",function(t,e){return e.monthsShortRegex(t)});fe("MMMM",function(t,e){return e.monthsRegex(t)});ut(["M","MM"],function(t,e){e[yi]=ze(t)-1});ut(["MMM","MMMM"],function(t,e,r,n){var i=r._locale.monthsParse(t,n,r._strict);i!=null?e[yi]=i:Ue(r).invalidMonth=t});var mY="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),EM="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),CM=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,yY=Tc,_Y=Tc;function wY(t,e){return t?Cn(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||CM).test(e)?"format":"standalone"][t.month()]:Cn(this._months)?this._months:this._months.standalone}function xY(t,e){return t?Cn(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[CM.test(e)?"format":"standalone"][t.month()]:Cn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function bY(t,e,r){var n,i,s,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=ei([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?e==="MMM"?(i=Ot.call(this._shortMonthsParse,a),i!==-1?i:null):(i=Ot.call(this._longMonthsParse,a),i!==-1?i:null):e==="MMM"?(i=Ot.call(this._shortMonthsParse,a),i!==-1?i:(i=Ot.call(this._longMonthsParse,a),i!==-1?i:null)):(i=Ot.call(this._longMonthsParse,a),i!==-1?i:(i=Ot.call(this._shortMonthsParse,a),i!==-1?i:null))}function TY(t,e,r){var n,i,s;if(this._monthsParseExact)return bY.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=ei([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(r&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}}function IM(t,e){var r;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=ze(e);else if(e=t.localeData().monthsParse(e),!Fi(e))return t}return r=Math.min(t.date(),_v(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r),t}function PM(t){return t!=null?(IM(this,t),le.updateOffset(this,!0),this):ep(this,"Month")}function SY(){return _v(this.year(),this.month())}function EY(t){return this._monthsParseExact?(Ze(this,"_monthsRegex")||AM.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Ze(this,"_monthsShortRegex")||(this._monthsShortRegex=yY),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function CY(t){return this._monthsParseExact?(Ze(this,"_monthsRegex")||AM.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Ze(this,"_monthsRegex")||(this._monthsRegex=_Y),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function AM(){function t(a,l){return l.length-a.length}var e=[],r=[],n=[],i,s;for(i=0;i<12;i++)s=ei([2e3,i]),e.push(this.monthsShort(s,"")),r.push(this.months(s,"")),n.push(this.months(s,"")),n.push(this.monthsShort(s,""));for(e.sort(t),r.sort(t),n.sort(t),i=0;i<12;i++)e[i]=Xr(e[i]),r[i]=Xr(r[i]);for(i=0;i<24;i++)n[i]=Xr(n[i]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}be("Y",0,0,function(){var t=this.year();return t<=9999?Zn(t,4):"+"+t});be(0,["YY",2],0,function(){return this.year()%100});be(0,["YYYY",4],0,"year");be(0,["YYYYY",5],0,"year");be(0,["YYYYYY",6,!0],0,"year");Cr("year","y");Ir("year",1);fe("Y",mv);fe("YY",yt,nn);fe("YYYY",Fw,Nw);fe("YYYYY",gv,pv);fe("YYYYYY",gv,pv);ut(["YYYYY","YYYYYY"],br);ut("YYYY",function(t,e){e[br]=t.length===2?le.parseTwoDigitYear(t):ze(t)});ut("YY",function(t,e){e[br]=le.parseTwoDigitYear(t)});ut("Y",function(t,e){e[br]=parseInt(t,10)});function ju(t){return dv(t)?366:365}le.parseTwoDigitYear=function(t){return ze(t)+(ze(t)>68?1900:2e3)};var kM=Ml("FullYear",!0);function IY(){return dv(this.year())}function PY(t,e,r,n,i,s,a){var l;return t<100&&t>=0?(l=new Date(t+400,e,r,n,i,s,a),isFinite(l.getFullYear())&&l.setFullYear(t)):l=new Date(t,e,r,n,i,s,a),l}function Uh(t){var e,r;return t<100&&t>=0?(r=Array.prototype.slice.call(arguments),r[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function rp(t,e,r){var n=7+e-r,i=(7+Uh(t,0,n).getUTCDay()-e)%7;return-i+n-1}function OM(t,e,r,n,i){var s=(7+r-n)%7,a=rp(t,n,i),l=1+7*(e-1)+s+a,c,d;return l<=0?(c=t-1,d=ju(c)+l):l>ju(t)?(c=t+1,d=l-ju(t)):(c=t,d=l),{year:c,dayOfYear:d}}function Bh(t,e,r){var n=rp(t.year(),e,r),i=Math.floor((t.dayOfYear()-n-1)/7)+1,s,a;return i<1?(a=t.year()-1,s=i+Ii(a,e,r)):i>Ii(t.year(),e,r)?(s=i-Ii(t.year(),e,r),a=t.year()+1):(a=t.year(),s=i),{week:s,year:a}}function Ii(t,e,r){var n=rp(t,e,r),i=rp(t+1,e,r);return(ju(t)-n+i)/7}be("w",["ww",2],"wo","week");be("W",["WW",2],"Wo","isoWeek");Cr("week","w");Cr("isoWeek","W");Ir("week",5);Ir("isoWeek",5);fe("w",yt);fe("ww",yt,nn);fe("W",yt);fe("WW",yt,nn);Sc(["w","ww","W","WW"],function(t,e,r,n){e[n.substr(0,1)]=ze(t)});function AY(t){return Bh(t,this._week.dow,this._week.doy).week}var kY={dow:0,doy:6};function OY(){return this._week.dow}function MY(){return this._week.doy}function DY(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function RY(t){var e=Bh(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}be("d",0,"do","day");be("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});be("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});be("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});be("e",0,0,"weekday");be("E",0,0,"isoWeekday");Cr("day","d");Cr("weekday","e");Cr("isoWeekday","E");Ir("day",11);Ir("weekday",11);Ir("isoWeekday",11);fe("d",yt);fe("e",yt);fe("E",yt);fe("dd",function(t,e){return e.weekdaysMinRegex(t)});fe("ddd",function(t,e){return e.weekdaysShortRegex(t)});fe("dddd",function(t,e){return e.weekdaysRegex(t)});Sc(["dd","ddd","dddd"],function(t,e,r,n){var i=r._locale.weekdaysParse(t,n,r._strict);i!=null?e.d=i:Ue(r).invalidWeekday=t});Sc(["d","e","E"],function(t,e,r,n){e[n]=ze(t)});function NY(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function FY(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Lw(t,e){return t.slice(e,7).concat(t.slice(0,e))}var LY="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),MM="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),UY="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),BY=Tc,VY=Tc,zY=Tc;function $Y(t,e){var r=Cn(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Lw(r,this._week.dow):t?r[t.day()]:r}function HY(t){return t===!0?Lw(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function jY(t){return t===!0?Lw(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function WY(t,e,r){var n,i,s,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=ei([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?e==="dddd"?(i=Ot.call(this._weekdaysParse,a),i!==-1?i:null):e==="ddd"?(i=Ot.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=Ot.call(this._minWeekdaysParse,a),i!==-1?i:null):e==="dddd"?(i=Ot.call(this._weekdaysParse,a),i!==-1||(i=Ot.call(this._shortWeekdaysParse,a),i!==-1)?i:(i=Ot.call(this._minWeekdaysParse,a),i!==-1?i:null)):e==="ddd"?(i=Ot.call(this._shortWeekdaysParse,a),i!==-1||(i=Ot.call(this._weekdaysParse,a),i!==-1)?i:(i=Ot.call(this._minWeekdaysParse,a),i!==-1?i:null)):(i=Ot.call(this._minWeekdaysParse,a),i!==-1||(i=Ot.call(this._weekdaysParse,a),i!==-1)?i:(i=Ot.call(this._shortWeekdaysParse,a),i!==-1?i:null))}function GY(t,e,r){var n,i,s;if(this._weekdaysParseExact)return WY.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=ei([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(r&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(r&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}}function YY(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=NY(t,this.localeData()),this.add(t-e,"d")):e}function XY(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function qY(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=FY(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function KY(t){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||Uw.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Ze(this,"_weekdaysRegex")||(this._weekdaysRegex=BY),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function QY(t){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||Uw.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ze(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=VY),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function ZY(t){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||Uw.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ze(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zY),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Uw(){function t(g,_){return _.length-g.length}var e=[],r=[],n=[],i=[],s,a,l,c,d;for(s=0;s<7;s++)a=ei([2e3,1]).day(s),l=Xr(this.weekdaysMin(a,"")),c=Xr(this.weekdaysShort(a,"")),d=Xr(this.weekdays(a,"")),e.push(l),r.push(c),n.push(d),i.push(l),i.push(c),i.push(d);e.sort(t),r.sort(t),n.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Bw(){return this.hours()%12||12}function JY(){return this.hours()||24}be("H",["HH",2],0,"hour");be("h",["hh",2],0,Bw);be("k",["kk",2],0,JY);be("hmm",0,0,function(){return""+Bw.apply(this)+Zn(this.minutes(),2)});be("hmmss",0,0,function(){return""+Bw.apply(this)+Zn(this.minutes(),2)+Zn(this.seconds(),2)});be("Hmm",0,0,function(){return""+this.hours()+Zn(this.minutes(),2)});be("Hmmss",0,0,function(){return""+this.hours()+Zn(this.minutes(),2)+Zn(this.seconds(),2)});function DM(t,e){be(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}DM("a",!0);DM("A",!1);Cr("hour","h");Ir("hour",13);function RM(t,e){return e._meridiemParse}fe("a",RM);fe("A",RM);fe("H",yt);fe("h",yt);fe("k",yt);fe("HH",yt,nn);fe("hh",yt,nn);fe("kk",yt,nn);fe("hmm",TM);fe("hmmss",SM);fe("Hmm",TM);fe("Hmmss",SM);ut(["H","HH"],Ht);ut(["k","kk"],function(t,e,r){var n=ze(t);e[Ht]=n===24?0:n});ut(["a","A"],function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t});ut(["h","hh"],function(t,e,r){e[Ht]=ze(t),Ue(r).bigHour=!0});ut("hmm",function(t,e,r){var n=t.length-2;e[Ht]=ze(t.substr(0,n)),e[Sn]=ze(t.substr(n)),Ue(r).bigHour=!0});ut("hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[Ht]=ze(t.substr(0,n)),e[Sn]=ze(t.substr(n,2)),e[_i]=ze(t.substr(i)),Ue(r).bigHour=!0});ut("Hmm",function(t,e,r){var n=t.length-2;e[Ht]=ze(t.substr(0,n)),e[Sn]=ze(t.substr(n))});ut("Hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[Ht]=ze(t.substr(0,n)),e[Sn]=ze(t.substr(n,2)),e[_i]=ze(t.substr(i))});function e9(t){return(t+"").toLowerCase().charAt(0)==="p"}var t9=/[ap]\.?m?\.?/i,r9=Ml("Hours",!0);function n9(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"}var NM={calendar:GG,longDateFormat:KG,invalidDate:ZG,ordinal:eY,dayOfMonthOrdinalParse:tY,relativeTime:nY,months:mY,monthsShort:EM,week:kY,weekdays:LY,weekdaysMin:UY,weekdaysShort:MM,meridiemParse:t9},wt={},fu={},Vh;function i9(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function f2(t){return t&&t.toLowerCase().replace("_","-")}function s9(t){for(var e=0,r,n,i,s;e<t.length;){for(s=f2(t[e]).split("-"),r=s.length,n=f2(t[e+1]),n=n?n.split("-"):null;r>0;){if(i=wv(s.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&i9(s,n)>=r-1)break;r--}e++}return Vh}function a9(t){return t.match("^[^/\\\\]*$")!=null}function wv(t){var e=null,r;if(wt[t]===void 0&&typeof Jf<"u"&&Jf&&Jf.exports&&a9(t))try{e=Vh._abbr,r=require,r("./locale/"+t),ms(e)}catch{wt[t]=null}return wt[t]}function ms(t,e){var r;return t&&(Vr(e)?r=Bi(t):r=Vw(t,e),r?Vh=r:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Vh._abbr}function Vw(t,e){if(e!==null){var r,n=NM;if(e.abbr=t,wt[t]!=null)mM("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=wt[t]._config;else if(e.parentLocale!=null)if(wt[e.parentLocale]!=null)n=wt[e.parentLocale]._config;else if(r=wv(e.parentLocale),r!=null)n=r._config;else return fu[e.parentLocale]||(fu[e.parentLocale]=[]),fu[e.parentLocale].push({name:t,config:e}),null;return wt[t]=new Mw(U0(n,e)),fu[t]&&fu[t].forEach(function(i){Vw(i.name,i.config)}),ms(t),wt[t]}else return delete wt[t],null}function o9(t,e){if(e!=null){var r,n,i=NM;wt[t]!=null&&wt[t].parentLocale!=null?wt[t].set(U0(wt[t]._config,e)):(n=wv(t),n!=null&&(i=n._config),e=U0(i,e),n==null&&(e.abbr=t),r=new Mw(e),r.parentLocale=wt[t],wt[t]=r),ms(t)}else wt[t]!=null&&(wt[t].parentLocale!=null?(wt[t]=wt[t].parentLocale,t===ms()&&ms(t)):wt[t]!=null&&delete wt[t]);return wt[t]}function Bi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Vh;if(!Cn(t)){if(e=wv(t),e)return e;t=[t]}return s9(t)}function l9(){return B0(wt)}function zw(t){var e,r=t._a;return r&&Ue(t).overflow===-2&&(e=r[yi]<0||r[yi]>11?yi:r[Fn]<1||r[Fn]>_v(r[br],r[yi])?Fn:r[Ht]<0||r[Ht]>24||r[Ht]===24&&(r[Sn]!==0||r[_i]!==0||r[fa]!==0)?Ht:r[Sn]<0||r[Sn]>59?Sn:r[_i]<0||r[_i]>59?_i:r[fa]<0||r[fa]>999?fa:-1,Ue(t)._overflowDayOfYear&&(e<br||e>Fn)&&(e=Fn),Ue(t)._overflowWeeks&&e===-1&&(e=pY),Ue(t)._overflowWeekday&&e===-1&&(e=vY),Ue(t).overflow=e),t}var u9=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,h9=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,c9=/Z|[+-]\d\d(?::?\d\d)?/,xf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Im=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],f9=/^\/?Date\((-?\d+)/i,d9=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,p9={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function FM(t){var e,r,n=t._i,i=u9.exec(n)||h9.exec(n),s,a,l,c,d=xf.length,g=Im.length;if(i){for(Ue(t).iso=!0,e=0,r=d;e<r;e++)if(xf[e][1].exec(i[1])){a=xf[e][0],s=xf[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(i[3]){for(e=0,r=g;e<r;e++)if(Im[e][1].exec(i[3])){l=(i[2]||" ")+Im[e][0];break}if(l==null){t._isValid=!1;return}}if(!s&&l!=null){t._isValid=!1;return}if(i[4])if(c9.exec(i[4]))c="Z";else{t._isValid=!1;return}t._f=a+(l||"")+(c||""),Hw(t)}else t._isValid=!1}function v9(t,e,r,n,i,s){var a=[g9(t),EM.indexOf(e),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return s&&a.push(parseInt(s,10)),a}function g9(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function m9(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function y9(t,e,r){if(t){var n=MM.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(n!==i)return Ue(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function _9(t,e,r){if(t)return p9[t];if(e)return 0;var n=parseInt(r,10),i=n%100,s=(n-i)/100;return s*60+i}function LM(t){var e=d9.exec(m9(t._i)),r;if(e){if(r=v9(e[4],e[3],e[2],e[5],e[6],e[7]),!y9(e[1],r,t))return;t._a=r,t._tzm=_9(e[8],e[9],e[10]),t._d=Uh.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Ue(t).rfc2822=!0}else t._isValid=!1}function w9(t){var e=f9.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(FM(t),t._isValid===!1)delete t._isValid;else return;if(LM(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:le.createFromInputFallback(t)}le.createFromInputFallback=gn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function fo(t,e,r){return t??e??r}function x9(t){var e=new Date(le.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function $w(t){var e,r,n=[],i,s,a;if(!t._d){for(i=x9(t),t._w&&t._a[Fn]==null&&t._a[yi]==null&&b9(t),t._dayOfYear!=null&&(a=fo(t._a[br],i[br]),(t._dayOfYear>ju(a)||t._dayOfYear===0)&&(Ue(t)._overflowDayOfYear=!0),r=Uh(a,0,t._dayOfYear),t._a[yi]=r.getUTCMonth(),t._a[Fn]=r.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=i[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Ht]===24&&t._a[Sn]===0&&t._a[_i]===0&&t._a[fa]===0&&(t._nextDay=!0,t._a[Ht]=0),t._d=(t._useUTC?Uh:PY).apply(null,n),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ht]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(Ue(t).weekdayMismatch=!0)}}function b9(t){var e,r,n,i,s,a,l,c,d;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,a=4,r=fo(e.GG,t._a[br],Bh(mt(),1,4).year),n=fo(e.W,1),i=fo(e.E,1),(i<1||i>7)&&(c=!0)):(s=t._locale._week.dow,a=t._locale._week.doy,d=Bh(mt(),s,a),r=fo(e.gg,t._a[br],d.year),n=fo(e.w,d.week),e.d!=null?(i=e.d,(i<0||i>6)&&(c=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(c=!0)):i=s),n<1||n>Ii(r,s,a)?Ue(t)._overflowWeeks=!0:c!=null?Ue(t)._overflowWeekday=!0:(l=OM(r,n,i,s,a),t._a[br]=l.year,t._dayOfYear=l.dayOfYear)}le.ISO_8601=function(){};le.RFC_2822=function(){};function Hw(t){if(t._f===le.ISO_8601){FM(t);return}if(t._f===le.RFC_2822){LM(t);return}t._a=[],Ue(t).empty=!0;var e=""+t._i,r,n,i,s,a,l=e.length,c=0,d,g;for(i=yM(t._f,t._locale).match(Dw)||[],g=i.length,r=0;r<g;r++)s=i[r],n=(e.match(cY(s,t))||[])[0],n&&(a=e.substr(0,e.indexOf(n)),a.length>0&&Ue(t).unusedInput.push(a),e=e.slice(e.indexOf(n)+n.length),c+=n.length),zo[s]?(n?Ue(t).empty=!1:Ue(t).unusedTokens.push(s),dY(s,n,t)):t._strict&&!n&&Ue(t).unusedTokens.push(s);Ue(t).charsLeftOver=l-c,e.length>0&&Ue(t).unusedInput.push(e),t._a[Ht]<=12&&Ue(t).bigHour===!0&&t._a[Ht]>0&&(Ue(t).bigHour=void 0),Ue(t).parsedDateParts=t._a.slice(0),Ue(t).meridiem=t._meridiem,t._a[Ht]=T9(t._locale,t._a[Ht],t._meridiem),d=Ue(t).era,d!==null&&(t._a[br]=t._locale.erasConvertYear(d,t._a[br])),$w(t),zw(t)}function T9(t,e,r){var n;return r==null?e:t.meridiemHour!=null?t.meridiemHour(e,r):(t.isPM!=null&&(n=t.isPM(r),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function S9(t){var e,r,n,i,s,a,l=!1,c=t._f.length;if(c===0){Ue(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<c;i++)s=0,a=!1,e=Ow({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],Hw(e),kw(e)&&(a=!0),s+=Ue(e).charsLeftOver,s+=Ue(e).unusedTokens.length*10,Ue(e).score=s,l?s<n&&(n=s,r=e):(n==null||s<n||a)&&(n=s,r=e,a&&(l=!0));rs(t,r||e)}function E9(t){if(!t._d){var e=Rw(t._i),r=e.day===void 0?e.date:e.day;t._a=vM([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),$w(t)}}function C9(t){var e=new bc(zw(UM(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function UM(t){var e=t._i,r=t._f;return t._locale=t._locale||Bi(t._l),e===null||r===void 0&&e===""?fv({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),In(e)?new bc(zw(e)):(xc(e)?t._d=e:Cn(r)?S9(t):r?Hw(t):I9(t),kw(t)||(t._d=null),t))}function I9(t){var e=t._i;Vr(e)?t._d=new Date(le.now()):xc(e)?t._d=new Date(e.valueOf()):typeof e=="string"?w9(t):Cn(e)?(t._a=vM(e.slice(0),function(r){return parseInt(r,10)}),$w(t)):wa(e)?E9(t):Fi(e)?t._d=new Date(e):le.createFromInputFallback(t)}function BM(t,e,r,n,i){var s={};return(e===!0||e===!1)&&(n=e,e=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(wa(t)&&Aw(t)||Cn(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=r,s._i=t,s._f=e,s._strict=n,C9(s)}function mt(t,e,r,n){return BM(t,e,r,n,!1)}var P9=gn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=mt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:fv()}),A9=gn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=mt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:fv()});function VM(t,e){var r,n;if(e.length===1&&Cn(e[0])&&(e=e[0]),!e.length)return mt();for(r=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](r))&&(r=e[n]);return r}function k9(){var t=[].slice.call(arguments,0);return VM("isBefore",t)}function O9(){var t=[].slice.call(arguments,0);return VM("isAfter",t)}var M9=function(){return Date.now?Date.now():+new Date},du=["year","quarter","month","week","day","hour","minute","second","millisecond"];function D9(t){var e,r=!1,n,i=du.length;for(e in t)if(Ze(t,e)&&!(Ot.call(du,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<i;++n)if(t[du[n]]){if(r)return!1;parseFloat(t[du[n]])!==ze(t[du[n]])&&(r=!0)}return!0}function R9(){return this._isValid}function N9(){return Pn(NaN)}function xv(t){var e=Rw(t),r=e.year||0,n=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,a=e.day||0,l=e.hour||0,c=e.minute||0,d=e.second||0,g=e.millisecond||0;this._isValid=D9(e),this._milliseconds=+g+d*1e3+c*6e4+l*1e3*60*60,this._days=+a+s*7,this._months=+i+n*3+r*12,this._data={},this._locale=Bi(),this._bubble()}function Qf(t){return t instanceof xv}function z0(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function F9(t,e,r){var n=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,a;for(a=0;a<n;a++)(r&&t[a]!==e[a]||!r&&ze(t[a])!==ze(e[a]))&&s++;return s+i}function zM(t,e){be(t,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+Zn(~~(r/60),2)+e+Zn(~~r%60,2)})}zM("Z",":");zM("ZZ","");fe("Z",yv);fe("ZZ",yv);ut(["Z","ZZ"],function(t,e,r){r._useUTC=!0,r._tzm=jw(yv,t)});var L9=/([\+\-]|\d\d)/gi;function jw(t,e){var r=(e||"").match(t),n,i,s;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(L9)||["-",0,0],s=+(i[1]*60)+ze(i[2]),s===0?0:i[0]==="+"?s:-s)}function Ww(t,e){var r,n;return e._isUTC?(r=e.clone(),n=(In(t)||xc(t)?t.valueOf():mt(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),le.updateOffset(r,!1),r):mt(t).local()}function $0(t){return-Math.round(t._d.getTimezoneOffset())}le.updateOffset=function(){};function U9(t,e,r){var n=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=jw(yv,t),t===null)return this}else Math.abs(t)<16&&!r&&(t=t*60);return!this._isUTC&&e&&(i=$0(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?jM(this,Pn(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,le.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:$0(this)}function B9(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function V9(t){return this.utcOffset(0,t)}function z9(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract($0(this),"m")),this}function $9(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=jw(uY,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function H9(t){return this.isValid()?(t=t?mt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function j9(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function W9(){if(!Vr(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Ow(t,this),t=UM(t),t._a?(e=t._isUTC?ei(t._a):mt(t._a),this._isDSTShifted=this.isValid()&&F9(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function G9(){return this.isValid()?!this._isUTC:!1}function Y9(){return this.isValid()?this._isUTC:!1}function $M(){return this.isValid()?this._isUTC&&this._offset===0:!1}var X9=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,q9=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Pn(t,e){var r=t,n=null,i,s,a;return Qf(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:Fi(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(n=X9.exec(t))?(i=n[1]==="-"?-1:1,r={y:0,d:ze(n[Fn])*i,h:ze(n[Ht])*i,m:ze(n[Sn])*i,s:ze(n[_i])*i,ms:ze(z0(n[fa]*1e3))*i}):(n=q9.exec(t))?(i=n[1]==="-"?-1:1,r={y:Ks(n[2],i),M:Ks(n[3],i),w:Ks(n[4],i),d:Ks(n[5],i),h:Ks(n[6],i),m:Ks(n[7],i),s:Ks(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(a=K9(mt(r.from),mt(r.to)),r={},r.ms=a.milliseconds,r.M=a.months),s=new xv(r),Qf(t)&&Ze(t,"_locale")&&(s._locale=t._locale),Qf(t)&&Ze(t,"_isValid")&&(s._isValid=t._isValid),s}Pn.fn=xv.prototype;Pn.invalid=N9;function Ks(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function d2(t,e){var r={};return r.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function K9(t,e){var r;return t.isValid()&&e.isValid()?(e=Ww(e,t),t.isBefore(e)?r=d2(t,e):(r=d2(e,t),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function HM(t,e){return function(r,n){var i,s;return n!==null&&!isNaN(+n)&&(mM(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=r,r=n,n=s),i=Pn(r,n),jM(this,i,t),this}}function jM(t,e,r,n){var i=e._milliseconds,s=z0(e._days),a=z0(e._months);t.isValid()&&(n=n??!0,a&&IM(t,ep(t,"Month")+a*r),s&&wM(t,"Date",ep(t,"Date")+s*r),i&&t._d.setTime(t._d.valueOf()+i*r),n&&le.updateOffset(t,s||a))}var Q9=HM(1,"add"),Z9=HM(-1,"subtract");function WM(t){return typeof t=="string"||t instanceof String}function J9(t){return In(t)||xc(t)||WM(t)||Fi(t)||t7(t)||e7(t)||t===null||t===void 0}function e7(t){var e=wa(t)&&!Aw(t),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,a=n.length;for(i=0;i<a;i+=1)s=n[i],r=r||Ze(t,s);return e&&r}function t7(t){var e=Cn(t),r=!1;return e&&(r=t.filter(function(n){return!Fi(n)&&WM(t)}).length===0),e&&r}function r7(t){var e=wa(t)&&!Aw(t),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<n.length;i+=1)s=n[i],r=r||Ze(t,s);return e&&r}function n7(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function i7(t,e){arguments.length===1&&(arguments[0]?J9(arguments[0])?(t=arguments[0],e=void 0):r7(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||mt(),n=Ww(r,this).startOf("day"),i=le.calendarFormat(this,n)||"sameElse",s=e&&(ti(e[i])?e[i].call(this,r):e[i]);return this.format(s||this.localeData().calendar(i,this,mt(r)))}function s7(){return new bc(this)}function a7(t,e){var r=In(t)?t:mt(t);return this.isValid()&&r.isValid()?(e=mn(e)||"millisecond",e==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf()):!1}function o7(t,e){var r=In(t)?t:mt(t);return this.isValid()&&r.isValid()?(e=mn(e)||"millisecond",e==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf()):!1}function l7(t,e,r,n){var i=In(t)?t:mt(t),s=In(e)?e:mt(e);return this.isValid()&&i.isValid()&&s.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(s,r):!this.isAfter(s,r))):!1}function u7(t,e){var r=In(t)?t:mt(t),n;return this.isValid()&&r.isValid()?(e=mn(e)||"millisecond",e==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function h7(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function c7(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function f7(t,e,r){var n,i,s;if(!this.isValid())return NaN;if(n=Ww(t,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,e=mn(e),e){case"year":s=Zf(this,n)/12;break;case"month":s=Zf(this,n);break;case"quarter":s=Zf(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-i)/864e5;break;case"week":s=(this-n-i)/6048e5;break;default:s=this-n}return r?s:on(s)}function Zf(t,e){if(t.date()<e.date())return-Zf(e,t);var r=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(r,"months"),i,s;return e-n<0?(i=t.clone().add(r-1,"months"),s=(e-n)/(n-i)):(i=t.clone().add(r+1,"months"),s=(e-n)/(i-n)),-(r+s)||0}le.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";le.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function d7(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function p7(t){if(!this.isValid())return null;var e=t!==!0,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?Kf(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ti(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Kf(r,"Z")):Kf(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function v7(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",r,n,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),r="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(r+n+i+s)}function g7(t){t||(t=this.isUtc()?le.defaultFormatUtc:le.defaultFormat);var e=Kf(this,t);return this.localeData().postformat(e)}function m7(t,e){return this.isValid()&&(In(t)&&t.isValid()||mt(t).isValid())?Pn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function y7(t){return this.from(mt(),t)}function _7(t,e){return this.isValid()&&(In(t)&&t.isValid()||mt(t).isValid())?Pn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function w7(t){return this.to(mt(),t)}function GM(t){var e;return t===void 0?this._locale._abbr:(e=Bi(t),e!=null&&(this._locale=e),this)}var YM=gn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function XM(){return this._locale}var np=1e3,$o=60*np,ip=60*$o,qM=(365*400+97)*24*ip;function Ho(t,e){return(t%e+e)%e}function KM(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-qM:new Date(t,e,r).valueOf()}function QM(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-qM:Date.UTC(t,e,r)}function x7(t){var e,r;if(t=mn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?QM:KM,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ho(e+(this._isUTC?0:this.utcOffset()*$o),ip);break;case"minute":e=this._d.valueOf(),e-=Ho(e,$o);break;case"second":e=this._d.valueOf(),e-=Ho(e,np);break}return this._d.setTime(e),le.updateOffset(this,!0),this}function b7(t){var e,r;if(t=mn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?QM:KM,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ip-Ho(e+(this._isUTC?0:this.utcOffset()*$o),ip)-1;break;case"minute":e=this._d.valueOf(),e+=$o-Ho(e,$o)-1;break;case"second":e=this._d.valueOf(),e+=np-Ho(e,np)-1;break}return this._d.setTime(e),le.updateOffset(this,!0),this}function T7(){return this._d.valueOf()-(this._offset||0)*6e4}function S7(){return Math.floor(this.valueOf()/1e3)}function E7(){return new Date(this.valueOf())}function C7(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function I7(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function P7(){return this.isValid()?this.toISOString():null}function A7(){return kw(this)}function k7(){return rs({},Ue(this))}function O7(){return Ue(this).overflow}function M7(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}be("N",0,0,"eraAbbr");be("NN",0,0,"eraAbbr");be("NNN",0,0,"eraAbbr");be("NNNN",0,0,"eraName");be("NNNNN",0,0,"eraNarrow");be("y",["y",1],"yo","eraYear");be("y",["yy",2],0,"eraYear");be("y",["yyy",3],0,"eraYear");be("y",["yyyy",4],0,"eraYear");fe("N",Gw);fe("NN",Gw);fe("NNN",Gw);fe("NNNN",H7);fe("NNNNN",j7);ut(["N","NN","NNN","NNNN","NNNNN"],function(t,e,r,n){var i=r._locale.erasParse(t,n,r._strict);i?Ue(r).era=i:Ue(r).invalidEra=t});fe("y",Dl);fe("yy",Dl);fe("yyy",Dl);fe("yyyy",Dl);fe("yo",W7);ut(["y","yy","yyy","yyyy"],br);ut(["yo"],function(t,e,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[br]=r._locale.eraYearOrdinalParse(t,i):e[br]=parseInt(t,10)});function D7(t,e){var r,n,i,s=this._eras||Bi("en")._eras;for(r=0,n=s.length;r<n;++r){switch(typeof s[r].since){case"string":i=le(s[r].since).startOf("day"),s[r].since=i.valueOf();break}switch(typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":i=le(s[r].until).startOf("day").valueOf(),s[r].until=i.valueOf();break}}return s}function R7(t,e,r){var n,i,s=this.eras(),a,l,c;for(t=t.toUpperCase(),n=0,i=s.length;n<i;++n)if(a=s[n].name.toUpperCase(),l=s[n].abbr.toUpperCase(),c=s[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(l===t)return s[n];break;case"NNNN":if(a===t)return s[n];break;case"NNNNN":if(c===t)return s[n];break}else if([a,l,c].indexOf(t)>=0)return s[n]}function N7(t,e){var r=t.since<=t.until?1:-1;return e===void 0?le(t.since).year():le(t.since).year()+(e-t.offset)*r}function F7(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].name;return""}function L7(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].narrow;return""}function U7(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].abbr;return""}function B7(){var t,e,r,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(r=i[t].since<=i[t].until?1:-1,n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return(this.year()-le(i[t].since).year())*r+i[t].offset;return this.year()}function V7(t){return Ze(this,"_erasNameRegex")||Yw.call(this),t?this._erasNameRegex:this._erasRegex}function z7(t){return Ze(this,"_erasAbbrRegex")||Yw.call(this),t?this._erasAbbrRegex:this._erasRegex}function $7(t){return Ze(this,"_erasNarrowRegex")||Yw.call(this),t?this._erasNarrowRegex:this._erasRegex}function Gw(t,e){return e.erasAbbrRegex(t)}function H7(t,e){return e.erasNameRegex(t)}function j7(t,e){return e.erasNarrowRegex(t)}function W7(t,e){return e._eraYearOrdinalRegex||Dl}function Yw(){var t=[],e=[],r=[],n=[],i,s,a=this.eras();for(i=0,s=a.length;i<s;++i)e.push(Xr(a[i].name)),t.push(Xr(a[i].abbr)),r.push(Xr(a[i].narrow)),n.push(Xr(a[i].name)),n.push(Xr(a[i].abbr)),n.push(Xr(a[i].narrow));this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}be(0,["gg",2],0,function(){return this.weekYear()%100});be(0,["GG",2],0,function(){return this.isoWeekYear()%100});function bv(t,e){be(0,[t,t.length],0,e)}bv("gggg","weekYear");bv("ggggg","weekYear");bv("GGGG","isoWeekYear");bv("GGGGG","isoWeekYear");Cr("weekYear","gg");Cr("isoWeekYear","GG");Ir("weekYear",1);Ir("isoWeekYear",1);fe("G",mv);fe("g",mv);fe("GG",yt,nn);fe("gg",yt,nn);fe("GGGG",Fw,Nw);fe("gggg",Fw,Nw);fe("GGGGG",gv,pv);fe("ggggg",gv,pv);Sc(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,n){e[n.substr(0,2)]=ze(t)});Sc(["gg","GG"],function(t,e,r,n){e[n]=le.parseTwoDigitYear(t)});function G7(t){return ZM.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Y7(t){return ZM.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function X7(){return Ii(this.year(),1,4)}function q7(){return Ii(this.isoWeekYear(),1,4)}function K7(){var t=this.localeData()._week;return Ii(this.year(),t.dow,t.doy)}function Q7(){var t=this.localeData()._week;return Ii(this.weekYear(),t.dow,t.doy)}function ZM(t,e,r,n,i){var s;return t==null?Bh(this,n,i).year:(s=Ii(t,n,i),e>s&&(e=s),Z7.call(this,t,e,r,n,i))}function Z7(t,e,r,n,i){var s=OM(t,e,r,n,i),a=Uh(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}be("Q",0,"Qo","quarter");Cr("quarter","Q");Ir("quarter",7);fe("Q",xM);ut("Q",function(t,e){e[yi]=(ze(t)-1)*3});function J7(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}be("D",["DD",2],"Do","date");Cr("date","D");Ir("date",9);fe("D",yt);fe("DD",yt,nn);fe("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});ut(["D","DD"],Fn);ut("Do",function(t,e){e[Fn]=ze(t.match(yt)[0])});var JM=Ml("Date",!0);be("DDD",["DDDD",3],"DDDo","dayOfYear");Cr("dayOfYear","DDD");Ir("dayOfYear",4);fe("DDD",vv);fe("DDDD",bM);ut(["DDD","DDDD"],function(t,e,r){r._dayOfYear=ze(t)});function eX(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}be("m",["mm",2],0,"minute");Cr("minute","m");Ir("minute",14);fe("m",yt);fe("mm",yt,nn);ut(["m","mm"],Sn);var tX=Ml("Minutes",!1);be("s",["ss",2],0,"second");Cr("second","s");Ir("second",15);fe("s",yt);fe("ss",yt,nn);ut(["s","ss"],_i);var rX=Ml("Seconds",!1);be("S",0,0,function(){return~~(this.millisecond()/100)});be(0,["SS",2],0,function(){return~~(this.millisecond()/10)});be(0,["SSS",3],0,"millisecond");be(0,["SSSS",4],0,function(){return this.millisecond()*10});be(0,["SSSSS",5],0,function(){return this.millisecond()*100});be(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});be(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});be(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});be(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Cr("millisecond","ms");Ir("millisecond",16);fe("S",vv,xM);fe("SS",vv,nn);fe("SSS",vv,bM);var ns,eD;for(ns="SSSS";ns.length<=9;ns+="S")fe(ns,Dl);function nX(t,e){e[fa]=ze(("0."+t)*1e3)}for(ns="S";ns.length<=9;ns+="S")ut(ns,nX);eD=Ml("Milliseconds",!1);be("z",0,0,"zoneAbbr");be("zz",0,0,"zoneName");function iX(){return this._isUTC?"UTC":""}function sX(){return this._isUTC?"Coordinated Universal Time":""}var Q=bc.prototype;Q.add=Q9;Q.calendar=i7;Q.clone=s7;Q.diff=f7;Q.endOf=b7;Q.format=g7;Q.from=m7;Q.fromNow=y7;Q.to=_7;Q.toNow=w7;Q.get=oY;Q.invalidAt=O7;Q.isAfter=a7;Q.isBefore=o7;Q.isBetween=l7;Q.isSame=u7;Q.isSameOrAfter=h7;Q.isSameOrBefore=c7;Q.isValid=A7;Q.lang=YM;Q.locale=GM;Q.localeData=XM;Q.max=A9;Q.min=P9;Q.parsingFlags=k7;Q.set=lY;Q.startOf=x7;Q.subtract=Z9;Q.toArray=C7;Q.toObject=I7;Q.toDate=E7;Q.toISOString=p7;Q.inspect=v7;typeof Symbol<"u"&&Symbol.for!=null&&(Q[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Q.toJSON=P7;Q.toString=d7;Q.unix=S7;Q.valueOf=T7;Q.creationData=M7;Q.eraName=F7;Q.eraNarrow=L7;Q.eraAbbr=U7;Q.eraYear=B7;Q.year=kM;Q.isLeapYear=IY;Q.weekYear=G7;Q.isoWeekYear=Y7;Q.quarter=Q.quarters=J7;Q.month=PM;Q.daysInMonth=SY;Q.week=Q.weeks=DY;Q.isoWeek=Q.isoWeeks=RY;Q.weeksInYear=K7;Q.weeksInWeekYear=Q7;Q.isoWeeksInYear=X7;Q.isoWeeksInISOWeekYear=q7;Q.date=JM;Q.day=Q.days=YY;Q.weekday=XY;Q.isoWeekday=qY;Q.dayOfYear=eX;Q.hour=Q.hours=r9;Q.minute=Q.minutes=tX;Q.second=Q.seconds=rX;Q.millisecond=Q.milliseconds=eD;Q.utcOffset=U9;Q.utc=V9;Q.local=z9;Q.parseZone=$9;Q.hasAlignedHourOffset=H9;Q.isDST=j9;Q.isLocal=G9;Q.isUtcOffset=Y9;Q.isUtc=$M;Q.isUTC=$M;Q.zoneAbbr=iX;Q.zoneName=sX;Q.dates=gn("dates accessor is deprecated. Use date instead.",JM);Q.months=gn("months accessor is deprecated. Use month instead",PM);Q.years=gn("years accessor is deprecated. Use year instead",kM);Q.zone=gn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",B9);Q.isDSTShifted=gn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",W9);function aX(t){return mt(t*1e3)}function oX(){return mt.apply(null,arguments).parseZone()}function tD(t){return t}var Je=Mw.prototype;Je.calendar=YG;Je.longDateFormat=QG;Je.invalidDate=JG;Je.ordinal=rY;Je.preparse=tD;Je.postformat=tD;Je.relativeTime=iY;Je.pastFuture=sY;Je.set=WG;Je.eras=D7;Je.erasParse=R7;Je.erasConvertYear=N7;Je.erasAbbrRegex=z7;Je.erasNameRegex=V7;Je.erasNarrowRegex=$7;Je.months=wY;Je.monthsShort=xY;Je.monthsParse=TY;Je.monthsRegex=CY;Je.monthsShortRegex=EY;Je.week=AY;Je.firstDayOfYear=MY;Je.firstDayOfWeek=OY;Je.weekdays=$Y;Je.weekdaysMin=jY;Je.weekdaysShort=HY;Je.weekdaysParse=GY;Je.weekdaysRegex=KY;Je.weekdaysShortRegex=QY;Je.weekdaysMinRegex=ZY;Je.isPM=e9;Je.meridiem=n9;function sp(t,e,r,n){var i=Bi(),s=ei().set(n,e);return i[r](s,t)}function rD(t,e,r){if(Fi(t)&&(e=t,t=void 0),t=t||"",e!=null)return sp(t,e,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=sp(t,n,r,"month");return i}function Xw(t,e,r,n){typeof t=="boolean"?(Fi(e)&&(r=e,e=void 0),e=e||""):(e=t,r=e,t=!1,Fi(e)&&(r=e,e=void 0),e=e||"");var i=Bi(),s=t?i._week.dow:0,a,l=[];if(r!=null)return sp(e,(r+s)%7,n,"day");for(a=0;a<7;a++)l[a]=sp(e,(a+s)%7,n,"day");return l}function lX(t,e){return rD(t,e,"months")}function uX(t,e){return rD(t,e,"monthsShort")}function hX(t,e,r){return Xw(t,e,r,"weekdays")}function cX(t,e,r){return Xw(t,e,r,"weekdaysShort")}function fX(t,e,r){return Xw(t,e,r,"weekdaysMin")}ms("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,r=ze(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+r}});le.lang=gn("moment.lang is deprecated. Use moment.locale instead.",ms);le.langData=gn("moment.langData is deprecated. Use moment.localeData instead.",Bi);var li=Math.abs;function dX(){var t=this._data;return this._milliseconds=li(this._milliseconds),this._days=li(this._days),this._months=li(this._months),t.milliseconds=li(t.milliseconds),t.seconds=li(t.seconds),t.minutes=li(t.minutes),t.hours=li(t.hours),t.months=li(t.months),t.years=li(t.years),this}function nD(t,e,r,n){var i=Pn(e,r);return t._milliseconds+=n*i._milliseconds,t._days+=n*i._days,t._months+=n*i._months,t._bubble()}function pX(t,e){return nD(this,t,e,1)}function vX(t,e){return nD(this,t,e,-1)}function p2(t){return t<0?Math.floor(t):Math.ceil(t)}function gX(){var t=this._milliseconds,e=this._days,r=this._months,n=this._data,i,s,a,l,c;return t>=0&&e>=0&&r>=0||t<=0&&e<=0&&r<=0||(t+=p2(H0(r)+e)*864e5,e=0,r=0),n.milliseconds=t%1e3,i=on(t/1e3),n.seconds=i%60,s=on(i/60),n.minutes=s%60,a=on(s/60),n.hours=a%24,e+=on(a/24),c=on(iD(e)),r+=c,e-=p2(H0(c)),l=on(r/12),r%=12,n.days=e,n.months=r,n.years=l,this}function iD(t){return t*4800/146097}function H0(t){return t*146097/4800}function mX(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if(t=mn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,r=this._months+iD(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(H0(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function yX(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ze(this._months/12)*31536e6:NaN}function Vi(t){return function(){return this.as(t)}}var _X=Vi("ms"),wX=Vi("s"),xX=Vi("m"),bX=Vi("h"),TX=Vi("d"),SX=Vi("w"),EX=Vi("M"),CX=Vi("Q"),IX=Vi("y");function PX(){return Pn(this)}function AX(t){return t=mn(t),this.isValid()?this[t+"s"]():NaN}function Ya(t){return function(){return this.isValid()?this._data[t]:NaN}}var kX=Ya("milliseconds"),OX=Ya("seconds"),MX=Ya("minutes"),DX=Ya("hours"),RX=Ya("days"),NX=Ya("months"),FX=Ya("years");function LX(){return on(this.days()/7)}var hi=Math.round,Eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function UX(t,e,r,n,i){return i.relativeTime(e||1,!!r,t,n)}function BX(t,e,r,n){var i=Pn(t).abs(),s=hi(i.as("s")),a=hi(i.as("m")),l=hi(i.as("h")),c=hi(i.as("d")),d=hi(i.as("M")),g=hi(i.as("w")),_=hi(i.as("y")),w=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||a<=1&&["m"]||a<r.m&&["mm",a]||l<=1&&["h"]||l<r.h&&["hh",l]||c<=1&&["d"]||c<r.d&&["dd",c];return r.w!=null&&(w=w||g<=1&&["w"]||g<r.w&&["ww",g]),w=w||d<=1&&["M"]||d<r.M&&["MM",d]||_<=1&&["y"]||["yy",_],w[2]=e,w[3]=+t>0,w[4]=n,UX.apply(null,w)}function VX(t){return t===void 0?hi:typeof t=="function"?(hi=t,!0):!1}function zX(t,e){return Eo[t]===void 0?!1:e===void 0?Eo[t]:(Eo[t]=e,t==="s"&&(Eo.ss=e-1),!0)}function $X(t,e){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Eo,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(r=t),typeof e=="object"&&(n=Object.assign({},Eo,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),i=this.localeData(),s=BX(this,!r,n,i),r&&(s=i.pastFuture(+this,s)),i.postformat(s)}var Pm=Math.abs;function oo(t){return(t>0)-(t<0)||+t}function Tv(){if(!this.isValid())return this.localeData().invalidDate();var t=Pm(this._milliseconds)/1e3,e=Pm(this._days),r=Pm(this._months),n,i,s,a,l=this.asSeconds(),c,d,g,_;return l?(n=on(t/60),i=on(n/60),t%=60,n%=60,s=on(r/12),r%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",d=oo(this._months)!==oo(l)?"-":"",g=oo(this._days)!==oo(l)?"-":"",_=oo(this._milliseconds)!==oo(l)?"-":"",c+"P"+(s?d+s+"Y":"")+(r?d+r+"M":"")+(e?g+e+"D":"")+(i||n||t?"T":"")+(i?_+i+"H":"")+(n?_+n+"M":"")+(t?_+a+"S":"")):"P0D"}var Xe=xv.prototype;Xe.isValid=R9;Xe.abs=dX;Xe.add=pX;Xe.subtract=vX;Xe.as=mX;Xe.asMilliseconds=_X;Xe.asSeconds=wX;Xe.asMinutes=xX;Xe.asHours=bX;Xe.asDays=TX;Xe.asWeeks=SX;Xe.asMonths=EX;Xe.asQuarters=CX;Xe.asYears=IX;Xe.valueOf=yX;Xe._bubble=gX;Xe.clone=PX;Xe.get=AX;Xe.milliseconds=kX;Xe.seconds=OX;Xe.minutes=MX;Xe.hours=DX;Xe.days=RX;Xe.weeks=LX;Xe.months=NX;Xe.years=FX;Xe.humanize=$X;Xe.toISOString=Tv;Xe.toString=Tv;Xe.toJSON=Tv;Xe.locale=GM;Xe.localeData=XM;Xe.toIsoString=gn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Tv);Xe.lang=YM;be("X",0,0,"unix");be("x",0,0,"valueOf");fe("x",mv);fe("X",hY);ut("X",function(t,e,r){r._d=new Date(parseFloat(t)*1e3)});ut("x",function(t,e,r){r._d=new Date(ze(t))});//! moment.js
le.version="2.29.4";HG(mt);le.fn=Q;le.min=k9;le.max=O9;le.now=M9;le.utc=ei;le.unix=aX;le.months=lX;le.isDate=xc;le.locale=ms;le.invalid=fv;le.duration=Pn;le.isMoment=In;le.weekdays=hX;le.parseZone=oX;le.localeData=Bi;le.isDuration=Qf;le.monthsShort=uX;le.weekdaysMin=fX;le.defineLocale=Vw;le.updateLocale=o9;le.locales=l9;le.weekdaysShort=cX;le.normalizeUnits=mn;le.relativeTimeRounding=VX;le.relativeTimeThreshold=zX;le.calendarFormat=n7;le.prototype=Q;le.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const HX=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"})),jX=eF(HX);/*!
 * Chart.js v2.9.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */(function(t,e){(function(r,n){t.exports=n(function(){try{return jX}catch{}}())})(da,function(r){r=r&&r.hasOwnProperty("default")?r.default:r;function n(o,u){return u={exports:{}},o(u,u.exports),u.exports}function i(o){return o&&o.default||o}var s={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},a=n(function(o){var u={};for(var h in s)s.hasOwnProperty(h)&&(u[s[h]]=h);var f=o.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var p in f)if(f.hasOwnProperty(p)){if(!("channels"in f[p]))throw new Error("missing channels property: "+p);if(!("labels"in f[p]))throw new Error("missing channel labels property: "+p);if(f[p].labels.length!==f[p].channels)throw new Error("channel and label counts mismatch: "+p);var v=f[p].channels,m=f[p].labels;delete f[p].channels,delete f[p].labels,Object.defineProperty(f[p],"channels",{value:v}),Object.defineProperty(f[p],"labels",{value:m})}f.rgb.hsl=function(y){var b=y[0]/255,C=y[1]/255,I=y[2]/255,D=Math.min(b,C,I),N=Math.max(b,C,I),F=N-D,B,z,Y;return N===D?B=0:b===N?B=(C-I)/F:C===N?B=2+(I-b)/F:I===N&&(B=4+(b-C)/F),B=Math.min(B*60,360),B<0&&(B+=360),Y=(D+N)/2,N===D?z=0:Y<=.5?z=F/(N+D):z=F/(2-N-D),[B,z*100,Y*100]},f.rgb.hsv=function(y){var b,C,I,D,N,F=y[0]/255,B=y[1]/255,z=y[2]/255,Y=Math.max(F,B,z),ce=Y-Math.min(F,B,z),ve=function(Ne){return(Y-Ne)/6/ce+1/2};return ce===0?D=N=0:(N=ce/Y,b=ve(F),C=ve(B),I=ve(z),F===Y?D=I-C:B===Y?D=1/3+b-I:z===Y&&(D=2/3+C-b),D<0?D+=1:D>1&&(D-=1)),[D*360,N*100,Y*100]},f.rgb.hwb=function(y){var b=y[0],C=y[1],I=y[2],D=f.rgb.hsl(y)[0],N=1/255*Math.min(b,Math.min(C,I));return I=1-1/255*Math.max(b,Math.max(C,I)),[D,N*100,I*100]},f.rgb.cmyk=function(y){var b=y[0]/255,C=y[1]/255,I=y[2]/255,D,N,F,B;return B=Math.min(1-b,1-C,1-I),D=(1-b-B)/(1-B)||0,N=(1-C-B)/(1-B)||0,F=(1-I-B)/(1-B)||0,[D*100,N*100,F*100,B*100]};function x(y,b){return Math.pow(y[0]-b[0],2)+Math.pow(y[1]-b[1],2)+Math.pow(y[2]-b[2],2)}f.rgb.keyword=function(y){var b=u[y];if(b)return b;var C=1/0,I;for(var D in s)if(s.hasOwnProperty(D)){var N=s[D],F=x(y,N);F<C&&(C=F,I=D)}return I},f.keyword.rgb=function(y){return s[y]},f.rgb.xyz=function(y){var b=y[0]/255,C=y[1]/255,I=y[2]/255;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92,C=C>.04045?Math.pow((C+.055)/1.055,2.4):C/12.92,I=I>.04045?Math.pow((I+.055)/1.055,2.4):I/12.92;var D=b*.4124+C*.3576+I*.1805,N=b*.2126+C*.7152+I*.0722,F=b*.0193+C*.1192+I*.9505;return[D*100,N*100,F*100]},f.rgb.lab=function(y){var b=f.rgb.xyz(y),C=b[0],I=b[1],D=b[2],N,F,B;return C/=95.047,I/=100,D/=108.883,C=C>.008856?Math.pow(C,1/3):7.787*C+16/116,I=I>.008856?Math.pow(I,1/3):7.787*I+16/116,D=D>.008856?Math.pow(D,1/3):7.787*D+16/116,N=116*I-16,F=500*(C-I),B=200*(I-D),[N,F,B]},f.hsl.rgb=function(y){var b=y[0]/360,C=y[1]/100,I=y[2]/100,D,N,F,B,z;if(C===0)return z=I*255,[z,z,z];I<.5?N=I*(1+C):N=I+C-I*C,D=2*I-N,B=[0,0,0];for(var Y=0;Y<3;Y++)F=b+1/3*-(Y-1),F<0&&F++,F>1&&F--,6*F<1?z=D+(N-D)*6*F:2*F<1?z=N:3*F<2?z=D+(N-D)*(2/3-F)*6:z=D,B[Y]=z*255;return B},f.hsl.hsv=function(y){var b=y[0],C=y[1]/100,I=y[2]/100,D=C,N=Math.max(I,.01),F,B;return I*=2,C*=I<=1?I:2-I,D*=N<=1?N:2-N,B=(I+C)/2,F=I===0?2*D/(N+D):2*C/(I+C),[b,F*100,B*100]},f.hsv.rgb=function(y){var b=y[0]/60,C=y[1]/100,I=y[2]/100,D=Math.floor(b)%6,N=b-Math.floor(b),F=255*I*(1-C),B=255*I*(1-C*N),z=255*I*(1-C*(1-N));switch(I*=255,D){case 0:return[I,z,F];case 1:return[B,I,F];case 2:return[F,I,z];case 3:return[F,B,I];case 4:return[z,F,I];case 5:return[I,F,B]}},f.hsv.hsl=function(y){var b=y[0],C=y[1]/100,I=y[2]/100,D=Math.max(I,.01),N,F,B;return B=(2-C)*I,N=(2-C)*D,F=C*D,F/=N<=1?N:2-N,F=F||0,B/=2,[b,F*100,B*100]},f.hwb.rgb=function(y){var b=y[0]/360,C=y[1]/100,I=y[2]/100,D=C+I,N,F,B,z;D>1&&(C/=D,I/=D),N=Math.floor(6*b),F=1-I,B=6*b-N,N&1&&(B=1-B),z=C+B*(F-C);var Y,ce,ve;switch(N){default:case 6:case 0:Y=F,ce=z,ve=C;break;case 1:Y=z,ce=F,ve=C;break;case 2:Y=C,ce=F,ve=z;break;case 3:Y=C,ce=z,ve=F;break;case 4:Y=z,ce=C,ve=F;break;case 5:Y=F,ce=C,ve=z;break}return[Y*255,ce*255,ve*255]},f.cmyk.rgb=function(y){var b=y[0]/100,C=y[1]/100,I=y[2]/100,D=y[3]/100,N,F,B;return N=1-Math.min(1,b*(1-D)+D),F=1-Math.min(1,C*(1-D)+D),B=1-Math.min(1,I*(1-D)+D),[N*255,F*255,B*255]},f.xyz.rgb=function(y){var b=y[0]/100,C=y[1]/100,I=y[2]/100,D,N,F;return D=b*3.2406+C*-1.5372+I*-.4986,N=b*-.9689+C*1.8758+I*.0415,F=b*.0557+C*-.204+I*1.057,D=D>.0031308?1.055*Math.pow(D,1/2.4)-.055:D*12.92,N=N>.0031308?1.055*Math.pow(N,1/2.4)-.055:N*12.92,F=F>.0031308?1.055*Math.pow(F,1/2.4)-.055:F*12.92,D=Math.min(Math.max(0,D),1),N=Math.min(Math.max(0,N),1),F=Math.min(Math.max(0,F),1),[D*255,N*255,F*255]},f.xyz.lab=function(y){var b=y[0],C=y[1],I=y[2],D,N,F;return b/=95.047,C/=100,I/=108.883,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,C=C>.008856?Math.pow(C,1/3):7.787*C+16/116,I=I>.008856?Math.pow(I,1/3):7.787*I+16/116,D=116*C-16,N=500*(b-C),F=200*(C-I),[D,N,F]},f.lab.xyz=function(y){var b=y[0],C=y[1],I=y[2],D,N,F;N=(b+16)/116,D=C/500+N,F=N-I/200;var B=Math.pow(N,3),z=Math.pow(D,3),Y=Math.pow(F,3);return N=B>.008856?B:(N-16/116)/7.787,D=z>.008856?z:(D-16/116)/7.787,F=Y>.008856?Y:(F-16/116)/7.787,D*=95.047,N*=100,F*=108.883,[D,N,F]},f.lab.lch=function(y){var b=y[0],C=y[1],I=y[2],D,N,F;return D=Math.atan2(I,C),N=D*360/2/Math.PI,N<0&&(N+=360),F=Math.sqrt(C*C+I*I),[b,F,N]},f.lch.lab=function(y){var b=y[0],C=y[1],I=y[2],D,N,F;return F=I/360*2*Math.PI,D=C*Math.cos(F),N=C*Math.sin(F),[b,D,N]},f.rgb.ansi16=function(y){var b=y[0],C=y[1],I=y[2],D=1 in arguments?arguments[1]:f.rgb.hsv(y)[2];if(D=Math.round(D/50),D===0)return 30;var N=30+(Math.round(I/255)<<2|Math.round(C/255)<<1|Math.round(b/255));return D===2&&(N+=60),N},f.hsv.ansi16=function(y){return f.rgb.ansi16(f.hsv.rgb(y),y[2])},f.rgb.ansi256=function(y){var b=y[0],C=y[1],I=y[2];if(b===C&&C===I)return b<8?16:b>248?231:Math.round((b-8)/247*24)+232;var D=16+36*Math.round(b/255*5)+6*Math.round(C/255*5)+Math.round(I/255*5);return D},f.ansi16.rgb=function(y){var b=y%10;if(b===0||b===7)return y>50&&(b+=3.5),b=b/10.5*255,[b,b,b];var C=(~~(y>50)+1)*.5,I=(b&1)*C*255,D=(b>>1&1)*C*255,N=(b>>2&1)*C*255;return[I,D,N]},f.ansi256.rgb=function(y){if(y>=232){var b=(y-232)*10+8;return[b,b,b]}y-=16;var C,I=Math.floor(y/36)/5*255,D=Math.floor((C=y%36)/6)/5*255,N=C%6/5*255;return[I,D,N]},f.rgb.hex=function(y){var b=((Math.round(y[0])&255)<<16)+((Math.round(y[1])&255)<<8)+(Math.round(y[2])&255),C=b.toString(16).toUpperCase();return"000000".substring(C.length)+C},f.hex.rgb=function(y){var b=y.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!b)return[0,0,0];var C=b[0];b[0].length===3&&(C=C.split("").map(function(B){return B+B}).join(""));var I=parseInt(C,16),D=I>>16&255,N=I>>8&255,F=I&255;return[D,N,F]},f.rgb.hcg=function(y){var b=y[0]/255,C=y[1]/255,I=y[2]/255,D=Math.max(Math.max(b,C),I),N=Math.min(Math.min(b,C),I),F=D-N,B,z;return F<1?B=N/(1-F):B=0,F<=0?z=0:D===b?z=(C-I)/F%6:D===C?z=2+(I-b)/F:z=4+(b-C)/F+4,z/=6,z%=1,[z*360,F*100,B*100]},f.hsl.hcg=function(y){var b=y[1]/100,C=y[2]/100,I=1,D=0;return C<.5?I=2*b*C:I=2*b*(1-C),I<1&&(D=(C-.5*I)/(1-I)),[y[0],I*100,D*100]},f.hsv.hcg=function(y){var b=y[1]/100,C=y[2]/100,I=b*C,D=0;return I<1&&(D=(C-I)/(1-I)),[y[0],I*100,D*100]},f.hcg.rgb=function(y){var b=y[0]/360,C=y[1]/100,I=y[2]/100;if(C===0)return[I*255,I*255,I*255];var D=[0,0,0],N=b%1*6,F=N%1,B=1-F,z=0;switch(Math.floor(N)){case 0:D[0]=1,D[1]=F,D[2]=0;break;case 1:D[0]=B,D[1]=1,D[2]=0;break;case 2:D[0]=0,D[1]=1,D[2]=F;break;case 3:D[0]=0,D[1]=B,D[2]=1;break;case 4:D[0]=F,D[1]=0,D[2]=1;break;default:D[0]=1,D[1]=0,D[2]=B}return z=(1-C)*I,[(C*D[0]+z)*255,(C*D[1]+z)*255,(C*D[2]+z)*255]},f.hcg.hsv=function(y){var b=y[1]/100,C=y[2]/100,I=b+C*(1-b),D=0;return I>0&&(D=b/I),[y[0],D*100,I*100]},f.hcg.hsl=function(y){var b=y[1]/100,C=y[2]/100,I=C*(1-b)+.5*b,D=0;return I>0&&I<.5?D=b/(2*I):I>=.5&&I<1&&(D=b/(2*(1-I))),[y[0],D*100,I*100]},f.hcg.hwb=function(y){var b=y[1]/100,C=y[2]/100,I=b+C*(1-b);return[y[0],(I-b)*100,(1-I)*100]},f.hwb.hcg=function(y){var b=y[1]/100,C=y[2]/100,I=1-C,D=I-b,N=0;return D<1&&(N=(I-D)/(1-D)),[y[0],D*100,N*100]},f.apple.rgb=function(y){return[y[0]/65535*255,y[1]/65535*255,y[2]/65535*255]},f.rgb.apple=function(y){return[y[0]/255*65535,y[1]/255*65535,y[2]/255*65535]},f.gray.rgb=function(y){return[y[0]/100*255,y[0]/100*255,y[0]/100*255]},f.gray.hsl=f.gray.hsv=function(y){return[0,0,y[0]]},f.gray.hwb=function(y){return[0,100,y[0]]},f.gray.cmyk=function(y){return[0,0,0,y[0]]},f.gray.lab=function(y){return[y[0],0,0]},f.gray.hex=function(y){var b=Math.round(y[0]/100*255)&255,C=(b<<16)+(b<<8)+b,I=C.toString(16).toUpperCase();return"000000".substring(I.length)+I},f.rgb.gray=function(y){var b=(y[0]+y[1]+y[2])/3;return[b/255*100]}});a.rgb,a.hsl,a.hsv,a.hwb,a.cmyk,a.xyz,a.lab,a.lch,a.hex,a.keyword,a.ansi16,a.ansi256,a.hcg,a.apple,a.gray;function l(){for(var o={},u=Object.keys(a),h=u.length,f=0;f<h;f++)o[u[f]]={distance:-1,parent:null};return o}function c(o){var u=l(),h=[o];for(u[o].distance=0;h.length;)for(var f=h.pop(),p=Object.keys(a[f]),v=p.length,m=0;m<v;m++){var x=p[m],y=u[x];y.distance===-1&&(y.distance=u[f].distance+1,y.parent=f,h.unshift(x))}return u}function d(o,u){return function(h){return u(o(h))}}function g(o,u){for(var h=[u[o].parent,o],f=a[u[o].parent][o],p=u[o].parent;u[p].parent;)h.unshift(u[p].parent),f=d(a[u[p].parent][p],f),p=u[p].parent;return f.conversion=h,f}var _=function(o){for(var u=c(o),h={},f=Object.keys(u),p=f.length,v=0;v<p;v++){var m=f[v],x=u[m];x.parent!==null&&(h[m]=g(m,u))}return h},w={},T=Object.keys(a);function S(o){var u=function(h){return h==null?h:(arguments.length>1&&(h=Array.prototype.slice.call(arguments)),o(h))};return"conversion"in o&&(u.conversion=o.conversion),u}function P(o){var u=function(h){if(h==null)return h;arguments.length>1&&(h=Array.prototype.slice.call(arguments));var f=o(h);if(typeof f=="object")for(var p=f.length,v=0;v<p;v++)f[v]=Math.round(f[v]);return f};return"conversion"in o&&(u.conversion=o.conversion),u}T.forEach(function(o){w[o]={},Object.defineProperty(w[o],"channels",{value:a[o].channels}),Object.defineProperty(w[o],"labels",{value:a[o].labels});var u=_(o),h=Object.keys(u);h.forEach(function(f){var p=u[f];w[o][f]=P(p),w[o][f].raw=S(p)})});var E=w,A={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},k={getRgba:M,getHsla:R,getRgb:L,getHsl:j,getHwb:V,getAlpha:W,hexString:U,rgbString:$,rgbaString:J,percentString:se,percentaString:te,hslString:Le,hslaString:oe,hwbString:ue,keyword:re};function M(o){if(o){var u=/^#([a-fA-F0-9]{3,4})$/i,h=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,f=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,p=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,v=/(\w+)/,m=[0,0,0],x=1,y=o.match(u),b="";if(y){y=y[1],b=y[3];for(var C=0;C<m.length;C++)m[C]=parseInt(y[C]+y[C],16);b&&(x=Math.round(parseInt(b+b,16)/255*100)/100)}else if(y=o.match(h)){b=y[2],y=y[1];for(var C=0;C<m.length;C++)m[C]=parseInt(y.slice(C*2,C*2+2),16);b&&(x=Math.round(parseInt(b,16)/255*100)/100)}else if(y=o.match(f)){for(var C=0;C<m.length;C++)m[C]=parseInt(y[C+1]);x=parseFloat(y[4])}else if(y=o.match(p)){for(var C=0;C<m.length;C++)m[C]=Math.round(parseFloat(y[C+1])*2.55);x=parseFloat(y[4])}else if(y=o.match(v)){if(y[1]=="transparent")return[0,0,0,0];if(m=A[y[1]],!m)return}for(var C=0;C<m.length;C++)m[C]=et(m[C],0,255);return!x&&x!=0?x=1:x=et(x,0,1),m[3]=x,m}}function R(o){if(o){var u=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,h=o.match(u);if(h){var f=parseFloat(h[4]),p=et(parseInt(h[1]),0,360),v=et(parseFloat(h[2]),0,100),m=et(parseFloat(h[3]),0,100),x=et(isNaN(f)?1:f,0,1);return[p,v,m,x]}}}function V(o){if(o){var u=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,h=o.match(u);if(h){var f=parseFloat(h[4]),p=et(parseInt(h[1]),0,360),v=et(parseFloat(h[2]),0,100),m=et(parseFloat(h[3]),0,100),x=et(isNaN(f)?1:f,0,1);return[p,v,m,x]}}}function L(o){var u=M(o);return u&&u.slice(0,3)}function j(o){var u=R(o);return u&&u.slice(0,3)}function W(o){var u=M(o);if(u)return u[3];if(u=R(o))return u[3];if(u=V(o))return u[3]}function U(o,h){var h=h!==void 0&&o.length===3?h:o[3];return"#"+pt(o[0])+pt(o[1])+pt(o[2])+(h>=0&&h<1?pt(Math.round(h*255)):"")}function $(o,u){return u<1||o[3]&&o[3]<1?J(o,u):"rgb("+o[0]+", "+o[1]+", "+o[2]+")"}function J(o,u){return u===void 0&&(u=o[3]!==void 0?o[3]:1),"rgba("+o[0]+", "+o[1]+", "+o[2]+", "+u+")"}function se(o,u){if(u<1||o[3]&&o[3]<1)return te(o,u);var h=Math.round(o[0]/255*100),f=Math.round(o[1]/255*100),p=Math.round(o[2]/255*100);return"rgb("+h+"%, "+f+"%, "+p+"%)"}function te(o,u){var h=Math.round(o[0]/255*100),f=Math.round(o[1]/255*100),p=Math.round(o[2]/255*100);return"rgba("+h+"%, "+f+"%, "+p+"%, "+(u||o[3]||1)+")"}function Le(o,u){return u<1||o[3]&&o[3]<1?oe(o,u):"hsl("+o[0]+", "+o[1]+"%, "+o[2]+"%)"}function oe(o,u){return u===void 0&&(u=o[3]!==void 0?o[3]:1),"hsla("+o[0]+", "+o[1]+"%, "+o[2]+"%, "+u+")"}function ue(o,u){return u===void 0&&(u=o[3]!==void 0?o[3]:1),"hwb("+o[0]+", "+o[1]+"%, "+o[2]+"%"+(u!==void 0&&u!==1?", "+u:"")+")"}function re(o){return he[o.slice(0,3)]}function et(o,u,h){return Math.min(Math.max(u,o),h)}function pt(o){var u=o.toString(16).toUpperCase();return u.length<2?"0"+u:u}var he={};for(var H in A)he[A[H]]=H;var X=function(o){if(o instanceof X)return o;if(!(this instanceof X))return new X(o);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var u;typeof o=="string"?(u=k.getRgba(o),u?this.setValues("rgb",u):(u=k.getHsla(o))?this.setValues("hsl",u):(u=k.getHwb(o))&&this.setValues("hwb",u)):typeof o=="object"&&(u=o,u.r!==void 0||u.red!==void 0?this.setValues("rgb",u):u.l!==void 0||u.lightness!==void 0?this.setValues("hsl",u):u.v!==void 0||u.value!==void 0?this.setValues("hsv",u):u.w!==void 0||u.whiteness!==void 0?this.setValues("hwb",u):(u.c!==void 0||u.cyan!==void 0)&&this.setValues("cmyk",u))};X.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var o=this.values;return o.alpha!==1?o.hwb.concat([o.alpha]):o.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var o=this.values;return o.rgb.concat([o.alpha])},hslaArray:function(){var o=this.values;return o.hsl.concat([o.alpha])},alpha:function(o){return o===void 0?this.values.alpha:(this.setValues("alpha",o),this)},red:function(o){return this.setChannel("rgb",0,o)},green:function(o){return this.setChannel("rgb",1,o)},blue:function(o){return this.setChannel("rgb",2,o)},hue:function(o){return o&&(o%=360,o=o<0?360+o:o),this.setChannel("hsl",0,o)},saturation:function(o){return this.setChannel("hsl",1,o)},lightness:function(o){return this.setChannel("hsl",2,o)},saturationv:function(o){return this.setChannel("hsv",1,o)},whiteness:function(o){return this.setChannel("hwb",1,o)},blackness:function(o){return this.setChannel("hwb",2,o)},value:function(o){return this.setChannel("hsv",2,o)},cyan:function(o){return this.setChannel("cmyk",0,o)},magenta:function(o){return this.setChannel("cmyk",1,o)},yellow:function(o){return this.setChannel("cmyk",2,o)},black:function(o){return this.setChannel("cmyk",3,o)},hexString:function(){return k.hexString(this.values.rgb)},rgbString:function(){return k.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return k.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return k.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return k.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return k.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return k.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return k.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var o=this.values.rgb;return o[0]<<16|o[1]<<8|o[2]},luminosity:function(){for(var o=this.values.rgb,u=[],h=0;h<o.length;h++){var f=o[h]/255;u[h]=f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4)}return .2126*u[0]+.7152*u[1]+.0722*u[2]},contrast:function(o){var u=this.luminosity(),h=o.luminosity();return u>h?(u+.05)/(h+.05):(h+.05)/(u+.05)},level:function(o){var u=this.contrast(o);return u>=7.1?"AAA":u>=4.5?"AA":""},dark:function(){var o=this.values.rgb,u=(o[0]*299+o[1]*587+o[2]*114)/1e3;return u<128},light:function(){return!this.dark()},negate:function(){for(var o=[],u=0;u<3;u++)o[u]=255-this.values.rgb[u];return this.setValues("rgb",o),this},lighten:function(o){var u=this.values.hsl;return u[2]+=u[2]*o,this.setValues("hsl",u),this},darken:function(o){var u=this.values.hsl;return u[2]-=u[2]*o,this.setValues("hsl",u),this},saturate:function(o){var u=this.values.hsl;return u[1]+=u[1]*o,this.setValues("hsl",u),this},desaturate:function(o){var u=this.values.hsl;return u[1]-=u[1]*o,this.setValues("hsl",u),this},whiten:function(o){var u=this.values.hwb;return u[1]+=u[1]*o,this.setValues("hwb",u),this},blacken:function(o){var u=this.values.hwb;return u[2]+=u[2]*o,this.setValues("hwb",u),this},greyscale:function(){var o=this.values.rgb,u=o[0]*.3+o[1]*.59+o[2]*.11;return this.setValues("rgb",[u,u,u]),this},clearer:function(o){var u=this.values.alpha;return this.setValues("alpha",u-u*o),this},opaquer:function(o){var u=this.values.alpha;return this.setValues("alpha",u+u*o),this},rotate:function(o){var u=this.values.hsl,h=(u[0]+o)%360;return u[0]=h<0?360+h:h,this.setValues("hsl",u),this},mix:function(o,u){var h=this,f=o,p=u===void 0?.5:u,v=2*p-1,m=h.alpha()-f.alpha(),x=((v*m===-1?v:(v+m)/(1+v*m))+1)/2,y=1-x;return this.rgb(x*h.red()+y*f.red(),x*h.green()+y*f.green(),x*h.blue()+y*f.blue()).alpha(h.alpha()*p+f.alpha()*(1-p))},toJSON:function(){return this.rgb()},clone:function(){var o=new X,u=this.values,h=o.values,f,p;for(var v in u)u.hasOwnProperty(v)&&(f=u[v],p={}.toString.call(f),p==="[object Array]"?h[v]=f.slice(0):p==="[object Number]"?h[v]=f:console.error("unexpected color value:",f));return o}},X.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},X.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},X.prototype.getValues=function(o){for(var u=this.values,h={},f=0;f<o.length;f++)h[o.charAt(f)]=u[o][f];return u.alpha!==1&&(h.a=u.alpha),h},X.prototype.setValues=function(o,u){var h=this.values,f=this.spaces,p=this.maxes,v=1,m;if(this.valid=!0,o==="alpha")v=u;else if(u.length)h[o]=u.slice(0,o.length),v=u[o.length];else if(u[o.charAt(0)]!==void 0){for(m=0;m<o.length;m++)h[o][m]=u[o.charAt(m)];v=u.a}else if(u[f[o][0]]!==void 0){var x=f[o];for(m=0;m<o.length;m++)h[o][m]=u[x[m]];v=u.alpha}if(h.alpha=Math.max(0,Math.min(1,v===void 0?h.alpha:v)),o==="alpha")return!1;var y;for(m=0;m<o.length;m++)y=Math.max(0,Math.min(p[o][m],h[o][m])),h[o][m]=Math.round(y);for(var b in f)b!==o&&(h[b]=E[o][b](h[o]));return!0},X.prototype.setSpace=function(o,u){var h=u[0];return h===void 0?this.getValues(o):(typeof h=="number"&&(h=Array.prototype.slice.call(u)),this.setValues(o,h),this)},X.prototype.setChannel=function(o,u,h){var f=this.values[o];return h===void 0?f[u]:h===f[u]?this:(f[u]=h,this.setValues(o,f),this)},typeof window<"u"&&(window.Color=X);var ne=X;function we(o){return["__proto__","prototype","constructor"].indexOf(o)===-1}var ie={noop:function(){},uid:function(){var o=0;return function(){return o++}}(),isNullOrUndef:function(o){return o===null||typeof o>"u"},isArray:function(o){if(Array.isArray&&Array.isArray(o))return!0;var u=Object.prototype.toString.call(o);return u.substr(0,7)==="[object"&&u.substr(-6)==="Array]"},isObject:function(o){return o!==null&&Object.prototype.toString.call(o)==="[object Object]"},isFinite:function(o){return(typeof o=="number"||o instanceof Number)&&isFinite(o)},valueOrDefault:function(o,u){return typeof o>"u"?u:o},valueAtIndexOrDefault:function(o,u,h){return ie.valueOrDefault(ie.isArray(o)?o[u]:o,h)},callback:function(o,u,h){if(o&&typeof o.call=="function")return o.apply(h,u)},each:function(o,u,h,f){var p,v,m;if(ie.isArray(o))if(v=o.length,f)for(p=v-1;p>=0;p--)u.call(h,o[p],p);else for(p=0;p<v;p++)u.call(h,o[p],p);else if(ie.isObject(o))for(m=Object.keys(o),v=m.length,p=0;p<v;p++)u.call(h,o[m[p]],m[p])},arrayEquals:function(o,u){var h,f,p,v;if(!o||!u||o.length!==u.length)return!1;for(h=0,f=o.length;h<f;++h)if(p=o[h],v=u[h],p instanceof Array&&v instanceof Array){if(!ie.arrayEquals(p,v))return!1}else if(p!==v)return!1;return!0},clone:function(o){if(ie.isArray(o))return o.map(ie.clone);if(ie.isObject(o)){for(var u=Object.create(o),h=Object.keys(o),f=h.length,p=0;p<f;++p)u[h[p]]=ie.clone(o[h[p]]);return u}return o},_merger:function(o,u,h,f){if(we(o)){var p=u[o],v=h[o];ie.isObject(p)&&ie.isObject(v)?ie.merge(p,v,f):u[o]=ie.clone(v)}},_mergerIf:function(o,u,h){if(we(o)){var f=u[o],p=h[o];ie.isObject(f)&&ie.isObject(p)?ie.mergeIf(f,p):u.hasOwnProperty(o)||(u[o]=ie.clone(p))}},merge:function(o,u,h){var f=ie.isArray(u)?u:[u],p=f.length,v,m,x,y,b;if(!ie.isObject(o))return o;for(h=h||{},v=h.merger||ie._merger,m=0;m<p;++m)if(u=f[m],!!ie.isObject(u))for(x=Object.keys(u),b=0,y=x.length;b<y;++b)v(x[b],o,u,h);return o},mergeIf:function(o,u){return ie.merge(o,u,{merger:ie._mergerIf})},extend:Object.assign||function(o){return ie.merge(o,[].slice.call(arguments,1),{merger:function(u,h,f){h[u]=f[u]}})},inherits:function(o){var u=this,h=o&&o.hasOwnProperty("constructor")?o.constructor:function(){return u.apply(this,arguments)},f=function(){this.constructor=h};return f.prototype=u.prototype,h.prototype=new f,h.extend=ie.inherits,o&&ie.extend(h.prototype,o),h.__super__=u.prototype,h},_deprecated:function(o,u,h,f){u!==void 0&&console.warn(o+': "'+h+'" is deprecated. Please use "'+f+'" instead')}},Pe=ie;ie.callCallback=ie.callback,ie.indexOf=function(o,u,h){return Array.prototype.indexOf.call(o,u,h)},ie.getValueOrDefault=ie.valueOrDefault,ie.getValueAtIndexOrDefault=ie.valueAtIndexOrDefault;var $e={linear:function(o){return o},easeInQuad:function(o){return o*o},easeOutQuad:function(o){return-o*(o-2)},easeInOutQuad:function(o){return(o/=.5)<1?.5*o*o:-.5*(--o*(o-2)-1)},easeInCubic:function(o){return o*o*o},easeOutCubic:function(o){return(o=o-1)*o*o+1},easeInOutCubic:function(o){return(o/=.5)<1?.5*o*o*o:.5*((o-=2)*o*o+2)},easeInQuart:function(o){return o*o*o*o},easeOutQuart:function(o){return-((o=o-1)*o*o*o-1)},easeInOutQuart:function(o){return(o/=.5)<1?.5*o*o*o*o:-.5*((o-=2)*o*o*o-2)},easeInQuint:function(o){return o*o*o*o*o},easeOutQuint:function(o){return(o=o-1)*o*o*o*o+1},easeInOutQuint:function(o){return(o/=.5)<1?.5*o*o*o*o*o:.5*((o-=2)*o*o*o*o+2)},easeInSine:function(o){return-Math.cos(o*(Math.PI/2))+1},easeOutSine:function(o){return Math.sin(o*(Math.PI/2))},easeInOutSine:function(o){return-.5*(Math.cos(Math.PI*o)-1)},easeInExpo:function(o){return o===0?0:Math.pow(2,10*(o-1))},easeOutExpo:function(o){return o===1?1:-Math.pow(2,-10*o)+1},easeInOutExpo:function(o){return o===0?0:o===1?1:(o/=.5)<1?.5*Math.pow(2,10*(o-1)):.5*(-Math.pow(2,-10*--o)+2)},easeInCirc:function(o){return o>=1?o:-(Math.sqrt(1-o*o)-1)},easeOutCirc:function(o){return Math.sqrt(1-(o=o-1)*o)},easeInOutCirc:function(o){return(o/=.5)<1?-.5*(Math.sqrt(1-o*o)-1):.5*(Math.sqrt(1-(o-=2)*o)+1)},easeInElastic:function(o){var u=1.70158,h=0,f=1;return o===0?0:o===1?1:(h||(h=.3),u=h/(2*Math.PI)*Math.asin(1/f),-(f*Math.pow(2,10*(o-=1))*Math.sin((o-u)*(2*Math.PI)/h)))},easeOutElastic:function(o){var u=1.70158,h=0,f=1;return o===0?0:o===1?1:(h||(h=.3),u=h/(2*Math.PI)*Math.asin(1/f),f*Math.pow(2,-10*o)*Math.sin((o-u)*(2*Math.PI)/h)+1)},easeInOutElastic:function(o){var u=1.70158,h=0,f=1;return o===0?0:(o/=.5)===2?1:(h||(h=.45),u=h/(2*Math.PI)*Math.asin(1/f),o<1?-.5*(f*Math.pow(2,10*(o-=1))*Math.sin((o-u)*(2*Math.PI)/h)):f*Math.pow(2,-10*(o-=1))*Math.sin((o-u)*(2*Math.PI)/h)*.5+1)},easeInBack:function(o){var u=1.70158;return o*o*((u+1)*o-u)},easeOutBack:function(o){var u=1.70158;return(o=o-1)*o*((u+1)*o+u)+1},easeInOutBack:function(o){var u=1.70158;return(o/=.5)<1?.5*(o*o*(((u*=1.525)+1)*o-u)):.5*((o-=2)*o*(((u*=1.525)+1)*o+u)+2)},easeInBounce:function(o){return 1-$e.easeOutBounce(1-o)},easeOutBounce:function(o){return o<1/2.75?7.5625*o*o:o<2/2.75?7.5625*(o-=1.5/2.75)*o+.75:o<2.5/2.75?7.5625*(o-=2.25/2.75)*o+.9375:7.5625*(o-=2.625/2.75)*o+.984375},easeInOutBounce:function(o){return o<.5?$e.easeInBounce(o*2)*.5:$e.easeOutBounce(o*2-1)*.5+.5}},at={effects:$e};Pe.easingEffects=$e;var pe=Math.PI,_t=pe/180,We=pe*2,ge=pe/2,ot=pe/4,Lt=pe*2/3,Ut={clear:function(o){o.ctx.clearRect(0,0,o.width,o.height)},roundedRect:function(o,u,h,f,p,v){if(v){var m=Math.min(v,p/2,f/2),x=u+m,y=h+m,b=u+f-m,C=h+p-m;o.moveTo(u,y),x<b&&y<C?(o.arc(x,y,m,-pe,-ge),o.arc(b,y,m,-ge,0),o.arc(b,C,m,0,ge),o.arc(x,C,m,ge,pe)):x<b?(o.moveTo(x,h),o.arc(b,y,m,-ge,ge),o.arc(x,y,m,ge,pe+ge)):y<C?(o.arc(x,y,m,-pe,0),o.arc(x,C,m,0,pe)):o.arc(x,y,m,-pe,pe),o.closePath(),o.moveTo(u,h)}else o.rect(u,h,f,p)},drawPoint:function(o,u,h,f,p,v){var m,x,y,b,C,I=(v||0)*_t;if(u&&typeof u=="object"&&(m=u.toString(),m==="[object HTMLImageElement]"||m==="[object HTMLCanvasElement]")){o.save(),o.translate(f,p),o.rotate(I),o.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),o.restore();return}if(!(isNaN(h)||h<=0)){switch(o.beginPath(),u){default:o.arc(f,p,h,0,We),o.closePath();break;case"triangle":o.moveTo(f+Math.sin(I)*h,p-Math.cos(I)*h),I+=Lt,o.lineTo(f+Math.sin(I)*h,p-Math.cos(I)*h),I+=Lt,o.lineTo(f+Math.sin(I)*h,p-Math.cos(I)*h),o.closePath();break;case"rectRounded":C=h*.516,b=h-C,x=Math.cos(I+ot)*b,y=Math.sin(I+ot)*b,o.arc(f-x,p-y,C,I-pe,I-ge),o.arc(f+y,p-x,C,I-ge,I),o.arc(f+x,p+y,C,I,I+ge),o.arc(f-y,p+x,C,I+ge,I+pe),o.closePath();break;case"rect":if(!v){b=Math.SQRT1_2*h,o.rect(f-b,p-b,2*b,2*b);break}I+=ot;case"rectRot":x=Math.cos(I)*h,y=Math.sin(I)*h,o.moveTo(f-x,p-y),o.lineTo(f+y,p-x),o.lineTo(f+x,p+y),o.lineTo(f-y,p+x),o.closePath();break;case"crossRot":I+=ot;case"cross":x=Math.cos(I)*h,y=Math.sin(I)*h,o.moveTo(f-x,p-y),o.lineTo(f+x,p+y),o.moveTo(f+y,p-x),o.lineTo(f-y,p+x);break;case"star":x=Math.cos(I)*h,y=Math.sin(I)*h,o.moveTo(f-x,p-y),o.lineTo(f+x,p+y),o.moveTo(f+y,p-x),o.lineTo(f-y,p+x),I+=ot,x=Math.cos(I)*h,y=Math.sin(I)*h,o.moveTo(f-x,p-y),o.lineTo(f+x,p+y),o.moveTo(f+y,p-x),o.lineTo(f-y,p+x);break;case"line":x=Math.cos(I)*h,y=Math.sin(I)*h,o.moveTo(f-x,p-y),o.lineTo(f+x,p+y);break;case"dash":o.moveTo(f,p),o.lineTo(f+Math.cos(I)*h,p+Math.sin(I)*h);break}o.fill(),o.stroke()}},_isPointInArea:function(o,u){var h=1e-6;return o.x>u.left-h&&o.x<u.right+h&&o.y>u.top-h&&o.y<u.bottom+h},clipArea:function(o,u){o.save(),o.beginPath(),o.rect(u.left,u.top,u.right-u.left,u.bottom-u.top),o.clip()},unclipArea:function(o){o.restore()},lineTo:function(o,u,h,f){var p=h.steppedLine;if(p){if(p==="middle"){var v=(u.x+h.x)/2;o.lineTo(v,f?h.y:u.y),o.lineTo(v,f?u.y:h.y)}else p==="after"&&!f||p!=="after"&&f?o.lineTo(u.x,h.y):o.lineTo(h.x,u.y);o.lineTo(h.x,h.y);return}if(!h.tension){o.lineTo(h.x,h.y);return}o.bezierCurveTo(f?u.controlPointPreviousX:u.controlPointNextX,f?u.controlPointPreviousY:u.controlPointNextY,f?h.controlPointNextX:h.controlPointPreviousX,f?h.controlPointNextY:h.controlPointPreviousY,h.x,h.y)}},An=Ut;Pe.clear=Ut.clear,Pe.drawRoundedRectangle=function(o){o.beginPath(),Ut.roundedRect.apply(Ut,arguments)};var Ns={_set:function(o,u){return Pe.merge(this[o]||(this[o]={}),u)}};Ns._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var me=Ns,Fs=Pe.valueOrDefault;function wD(o){return!o||Pe.isNullOrUndef(o.size)||Pe.isNullOrUndef(o.family)?null:(o.style?o.style+" ":"")+(o.weight?o.weight+" ":"")+o.size+"px "+o.family}var xD={toLineHeight:function(o,u){var h=(""+o).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!h||h[1]==="normal")return u*1.2;switch(o=+h[2],h[3]){case"px":return o;case"%":o/=100;break}return u*o},toPadding:function(o){var u,h,f,p;return Pe.isObject(o)?(u=+o.top||0,h=+o.right||0,f=+o.bottom||0,p=+o.left||0):u=h=f=p=+o||0,{top:u,right:h,bottom:f,left:p,height:u+f,width:p+h}},_parseFont:function(o){var u=me.global,h=Fs(o.fontSize,u.defaultFontSize),f={family:Fs(o.fontFamily,u.defaultFontFamily),lineHeight:Pe.options.toLineHeight(Fs(o.lineHeight,u.defaultLineHeight),h),size:h,style:Fs(o.fontStyle,u.defaultFontStyle),weight:null,string:""};return f.string=wD(f),f},resolve:function(o,u,h,f){var p=!0,v,m,x;for(v=0,m=o.length;v<m;++v)if(x=o[v],x!==void 0&&(u!==void 0&&typeof x=="function"&&(x=x(u),p=!1),h!==void 0&&Pe.isArray(x)&&(x=x[h],p=!1),x!==void 0))return f&&!p&&(f.cacheable=!1),x}},Kw={_factorize:function(o){var u=[],h=Math.sqrt(o),f;for(f=1;f<h;f++)o%f===0&&(u.push(f),u.push(o/f));return h===(h|0)&&u.push(h),u.sort(function(p,v){return p-v}).pop(),u},log10:Math.log10||function(o){var u=Math.log(o)*Math.LOG10E,h=Math.round(u),f=o===Math.pow(10,h);return f?h:u}},bD=Kw;Pe.log10=Kw.log10;var TD=function(o,u){return{x:function(h){return o+o+u-h},setWidth:function(h){u=h},textAlign:function(h){return h==="center"?h:h==="right"?"left":"right"},xPlus:function(h,f){return h-f},leftForLtr:function(h,f){return h-f}}},SD=function(){return{x:function(o){return o},setWidth:function(o){},textAlign:function(o){return o},xPlus:function(o,u){return o+u},leftForLtr:function(o,u){return o}}},ED=function(o,u,h){return o?TD(u,h):SD()},CD=function(o,u){var h,f;(u==="ltr"||u==="rtl")&&(h=o.canvas.style,f=[h.getPropertyValue("direction"),h.getPropertyPriority("direction")],h.setProperty("direction",u,"important"),o.prevTextDirection=f)},ID=function(o){var u=o.prevTextDirection;u!==void 0&&(delete o.prevTextDirection,o.canvas.style.setProperty("direction",u[0],u[1]))},PD={getRtlAdapter:ED,overrideTextDirection:CD,restoreTextDirection:ID},O=Pe,AD=at,kD=An,OD=xD,MD=bD,DD=PD;O.easing=AD,O.canvas=kD,O.options=OD,O.math=MD,O.rtl=DD;function RD(o,u,h,f){var p=Object.keys(h),v,m,x,y,b,C,I,D,N;for(v=0,m=p.length;v<m;++v)if(x=p[v],C=h[x],u.hasOwnProperty(x)||(u[x]=C),y=u[x],!(y===C||x[0]==="_")){if(o.hasOwnProperty(x)||(o[x]=y),b=o[x],I=typeof C,I===typeof b){if(I==="string"){if(D=ne(b),D.valid&&(N=ne(C),N.valid)){u[x]=N.mix(D,f).rgbString();continue}}else if(O.isFinite(b)&&O.isFinite(C)){u[x]=b+(C-b)*f;continue}}u[x]=C}}var Ev=function(o){O.extend(this,o),this.initialize.apply(this,arguments)};O.extend(Ev.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var o=this;return o._view||(o._view=O.extend({},o._model)),o._start={},o},transition:function(o){var u=this,h=u._model,f=u._start,p=u._view;return!h||o===1?(u._view=O.extend({},h),u._start=null,u):(p||(p=u._view={}),f||(f=u._start={}),RD(f,p,h,o),u)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return O.isNumber(this._model.x)&&O.isNumber(this._model.y)}}),Ev.extend=O.inherits;var kn=Ev,Cv=kn.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Iv=Cv;Object.defineProperty(Cv.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Cv.prototype,"chartInstance",{get:function(){return this.chart},set:function(o){this.chart=o}}),me._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:O.noop,onComplete:O.noop}});var Pv={animations:[],request:null,addAnimation:function(o,u,h,f){var p=this.animations,v,m;for(u.chart=o,u.startTime=Date.now(),u.duration=h,f||(o.animating=!0),v=0,m=p.length;v<m;++v)if(p[v].chart===o){p[v]=u;return}p.push(u),p.length===1&&this.requestAnimationFrame()},cancelAnimation:function(o){var u=O.findIndex(this.animations,function(h){return h.chart===o});u!==-1&&(this.animations.splice(u,1),o.animating=!1)},requestAnimationFrame:function(){var o=this;o.request===null&&(o.request=O.requestAnimFrame.call(window,function(){o.request=null,o.startDigest()}))},startDigest:function(){var o=this;o.advance(),o.animations.length>0&&o.requestAnimationFrame()},advance:function(){for(var o=this.animations,u,h,f,p,v=0;v<o.length;)u=o[v],h=u.chart,f=u.numSteps,p=Math.floor((Date.now()-u.startTime)/u.duration*f)+1,u.currentStep=Math.min(p,f),O.callback(u.render,[h,u],h),O.callback(u.onAnimationProgress,[u],h),u.currentStep>=f?(O.callback(u.onAnimationComplete,[u],h),h.animating=!1,o.splice(v,1)):++v}},Xa=O.options.resolve,Qw=["push","pop","shift","splice","unshift"];function ND(o,u){if(o._chartjs){o._chartjs.listeners.push(u);return}Object.defineProperty(o,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[u]}}),Qw.forEach(function(h){var f="onData"+h.charAt(0).toUpperCase()+h.slice(1),p=o[h];Object.defineProperty(o,h,{configurable:!0,enumerable:!1,value:function(){var v=Array.prototype.slice.call(arguments),m=p.apply(this,v);return O.each(o._chartjs.listeners,function(x){typeof x[f]=="function"&&x[f].apply(x,v)}),m}})})}function Zw(o,u){var h=o._chartjs;if(h){var f=h.listeners,p=f.indexOf(u);p!==-1&&f.splice(p,1),!(f.length>0)&&(Qw.forEach(function(v){delete o[v]}),delete o._chartjs)}}var Av=function(o,u){this.initialize(o,u)};O.extend(Av.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(o,u){var h=this;h.chart=o,h.index=u,h.linkScales(),h.addElements(),h._type=h.getMeta().type},updateIndex:function(o){this.index=o},linkScales:function(){var o=this,u=o.getMeta(),h=o.chart,f=h.scales,p=o.getDataset(),v=h.options.scales;(u.xAxisID===null||!(u.xAxisID in f)||p.xAxisID)&&(u.xAxisID=p.xAxisID||v.xAxes[0].id),(u.yAxisID===null||!(u.yAxisID in f)||p.yAxisID)&&(u.yAxisID=p.yAxisID||v.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(o){return this.chart.scales[o]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&Zw(this._data,this)},createMetaDataset:function(){var o=this,u=o.datasetElementType;return u&&new u({_chart:o.chart,_datasetIndex:o.index})},createMetaData:function(o){var u=this,h=u.dataElementType;return h&&new h({_chart:u.chart,_datasetIndex:u.index,_index:o})},addElements:function(){var o=this,u=o.getMeta(),h=o.getDataset().data||[],f=u.data,p,v;for(p=0,v=h.length;p<v;++p)f[p]=f[p]||o.createMetaData(p);u.dataset=u.dataset||o.createMetaDataset()},addElementAndReset:function(o){var u=this.createMetaData(o);this.getMeta().data.splice(o,0,u),this.updateElement(u,o,!0)},buildOrUpdateElements:function(){var o=this,u=o.getDataset(),h=u.data||(u.data=[]);o._data!==h&&(o._data&&Zw(o._data,o),h&&Object.isExtensible(h)&&ND(h,o),o._data=h),o.resyncElements()},_configure:function(){var o=this;o._config=O.merge(Object.create(null),[o.chart.options.datasets[o._type],o.getDataset()],{merger:function(u,h,f){u!=="_meta"&&u!=="data"&&O._merger(u,h,f)}})},_update:function(o){var u=this;u._configure(),u._cachedDataOpts=null,u.update(o)},update:O.noop,transition:function(o){for(var u=this.getMeta(),h=u.data||[],f=h.length,p=0;p<f;++p)h[p].transition(o);u.dataset&&u.dataset.transition(o)},draw:function(){var o=this.getMeta(),u=o.data||[],h=u.length,f=0;for(o.dataset&&o.dataset.draw();f<h;++f)u[f].draw()},getStyle:function(o){var u=this,h=u.getMeta(),f=h.dataset,p;return u._configure(),f&&o===void 0?p=u._resolveDatasetElementOptions(f||{}):(o=o||0,p=u._resolveDataElementOptions(h.data[o]||{},o)),(p.fill===!1||p.fill===null)&&(p.backgroundColor=p.borderColor),p},_resolveDatasetElementOptions:function(o,u){var h=this,f=h.chart,p=h._config,v=o.custom||{},m=f.options.elements[h.datasetElementType.prototype._type]||{},x=h._datasetElementOptions,y={},b,C,I,D,N={chart:f,dataset:h.getDataset(),datasetIndex:h.index,hover:u};for(b=0,C=x.length;b<C;++b)I=x[b],D=u?"hover"+I.charAt(0).toUpperCase()+I.slice(1):I,y[I]=Xa([v[D],p[D],m[D]],N);return y},_resolveDataElementOptions:function(o,u){var h=this,f=o&&o.custom,p=h._cachedDataOpts;if(p&&!f)return p;var v=h.chart,m=h._config,x=v.options.elements[h.dataElementType.prototype._type]||{},y=h._dataElementOptions,b={},C={chart:v,dataIndex:u,dataset:h.getDataset(),datasetIndex:h.index},I={cacheable:!f},D,N,F,B;if(f=f||{},O.isArray(y))for(N=0,F=y.length;N<F;++N)B=y[N],b[B]=Xa([f[B],m[B],x[B]],C,u,I);else for(D=Object.keys(y),N=0,F=D.length;N<F;++N)B=D[N],b[B]=Xa([f[B],m[y[B]],m[B],x[B]],C,u,I);return I.cacheable&&(h._cachedDataOpts=Object.freeze(b)),b},removeHoverStyle:function(o){O.merge(o._model,o.$previousStyle||{}),delete o.$previousStyle},setHoverStyle:function(o){var u=this.chart.data.datasets[o._datasetIndex],h=o._index,f=o.custom||{},p=o._model,v=O.getHoverColor;o.$previousStyle={backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth},p.backgroundColor=Xa([f.hoverBackgroundColor,u.hoverBackgroundColor,v(p.backgroundColor)],void 0,h),p.borderColor=Xa([f.hoverBorderColor,u.hoverBorderColor,v(p.borderColor)],void 0,h),p.borderWidth=Xa([f.hoverBorderWidth,u.hoverBorderWidth,p.borderWidth],void 0,h)},_removeDatasetHoverStyle:function(){var o=this.getMeta().dataset;o&&this.removeHoverStyle(o)},_setDatasetHoverStyle:function(){var o=this.getMeta().dataset,u={},h,f,p,v,m,x;if(o){for(x=o._model,m=this._resolveDatasetElementOptions(o,!0),v=Object.keys(m),h=0,f=v.length;h<f;++h)p=v[h],u[p]=x[p],x[p]=m[p];o.$previousStyle=u}},resyncElements:function(){var o=this,u=o.getMeta(),h=o.getDataset().data,f=u.data.length,p=h.length;p<f?u.data.splice(p,f-p):p>f&&o.insertElements(f,p-f)},insertElements:function(o,u){for(var h=0;h<u;++h)this.addElementAndReset(o+h)},onDataPush:function(){var o=arguments.length;this.insertElements(this.getDataset().data.length-o,o)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(o,u){this.getMeta().data.splice(o,u),this.insertElements(o,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Av.extend=O.inherits;var sn=Av,On=Math.PI*2;me._set("global",{elements:{arc:{backgroundColor:me.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});function Jw(o,u){var h=u.startAngle,f=u.endAngle,p=u.pixelMargin,v=p/u.outerRadius,m=u.x,x=u.y;o.beginPath(),o.arc(m,x,u.outerRadius,h-v,f+v),u.innerRadius>p?(v=p/u.innerRadius,o.arc(m,x,u.innerRadius-p,f+v,h-v,!0)):o.arc(m,x,p,f+Math.PI/2,h-Math.PI/2),o.closePath(),o.clip()}function FD(o,u,h,f){var p=h.endAngle,v;for(f&&(h.endAngle=h.startAngle+On,Jw(o,h),h.endAngle=p,h.endAngle===h.startAngle&&h.fullCircles&&(h.endAngle+=On,h.fullCircles--)),o.beginPath(),o.arc(h.x,h.y,h.innerRadius,h.startAngle+On,h.startAngle,!0),v=0;v<h.fullCircles;++v)o.stroke();for(o.beginPath(),o.arc(h.x,h.y,u.outerRadius,h.startAngle,h.startAngle+On),v=0;v<h.fullCircles;++v)o.stroke()}function LD(o,u,h){var f=u.borderAlign==="inner";f?(o.lineWidth=u.borderWidth*2,o.lineJoin="round"):(o.lineWidth=u.borderWidth,o.lineJoin="bevel"),h.fullCircles&&FD(o,u,h,f),f&&Jw(o,h),o.beginPath(),o.arc(h.x,h.y,u.outerRadius,h.startAngle,h.endAngle),o.arc(h.x,h.y,h.innerRadius,h.endAngle,h.startAngle,!0),o.closePath(),o.stroke()}var UD=kn.extend({_type:"arc",inLabelRange:function(o){var u=this._view;return u?Math.pow(o-u.x,2)<Math.pow(u.radius+u.hoverRadius,2):!1},inRange:function(o,u){var h=this._view;if(h){for(var f=O.getAngleFromPoint(h,{x:o,y:u}),p=f.angle,v=f.distance,m=h.startAngle,x=h.endAngle;x<m;)x+=On;for(;p>x;)p-=On;for(;p<m;)p+=On;var y=p>=m&&p<=x,b=v>=h.innerRadius&&v<=h.outerRadius;return y&&b}return!1},getCenterPoint:function(){var o=this._view,u=(o.startAngle+o.endAngle)/2,h=(o.innerRadius+o.outerRadius)/2;return{x:o.x+Math.cos(u)*h,y:o.y+Math.sin(u)*h}},getArea:function(){var o=this._view;return Math.PI*((o.endAngle-o.startAngle)/(2*Math.PI))*(Math.pow(o.outerRadius,2)-Math.pow(o.innerRadius,2))},tooltipPosition:function(){var o=this._view,u=o.startAngle+(o.endAngle-o.startAngle)/2,h=(o.outerRadius-o.innerRadius)/2+o.innerRadius;return{x:o.x+Math.cos(u)*h,y:o.y+Math.sin(u)*h}},draw:function(){var o=this._chart.ctx,u=this._view,h=u.borderAlign==="inner"?.33:0,f={x:u.x,y:u.y,innerRadius:u.innerRadius,outerRadius:Math.max(u.outerRadius-h,0),pixelMargin:h,startAngle:u.startAngle,endAngle:u.endAngle,fullCircles:Math.floor(u.circumference/On)},p;if(o.save(),o.fillStyle=u.backgroundColor,o.strokeStyle=u.borderColor,f.fullCircles){for(f.endAngle=f.startAngle+On,o.beginPath(),o.arc(f.x,f.y,f.outerRadius,f.startAngle,f.endAngle),o.arc(f.x,f.y,f.innerRadius,f.endAngle,f.startAngle,!0),o.closePath(),p=0;p<f.fullCircles;++p)o.fill();f.endAngle=f.startAngle+u.circumference%On}o.beginPath(),o.arc(f.x,f.y,f.outerRadius,f.startAngle,f.endAngle),o.arc(f.x,f.y,f.innerRadius,f.endAngle,f.startAngle,!0),o.closePath(),o.fill(),u.borderWidth&&LD(o,u,f),o.restore()}}),ex=O.valueOrDefault,tx=me.global.defaultColor;me._set("global",{elements:{line:{tension:.4,backgroundColor:tx,borderWidth:3,borderColor:tx,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var BD=kn.extend({_type:"line",draw:function(){var o=this,u=o._view,h=o._chart.ctx,f=u.spanGaps,p=o._children.slice(),v=me.global,m=v.elements.line,x=-1,y=o._loop,b,C,I;if(p.length){if(o._loop){for(b=0;b<p.length;++b)if(C=O.previousItem(p,b),!p[b]._view.skip&&C._view.skip){p=p.slice(b).concat(p.slice(0,b)),y=f;break}y&&p.push(p[0])}for(h.save(),h.lineCap=u.borderCapStyle||m.borderCapStyle,h.setLineDash&&h.setLineDash(u.borderDash||m.borderDash),h.lineDashOffset=ex(u.borderDashOffset,m.borderDashOffset),h.lineJoin=u.borderJoinStyle||m.borderJoinStyle,h.lineWidth=ex(u.borderWidth,m.borderWidth),h.strokeStyle=u.borderColor||v.defaultColor,h.beginPath(),I=p[0]._view,I.skip||(h.moveTo(I.x,I.y),x=0),b=1;b<p.length;++b)I=p[b]._view,C=x===-1?O.previousItem(p,b):p[x],I.skip||(x!==b-1&&!f||x===-1?h.moveTo(I.x,I.y):O.canvas.lineTo(h,C._view,I),x=b);y&&h.closePath(),h.stroke(),h.restore()}}}),VD=O.valueOrDefault,rx=me.global.defaultColor;me._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:rx,borderColor:rx,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});function nx(o){var u=this._view;return u?Math.abs(o-u.x)<u.radius+u.hitRadius:!1}function zD(o){var u=this._view;return u?Math.abs(o-u.y)<u.radius+u.hitRadius:!1}var $D=kn.extend({_type:"point",inRange:function(o,u){var h=this._view;return h?Math.pow(o-h.x,2)+Math.pow(u-h.y,2)<Math.pow(h.hitRadius+h.radius,2):!1},inLabelRange:nx,inXRange:nx,inYRange:zD,getCenterPoint:function(){var o=this._view;return{x:o.x,y:o.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var o=this._view;return{x:o.x,y:o.y,padding:o.radius+o.borderWidth}},draw:function(o){var u=this._view,h=this._chart.ctx,f=u.pointStyle,p=u.rotation,v=u.radius,m=u.x,x=u.y,y=me.global,b=y.defaultColor;u.skip||(o===void 0||O.canvas._isPointInArea(u,o))&&(h.strokeStyle=u.borderColor||b,h.lineWidth=VD(u.borderWidth,y.elements.point.borderWidth),h.fillStyle=u.backgroundColor||b,O.canvas.drawPoint(h,f,v,m,x,p))}}),ix=me.global.defaultColor;me._set("global",{elements:{rectangle:{backgroundColor:ix,borderColor:ix,borderSkipped:"bottom",borderWidth:0}}});function Ec(o){return o&&o.width!==void 0}function sx(o){var u,h,f,p,v;return Ec(o)?(v=o.width/2,u=o.x-v,h=o.x+v,f=Math.min(o.y,o.base),p=Math.max(o.y,o.base)):(v=o.height/2,u=Math.min(o.x,o.base),h=Math.max(o.x,o.base),f=o.y-v,p=o.y+v),{left:u,top:f,right:h,bottom:p}}function ax(o,u,h){return o===u?h:o===h?u:o}function HD(o){var u=o.borderSkipped,h={};return u&&(o.horizontal?o.base>o.x&&(u=ax(u,"left","right")):o.base<o.y&&(u=ax(u,"bottom","top")),h[u]=!0),h}function jD(o,u,h){var f=o.borderWidth,p=HD(o),v,m,x,y;return O.isObject(f)?(v=+f.top||0,m=+f.right||0,x=+f.bottom||0,y=+f.left||0):v=m=x=y=+f||0,{t:p.top||v<0?0:v>h?h:v,r:p.right||m<0?0:m>u?u:m,b:p.bottom||x<0?0:x>h?h:x,l:p.left||y<0?0:y>u?u:y}}function WD(o){var u=sx(o),h=u.right-u.left,f=u.bottom-u.top,p=jD(o,h/2,f/2);return{outer:{x:u.left,y:u.top,w:h,h:f},inner:{x:u.left+p.l,y:u.top+p.t,w:h-p.l-p.r,h:f-p.t-p.b}}}function Rl(o,u,h){var f=u===null,p=h===null,v=!o||f&&p?!1:sx(o);return v&&(f||u>=v.left&&u<=v.right)&&(p||h>=v.top&&h<=v.bottom)}var GD=kn.extend({_type:"rectangle",draw:function(){var o=this._chart.ctx,u=this._view,h=WD(u),f=h.outer,p=h.inner;o.fillStyle=u.backgroundColor,o.fillRect(f.x,f.y,f.w,f.h),!(f.w===p.w&&f.h===p.h)&&(o.save(),o.beginPath(),o.rect(f.x,f.y,f.w,f.h),o.clip(),o.fillStyle=u.borderColor,o.rect(p.x,p.y,p.w,p.h),o.fill("evenodd"),o.restore())},height:function(){var o=this._view;return o.base-o.y},inRange:function(o,u){return Rl(this._view,o,u)},inLabelRange:function(o,u){var h=this._view;return Ec(h)?Rl(h,o,null):Rl(h,null,u)},inXRange:function(o){return Rl(this._view,o,null)},inYRange:function(o){return Rl(this._view,null,o)},getCenterPoint:function(){var o=this._view,u,h;return Ec(o)?(u=o.x,h=(o.y+o.base)/2):(u=(o.x+o.base)/2,h=o.y),{x:u,y:h}},getArea:function(){var o=this._view;return Ec(o)?o.width*Math.abs(o.y-o.base):o.height*Math.abs(o.x-o.base)},tooltipPosition:function(){var o=this._view;return{x:o.x,y:o.y}}}),Rr={},YD=UD,XD=BD,qD=$D,KD=GD;Rr.Arc=YD,Rr.Line=XD,Rr.Point=qD,Rr.Rectangle=KD;var Nl=O._deprecated,qa=O.valueOrDefault;me._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),me._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});function QD(o,u){var h=o._length,f,p,v,m;for(v=1,m=u.length;v<m;++v)h=Math.min(h,Math.abs(u[v]-u[v-1]));for(v=0,m=o.getTicks().length;v<m;++v)p=o.getPixelForTick(v),h=v>0?Math.min(h,Math.abs(p-f)):h,f=p;return h}function ZD(o,u,h){var f=h.barThickness,p=u.stackCount,v=u.pixels[o],m=O.isNullOrUndef(f)?QD(u.scale,u.pixels):-1,x,y;return O.isNullOrUndef(f)?(x=m*h.categoryPercentage,y=h.barPercentage):(x=f*p,y=1),{chunk:x/p,ratio:y,start:v-x/2}}function JD(o,u,h){var f=u.pixels,p=f[o],v=o>0?f[o-1]:null,m=o<f.length-1?f[o+1]:null,x=h.categoryPercentage,y,b;return v===null&&(v=p-(m===null?u.end-u.start:m-p)),m===null&&(m=p+p-v),y=p-(p-Math.min(v,m))/2*x,b=Math.abs(m-v)/2*x,{chunk:b/u.stackCount,ratio:h.barPercentage,start:y}}var ox=sn.extend({dataElementType:Rr.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var o=this,u,h;sn.prototype.initialize.apply(o,arguments),u=o.getMeta(),u.stack=o.getDataset().stack,u.bar=!0,h=o._getIndexScale().options,Nl("bar chart",h.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Nl("bar chart",h.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Nl("bar chart",h.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Nl("bar chart",o._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Nl("bar chart",h.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(o){var u=this,h=u.getMeta().data,f,p;for(u._ruler=u.getRuler(),f=0,p=h.length;f<p;++f)u.updateElement(h[f],f,o)},updateElement:function(o,u,h){var f=this,p=f.getMeta(),v=f.getDataset(),m=f._resolveDataElementOptions(o,u);o._xScale=f.getScaleForId(p.xAxisID),o._yScale=f.getScaleForId(p.yAxisID),o._datasetIndex=f.index,o._index=u,o._model={backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderSkipped:m.borderSkipped,borderWidth:m.borderWidth,datasetLabel:v.label,label:f.chart.data.labels[u]},O.isArray(v.data[u])&&(o._model.borderSkipped=null),f._updateElementGeometry(o,u,h,m),o.pivot()},_updateElementGeometry:function(o,u,h,f){var p=this,v=o._model,m=p._getValueScale(),x=m.getBasePixel(),y=m.isHorizontal(),b=p._ruler||p.getRuler(),C=p.calculateBarValuePixels(p.index,u,f),I=p.calculateBarIndexPixels(p.index,u,b,f);v.horizontal=y,v.base=h?x:C.base,v.x=y?h?x:C.head:I.center,v.y=y?I.center:h?x:C.head,v.height=y?I.size:void 0,v.width=y?void 0:I.size},_getStacks:function(o){var u=this,h=u._getIndexScale(),f=h._getMatchingVisibleMetas(u._type),p=h.options.stacked,v=f.length,m=[],x,y;for(x=0;x<v&&(y=f[x],(p===!1||m.indexOf(y.stack)===-1||p===void 0&&y.stack===void 0)&&m.push(y.stack),y.index!==o);++x);return m},getStackCount:function(){return this._getStacks().length},getStackIndex:function(o,u){var h=this._getStacks(o),f=u!==void 0?h.indexOf(u):-1;return f===-1?h.length-1:f},getRuler:function(){var o=this,u=o._getIndexScale(),h=[],f,p;for(f=0,p=o.getMeta().data.length;f<p;++f)h.push(u.getPixelForValue(null,f,o.index));return{pixels:h,start:u._startPixel,end:u._endPixel,stackCount:o.getStackCount(),scale:u}},calculateBarValuePixels:function(o,u,h){var f=this,p=f.chart,v=f._getValueScale(),m=v.isHorizontal(),x=p.data.datasets,y=v._getMatchingVisibleMetas(f._type),b=v._parseValue(x[o].data[u]),C=h.minBarLength,I=v.options.stacked,D=f.getMeta().stack,N=b.start===void 0?0:b.max>=0&&b.min>=0?b.min:b.max,F=b.start===void 0?b.end:b.max>=0&&b.min>=0?b.max-b.min:b.min-b.max,B=y.length,z,Y,ce,ve,Ne,De,Qe;if(I||I===void 0&&D!==void 0)for(z=0;z<B&&(Y=y[z],Y.index!==o);++z)Y.stack===D&&(Qe=v._parseValue(x[Y.index].data[u]),ce=Qe.start===void 0?Qe.end:Qe.min>=0&&Qe.max>=0?Qe.max:Qe.min,(b.min<0&&ce<0||b.max>=0&&ce>0)&&(N+=ce));return ve=v.getPixelForValue(N),Ne=v.getPixelForValue(N+F),De=Ne-ve,C!==void 0&&Math.abs(De)<C&&(De=C,F>=0&&!m||F<0&&m?Ne=ve-C:Ne=ve+C),{size:De,base:ve,head:Ne,center:Ne+De/2}},calculateBarIndexPixels:function(o,u,h,f){var p=this,v=f.barThickness==="flex"?JD(u,h,f):ZD(u,h,f),m=p.getStackIndex(o,p.getMeta().stack),x=v.start+v.chunk*m+v.chunk/2,y=Math.min(qa(f.maxBarThickness,1/0),v.chunk*v.ratio);return{base:x-y/2,head:x+y/2,center:x,size:y}},draw:function(){var o=this,u=o.chart,h=o._getValueScale(),f=o.getMeta().data,p=o.getDataset(),v=f.length,m=0;for(O.canvas.clipArea(u.ctx,u.chartArea);m<v;++m){var x=h._parseValue(p.data[m]);!isNaN(x.min)&&!isNaN(x.max)&&f[m].draw()}O.canvas.unclipArea(u.ctx)},_resolveDataElementOptions:function(){var o=this,u=O.extend({},sn.prototype._resolveDataElementOptions.apply(o,arguments)),h=o._getIndexScale().options,f=o._getValueScale().options;return u.barPercentage=qa(h.barPercentage,u.barPercentage),u.barThickness=qa(h.barThickness,u.barThickness),u.categoryPercentage=qa(h.categoryPercentage,u.categoryPercentage),u.maxBarThickness=qa(h.maxBarThickness,u.maxBarThickness),u.minBarLength=qa(f.minBarLength,u.minBarLength),u}}),kv=O.valueOrDefault,eR=O.options.resolve;me._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(o,u){var h=u.datasets[o.datasetIndex].label||"",f=u.datasets[o.datasetIndex].data[o.index];return h+": ("+o.xLabel+", "+o.yLabel+", "+f.r+")"}}}});var tR=sn.extend({dataElementType:Rr.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(o){var u=this,h=u.getMeta(),f=h.data;O.each(f,function(p,v){u.updateElement(p,v,o)})},updateElement:function(o,u,h){var f=this,p=f.getMeta(),v=o.custom||{},m=f.getScaleForId(p.xAxisID),x=f.getScaleForId(p.yAxisID),y=f._resolveDataElementOptions(o,u),b=f.getDataset().data[u],C=f.index,I=h?m.getPixelForDecimal(.5):m.getPixelForValue(typeof b=="object"?b:NaN,u,C),D=h?x.getBasePixel():x.getPixelForValue(b,u,C);o._xScale=m,o._yScale=x,o._options=y,o._datasetIndex=C,o._index=u,o._model={backgroundColor:y.backgroundColor,borderColor:y.borderColor,borderWidth:y.borderWidth,hitRadius:y.hitRadius,pointStyle:y.pointStyle,rotation:y.rotation,radius:h?0:y.radius,skip:v.skip||isNaN(I)||isNaN(D),x:I,y:D},o.pivot()},setHoverStyle:function(o){var u=o._model,h=o._options,f=O.getHoverColor;o.$previousStyle={backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth,radius:u.radius},u.backgroundColor=kv(h.hoverBackgroundColor,f(h.backgroundColor)),u.borderColor=kv(h.hoverBorderColor,f(h.borderColor)),u.borderWidth=kv(h.hoverBorderWidth,h.borderWidth),u.radius=h.radius+h.hoverRadius},_resolveDataElementOptions:function(o,u){var h=this,f=h.chart,p=h.getDataset(),v=o.custom||{},m=p.data[u]||{},x=sn.prototype._resolveDataElementOptions.apply(h,arguments),y={chart:f,dataIndex:u,dataset:p,datasetIndex:h.index};return h._cachedDataOpts===x&&(x=O.extend({},x)),x.radius=eR([v.radius,m.r,h._config.radius,f.options.elements.point.radius],y,u),x}}),Cc=O.valueOrDefault,Ls=Math.PI,ri=Ls*2,Us=Ls/2;me._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(o){var u=document.createElement("ul"),h=o.data,f=h.datasets,p=h.labels,v,m,x,y;if(u.setAttribute("class",o.id+"-legend"),f.length)for(v=0,m=f[0].data.length;v<m;++v)x=u.appendChild(document.createElement("li")),y=x.appendChild(document.createElement("span")),y.style.backgroundColor=f[0].backgroundColor[v],p[v]&&x.appendChild(document.createTextNode(p[v]));return u.outerHTML},legend:{labels:{generateLabels:function(o){var u=o.data;return u.labels.length&&u.datasets.length?u.labels.map(function(h,f){var p=o.getDatasetMeta(0),v=p.controller.getStyle(f);return{text:h,fillStyle:v.backgroundColor,strokeStyle:v.borderColor,lineWidth:v.borderWidth,hidden:isNaN(u.datasets[0].data[f])||p.data[f].hidden,index:f}}):[]}},onClick:function(o,u){var h=u.index,f=this.chart,p,v,m;for(p=0,v=(f.data.datasets||[]).length;p<v;++p)m=f.getDatasetMeta(p),m.data[h]&&(m.data[h].hidden=!m.data[h].hidden);f.update()}},cutoutPercentage:50,rotation:-Us,circumference:ri,tooltips:{callbacks:{title:function(){return""},label:function(o,u){var h=u.labels[o.index],f=": "+u.datasets[o.datasetIndex].data[o.index];return O.isArray(h)?(h=h.slice(),h[0]+=f):h+=f,h}}}});var lx=sn.extend({dataElementType:Rr.Arc,linkScales:O.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(o){for(var u=0,h=0;h<o;++h)this.chart.isDatasetVisible(h)&&++u;return u},update:function(o){var u=this,h=u.chart,f=h.chartArea,p=h.options,v=1,m=1,x=0,y=0,b=u.getMeta(),C=b.data,I=p.cutoutPercentage/100||0,D=p.circumference,N=u._getRingWeight(u.index),F,B,z,Y;if(D<ri){var ce=p.rotation%ri;ce+=ce>=Ls?-ri:ce<-Ls?ri:0;var ve=ce+D,Ne=Math.cos(ce),De=Math.sin(ce),Qe=Math.cos(ve),Ge=Math.sin(ve),lt=ce<=0&&ve>=0||ve>=ri,ct=ce<=Us&&ve>=Us||ve>=ri+Us,qt=ce===-Ls||ve>=Ls,Bt=ce<=-Us&&ve>=-Us||ve>=Ls+Us,Rt=qt?-1:Math.min(Ne,Ne*I,Qe,Qe*I),nr=Bt?-1:Math.min(De,De*I,Ge,Ge*I),eo=lt?1:Math.max(Ne,Ne*I,Qe,Qe*I),to=ct?1:Math.max(De,De*I,Ge,Ge*I);v=(eo-Rt)/2,m=(to-nr)/2,x=-(eo+Rt)/2,y=-(to+nr)/2}for(z=0,Y=C.length;z<Y;++z)C[z]._options=u._resolveDataElementOptions(C[z],z);for(h.borderWidth=u.getMaxBorderWidth(),F=(f.right-f.left-h.borderWidth)/v,B=(f.bottom-f.top-h.borderWidth)/m,h.outerRadius=Math.max(Math.min(F,B)/2,0),h.innerRadius=Math.max(h.outerRadius*I,0),h.radiusLength=(h.outerRadius-h.innerRadius)/(u._getVisibleDatasetWeightTotal()||1),h.offsetX=x*h.outerRadius,h.offsetY=y*h.outerRadius,b.total=u.calculateTotal(),u.outerRadius=h.outerRadius-h.radiusLength*u._getRingWeightOffset(u.index),u.innerRadius=Math.max(u.outerRadius-h.radiusLength*N,0),z=0,Y=C.length;z<Y;++z)u.updateElement(C[z],z,o)},updateElement:function(o,u,h){var f=this,p=f.chart,v=p.chartArea,m=p.options,x=m.animation,y=(v.left+v.right)/2,b=(v.top+v.bottom)/2,C=m.rotation,I=m.rotation,D=f.getDataset(),N=h&&x.animateRotate||o.hidden?0:f.calculateCircumference(D.data[u])*(m.circumference/ri),F=h&&x.animateScale?0:f.innerRadius,B=h&&x.animateScale?0:f.outerRadius,z=o._options||{};O.extend(o,{_datasetIndex:f.index,_index:u,_model:{backgroundColor:z.backgroundColor,borderColor:z.borderColor,borderWidth:z.borderWidth,borderAlign:z.borderAlign,x:y+p.offsetX,y:b+p.offsetY,startAngle:C,endAngle:I,circumference:N,outerRadius:B,innerRadius:F,label:O.valueAtIndexOrDefault(D.label,u,p.data.labels[u])}});var Y=o._model;(!h||!x.animateRotate)&&(u===0?Y.startAngle=m.rotation:Y.startAngle=f.getMeta().data[u-1]._model.endAngle,Y.endAngle=Y.startAngle+Y.circumference),o.pivot()},calculateTotal:function(){var o=this.getDataset(),u=this.getMeta(),h=0,f;return O.each(u.data,function(p,v){f=o.data[v],!isNaN(f)&&!p.hidden&&(h+=Math.abs(f))}),h},calculateCircumference:function(o){var u=this.getMeta().total;return u>0&&!isNaN(o)?ri*(Math.abs(o)/u):0},getMaxBorderWidth:function(o){var u=this,h=0,f=u.chart,p,v,m,x,y,b,C,I;if(!o){for(p=0,v=f.data.datasets.length;p<v;++p)if(f.isDatasetVisible(p)){m=f.getDatasetMeta(p),o=m.data,p!==u.index&&(y=m.controller);break}}if(!o)return 0;for(p=0,v=o.length;p<v;++p)x=o[p],y?(y._configure(),b=y._resolveDataElementOptions(x,p)):b=x._options,b.borderAlign!=="inner"&&(C=b.borderWidth,I=b.hoverBorderWidth,h=C>h?C:h,h=I>h?I:h);return h},setHoverStyle:function(o){var u=o._model,h=o._options,f=O.getHoverColor;o.$previousStyle={backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth},u.backgroundColor=Cc(h.hoverBackgroundColor,f(h.backgroundColor)),u.borderColor=Cc(h.hoverBorderColor,f(h.borderColor)),u.borderWidth=Cc(h.hoverBorderWidth,h.borderWidth)},_getRingWeightOffset:function(o){for(var u=0,h=0;h<o;++h)this.chart.isDatasetVisible(h)&&(u+=this._getRingWeight(h));return u},_getRingWeight:function(o){return Math.max(Cc(this.chart.data.datasets[o].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});me._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),me._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var rR=ox.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),ni=O.valueOrDefault,nR=O.options.resolve,Ov=O.canvas._isPointInArea;me._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});function ux(o,u){var h=o&&o.options.ticks||{},f=h.reverse,p=h.min===void 0?u:0,v=h.max===void 0?u:0;return{start:f?v:p,end:f?p:v}}function iR(o,u,h){var f=h/2,p=ux(o,f),v=ux(u,f);return{top:v.end,right:p.end,bottom:v.start,left:p.start}}function sR(o){var u,h,f,p;return O.isObject(o)?(u=o.top,h=o.right,f=o.bottom,p=o.left):u=h=f=p=o,{top:u,right:h,bottom:f,left:p}}var hx=sn.extend({datasetElementType:Rr.Line,dataElementType:Rr.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(o){var u=this,h=u.getMeta(),f=h.dataset,p=h.data||[],v=u.chart.options,m=u._config,x=u._showLine=ni(m.showLine,v.showLines),y,b;for(u._xScale=u.getScaleForId(h.xAxisID),u._yScale=u.getScaleForId(h.yAxisID),x&&(m.tension!==void 0&&m.lineTension===void 0&&(m.lineTension=m.tension),f._scale=u._yScale,f._datasetIndex=u.index,f._children=p,f._model=u._resolveDatasetElementOptions(f),f.pivot()),y=0,b=p.length;y<b;++y)u.updateElement(p[y],y,o);for(x&&f._model.tension!==0&&u.updateBezierControlPoints(),y=0,b=p.length;y<b;++y)p[y].pivot()},updateElement:function(o,u,h){var f=this,p=f.getMeta(),v=o.custom||{},m=f.getDataset(),x=f.index,y=m.data[u],b=f._xScale,C=f._yScale,I=p.dataset._model,D,N,F=f._resolveDataElementOptions(o,u);D=b.getPixelForValue(typeof y=="object"?y:NaN,u,x),N=h?C.getBasePixel():f.calculatePointY(y,u,x),o._xScale=b,o._yScale=C,o._options=F,o._datasetIndex=x,o._index=u,o._model={x:D,y:N,skip:v.skip||isNaN(D)||isNaN(N),radius:F.radius,pointStyle:F.pointStyle,rotation:F.rotation,backgroundColor:F.backgroundColor,borderColor:F.borderColor,borderWidth:F.borderWidth,tension:ni(v.tension,I?I.tension:0),steppedLine:I?I.steppedLine:!1,hitRadius:F.hitRadius}},_resolveDatasetElementOptions:function(o){var u=this,h=u._config,f=o.custom||{},p=u.chart.options,v=p.elements.line,m=sn.prototype._resolveDatasetElementOptions.apply(u,arguments);return m.spanGaps=ni(h.spanGaps,p.spanGaps),m.tension=ni(h.lineTension,v.tension),m.steppedLine=nR([f.steppedLine,h.steppedLine,v.stepped]),m.clip=sR(ni(h.clip,iR(u._xScale,u._yScale,m.borderWidth))),m},calculatePointY:function(o,u,h){var f=this,p=f.chart,v=f._yScale,m=0,x=0,y,b,C,I,D,N,F;if(v.options.stacked){for(D=+v.getRightValue(o),N=p._getSortedVisibleDatasetMetas(),F=N.length,y=0;y<F&&(C=N[y],C.index!==h);++y)b=p.data.datasets[C.index],C.type==="line"&&C.yAxisID===v.id&&(I=+v.getRightValue(b.data[u]),I<0?x+=I||0:m+=I||0);return D<0?v.getPixelForValue(x+D):v.getPixelForValue(m+D)}return v.getPixelForValue(o)},updateBezierControlPoints:function(){var o=this,u=o.chart,h=o.getMeta(),f=h.dataset._model,p=u.chartArea,v=h.data||[],m,x,y,b;f.spanGaps&&(v=v.filter(function(I){return!I._model.skip}));function C(I,D,N){return Math.max(Math.min(I,N),D)}if(f.cubicInterpolationMode==="monotone")O.splineCurveMonotone(v);else for(m=0,x=v.length;m<x;++m)y=v[m]._model,b=O.splineCurve(O.previousItem(v,m)._model,y,O.nextItem(v,m)._model,f.tension),y.controlPointPreviousX=b.previous.x,y.controlPointPreviousY=b.previous.y,y.controlPointNextX=b.next.x,y.controlPointNextY=b.next.y;if(u.options.elements.line.capBezierPoints)for(m=0,x=v.length;m<x;++m)y=v[m]._model,Ov(y,p)&&(m>0&&Ov(v[m-1]._model,p)&&(y.controlPointPreviousX=C(y.controlPointPreviousX,p.left,p.right),y.controlPointPreviousY=C(y.controlPointPreviousY,p.top,p.bottom)),m<v.length-1&&Ov(v[m+1]._model,p)&&(y.controlPointNextX=C(y.controlPointNextX,p.left,p.right),y.controlPointNextY=C(y.controlPointNextY,p.top,p.bottom)))},draw:function(){var o=this,u=o.chart,h=o.getMeta(),f=h.data||[],p=u.chartArea,v=u.canvas,m=0,x=f.length,y;for(o._showLine&&(y=h.dataset._model.clip,O.canvas.clipArea(u.ctx,{left:y.left===!1?0:p.left-y.left,right:y.right===!1?v.width:p.right+y.right,top:y.top===!1?0:p.top-y.top,bottom:y.bottom===!1?v.height:p.bottom+y.bottom}),h.dataset.draw(),O.canvas.unclipArea(u.ctx));m<x;++m)f[m].draw(p)},setHoverStyle:function(o){var u=o._model,h=o._options,f=O.getHoverColor;o.$previousStyle={backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth,radius:u.radius},u.backgroundColor=ni(h.hoverBackgroundColor,f(h.backgroundColor)),u.borderColor=ni(h.hoverBorderColor,f(h.borderColor)),u.borderWidth=ni(h.hoverBorderWidth,h.borderWidth),u.radius=ni(h.hoverRadius,h.radius)}}),aR=O.options.resolve;me._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(o){var u=document.createElement("ul"),h=o.data,f=h.datasets,p=h.labels,v,m,x,y;if(u.setAttribute("class",o.id+"-legend"),f.length)for(v=0,m=f[0].data.length;v<m;++v)x=u.appendChild(document.createElement("li")),y=x.appendChild(document.createElement("span")),y.style.backgroundColor=f[0].backgroundColor[v],p[v]&&x.appendChild(document.createTextNode(p[v]));return u.outerHTML},legend:{labels:{generateLabels:function(o){var u=o.data;return u.labels.length&&u.datasets.length?u.labels.map(function(h,f){var p=o.getDatasetMeta(0),v=p.controller.getStyle(f);return{text:h,fillStyle:v.backgroundColor,strokeStyle:v.borderColor,lineWidth:v.borderWidth,hidden:isNaN(u.datasets[0].data[f])||p.data[f].hidden,index:f}}):[]}},onClick:function(o,u){var h=u.index,f=this.chart,p,v,m;for(p=0,v=(f.data.datasets||[]).length;p<v;++p)m=f.getDatasetMeta(p),m.data[h].hidden=!m.data[h].hidden;f.update()}},tooltips:{callbacks:{title:function(){return""},label:function(o,u){return u.labels[o.index]+": "+o.yLabel}}}});var oR=sn.extend({dataElementType:Rr.Arc,linkScales:O.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(o){var u=this,h=u.getDataset(),f=u.getMeta(),p=u.chart.options.startAngle||0,v=u._starts=[],m=u._angles=[],x=f.data,y,b,C;for(u._updateRadius(),f.count=u.countVisibleElements(),y=0,b=h.data.length;y<b;y++)v[y]=p,C=u._computeAngle(y),m[y]=C,p+=C;for(y=0,b=x.length;y<b;++y)x[y]._options=u._resolveDataElementOptions(x[y],y),u.updateElement(x[y],y,o)},_updateRadius:function(){var o=this,u=o.chart,h=u.chartArea,f=u.options,p=Math.min(h.right-h.left,h.bottom-h.top);u.outerRadius=Math.max(p/2,0),u.innerRadius=Math.max(f.cutoutPercentage?u.outerRadius/100*f.cutoutPercentage:1,0),u.radiusLength=(u.outerRadius-u.innerRadius)/u.getVisibleDatasetCount(),o.outerRadius=u.outerRadius-u.radiusLength*o.index,o.innerRadius=o.outerRadius-u.radiusLength},updateElement:function(o,u,h){var f=this,p=f.chart,v=f.getDataset(),m=p.options,x=m.animation,y=p.scale,b=p.data.labels,C=y.xCenter,I=y.yCenter,D=m.startAngle,N=o.hidden?0:y.getDistanceFromCenterForValue(v.data[u]),F=f._starts[u],B=F+(o.hidden?0:f._angles[u]),z=x.animateScale?0:y.getDistanceFromCenterForValue(v.data[u]),Y=o._options||{};O.extend(o,{_datasetIndex:f.index,_index:u,_scale:y,_model:{backgroundColor:Y.backgroundColor,borderColor:Y.borderColor,borderWidth:Y.borderWidth,borderAlign:Y.borderAlign,x:C,y:I,innerRadius:0,outerRadius:h?z:N,startAngle:h&&x.animateRotate?D:F,endAngle:h&&x.animateRotate?D:B,label:O.valueAtIndexOrDefault(b,u,b[u])}}),o.pivot()},countVisibleElements:function(){var o=this.getDataset(),u=this.getMeta(),h=0;return O.each(u.data,function(f,p){!isNaN(o.data[p])&&!f.hidden&&h++}),h},setHoverStyle:function(o){var u=o._model,h=o._options,f=O.getHoverColor,p=O.valueOrDefault;o.$previousStyle={backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth},u.backgroundColor=p(h.hoverBackgroundColor,f(h.backgroundColor)),u.borderColor=p(h.hoverBorderColor,f(h.borderColor)),u.borderWidth=p(h.hoverBorderWidth,h.borderWidth)},_computeAngle:function(o){var u=this,h=this.getMeta().count,f=u.getDataset(),p=u.getMeta();if(isNaN(f.data[o])||p.data[o].hidden)return 0;var v={chart:u.chart,dataIndex:o,dataset:f,datasetIndex:u.index};return aR([u.chart.options.elements.arc.angle,2*Math.PI/h],v,o)}});me._set("pie",O.clone(me.doughnut)),me._set("pie",{cutoutPercentage:0});var lR=lx,Bs=O.valueOrDefault;me._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var uR=sn.extend({datasetElementType:Rr.Line,dataElementType:Rr.Point,linkScales:O.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(o){var u=this,h=u.getMeta(),f=h.dataset,p=h.data||[],v=u.chart.scale,m=u._config,x,y;for(m.tension!==void 0&&m.lineTension===void 0&&(m.lineTension=m.tension),f._scale=v,f._datasetIndex=u.index,f._children=p,f._loop=!0,f._model=u._resolveDatasetElementOptions(f),f.pivot(),x=0,y=p.length;x<y;++x)u.updateElement(p[x],x,o);for(u.updateBezierControlPoints(),x=0,y=p.length;x<y;++x)p[x].pivot()},updateElement:function(o,u,h){var f=this,p=o.custom||{},v=f.getDataset(),m=f.chart.scale,x=m.getPointPositionForValue(u,v.data[u]),y=f._resolveDataElementOptions(o,u),b=f.getMeta().dataset._model,C=h?m.xCenter:x.x,I=h?m.yCenter:x.y;o._scale=m,o._options=y,o._datasetIndex=f.index,o._index=u,o._model={x:C,y:I,skip:p.skip||isNaN(C)||isNaN(I),radius:y.radius,pointStyle:y.pointStyle,rotation:y.rotation,backgroundColor:y.backgroundColor,borderColor:y.borderColor,borderWidth:y.borderWidth,tension:Bs(p.tension,b?b.tension:0),hitRadius:y.hitRadius}},_resolveDatasetElementOptions:function(){var o=this,u=o._config,h=o.chart.options,f=sn.prototype._resolveDatasetElementOptions.apply(o,arguments);return f.spanGaps=Bs(u.spanGaps,h.spanGaps),f.tension=Bs(u.lineTension,h.elements.line.tension),f},updateBezierControlPoints:function(){var o=this,u=o.getMeta(),h=o.chart.chartArea,f=u.data||[],p,v,m,x;u.dataset._model.spanGaps&&(f=f.filter(function(b){return!b._model.skip}));function y(b,C,I){return Math.max(Math.min(b,I),C)}for(p=0,v=f.length;p<v;++p)m=f[p]._model,x=O.splineCurve(O.previousItem(f,p,!0)._model,m,O.nextItem(f,p,!0)._model,m.tension),m.controlPointPreviousX=y(x.previous.x,h.left,h.right),m.controlPointPreviousY=y(x.previous.y,h.top,h.bottom),m.controlPointNextX=y(x.next.x,h.left,h.right),m.controlPointNextY=y(x.next.y,h.top,h.bottom)},setHoverStyle:function(o){var u=o._model,h=o._options,f=O.getHoverColor;o.$previousStyle={backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth,radius:u.radius},u.backgroundColor=Bs(h.hoverBackgroundColor,f(h.backgroundColor)),u.borderColor=Bs(h.hoverBorderColor,f(h.borderColor)),u.borderWidth=Bs(h.hoverBorderWidth,h.borderWidth),u.radius=Bs(h.hoverRadius,h.radius)}});me._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(o){return"("+o.xLabel+", "+o.yLabel+")"}}}}),me._set("global",{datasets:{scatter:{showLine:!1}}});var hR=hx,cx={bar:ox,bubble:tR,doughnut:lx,horizontalBar:rR,line:hx,polarArea:oR,pie:lR,radar:uR,scatter:hR};function Vs(o,u){return o.native?{x:o.x,y:o.y}:O.getRelativePosition(o,u)}function Fl(o,u){var h=o._getSortedVisibleDatasetMetas(),f,p,v,m,x,y;for(p=0,m=h.length;p<m;++p)for(f=h[p].data,v=0,x=f.length;v<x;++v)y=f[v],y._view.skip||u(y)}function Mv(o,u){var h=[];return Fl(o,function(f){f.inRange(u.x,u.y)&&h.push(f)}),h}function Dv(o,u,h,f){var p=Number.POSITIVE_INFINITY,v=[];return Fl(o,function(m){if(!(h&&!m.inRange(u.x,u.y))){var x=m.getCenterPoint(),y=f(u,x);y<p?(v=[m],p=y):y===p&&v.push(m)}}),v}function Rv(o){var u=o.indexOf("x")!==-1,h=o.indexOf("y")!==-1;return function(f,p){var v=u?Math.abs(f.x-p.x):0,m=h?Math.abs(f.y-p.y):0;return Math.sqrt(Math.pow(v,2)+Math.pow(m,2))}}function Nv(o,u,h){var f=Vs(u,o);h.axis=h.axis||"x";var p=Rv(h.axis),v=h.intersect?Mv(o,f):Dv(o,f,!1,p),m=[];return v.length?(o._getSortedVisibleDatasetMetas().forEach(function(x){var y=x.data[v[0]._index];y&&!y._view.skip&&m.push(y)}),m):[]}var Ka={modes:{single:function(o,u){var h=Vs(u,o),f=[];return Fl(o,function(p){if(p.inRange(h.x,h.y))return f.push(p),f}),f.slice(0,1)},label:Nv,index:Nv,dataset:function(o,u,h){var f=Vs(u,o);h.axis=h.axis||"xy";var p=Rv(h.axis),v=h.intersect?Mv(o,f):Dv(o,f,!1,p);return v.length>0&&(v=o.getDatasetMeta(v[0]._datasetIndex).data),v},"x-axis":function(o,u){return Nv(o,u,{intersect:!1})},point:function(o,u){var h=Vs(u,o);return Mv(o,h)},nearest:function(o,u,h){var f=Vs(u,o);h.axis=h.axis||"xy";var p=Rv(h.axis);return Dv(o,f,h.intersect,p)},x:function(o,u,h){var f=Vs(u,o),p=[],v=!1;return Fl(o,function(m){m.inXRange(f.x)&&p.push(m),m.inRange(f.x,f.y)&&(v=!0)}),h.intersect&&!v&&(p=[]),p},y:function(o,u,h){var f=Vs(u,o),p=[],v=!1;return Fl(o,function(m){m.inYRange(f.y)&&p.push(m),m.inRange(f.x,f.y)&&(v=!0)}),h.intersect&&!v&&(p=[]),p}}},Fv=O.extend;function Ll(o,u){return O.where(o,function(h){return h.pos===u})}function Ic(o,u){return o.sort(function(h,f){var p=u?f:h,v=u?h:f;return p.weight===v.weight?p.index-v.index:p.weight-v.weight})}function cR(o){var u=[],h,f,p;for(h=0,f=(o||[]).length;h<f;++h)p=o[h],u.push({index:h,box:p,pos:p.position,horizontal:p.isHorizontal(),weight:p.weight});return u}function fR(o,u){var h,f,p;for(h=0,f=o.length;h<f;++h)p=o[h],p.width=p.horizontal?p.box.fullWidth&&u.availableWidth:u.vBoxMaxWidth,p.height=p.horizontal&&u.hBoxMaxHeight}function dR(o){var u=cR(o),h=Ic(Ll(u,"left"),!0),f=Ic(Ll(u,"right")),p=Ic(Ll(u,"top"),!0),v=Ic(Ll(u,"bottom"));return{leftAndTop:h.concat(p),rightAndBottom:f.concat(v),chartArea:Ll(u,"chartArea"),vertical:h.concat(f),horizontal:p.concat(v)}}function fx(o,u,h,f){return Math.max(o[h],u[h])+Math.max(o[f],u[f])}function pR(o,u,h){var f=h.box,p=o.maxPadding,v,m;if(h.size&&(o[h.pos]-=h.size),h.size=h.horizontal?f.height:f.width,o[h.pos]+=h.size,f.getPadding){var x=f.getPadding();p.top=Math.max(p.top,x.top),p.left=Math.max(p.left,x.left),p.bottom=Math.max(p.bottom,x.bottom),p.right=Math.max(p.right,x.right)}if(v=u.outerWidth-fx(p,o,"left","right"),m=u.outerHeight-fx(p,o,"top","bottom"),v!==o.w||m!==o.h){o.w=v,o.h=m;var y=h.horizontal?[v,o.w]:[m,o.h];return y[0]!==y[1]&&(!isNaN(y[0])||!isNaN(y[1]))}}function vR(o){var u=o.maxPadding;function h(f){var p=Math.max(u[f]-o[f],0);return o[f]+=p,p}o.y+=h("top"),o.x+=h("left"),h("right"),h("bottom")}function gR(o,u){var h=u.maxPadding;function f(p){var v={left:0,top:0,right:0,bottom:0};return p.forEach(function(m){v[m]=Math.max(u[m],h[m])}),v}return f(o?["left","right"]:["top","bottom"])}function Pc(o,u,h){var f=[],p,v,m,x,y,b;for(p=0,v=o.length;p<v;++p)m=o[p],x=m.box,x.update(m.width||u.w,m.height||u.h,gR(m.horizontal,u)),pR(u,h,m)&&(b=!0,f.length&&(y=!0)),x.fullWidth||f.push(m);return y&&Pc(f,u,h)||b}function dx(o,u,h){var f=h.padding,p=u.x,v=u.y,m,x,y,b;for(m=0,x=o.length;m<x;++m)y=o[m],b=y.box,y.horizontal?(b.left=b.fullWidth?f.left:u.left,b.right=b.fullWidth?h.outerWidth-f.right:u.left+u.w,b.top=v,b.bottom=v+b.height,b.width=b.right-b.left,v=b.bottom):(b.left=p,b.right=p+b.width,b.top=u.top,b.bottom=u.top+u.h,b.height=b.bottom-b.top,p=b.right);u.x=p,u.y=v}me._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var an={defaults:{},addBox:function(o,u){o.boxes||(o.boxes=[]),u.fullWidth=u.fullWidth||!1,u.position=u.position||"top",u.weight=u.weight||0,u._layers=u._layers||function(){return[{z:0,draw:function(){u.draw.apply(u,arguments)}}]},o.boxes.push(u)},removeBox:function(o,u){var h=o.boxes?o.boxes.indexOf(u):-1;h!==-1&&o.boxes.splice(h,1)},configure:function(o,u,h){for(var f=["fullWidth","position","weight"],p=f.length,v=0,m;v<p;++v)m=f[v],h.hasOwnProperty(m)&&(u[m]=h[m])},update:function(o,u,h){if(o){var f=o.options.layout||{},p=O.options.toPadding(f.padding),v=u-p.width,m=h-p.height,x=dR(o.boxes),y=x.vertical,b=x.horizontal,C=Object.freeze({outerWidth:u,outerHeight:h,padding:p,availableWidth:v,vBoxMaxWidth:v/2/y.length,hBoxMaxHeight:m/2}),I=Fv({maxPadding:Fv({},p),w:v,h:m,x:p.left,y:p.top},p);fR(y.concat(b),C),Pc(y,I,C),Pc(b,I,C)&&Pc(y,I,C),vR(I),dx(x.leftAndTop,I,C),I.x+=I.w,I.y+=I.h,dx(x.rightAndBottom,I,C),o.chartArea={left:I.left,top:I.top,right:I.left+I.w,bottom:I.top+I.h},O.each(x.chartArea,function(D){var N=D.box;Fv(N,o.chartArea),N.update(I.w,I.h)})}}},mR={acquireContext:function(o){return o&&o.canvas&&(o=o.canvas),o&&o.getContext("2d")||null}},yR=`/*\r
 * DOM element rendering detection\r
 * https://davidwalsh.name/detect-node-insertion\r
 */\r
@keyframes chartjs-render-animation {\r
	from { opacity: 0.99; }\r
	to { opacity: 1; }\r
}\r
\r
.chartjs-render-monitor {\r
	animation: chartjs-render-animation 0.001s;\r
}\r
\r
/*\r
 * DOM element resizing detection\r
 * https://github.com/marcj/css-element-queries\r
 */\r
.chartjs-size-monitor,\r
.chartjs-size-monitor-expand,\r
.chartjs-size-monitor-shrink {\r
	position: absolute;\r
	direction: ltr;\r
	left: 0;\r
	top: 0;\r
	right: 0;\r
	bottom: 0;\r
	overflow: hidden;\r
	pointer-events: none;\r
	visibility: hidden;\r
	z-index: -1;\r
}\r
\r
.chartjs-size-monitor-expand > div {\r
	position: absolute;\r
	width: 1000000px;\r
	height: 1000000px;\r
	left: 0;\r
	top: 0;\r
}\r
\r
.chartjs-size-monitor-shrink > div {\r
	position: absolute;\r
	width: 200%;\r
	height: 200%;\r
	left: 0;\r
	top: 0;\r
}\r
`,_R=Object.freeze({__proto__:null,default:yR}),wR=i(_R),Pr="$chartjs",Lv="chartjs-",Uv=Lv+"size-monitor",px=Lv+"render-monitor",xR=Lv+"render-animation",vx=["animationstart","webkitAnimationStart"],bR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function gx(o,u){var h=O.getStyle(o,u),f=h&&h.match(/^(\d+)(\.\d+)?px$/);return f?Number(f[1]):void 0}function TR(o,u){var h=o.style,f=o.getAttribute("height"),p=o.getAttribute("width");if(o[Pr]={initial:{height:f,width:p,style:{display:h.display,height:h.height,width:h.width}}},h.display=h.display||"block",p===null||p===""){var v=gx(o,"width");v!==void 0&&(o.width=v)}if(f===null||f==="")if(o.style.height==="")o.height=o.width/(u.options.aspectRatio||2);else{var m=gx(o,"height");v!==void 0&&(o.height=m)}return o}var SR=function(){var o=!1;try{var u=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("e",null,u)}catch{}return o}(),mx=SR?{passive:!0}:!1;function Ul(o,u,h){o.addEventListener(u,h,mx)}function Bv(o,u,h){o.removeEventListener(u,h,mx)}function Vv(o,u,h,f,p){return{type:o,chart:u,native:p||null,x:h!==void 0?h:null,y:f!==void 0?f:null}}function ER(o,u){var h=bR[o.type]||o.type,f=O.getRelativePosition(o,u);return Vv(h,u,f.x,f.y,o)}function CR(o,u){var h=!1,f=[];return function(){f=Array.prototype.slice.call(arguments),u=u||this,h||(h=!0,O.requestAnimFrame.call(window,function(){h=!1,o.apply(u,f)}))}}function Bl(o){var u=document.createElement("div");return u.className=o||"",u}function IR(o){var u=1e6,h=Bl(Uv),f=Bl(Uv+"-expand"),p=Bl(Uv+"-shrink");f.appendChild(Bl()),p.appendChild(Bl()),h.appendChild(f),h.appendChild(p),h._reset=function(){f.scrollLeft=u,f.scrollTop=u,p.scrollLeft=u,p.scrollTop=u};var v=function(){h._reset(),o()};return Ul(f,"scroll",v.bind(f,"expand")),Ul(p,"scroll",v.bind(p,"shrink")),h}function PR(o,u){var h=o[Pr]||(o[Pr]={}),f=h.renderProxy=function(p){p.animationName===xR&&u()};O.each(vx,function(p){Ul(o,p,f)}),h.reflow=!!o.offsetParent,o.classList.add(px)}function AR(o){var u=o[Pr]||{},h=u.renderProxy;h&&(O.each(vx,function(f){Bv(o,f,h)}),delete u.renderProxy),o.classList.remove(px)}function kR(o,u,h){var f=o[Pr]||(o[Pr]={}),p=f.resizer=IR(CR(function(){if(f.resizer){var v=h.options.maintainAspectRatio&&o.parentNode,m=v?v.clientWidth:0;u(Vv("resize",h)),v&&v.clientWidth<m&&h.canvas&&u(Vv("resize",h))}}));PR(o,function(){if(f.resizer){var v=o.parentNode;v&&v!==p.parentNode&&v.insertBefore(p,v.firstChild),p._reset()}})}function OR(o){var u=o[Pr]||{},h=u.resizer;delete u.resizer,AR(o),h&&h.parentNode&&h.parentNode.removeChild(h)}function MR(o,u){var h=o[Pr]||(o[Pr]={});if(!h.containsStyles){h.containsStyles=!0,u=`/* Chart.js */
`+u;var f=document.createElement("style");f.setAttribute("type","text/css"),f.appendChild(document.createTextNode(u)),o.appendChild(f)}}var yx={disableCSSInjection:!1,_enabled:typeof window<"u"&&typeof document<"u",_ensureLoaded:function(o){if(!this.disableCSSInjection){var u=o.getRootNode?o.getRootNode():document,h=u.host?u:document.head;MR(h,wR)}},acquireContext:function(o,u){typeof o=="string"?o=document.getElementById(o):o.length&&(o=o[0]),o&&o.canvas&&(o=o.canvas);var h=o&&o.getContext&&o.getContext("2d");return h&&h.canvas===o?(this._ensureLoaded(o),TR(o,u),h):null},releaseContext:function(o){var u=o.canvas;if(u[Pr]){var h=u[Pr].initial;["height","width"].forEach(function(f){var p=h[f];O.isNullOrUndef(p)?u.removeAttribute(f):u.setAttribute(f,p)}),O.each(h.style||{},function(f,p){u.style[p]=f}),u.width=u.width,delete u[Pr]}},addEventListener:function(o,u,h){var f=o.canvas;if(u==="resize"){kR(f,h,o);return}var p=h[Pr]||(h[Pr]={}),v=p.proxies||(p.proxies={}),m=v[o.id+"_"+u]=function(x){h(ER(x,o))};Ul(f,u,m)},removeEventListener:function(o,u,h){var f=o.canvas;if(u==="resize"){OR(f);return}var p=h[Pr]||{},v=p.proxies||{},m=v[o.id+"_"+u];m&&Bv(f,u,m)}};O.addEvent=Ul,O.removeEvent=Bv;var DR=yx._enabled?yx:mR,Qa=O.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},DR);me._set("global",{plugins:{}});var ht={_plugins:[],_cacheId:0,register:function(o){var u=this._plugins;[].concat(o).forEach(function(h){u.indexOf(h)===-1&&u.push(h)}),this._cacheId++},unregister:function(o){var u=this._plugins;[].concat(o).forEach(function(h){var f=u.indexOf(h);f!==-1&&u.splice(f,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(o,u,h){var f=this.descriptors(o),p=f.length,v,m,x,y,b;for(v=0;v<p;++v)if(m=f[v],x=m.plugin,b=x[u],typeof b=="function"&&(y=[o].concat(h||[]),y.push(m.options),b.apply(x,y)===!1))return!1;return!0},descriptors:function(o){var u=o.$plugins||(o.$plugins={});if(u.id===this._cacheId)return u.descriptors;var h=[],f=[],p=o&&o.config||{},v=p.options&&p.options.plugins||{};return this._plugins.concat(p.plugins||[]).forEach(function(m){var x=h.indexOf(m);if(x===-1){var y=m.id,b=v[y];b!==!1&&(b===!0&&(b=O.clone(me.global.plugins[y])),h.push(m),f.push({plugin:m,options:b||{}}))}}),u.descriptors=f,u.id=this._cacheId,f},_invalidate:function(o){delete o.$plugins}},Vl={constructors:{},defaults:{},registerScaleType:function(o,u,h){this.constructors[o]=u,this.defaults[o]=O.clone(h)},getScaleConstructor:function(o){return this.constructors.hasOwnProperty(o)?this.constructors[o]:void 0},getScaleDefaults:function(o){return this.defaults.hasOwnProperty(o)?O.merge(Object.create(null),[me.scale,this.defaults[o]]):{}},updateScaleDefaults:function(o,u){var h=this;h.defaults.hasOwnProperty(o)&&(h.defaults[o]=O.extend(h.defaults[o],u))},addScalesToLayout:function(o){O.each(o.scales,function(u){u.fullWidth=u.options.fullWidth,u.position=u.options.position,u.weight=u.options.weight,an.addBox(o,u)})}},ii=O.valueOrDefault,zv=O.rtl.getRtlAdapter;me._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:O.noop,title:function(o,u){var h="",f=u.labels,p=f?f.length:0;if(o.length>0){var v=o[0];v.label?h=v.label:v.xLabel?h=v.xLabel:p>0&&v.index<p&&(h=f[v.index])}return h},afterTitle:O.noop,beforeBody:O.noop,beforeLabel:O.noop,label:function(o,u){var h=u.datasets[o.datasetIndex].label||"";return h&&(h+=": "),O.isNullOrUndef(o.value)?h+=o.yLabel:h+=o.value,h},labelColor:function(o,u){var h=u.getDatasetMeta(o.datasetIndex),f=h.data[o.index],p=f._view;return{borderColor:p.borderColor,backgroundColor:p.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:O.noop,afterBody:O.noop,beforeFooter:O.noop,footer:O.noop,afterFooter:O.noop}}});var _x={average:function(o){if(!o.length)return!1;var u,h,f=0,p=0,v=0;for(u=0,h=o.length;u<h;++u){var m=o[u];if(m&&m.hasValue()){var x=m.tooltipPosition();f+=x.x,p+=x.y,++v}}return{x:f/v,y:p/v}},nearest:function(o,u){var h=u.x,f=u.y,p=Number.POSITIVE_INFINITY,v,m,x;for(v=0,m=o.length;v<m;++v){var y=o[v];if(y&&y.hasValue()){var b=y.getCenterPoint(),C=O.distanceBetweenPoints(u,b);C<p&&(p=C,x=y)}}if(x){var I=x.tooltipPosition();h=I.x,f=I.y}return{x:h,y:f}}};function Mn(o,u){return u&&(O.isArray(u)?Array.prototype.push.apply(o,u):o.push(u)),o}function si(o){return(typeof o=="string"||o instanceof String)&&o.indexOf(`
`)>-1?o.split(`
`):o}function RR(o){var u=o._xScale,h=o._yScale||o._scale,f=o._index,p=o._datasetIndex,v=o._chart.getDatasetMeta(p).controller,m=v._getIndexScale(),x=v._getValueScale();return{xLabel:u?u.getLabelForIndex(f,p):"",yLabel:h?h.getLabelForIndex(f,p):"",label:m?""+m.getLabelForIndex(f,p):"",value:x?""+x.getLabelForIndex(f,p):"",index:f,datasetIndex:p,x:o._model.x,y:o._model.y}}function wx(o){var u=me.global;return{xPadding:o.xPadding,yPadding:o.yPadding,xAlign:o.xAlign,yAlign:o.yAlign,rtl:o.rtl,textDirection:o.textDirection,bodyFontColor:o.bodyFontColor,_bodyFontFamily:ii(o.bodyFontFamily,u.defaultFontFamily),_bodyFontStyle:ii(o.bodyFontStyle,u.defaultFontStyle),_bodyAlign:o.bodyAlign,bodyFontSize:ii(o.bodyFontSize,u.defaultFontSize),bodySpacing:o.bodySpacing,titleFontColor:o.titleFontColor,_titleFontFamily:ii(o.titleFontFamily,u.defaultFontFamily),_titleFontStyle:ii(o.titleFontStyle,u.defaultFontStyle),titleFontSize:ii(o.titleFontSize,u.defaultFontSize),_titleAlign:o.titleAlign,titleSpacing:o.titleSpacing,titleMarginBottom:o.titleMarginBottom,footerFontColor:o.footerFontColor,_footerFontFamily:ii(o.footerFontFamily,u.defaultFontFamily),_footerFontStyle:ii(o.footerFontStyle,u.defaultFontStyle),footerFontSize:ii(o.footerFontSize,u.defaultFontSize),_footerAlign:o.footerAlign,footerSpacing:o.footerSpacing,footerMarginTop:o.footerMarginTop,caretSize:o.caretSize,cornerRadius:o.cornerRadius,backgroundColor:o.backgroundColor,opacity:0,legendColorBackground:o.multiKeyBackground,displayColors:o.displayColors,borderColor:o.borderColor,borderWidth:o.borderWidth}}function NR(o,u){var h=o._chart.ctx,f=u.yPadding*2,p=0,v=u.body,m=v.reduce(function(F,B){return F+B.before.length+B.lines.length+B.after.length},0);m+=u.beforeBody.length+u.afterBody.length;var x=u.title.length,y=u.footer.length,b=u.titleFontSize,C=u.bodyFontSize,I=u.footerFontSize;f+=x*b,f+=x?(x-1)*u.titleSpacing:0,f+=x?u.titleMarginBottom:0,f+=m*C,f+=m?(m-1)*u.bodySpacing:0,f+=y?u.footerMarginTop:0,f+=y*I,f+=y?(y-1)*u.footerSpacing:0;var D=0,N=function(F){p=Math.max(p,h.measureText(F).width+D)};return h.font=O.fontString(b,u._titleFontStyle,u._titleFontFamily),O.each(u.title,N),h.font=O.fontString(C,u._bodyFontStyle,u._bodyFontFamily),O.each(u.beforeBody.concat(u.afterBody),N),D=u.displayColors?C+2:0,O.each(v,function(F){O.each(F.before,N),O.each(F.lines,N),O.each(F.after,N)}),D=0,h.font=O.fontString(I,u._footerFontStyle,u._footerFontFamily),O.each(u.footer,N),p+=2*u.xPadding,{width:p,height:f}}function FR(o,u){var h=o._model,f=o._chart,p=o._chart.chartArea,v="center",m="center";h.y<u.height?m="top":h.y>f.height-u.height&&(m="bottom");var x,y,b,C,I,D=(p.left+p.right)/2,N=(p.top+p.bottom)/2;m==="center"?(x=function(B){return B<=D},y=function(B){return B>D}):(x=function(B){return B<=u.width/2},y=function(B){return B>=f.width-u.width/2}),b=function(B){return B+u.width+h.caretSize+h.caretPadding>f.width},C=function(B){return B-u.width-h.caretSize-h.caretPadding<0},I=function(B){return B<=N?"top":"bottom"},x(h.x)?(v="left",b(h.x)&&(v="center",m=I(h.y))):y(h.x)&&(v="right",C(h.x)&&(v="center",m=I(h.y)));var F=o._options;return{xAlign:F.xAlign?F.xAlign:v,yAlign:F.yAlign?F.yAlign:m}}function LR(o,u,h,f){var p=o.x,v=o.y,m=o.caretSize,x=o.caretPadding,y=o.cornerRadius,b=h.xAlign,C=h.yAlign,I=m+x,D=y+x;return b==="right"?p-=u.width:b==="center"&&(p-=u.width/2,p+u.width>f.width&&(p=f.width-u.width),p<0&&(p=0)),C==="top"?v+=I:C==="bottom"?v-=u.height+I:v-=u.height/2,C==="center"?b==="left"?p+=I:b==="right"&&(p-=I):b==="left"?p-=D:b==="right"&&(p+=D),{x:p,y:v}}function Ac(o,u){return u==="center"?o.x+o.width/2:u==="right"?o.x+o.width-o.xPadding:o.x+o.xPadding}function xx(o){return Mn([],si(o))}var UR=kn.extend({initialize:function(){this._model=wx(this._options),this._lastActive=[]},getTitle:function(){var o=this,u=o._options,h=u.callbacks,f=h.beforeTitle.apply(o,arguments),p=h.title.apply(o,arguments),v=h.afterTitle.apply(o,arguments),m=[];return m=Mn(m,si(f)),m=Mn(m,si(p)),m=Mn(m,si(v)),m},getBeforeBody:function(){return xx(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(o,u){var h=this,f=h._options.callbacks,p=[];return O.each(o,function(v){var m={before:[],lines:[],after:[]};Mn(m.before,si(f.beforeLabel.call(h,v,u))),Mn(m.lines,f.label.call(h,v,u)),Mn(m.after,si(f.afterLabel.call(h,v,u))),p.push(m)}),p},getAfterBody:function(){return xx(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var o=this,u=o._options.callbacks,h=u.beforeFooter.apply(o,arguments),f=u.footer.apply(o,arguments),p=u.afterFooter.apply(o,arguments),v=[];return v=Mn(v,si(h)),v=Mn(v,si(f)),v=Mn(v,si(p)),v},update:function(o){var u=this,h=u._options,f=u._model,p=u._model=wx(h),v=u._active,m=u._data,x={xAlign:f.xAlign,yAlign:f.yAlign},y={x:f.x,y:f.y},b={width:f.width,height:f.height},C={x:f.caretX,y:f.caretY},I,D;if(v.length){p.opacity=1;var N=[],F=[];C=_x[h.position].call(u,v,u._eventPosition);var B=[];for(I=0,D=v.length;I<D;++I)B.push(RR(v[I]));h.filter&&(B=B.filter(function(z){return h.filter(z,m)})),h.itemSort&&(B=B.sort(function(z,Y){return h.itemSort(z,Y,m)})),O.each(B,function(z){N.push(h.callbacks.labelColor.call(u,z,u._chart)),F.push(h.callbacks.labelTextColor.call(u,z,u._chart))}),p.title=u.getTitle(B,m),p.beforeBody=u.getBeforeBody(B,m),p.body=u.getBody(B,m),p.afterBody=u.getAfterBody(B,m),p.footer=u.getFooter(B,m),p.x=C.x,p.y=C.y,p.caretPadding=h.caretPadding,p.labelColors=N,p.labelTextColors=F,p.dataPoints=B,b=NR(this,p),x=FR(this,b),y=LR(p,b,x,u._chart)}else p.opacity=0;return p.xAlign=x.xAlign,p.yAlign=x.yAlign,p.x=y.x,p.y=y.y,p.width=b.width,p.height=b.height,p.caretX=C.x,p.caretY=C.y,u._model=p,o&&h.custom&&h.custom.call(u,p),u},drawCaret:function(o,u){var h=this._chart.ctx,f=this._view,p=this.getCaretPosition(o,u,f);h.lineTo(p.x1,p.y1),h.lineTo(p.x2,p.y2),h.lineTo(p.x3,p.y3)},getCaretPosition:function(o,u,h){var f,p,v,m,x,y,b=h.caretSize,C=h.cornerRadius,I=h.xAlign,D=h.yAlign,N=o.x,F=o.y,B=u.width,z=u.height;if(D==="center")x=F+z/2,I==="left"?(f=N,p=f-b,v=f,m=x+b,y=x-b):(f=N+B,p=f+b,v=f,m=x-b,y=x+b);else if(I==="left"?(p=N+C+b,f=p-b,v=p+b):I==="right"?(p=N+B-C-b,f=p-b,v=p+b):(p=h.caretX,f=p-b,v=p+b),D==="top")m=F,x=m-b,y=m;else{m=F+z,x=m+b,y=m;var Y=v;v=f,f=Y}return{x1:f,x2:p,x3:v,y1:m,y2:x,y3:y}},drawTitle:function(o,u,h){var f=u.title,p=f.length,v,m,x;if(p){var y=zv(u.rtl,u.x,u.width);for(o.x=Ac(u,u._titleAlign),h.textAlign=y.textAlign(u._titleAlign),h.textBaseline="middle",v=u.titleFontSize,m=u.titleSpacing,h.fillStyle=u.titleFontColor,h.font=O.fontString(v,u._titleFontStyle,u._titleFontFamily),x=0;x<p;++x)h.fillText(f[x],y.x(o.x),o.y+v/2),o.y+=v+m,x+1===p&&(o.y+=u.titleMarginBottom-m)}},drawBody:function(o,u,h){var f=u.bodyFontSize,p=u.bodySpacing,v=u._bodyAlign,m=u.body,x=u.displayColors,y=0,b=x?Ac(u,"left"):0,C=zv(u.rtl,u.x,u.width),I=function(Qe){h.fillText(Qe,C.x(o.x+y),o.y+f/2),o.y+=f+p},D,N,F,B,z,Y,ce,ve,Ne=C.textAlign(v);for(h.textAlign=v,h.textBaseline="middle",h.font=O.fontString(f,u._bodyFontStyle,u._bodyFontFamily),o.x=Ac(u,Ne),h.fillStyle=u.bodyFontColor,O.each(u.beforeBody,I),y=x&&Ne!=="right"?v==="center"?f/2+1:f+2:0,z=0,ce=m.length;z<ce;++z){for(D=m[z],N=u.labelTextColors[z],F=u.labelColors[z],h.fillStyle=N,O.each(D.before,I),B=D.lines,Y=0,ve=B.length;Y<ve;++Y){if(x){var De=C.x(b);h.fillStyle=u.legendColorBackground,h.fillRect(C.leftForLtr(De,f),o.y,f,f),h.lineWidth=1,h.strokeStyle=F.borderColor,h.strokeRect(C.leftForLtr(De,f),o.y,f,f),h.fillStyle=F.backgroundColor,h.fillRect(C.leftForLtr(C.xPlus(De,1),f-2),o.y+1,f-2,f-2),h.fillStyle=N}I(B[Y])}O.each(D.after,I)}y=0,O.each(u.afterBody,I),o.y-=p},drawFooter:function(o,u,h){var f=u.footer,p=f.length,v,m;if(p){var x=zv(u.rtl,u.x,u.width);for(o.x=Ac(u,u._footerAlign),o.y+=u.footerMarginTop,h.textAlign=x.textAlign(u._footerAlign),h.textBaseline="middle",v=u.footerFontSize,h.fillStyle=u.footerFontColor,h.font=O.fontString(v,u._footerFontStyle,u._footerFontFamily),m=0;m<p;++m)h.fillText(f[m],x.x(o.x),o.y+v/2),o.y+=v+u.footerSpacing}},drawBackground:function(o,u,h,f){h.fillStyle=u.backgroundColor,h.strokeStyle=u.borderColor,h.lineWidth=u.borderWidth;var p=u.xAlign,v=u.yAlign,m=o.x,x=o.y,y=f.width,b=f.height,C=u.cornerRadius;h.beginPath(),h.moveTo(m+C,x),v==="top"&&this.drawCaret(o,f),h.lineTo(m+y-C,x),h.quadraticCurveTo(m+y,x,m+y,x+C),v==="center"&&p==="right"&&this.drawCaret(o,f),h.lineTo(m+y,x+b-C),h.quadraticCurveTo(m+y,x+b,m+y-C,x+b),v==="bottom"&&this.drawCaret(o,f),h.lineTo(m+C,x+b),h.quadraticCurveTo(m,x+b,m,x+b-C),v==="center"&&p==="left"&&this.drawCaret(o,f),h.lineTo(m,x+C),h.quadraticCurveTo(m,x,m+C,x),h.closePath(),h.fill(),u.borderWidth>0&&h.stroke()},draw:function(){var o=this._chart.ctx,u=this._view;if(u.opacity!==0){var h={width:u.width,height:u.height},f={x:u.x,y:u.y},p=Math.abs(u.opacity<.001)?0:u.opacity,v=u.title.length||u.beforeBody.length||u.body.length||u.afterBody.length||u.footer.length;this._options.enabled&&v&&(o.save(),o.globalAlpha=p,this.drawBackground(f,u,o,h),f.y+=u.yPadding,O.rtl.overrideTextDirection(o,u.textDirection),this.drawTitle(f,u,o),this.drawBody(f,u,o),this.drawFooter(f,u,o),O.rtl.restoreTextDirection(o,u.textDirection),o.restore())}},handleEvent:function(o){var u=this,h=u._options,f=!1;return u._lastActive=u._lastActive||[],o.type==="mouseout"?u._active=[]:(u._active=u._chart.getElementsAtEventForMode(o,h.mode,h),h.reverse&&u._active.reverse()),f=!O.arrayEquals(u._active,u._lastActive),f&&(u._lastActive=u._active,(h.enabled||h.custom)&&(u._eventPosition={x:o.x,y:o.y},u.update(!0),u.pivot())),f}}),BR=_x,$v=UR;$v.positioners=BR;var Hv=O.valueOrDefault;me._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});function bx(){return O.merge(Object.create(null),[].slice.call(arguments),{merger:function(o,u,h,f){if(o==="xAxes"||o==="yAxes"){var p=h[o].length,v,m,x;for(u[o]||(u[o]=[]),v=0;v<p;++v)x=h[o][v],m=Hv(x.type,o==="xAxes"?"category":"linear"),v>=u[o].length&&u[o].push({}),!u[o][v].type||x.type&&x.type!==u[o][v].type?O.merge(u[o][v],[Vl.getScaleDefaults(m),x]):O.merge(u[o][v],x)}else O._merger(o,u,h,f)}})}function jv(){return O.merge(Object.create(null),[].slice.call(arguments),{merger:function(o,u,h,f){var p=u[o]||Object.create(null),v=h[o];o==="scales"?u[o]=bx(p,v):o==="scale"?u[o]=O.merge(p,[Vl.getScaleDefaults(v.type),v]):O._merger(o,u,h,f)}})}function VR(o){o=o||Object.create(null);var u=o.data=o.data||{};return u.datasets=u.datasets||[],u.labels=u.labels||[],o.options=jv(me.global,me[o.type],o.options||{}),o}function zR(o){var u=o.options;O.each(o.scales,function(h){an.removeBox(o,h)}),u=jv(me.global,me[o.config.type],u),o.options=o.config.options=u,o.ensureScalesHaveIDs(),o.buildOrUpdateScales(),o.tooltip._options=u.tooltips,o.tooltip.initialize()}function Tx(o,u,h){var f,p=function(v){return v.id===f};do f=u+h++;while(O.findIndex(o,p)>=0);return f}function Sx(o){return o==="top"||o==="bottom"}function Ex(o,u){return function(h,f){return h[o]===f[o]?h[u]-f[u]:h[o]-f[o]}}var zi=function(o,u){return this.construct(o,u),this};O.extend(zi.prototype,{construct:function(o,u){var h=this;u=VR(u);var f=Qa.acquireContext(o,u),p=f&&f.canvas,v=p&&p.height,m=p&&p.width;if(h.id=O.uid(),h.ctx=f,h.canvas=p,h.config=u,h.width=m,h.height=v,h.aspectRatio=v?m/v:null,h.options=u.options,h._bufferedRender=!1,h._layers=[],h.chart=h,h.controller=h,zi.instances[h.id]=h,Object.defineProperty(h,"data",{get:function(){return h.config.data},set:function(x){h.config.data=x}}),!f||!p){console.error("Failed to create chart: can't acquire context from the given item");return}h.initialize(),h.update()},initialize:function(){var o=this;return ht.notify(o,"beforeInit"),O.retinaScale(o,o.options.devicePixelRatio),o.bindEvents(),o.options.responsive&&o.resize(!0),o.initToolTip(),ht.notify(o,"afterInit"),o},clear:function(){return O.canvas.clear(this),this},stop:function(){return Pv.cancelAnimation(this),this},resize:function(o){var u=this,h=u.options,f=u.canvas,p=h.maintainAspectRatio&&u.aspectRatio||null,v=Math.max(0,Math.floor(O.getMaximumWidth(f))),m=Math.max(0,Math.floor(p?v/p:O.getMaximumHeight(f)));if(!(u.width===v&&u.height===m)&&(f.width=u.width=v,f.height=u.height=m,f.style.width=v+"px",f.style.height=m+"px",O.retinaScale(u,h.devicePixelRatio),!o)){var x={width:v,height:m};ht.notify(u,"resize",[x]),h.onResize&&h.onResize(u,x),u.stop(),u.update({duration:h.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var o=this.options,u=o.scales||{},h=o.scale;O.each(u.xAxes,function(f,p){f.id||(f.id=Tx(u.xAxes,"x-axis-",p))}),O.each(u.yAxes,function(f,p){f.id||(f.id=Tx(u.yAxes,"y-axis-",p))}),h&&(h.id=h.id||"scale")},buildOrUpdateScales:function(){var o=this,u=o.options,h=o.scales||{},f=[],p=Object.keys(h).reduce(function(v,m){return v[m]=!1,v},{});u.scales&&(f=f.concat((u.scales.xAxes||[]).map(function(v){return{options:v,dtype:"category",dposition:"bottom"}}),(u.scales.yAxes||[]).map(function(v){return{options:v,dtype:"linear",dposition:"left"}}))),u.scale&&f.push({options:u.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),O.each(f,function(v){var m=v.options,x=m.id,y=Hv(m.type,v.dtype);Sx(m.position)!==Sx(v.dposition)&&(m.position=v.dposition),p[x]=!0;var b=null;if(x in h&&h[x].type===y)b=h[x],b.options=m,b.ctx=o.ctx,b.chart=o;else{var C=Vl.getScaleConstructor(y);if(!C)return;b=new C({id:x,type:y,options:m,ctx:o.ctx,chart:o}),h[b.id]=b}b.mergeTicksOptions(),v.isDefault&&(o.scale=b)}),O.each(p,function(v,m){v||delete h[m]}),o.scales=h,Vl.addScalesToLayout(this)},buildOrUpdateControllers:function(){var o=this,u=[],h=o.data.datasets,f,p;for(f=0,p=h.length;f<p;f++){var v=h[f],m=o.getDatasetMeta(f),x=v.type||o.config.type;if(m.type&&m.type!==x&&(o.destroyDatasetMeta(f),m=o.getDatasetMeta(f)),m.type=x,m.order=v.order||0,m.index=f,m.controller)m.controller.updateIndex(f),m.controller.linkScales();else{var y=cx[m.type];if(y===void 0)throw new Error('"'+m.type+'" is not a chart type.');m.controller=new y(o,f),u.push(m.controller)}}return u},resetElements:function(){var o=this;O.each(o.data.datasets,function(u,h){o.getDatasetMeta(h).controller.reset()},o)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(o){var u=this,h,f;if((!o||typeof o!="object")&&(o={duration:o,lazy:arguments[1]}),zR(u),ht._invalidate(u),ht.notify(u,"beforeUpdate")!==!1){u.tooltip._data=u.data;var p=u.buildOrUpdateControllers();for(h=0,f=u.data.datasets.length;h<f;h++)u.getDatasetMeta(h).controller.buildOrUpdateElements();u.updateLayout(),u.options.animation&&u.options.animation.duration&&O.each(p,function(v){v.reset()}),u.updateDatasets(),u.tooltip.initialize(),u.lastActive=[],ht.notify(u,"afterUpdate"),u._layers.sort(Ex("z","_idx")),u._bufferedRender?u._bufferedRequest={duration:o.duration,easing:o.easing,lazy:o.lazy}:u.render(o)}},updateLayout:function(){var o=this;ht.notify(o,"beforeLayout")!==!1&&(an.update(this,this.width,this.height),o._layers=[],O.each(o.boxes,function(u){u._configure&&u._configure(),o._layers.push.apply(o._layers,u._layers())},o),o._layers.forEach(function(u,h){u._idx=h}),ht.notify(o,"afterScaleUpdate"),ht.notify(o,"afterLayout"))},updateDatasets:function(){var o=this;if(ht.notify(o,"beforeDatasetsUpdate")!==!1){for(var u=0,h=o.data.datasets.length;u<h;++u)o.updateDataset(u);ht.notify(o,"afterDatasetsUpdate")}},updateDataset:function(o){var u=this,h=u.getDatasetMeta(o),f={meta:h,index:o};ht.notify(u,"beforeDatasetUpdate",[f])!==!1&&(h.controller._update(),ht.notify(u,"afterDatasetUpdate",[f]))},render:function(o){var u=this;(!o||typeof o!="object")&&(o={duration:o,lazy:arguments[1]});var h=u.options.animation,f=Hv(o.duration,h&&h.duration),p=o.lazy;if(ht.notify(u,"beforeRender")!==!1){var v=function(x){ht.notify(u,"afterRender"),O.callback(h&&h.onComplete,[x],u)};if(h&&f){var m=new Iv({numSteps:f/16.66,easing:o.easing||h.easing,render:function(x,y){var b=O.easing.effects[y.easing],C=y.currentStep,I=C/y.numSteps;x.draw(b(I),I,C)},onAnimationProgress:h.onProgress,onAnimationComplete:v});Pv.addAnimation(u,m,f,p)}else u.draw(),v(new Iv({numSteps:0,chart:u}));return u}},draw:function(o){var u=this,h,f;if(u.clear(),O.isNullOrUndef(o)&&(o=1),u.transition(o),!(u.width<=0||u.height<=0)&&ht.notify(u,"beforeDraw",[o])!==!1){for(f=u._layers,h=0;h<f.length&&f[h].z<=0;++h)f[h].draw(u.chartArea);for(u.drawDatasets(o);h<f.length;++h)f[h].draw(u.chartArea);u._drawTooltip(o),ht.notify(u,"afterDraw",[o])}},transition:function(o){for(var u=this,h=0,f=(u.data.datasets||[]).length;h<f;++h)u.isDatasetVisible(h)&&u.getDatasetMeta(h).controller.transition(o);u.tooltip.transition(o)},_getSortedDatasetMetas:function(o){var u=this,h=u.data.datasets||[],f=[],p,v;for(p=0,v=h.length;p<v;++p)(!o||u.isDatasetVisible(p))&&f.push(u.getDatasetMeta(p));return f.sort(Ex("order","index")),f},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(o){var u=this,h,f;if(ht.notify(u,"beforeDatasetsDraw",[o])!==!1){for(h=u._getSortedVisibleDatasetMetas(),f=h.length-1;f>=0;--f)u.drawDataset(h[f],o);ht.notify(u,"afterDatasetsDraw",[o])}},drawDataset:function(o,u){var h=this,f={meta:o,index:o.index,easingValue:u};ht.notify(h,"beforeDatasetDraw",[f])!==!1&&(o.controller.draw(u),ht.notify(h,"afterDatasetDraw",[f]))},_drawTooltip:function(o){var u=this,h=u.tooltip,f={tooltip:h,easingValue:o};ht.notify(u,"beforeTooltipDraw",[f])!==!1&&(h.draw(),ht.notify(u,"afterTooltipDraw",[f]))},getElementAtEvent:function(o){return Ka.modes.single(this,o)},getElementsAtEvent:function(o){return Ka.modes.label(this,o,{intersect:!0})},getElementsAtXAxis:function(o){return Ka.modes["x-axis"](this,o,{intersect:!0})},getElementsAtEventForMode:function(o,u,h){var f=Ka.modes[u];return typeof f=="function"?f(this,o,h):[]},getDatasetAtEvent:function(o){return Ka.modes.dataset(this,o,{intersect:!0})},getDatasetMeta:function(o){var u=this,h=u.data.datasets[o];h._meta||(h._meta={});var f=h._meta[u.id];return f||(f=h._meta[u.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:h.order||0,index:o}),f},getVisibleDatasetCount:function(){for(var o=0,u=0,h=this.data.datasets.length;u<h;++u)this.isDatasetVisible(u)&&o++;return o},isDatasetVisible:function(o){var u=this.getDatasetMeta(o);return typeof u.hidden=="boolean"?!u.hidden:!this.data.datasets[o].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(o){var u=this.id,h=this.data.datasets[o],f=h._meta&&h._meta[u];f&&(f.controller.destroy(),delete h._meta[u])},destroy:function(){var o=this,u=o.canvas,h,f;for(o.stop(),h=0,f=o.data.datasets.length;h<f;++h)o.destroyDatasetMeta(h);u&&(o.unbindEvents(),O.canvas.clear(o),Qa.releaseContext(o.ctx),o.canvas=null,o.ctx=null),ht.notify(o,"destroy"),delete zi.instances[o.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var o=this;o.tooltip=new $v({_chart:o,_chartInstance:o,_data:o.data,_options:o.options.tooltips},o)},bindEvents:function(){var o=this,u=o._listeners={},h=function(){o.eventHandler.apply(o,arguments)};O.each(o.options.events,function(f){Qa.addEventListener(o,f,h),u[f]=h}),o.options.responsive&&(h=function(){o.resize()},Qa.addEventListener(o,"resize",h),u.resize=h)},unbindEvents:function(){var o=this,u=o._listeners;u&&(delete o._listeners,O.each(u,function(h,f){Qa.removeEventListener(o,f,h)}))},updateHoverStyle:function(o,u,h){var f=h?"set":"remove",p,v,m;for(v=0,m=o.length;v<m;++v)p=o[v],p&&this.getDatasetMeta(p._datasetIndex).controller[f+"HoverStyle"](p);u==="dataset"&&this.getDatasetMeta(o[0]._datasetIndex).controller["_"+f+"DatasetHoverStyle"]()},eventHandler:function(o){var u=this,h=u.tooltip;if(ht.notify(u,"beforeEvent",[o])!==!1){u._bufferedRender=!0,u._bufferedRequest=null;var f=u.handleEvent(o);h&&(f=h._start?h.handleEvent(o):f|h.handleEvent(o)),ht.notify(u,"afterEvent",[o]);var p=u._bufferedRequest;return p?u.render(p):f&&!u.animating&&(u.stop(),u.render({duration:u.options.hover.animationDuration,lazy:!0})),u._bufferedRender=!1,u._bufferedRequest=null,u}},handleEvent:function(o){var u=this,h=u.options||{},f=h.hover,p=!1;return u.lastActive=u.lastActive||[],o.type==="mouseout"?u.active=[]:u.active=u.getElementsAtEventForMode(o,f.mode,f),O.callback(h.onHover||h.hover.onHover,[o.native,u.active],u),(o.type==="mouseup"||o.type==="click")&&h.onClick&&h.onClick.call(u,o.native,u.active),u.lastActive.length&&u.updateHoverStyle(u.lastActive,f.mode,!1),u.active.length&&f.mode&&u.updateHoverStyle(u.active,f.mode,!0),p=!O.arrayEquals(u.active,u.lastActive),u.lastActive=u.active,p}}),zi.instances={};var Be=zi;zi.Controller=zi,zi.types={},O.configMerge=jv,O.scaleMerge=bx;var $R=function(){O.where=function(f,p){if(O.isArray(f)&&Array.prototype.filter)return f.filter(p);var v=[];return O.each(f,function(m){p(m)&&v.push(m)}),v},O.findIndex=Array.prototype.findIndex?function(f,p,v){return f.findIndex(p,v)}:function(f,p,v){v=v===void 0?f:v;for(var m=0,x=f.length;m<x;++m)if(p.call(v,f[m],m,f))return m;return-1},O.findNextWhere=function(f,p,v){O.isNullOrUndef(v)&&(v=-1);for(var m=v+1;m<f.length;m++){var x=f[m];if(p(x))return x}},O.findPreviousWhere=function(f,p,v){O.isNullOrUndef(v)&&(v=f.length);for(var m=v-1;m>=0;m--){var x=f[m];if(p(x))return x}},O.isNumber=function(f){return!isNaN(parseFloat(f))&&isFinite(f)},O.almostEquals=function(f,p,v){return Math.abs(f-p)<v},O.almostWhole=function(f,p){var v=Math.round(f);return v-p<=f&&v+p>=f},O.max=function(f){return f.reduce(function(p,v){return isNaN(v)?p:Math.max(p,v)},Number.NEGATIVE_INFINITY)},O.min=function(f){return f.reduce(function(p,v){return isNaN(v)?p:Math.min(p,v)},Number.POSITIVE_INFINITY)},O.sign=Math.sign?function(f){return Math.sign(f)}:function(f){return f=+f,f===0||isNaN(f)?f:f>0?1:-1},O.toRadians=function(f){return f*(Math.PI/180)},O.toDegrees=function(f){return f*(180/Math.PI)},O._decimalPlaces=function(f){if(O.isFinite(f)){for(var p=1,v=0;Math.round(f*p)/p!==f;)p*=10,v++;return v}},O.getAngleFromPoint=function(f,p){var v=p.x-f.x,m=p.y-f.y,x=Math.sqrt(v*v+m*m),y=Math.atan2(m,v);return y<-.5*Math.PI&&(y+=2*Math.PI),{angle:y,distance:x}},O.distanceBetweenPoints=function(f,p){return Math.sqrt(Math.pow(p.x-f.x,2)+Math.pow(p.y-f.y,2))},O.aliasPixel=function(f){return f%2===0?0:.5},O._alignPixel=function(f,p,v){var m=f.currentDevicePixelRatio,x=v/2;return Math.round((p-x)*m)/m+x},O.splineCurve=function(f,p,v,m){var x=f.skip?p:f,y=p,b=v.skip?p:v,C=Math.sqrt(Math.pow(y.x-x.x,2)+Math.pow(y.y-x.y,2)),I=Math.sqrt(Math.pow(b.x-y.x,2)+Math.pow(b.y-y.y,2)),D=C/(C+I),N=I/(C+I);D=isNaN(D)?0:D,N=isNaN(N)?0:N;var F=m*D,B=m*N;return{previous:{x:y.x-F*(b.x-x.x),y:y.y-F*(b.y-x.y)},next:{x:y.x+B*(b.x-x.x),y:y.y+B*(b.y-x.y)}}},O.EPSILON=Number.EPSILON||1e-14,O.splineCurveMonotone=function(f){var p=(f||[]).map(function(z){return{model:z._model,deltaK:0,mK:0}}),v=p.length,m,x,y,b;for(m=0;m<v;++m)if(y=p[m],!y.model.skip){if(x=m>0?p[m-1]:null,b=m<v-1?p[m+1]:null,b&&!b.model.skip){var C=b.model.x-y.model.x;y.deltaK=C!==0?(b.model.y-y.model.y)/C:0}!x||x.model.skip?y.mK=y.deltaK:!b||b.model.skip?y.mK=x.deltaK:this.sign(x.deltaK)!==this.sign(y.deltaK)?y.mK=0:y.mK=(x.deltaK+y.deltaK)/2}var I,D,N,F;for(m=0;m<v-1;++m)if(y=p[m],b=p[m+1],!(y.model.skip||b.model.skip)){if(O.almostEquals(y.deltaK,0,this.EPSILON)){y.mK=b.mK=0;continue}I=y.mK/y.deltaK,D=b.mK/y.deltaK,F=Math.pow(I,2)+Math.pow(D,2),!(F<=9)&&(N=3/Math.sqrt(F),y.mK=I*N*y.deltaK,b.mK=D*N*y.deltaK)}var B;for(m=0;m<v;++m)y=p[m],!y.model.skip&&(x=m>0?p[m-1]:null,b=m<v-1?p[m+1]:null,x&&!x.model.skip&&(B=(y.model.x-x.model.x)/3,y.model.controlPointPreviousX=y.model.x-B,y.model.controlPointPreviousY=y.model.y-B*y.mK),b&&!b.model.skip&&(B=(b.model.x-y.model.x)/3,y.model.controlPointNextX=y.model.x+B,y.model.controlPointNextY=y.model.y+B*y.mK))},O.nextItem=function(f,p,v){return v?p>=f.length-1?f[0]:f[p+1]:p>=f.length-1?f[f.length-1]:f[p+1]},O.previousItem=function(f,p,v){return v?p<=0?f[f.length-1]:f[p-1]:p<=0?f[0]:f[p-1]},O.niceNum=function(f,p){var v=Math.floor(O.log10(f)),m=f/Math.pow(10,v),x;return p?m<1.5?x=1:m<3?x=2:m<7?x=5:x=10:m<=1?x=1:m<=2?x=2:m<=5?x=5:x=10,x*Math.pow(10,v)},O.requestAnimFrame=function(){return typeof window>"u"?function(f){f()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(f){return window.setTimeout(f,1e3/60)}}(),O.getRelativePosition=function(f,p){var v,m,x=f.originalEvent||f,y=f.target||f.srcElement,b=y.getBoundingClientRect(),C=x.touches;C&&C.length>0?(v=C[0].clientX,m=C[0].clientY):(v=x.clientX,m=x.clientY);var I=parseFloat(O.getStyle(y,"padding-left")),D=parseFloat(O.getStyle(y,"padding-top")),N=parseFloat(O.getStyle(y,"padding-right")),F=parseFloat(O.getStyle(y,"padding-bottom")),B=b.right-b.left-I-N,z=b.bottom-b.top-D-F;return v=Math.round((v-b.left-I)/B*y.width/p.currentDevicePixelRatio),m=Math.round((m-b.top-D)/z*y.height/p.currentDevicePixelRatio),{x:v,y:m}};function o(f,p,v){var m;return typeof f=="string"?(m=parseInt(f,10),f.indexOf("%")!==-1&&(m=m/100*p.parentNode[v])):m=f,m}function u(f){return f!=null&&f!=="none"}function h(f,p,v){var m=document.defaultView,x=O._getParentNode(f),y=m.getComputedStyle(f)[p],b=m.getComputedStyle(x)[p],C=u(y),I=u(b),D=Number.POSITIVE_INFINITY;return C||I?Math.min(C?o(y,f,v):D,I?o(b,x,v):D):"none"}O.getConstraintWidth=function(f){return h(f,"max-width","clientWidth")},O.getConstraintHeight=function(f){return h(f,"max-height","clientHeight")},O._calculatePadding=function(f,p,v){return p=O.getStyle(f,p),p.indexOf("%")>-1?v*parseInt(p,10)/100:parseInt(p,10)},O._getParentNode=function(f){var p=f.parentNode;return p&&p.toString()==="[object ShadowRoot]"&&(p=p.host),p},O.getMaximumWidth=function(f){var p=O._getParentNode(f);if(!p)return f.clientWidth;var v=p.clientWidth,m=O._calculatePadding(p,"padding-left",v),x=O._calculatePadding(p,"padding-right",v),y=v-m-x,b=O.getConstraintWidth(f);return isNaN(b)?y:Math.min(y,b)},O.getMaximumHeight=function(f){var p=O._getParentNode(f);if(!p)return f.clientHeight;var v=p.clientHeight,m=O._calculatePadding(p,"padding-top",v),x=O._calculatePadding(p,"padding-bottom",v),y=v-m-x,b=O.getConstraintHeight(f);return isNaN(b)?y:Math.min(y,b)},O.getStyle=function(f,p){return f.currentStyle?f.currentStyle[p]:document.defaultView.getComputedStyle(f,null).getPropertyValue(p)},O.retinaScale=function(f,p){var v=f.currentDevicePixelRatio=p||typeof window<"u"&&window.devicePixelRatio||1;if(v!==1){var m=f.canvas,x=f.height,y=f.width;m.height=x*v,m.width=y*v,f.ctx.scale(v,v),!m.style.height&&!m.style.width&&(m.style.height=x+"px",m.style.width=y+"px")}},O.fontString=function(f,p,v){return p+" "+f+"px "+v},O.longestText=function(f,p,v,m){m=m||{};var x=m.data=m.data||{},y=m.garbageCollect=m.garbageCollect||[];m.font!==p&&(x=m.data={},y=m.garbageCollect=[],m.font=p),f.font=p;var b=0,C=v.length,I,D,N,F,B;for(I=0;I<C;I++)if(F=v[I],F!=null&&O.isArray(F)!==!0)b=O.measureText(f,x,y,b,F);else if(O.isArray(F))for(D=0,N=F.length;D<N;D++)B=F[D],B!=null&&!O.isArray(B)&&(b=O.measureText(f,x,y,b,B));var z=y.length/2;if(z>v.length){for(I=0;I<z;I++)delete x[y[I]];y.splice(0,z)}return b},O.measureText=function(f,p,v,m,x){var y=p[x];return y||(y=p[x]=f.measureText(x).width,v.push(x)),y>m&&(m=y),m},O.numberOfLabelLines=function(f){var p=1;return O.each(f,function(v){O.isArray(v)&&v.length>p&&(p=v.length)}),p},O.color=ne?function(f){return f instanceof CanvasGradient&&(f=me.global.defaultColor),ne(f)}:function(f){return console.error("Color.js not found!"),f},O.getHoverColor=function(f){return f instanceof CanvasPattern||f instanceof CanvasGradient?f:O.color(f).saturate(.5).darken(.1).rgbString()}};function zs(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function kc(o){this.options=o||{}}O.extend(kc.prototype,{formats:zs,parse:zs,format:zs,add:zs,diff:zs,startOf:zs,endOf:zs,_create:function(o){return o}}),kc.override=function(o){O.extend(kc.prototype,o)};var HR=kc,Wv={_date:HR},zl={formatters:{values:function(o){return O.isArray(o)?o:""+o},linear:function(o,u,h){var f=h.length>3?h[2]-h[1]:h[1]-h[0];Math.abs(f)>1&&o!==Math.floor(o)&&(f=o-Math.floor(o));var p=O.log10(Math.abs(f)),v="";if(o!==0){var m=Math.max(Math.abs(h[0]),Math.abs(h[h.length-1]));if(m<1e-4){var x=O.log10(Math.abs(o)),y=Math.floor(x)-Math.floor(p);y=Math.max(Math.min(y,20),0),v=o.toExponential(y)}else{var b=-1*Math.floor(p);b=Math.max(Math.min(b,20),0),v=o.toFixed(b)}}else v="0";return v},logarithmic:function(o,u,h){var f=o/Math.pow(10,Math.floor(O.log10(o)));return o===0?"0":f===1||f===2||f===5||u===0||u===h.length-1?o.toExponential():""}}},$s=O.isArray,$l=O.isNullOrUndef,Hs=O.valueOrDefault,Za=O.valueAtIndexOrDefault;me._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:zl.formatters.values,minor:{},major:{}}});function jR(o,u){for(var h=[],f=o.length/u,p=0,v=o.length;p<v;p+=f)h.push(o[Math.floor(p)]);return h}function WR(o,u,h){var f=o.getTicks().length,p=Math.min(u,f-1),v=o.getPixelForTick(p),m=o._startPixel,x=o._endPixel,y=1e-6,b;if(!(h&&(f===1?b=Math.max(v-m,x-v):u===0?b=(o.getPixelForTick(1)-v)/2:b=(v-o.getPixelForTick(p-1))/2,v+=p<u?b:-b,v<m-y||v>x+y)))return v}function GR(o,u){O.each(o,function(h){var f=h.gc,p=f.length/2,v;if(p>u){for(v=0;v<p;++v)delete h.data[f[v]];f.splice(0,p)}})}function YR(o,u,h,f){var p=h.length,v=[],m=[],x=[],y=0,b=0,C,I,D,N,F,B,z,Y,ce,ve,Ne,De,Qe;for(C=0;C<p;++C){if(N=h[C].label,F=h[C].major?u.major:u.minor,o.font=B=F.string,z=f[B]=f[B]||{data:{},gc:[]},Y=F.lineHeight,ce=ve=0,!$l(N)&&!$s(N))ce=O.measureText(o,z.data,z.gc,ce,N),ve=Y;else if($s(N))for(I=0,D=N.length;I<D;++I)Ne=N[I],!$l(Ne)&&!$s(Ne)&&(ce=O.measureText(o,z.data,z.gc,ce,Ne),ve+=Y);v.push(ce),m.push(ve),x.push(Y/2),y=Math.max(ce,y),b=Math.max(ve,b)}GR(f,p),De=v.indexOf(y),Qe=m.indexOf(b);function Ge(lt){return{width:v[lt]||0,height:m[lt]||0,offset:x[lt]||0}}return{first:Ge(0),last:Ge(p-1),widest:Ge(De),highest:Ge(Qe)}}function Hl(o){return o.drawTicks?o.tickMarkLength:0}function Gv(o){var u,h;return o.display?(u=O.options._parseFont(o),h=O.options.toPadding(o.padding),u.lineHeight+h.height):0}function Cx(o,u){return O.extend(O.options._parseFont({fontFamily:Hs(u.fontFamily,o.fontFamily),fontSize:Hs(u.fontSize,o.fontSize),fontStyle:Hs(u.fontStyle,o.fontStyle),lineHeight:Hs(u.lineHeight,o.lineHeight)}),{color:O.options.resolve([u.fontColor,o.fontColor,me.global.defaultFontColor])})}function Yv(o){var u=Cx(o,o.minor),h=o.major.enabled?Cx(o,o.major):u;return{minor:u,major:h}}function Xv(o){var u=[],h,f,p;for(f=0,p=o.length;f<p;++f)h=o[f],typeof h._index<"u"&&u.push(h);return u}function XR(o){var u=o.length,h,f;if(u<2)return!1;for(f=o[0],h=1;h<u;++h)if(o[h]-o[h-1]!==f)return!1;return f}function qR(o,u,h,f){var p=XR(o),v=(u.length-1)/f,m,x,y,b;if(!p)return Math.max(v,1);for(m=O.math._factorize(p),y=0,b=m.length-1;y<b;y++)if(x=m[y],x>v)return x;return Math.max(v,1)}function KR(o){var u=[],h,f;for(h=0,f=o.length;h<f;h++)o[h].major&&u.push(h);return u}function QR(o,u,h){var f=0,p=u[0],v,m;for(h=Math.ceil(h),v=0;v<o.length;v++)m=o[v],v===p?(m._index=v,f++,p=u[f*h]):delete m.label}function Oc(o,u,h,f){var p=Hs(h,0),v=Math.min(Hs(f,o.length),o.length),m=0,x,y,b,C;for(u=Math.ceil(u),f&&(x=f-h,u=x/Math.floor(x/u)),C=p;C<0;)m++,C=Math.round(p+m*u);for(y=Math.max(p,0);y<v;y++)b=o[y],y===C?(b._index=y,m++,C=Math.round(p+m*u)):delete b.label}var qv=kn.extend({zeroLineIndex:0,getPadding:function(){var o=this;return{left:o.paddingLeft||0,top:o.paddingTop||0,right:o.paddingRight||0,bottom:o.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var o=this.chart.data;return this.options.labels||(this.isHorizontal()?o.xLabels:o.yLabels)||o.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){O.callback(this.options.beforeUpdate,[this])},update:function(o,u,h){var f=this,p=f.options.ticks,v=p.sampleSize,m,x,y,b,C;if(f.beforeUpdate(),f.maxWidth=o,f.maxHeight=u,f.margins=O.extend({left:0,right:0,top:0,bottom:0},h),f._ticks=null,f.ticks=null,f._labelSizes=null,f._maxLabelLines=0,f.longestLabelWidth=0,f.longestTextCache=f.longestTextCache||{},f._gridLineItems=null,f._labelItems=null,f.beforeSetDimensions(),f.setDimensions(),f.afterSetDimensions(),f.beforeDataLimits(),f.determineDataLimits(),f.afterDataLimits(),f.beforeBuildTicks(),b=f.buildTicks()||[],b=f.afterBuildTicks(b)||b,(!b||!b.length)&&f.ticks)for(b=[],m=0,x=f.ticks.length;m<x;++m)b.push({value:f.ticks[m],major:!1});return f._ticks=b,C=v<b.length,y=f._convertTicksToLabels(C?jR(b,v):b),f._configure(),f.beforeCalculateTickRotation(),f.calculateTickRotation(),f.afterCalculateTickRotation(),f.beforeFit(),f.fit(),f.afterFit(),f._ticksToDraw=p.display&&(p.autoSkip||p.source==="auto")?f._autoSkip(b):b,C&&(y=f._convertTicksToLabels(f._ticksToDraw)),f.ticks=y,f.afterUpdate(),f.minSize},_configure:function(){var o=this,u=o.options.ticks.reverse,h,f;o.isHorizontal()?(h=o.left,f=o.right):(h=o.top,f=o.bottom,u=!u),o._startPixel=h,o._endPixel=f,o._reversePixels=u,o._length=f-h},afterUpdate:function(){O.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){O.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var o=this;o.isHorizontal()?(o.width=o.maxWidth,o.left=0,o.right=o.width):(o.height=o.maxHeight,o.top=0,o.bottom=o.height),o.paddingLeft=0,o.paddingTop=0,o.paddingRight=0,o.paddingBottom=0},afterSetDimensions:function(){O.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){O.callback(this.options.beforeDataLimits,[this])},determineDataLimits:O.noop,afterDataLimits:function(){O.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){O.callback(this.options.beforeBuildTicks,[this])},buildTicks:O.noop,afterBuildTicks:function(o){var u=this;return $s(o)&&o.length?O.callback(u.options.afterBuildTicks,[u,o]):(u.ticks=O.callback(u.options.afterBuildTicks,[u,u.ticks])||u.ticks,o)},beforeTickToLabelConversion:function(){O.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var o=this,u=o.options.ticks;o.ticks=o.ticks.map(u.userCallback||u.callback,this)},afterTickToLabelConversion:function(){O.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){O.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var o=this,u=o.options,h=u.ticks,f=o.getTicks().length,p=h.minRotation||0,v=h.maxRotation,m=p,x,y,b,C,I,D,N;if(!o._isVisible()||!h.display||p>=v||f<=1||!o.isHorizontal()){o.labelRotation=p;return}x=o._getLabelSizes(),y=x.widest.width,b=x.highest.height-x.highest.offset,C=Math.min(o.maxWidth,o.chart.width-y),I=u.offset?o.maxWidth/f:C/(f-1),y+6>I&&(I=C/(f-(u.offset?.5:1)),D=o.maxHeight-Hl(u.gridLines)-h.padding-Gv(u.scaleLabel),N=Math.sqrt(y*y+b*b),m=O.toDegrees(Math.min(Math.asin(Math.min((x.highest.height+6)/I,1)),Math.asin(Math.min(D/N,1))-Math.asin(b/N))),m=Math.max(p,Math.min(v,m))),o.labelRotation=m},afterCalculateTickRotation:function(){O.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){O.callback(this.options.beforeFit,[this])},fit:function(){var o=this,u=o.minSize={width:0,height:0},h=o.chart,f=o.options,p=f.ticks,v=f.scaleLabel,m=f.gridLines,x=o._isVisible(),y=f.position==="bottom",b=o.isHorizontal();if(b?u.width=o.maxWidth:x&&(u.width=Hl(m)+Gv(v)),b?x&&(u.height=Hl(m)+Gv(v)):u.height=o.maxHeight,p.display&&x){var C=Yv(p),I=o._getLabelSizes(),D=I.first,N=I.last,F=I.widest,B=I.highest,z=C.minor.lineHeight*.4,Y=p.padding;if(b){var ce=o.labelRotation!==0,ve=O.toRadians(o.labelRotation),Ne=Math.cos(ve),De=Math.sin(ve),Qe=De*F.width+Ne*(B.height-(ce?B.offset:0))+(ce?0:z);u.height=Math.min(o.maxHeight,u.height+Qe+Y);var Ge=o.getPixelForTick(0)-o.left,lt=o.right-o.getPixelForTick(o.getTicks().length-1),ct,qt;ce?(ct=y?Ne*D.width+De*D.offset:De*(D.height-D.offset),qt=y?De*(N.height-N.offset):Ne*N.width+De*N.offset):(ct=D.width/2,qt=N.width/2),o.paddingLeft=Math.max((ct-Ge)*o.width/(o.width-Ge),0)+3,o.paddingRight=Math.max((qt-lt)*o.width/(o.width-lt),0)+3}else{var Bt=p.mirror?0:F.width+Y+z;u.width=Math.min(o.maxWidth,u.width+Bt),o.paddingTop=D.height/2,o.paddingBottom=N.height/2}}o.handleMargins(),b?(o.width=o._length=h.width-o.margins.left-o.margins.right,o.height=u.height):(o.width=u.width,o.height=o._length=h.height-o.margins.top-o.margins.bottom)},handleMargins:function(){var o=this;o.margins&&(o.margins.left=Math.max(o.paddingLeft,o.margins.left),o.margins.top=Math.max(o.paddingTop,o.margins.top),o.margins.right=Math.max(o.paddingRight,o.margins.right),o.margins.bottom=Math.max(o.paddingBottom,o.margins.bottom))},afterFit:function(){O.callback(this.options.afterFit,[this])},isHorizontal:function(){var o=this.options.position;return o==="top"||o==="bottom"},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(o){if($l(o))return NaN;if((typeof o=="number"||o instanceof Number)&&!isFinite(o))return NaN;if(o){if(this.isHorizontal()){if(o.x!==void 0)return this.getRightValue(o.x)}else if(o.y!==void 0)return this.getRightValue(o.y)}return o},_convertTicksToLabels:function(o){var u=this,h,f,p;for(u.ticks=o.map(function(v){return v.value}),u.beforeTickToLabelConversion(),h=u.convertTicksToLabels(o)||u.ticks,u.afterTickToLabelConversion(),f=0,p=o.length;f<p;++f)o[f].label=h[f];return h},_getLabelSizes:function(){var o=this,u=o._labelSizes;return u||(o._labelSizes=u=YR(o.ctx,Yv(o.options.ticks),o.getTicks(),o.longestTextCache),o.longestLabelWidth=u.widest.width),u},_parseValue:function(o){var u,h,f,p;return $s(o)?(u=+this.getRightValue(o[0]),h=+this.getRightValue(o[1]),f=Math.min(u,h),p=Math.max(u,h)):(o=+this.getRightValue(o),u=void 0,h=o,f=o,p=o),{min:f,max:p,start:u,end:h}},_getScaleLabel:function(o){var u=this._parseValue(o);return u.start!==void 0?"["+u.start+", "+u.end+"]":+this.getRightValue(o)},getLabelForIndex:O.noop,getPixelForValue:O.noop,getValueForPixel:O.noop,getPixelForTick:function(o){var u=this,h=u.options.offset,f=u._ticks.length,p=1/Math.max(f-(h?0:1),1);return o<0||o>f-1?null:u.getPixelForDecimal(o*p+(h?p/2:0))},getPixelForDecimal:function(o){var u=this;return u._reversePixels&&(o=1-o),u._startPixel+o*u._length},getDecimalForPixel:function(o){var u=(o-this._startPixel)/this._length;return this._reversePixels?1-u:u},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var o=this,u=o.min,h=o.max;return o.beginAtZero?0:u<0&&h<0?h:u>0&&h>0?u:0},_autoSkip:function(o){var u=this,h=u.options.ticks,f=u._length,p=h.maxTicksLimit||f/u._tickSize()+1,v=h.major.enabled?KR(o):[],m=v.length,x=v[0],y=v[m-1],b,C,I,D;if(m>p)return QR(o,v,m/p),Xv(o);if(I=qR(v,o,f,p),m>0){for(b=0,C=m-1;b<C;b++)Oc(o,I,v[b],v[b+1]);return D=m>1?(y-x)/(m-1):null,Oc(o,I,O.isNullOrUndef(D)?0:x-D,x),Oc(o,I,y,O.isNullOrUndef(D)?o.length:y+D),Xv(o)}return Oc(o,I),Xv(o)},_tickSize:function(){var o=this,u=o.options.ticks,h=O.toRadians(o.labelRotation),f=Math.abs(Math.cos(h)),p=Math.abs(Math.sin(h)),v=o._getLabelSizes(),m=u.autoSkipPadding||0,x=v?v.widest.width+m:0,y=v?v.highest.height+m:0;return o.isHorizontal()?y*f>x*p?x/f:y/p:y*p<x*f?y/f:x/p},_isVisible:function(){var o=this,u=o.chart,h=o.options.display,f,p,v;if(h!=="auto")return!!h;for(f=0,p=u.data.datasets.length;f<p;++f)if(u.isDatasetVisible(f)&&(v=u.getDatasetMeta(f),v.xAxisID===o.id||v.yAxisID===o.id))return!0;return!1},_computeGridLineItems:function(o){var u=this,h=u.chart,f=u.options,p=f.gridLines,v=f.position,m=p.offsetGridLines,x=u.isHorizontal(),y=u._ticksToDraw,b=y.length+(m?1:0),C=Hl(p),I=[],D=p.drawBorder?Za(p.lineWidth,0,0):0,N=D/2,F=O._alignPixel,B=function(KN){return F(h,KN,D)},z,Y,ce,ve,Ne,De,Qe,Ge,lt,ct,qt,Bt,Rt,nr,eo,to,ig;for(v==="top"?(z=B(u.bottom),Qe=u.bottom-C,lt=z-N,qt=B(o.top)+N,Rt=o.bottom):v==="bottom"?(z=B(u.top),qt=o.top,Rt=B(o.bottom)-N,Qe=z+N,lt=u.top+C):v==="left"?(z=B(u.right),De=u.right-C,Ge=z-N,ct=B(o.left)+N,Bt=o.right):(z=B(u.left),ct=o.left,Bt=B(o.right)-N,De=z+N,Ge=u.left+C),Y=0;Y<b;++Y)ce=y[Y]||{},!($l(ce.label)&&Y<y.length)&&(Y===u.zeroLineIndex&&f.offset===m?(nr=p.zeroLineWidth,eo=p.zeroLineColor,to=p.zeroLineBorderDash||[],ig=p.zeroLineBorderDashOffset||0):(nr=Za(p.lineWidth,Y,1),eo=Za(p.color,Y,"rgba(0,0,0,0.1)"),to=p.borderDash||[],ig=p.borderDashOffset||0),ve=WR(u,ce._index||Y,m),ve!==void 0&&(Ne=F(h,ve,nr),x?De=Ge=ct=Bt=Ne:Qe=lt=qt=Rt=Ne,I.push({tx1:De,ty1:Qe,tx2:Ge,ty2:lt,x1:ct,y1:qt,x2:Bt,y2:Rt,width:nr,color:eo,borderDash:to,borderDashOffset:ig})));return I.ticksLength=b,I.borderValue=z,I},_computeLabelItems:function(){var o=this,u=o.options,h=u.ticks,f=u.position,p=h.mirror,v=o.isHorizontal(),m=o._ticksToDraw,x=Yv(h),y=h.padding,b=Hl(u.gridLines),C=-O.toRadians(o.labelRotation),I=[],D,N,F,B,z,Y,ce,ve,Ne,De,Qe,Ge;for(f==="top"?(Y=o.bottom-b-y,ce=C?"left":"center"):f==="bottom"?(Y=o.top+b+y,ce=C?"right":"center"):f==="left"?(z=o.right-(p?0:b)-y,ce=p?"left":"right"):(z=o.left+(p?0:b)+y,ce=p?"right":"left"),D=0,N=m.length;D<N;++D)F=m[D],B=F.label,!$l(B)&&(ve=o.getPixelForTick(F._index||D)+h.labelOffset,Ne=F.major?x.major:x.minor,De=Ne.lineHeight,Qe=$s(B)?B.length:1,v?(z=ve,Ge=f==="top"?((C?1:.5)-Qe)*De:(C?0:.5)*De):(Y=ve,Ge=(1-Qe)*De/2),I.push({x:z,y:Y,rotation:C,label:B,font:Ne,textOffset:Ge,textAlign:ce}));return I},_drawGrid:function(o){var u=this,h=u.options.gridLines;if(h.display){var f=u.ctx,p=u.chart,v=O._alignPixel,m=h.drawBorder?Za(h.lineWidth,0,0):0,x=u._gridLineItems||(u._gridLineItems=u._computeGridLineItems(o)),y,b,C,I,D;for(C=0,I=x.length;C<I;++C)D=x[C],y=D.width,b=D.color,y&&b&&(f.save(),f.lineWidth=y,f.strokeStyle=b,f.setLineDash&&(f.setLineDash(D.borderDash),f.lineDashOffset=D.borderDashOffset),f.beginPath(),h.drawTicks&&(f.moveTo(D.tx1,D.ty1),f.lineTo(D.tx2,D.ty2)),h.drawOnChartArea&&(f.moveTo(D.x1,D.y1),f.lineTo(D.x2,D.y2)),f.stroke(),f.restore());if(m){var N=m,F=Za(h.lineWidth,x.ticksLength-1,1),B=x.borderValue,z,Y,ce,ve;u.isHorizontal()?(z=v(p,u.left,N)-N/2,Y=v(p,u.right,F)+F/2,ce=ve=B):(ce=v(p,u.top,N)-N/2,ve=v(p,u.bottom,F)+F/2,z=Y=B),f.lineWidth=m,f.strokeStyle=Za(h.color,0),f.beginPath(),f.moveTo(z,ce),f.lineTo(Y,ve),f.stroke()}}},_drawLabels:function(){var o=this,u=o.options.ticks;if(u.display){var h=o.ctx,f=o._labelItems||(o._labelItems=o._computeLabelItems()),p,v,m,x,y,b,C,I;for(p=0,m=f.length;p<m;++p){if(y=f[p],b=y.font,h.save(),h.translate(y.x,y.y),h.rotate(y.rotation),h.font=b.string,h.fillStyle=b.color,h.textBaseline="middle",h.textAlign=y.textAlign,C=y.label,I=y.textOffset,$s(C))for(v=0,x=C.length;v<x;++v)h.fillText(""+C[v],0,I),I+=b.lineHeight;else h.fillText(C,0,I);h.restore()}}},_drawTitle:function(){var o=this,u=o.ctx,h=o.options,f=h.scaleLabel;if(f.display){var p=Hs(f.fontColor,me.global.defaultFontColor),v=O.options._parseFont(f),m=O.options.toPadding(f.padding),x=v.lineHeight/2,y=h.position,b=0,C,I;if(o.isHorizontal())C=o.left+o.width/2,I=y==="bottom"?o.bottom-x-m.bottom:o.top+x+m.top;else{var D=y==="left";C=D?o.left+x+m.top:o.right-x-m.top,I=o.top+o.height/2,b=D?-.5*Math.PI:.5*Math.PI}u.save(),u.translate(C,I),u.rotate(b),u.textAlign="center",u.textBaseline="middle",u.fillStyle=p,u.font=v.string,u.fillText(f.labelString,0,0),u.restore()}},draw:function(o){var u=this;u._isVisible()&&(u._drawGrid(o),u._drawTitle(),u._drawLabels())},_layers:function(){var o=this,u=o.options,h=u.ticks&&u.ticks.z||0,f=u.gridLines&&u.gridLines.z||0;return!o._isVisible()||h===f||o.draw!==o._draw?[{z:h,draw:function(){o.draw.apply(o,arguments)}}]:[{z:f,draw:function(){o._drawGrid.apply(o,arguments),o._drawTitle.apply(o,arguments)}},{z:h,draw:function(){o._drawLabels.apply(o,arguments)}}]},_getMatchingVisibleMetas:function(o){var u=this,h=u.isHorizontal();return u.chart._getSortedVisibleDatasetMetas().filter(function(f){return(!o||f.type===o)&&(h?f.xAxisID===u.id:f.yAxisID===u.id)})}});qv.prototype._draw=qv.prototype.draw;var Nr=qv,Kv=O.isNullOrUndef,ZR={position:"bottom"},Ix=Nr.extend({determineDataLimits:function(){var o=this,u=o._getLabels(),h=o.options.ticks,f=h.min,p=h.max,v=0,m=u.length-1,x;f!==void 0&&(x=u.indexOf(f),x>=0&&(v=x)),p!==void 0&&(x=u.indexOf(p),x>=0&&(m=x)),o.minIndex=v,o.maxIndex=m,o.min=u[v],o.max=u[m]},buildTicks:function(){var o=this,u=o._getLabels(),h=o.minIndex,f=o.maxIndex;o.ticks=h===0&&f===u.length-1?u:u.slice(h,f+1)},getLabelForIndex:function(o,u){var h=this,f=h.chart;return f.getDatasetMeta(u).controller._getValueScaleId()===h.id?h.getRightValue(f.data.datasets[u].data[o]):h._getLabels()[o]},_configure:function(){var o=this,u=o.options.offset,h=o.ticks;Nr.prototype._configure.call(o),o.isHorizontal()||(o._reversePixels=!o._reversePixels),h&&(o._startValue=o.minIndex-(u?.5:0),o._valueRange=Math.max(h.length-(u?0:1),1))},getPixelForValue:function(o,u,h){var f=this,p,v,m;return!Kv(u)&&!Kv(h)&&(o=f.chart.data.datasets[h].data[u]),Kv(o)||(p=f.isHorizontal()?o.x:o.y),(p!==void 0||o!==void 0&&isNaN(u))&&(v=f._getLabels(),o=O.valueOrDefault(p,o),m=v.indexOf(o),u=m!==-1?m:u,isNaN(u)&&(u=o)),f.getPixelForDecimal((u-f._startValue)/f._valueRange)},getPixelForTick:function(o){var u=this.ticks;return o<0||o>u.length-1?null:this.getPixelForValue(u[o],o+this.minIndex)},getValueForPixel:function(o){var u=this,h=Math.round(u._startValue+u.getDecimalForPixel(o)*u._valueRange);return Math.min(Math.max(h,0),u.ticks.length-1)},getBasePixel:function(){return this.bottom}}),JR=ZR;Ix._defaults=JR;var eN=O.noop,js=O.isNullOrUndef;function tN(o,u){var h=[],f=1e-14,p=o.stepSize,v=p||1,m=o.maxTicks-1,x=o.min,y=o.max,b=o.precision,C=u.min,I=u.max,D=O.niceNum((I-C)/m/v)*v,N,F,B,z;if(D<f&&js(x)&&js(y))return[C,I];z=Math.ceil(I/D)-Math.floor(C/D),z>m&&(D=O.niceNum(z*D/m/v)*v),p||js(b)?N=Math.pow(10,O._decimalPlaces(D)):(N=Math.pow(10,b),D=Math.ceil(D*N)/N),F=Math.floor(C/D)*D,B=Math.ceil(I/D)*D,p&&(!js(x)&&O.almostWhole(x/D,D/1e3)&&(F=x),!js(y)&&O.almostWhole(y/D,D/1e3)&&(B=y)),z=(B-F)/D,O.almostEquals(z,Math.round(z),D/1e3)?z=Math.round(z):z=Math.ceil(z),F=Math.round(F*N)/N,B=Math.round(B*N)/N,h.push(js(x)?F:x);for(var Y=1;Y<z;++Y)h.push(Math.round((F+Y*D)*N)/N);return h.push(js(y)?B:y),h}var Mc=Nr.extend({getRightValue:function(o){return typeof o=="string"?+o:Nr.prototype.getRightValue.call(this,o)},handleTickRangeOptions:function(){var o=this,u=o.options,h=u.ticks;if(h.beginAtZero){var f=O.sign(o.min),p=O.sign(o.max);f<0&&p<0?o.max=0:f>0&&p>0&&(o.min=0)}var v=h.min!==void 0||h.suggestedMin!==void 0,m=h.max!==void 0||h.suggestedMax!==void 0;h.min!==void 0?o.min=h.min:h.suggestedMin!==void 0&&(o.min===null?o.min=h.suggestedMin:o.min=Math.min(o.min,h.suggestedMin)),h.max!==void 0?o.max=h.max:h.suggestedMax!==void 0&&(o.max===null?o.max=h.suggestedMax:o.max=Math.max(o.max,h.suggestedMax)),v!==m&&o.min>=o.max&&(v?o.max=o.min+1:o.min=o.max-1),o.min===o.max&&(o.max++,h.beginAtZero||o.min--)},getTickLimit:function(){var o=this,u=o.options.ticks,h=u.stepSize,f=u.maxTicksLimit,p;return h?p=Math.ceil(o.max/h)-Math.floor(o.min/h)+1:(p=o._computeTickLimit(),f=f||11),f&&(p=Math.min(f,p)),p},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:eN,buildTicks:function(){var o=this,u=o.options,h=u.ticks,f=o.getTickLimit();f=Math.max(2,f);var p={maxTicks:f,min:h.min,max:h.max,precision:h.precision,stepSize:O.valueOrDefault(h.fixedStepSize,h.stepSize)},v=o.ticks=tN(p,o);o.handleDirectionalChanges(),o.max=O.max(v),o.min=O.min(v),h.reverse?(v.reverse(),o.start=o.max,o.end=o.min):(o.start=o.min,o.end=o.max)},convertTicksToLabels:function(){var o=this;o.ticksAsNumbers=o.ticks.slice(),o.zeroLineIndex=o.ticks.indexOf(0),Nr.prototype.convertTicksToLabels.call(o)},_configure:function(){var o=this,u=o.getTicks(),h=o.min,f=o.max,p;Nr.prototype._configure.call(o),o.options.offset&&u.length&&(p=(f-h)/Math.max(u.length-1,1)/2,h-=p,f+=p),o._startValue=h,o._endValue=f,o._valueRange=f-h}}),rN={position:"left",ticks:{callback:zl.formatters.linear}},nN=0,iN=1;function sN(o,u,h){var f=[h.type,u===void 0&&h.stack===void 0?h.index:"",h.stack].join(".");return o[f]===void 0&&(o[f]={pos:[],neg:[]}),o[f]}function aN(o,u,h,f){var p=o.options,v=p.stacked,m=sN(u,v,h),x=m.pos,y=m.neg,b=f.length,C,I;for(C=0;C<b;++C)I=o._parseValue(f[C]),!(isNaN(I.min)||isNaN(I.max)||h.data[C].hidden)&&(x[C]=x[C]||0,y[C]=y[C]||0,p.relativePoints?x[C]=100:I.min<0||I.max<0?y[C]+=I.min:x[C]+=I.max)}function oN(o,u,h){var f=h.length,p,v;for(p=0;p<f;++p)v=o._parseValue(h[p]),!(isNaN(v.min)||isNaN(v.max)||u.data[p].hidden)&&(o.min=Math.min(o.min,v.min),o.max=Math.max(o.max,v.max))}var Px=Mc.extend({determineDataLimits:function(){var o=this,u=o.options,h=o.chart,f=h.data.datasets,p=o._getMatchingVisibleMetas(),v=u.stacked,m={},x=p.length,y,b,C,I;if(o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,v===void 0)for(y=0;!v&&y<x;++y)b=p[y],v=b.stack!==void 0;for(y=0;y<x;++y)b=p[y],C=f[b.index].data,v?aN(o,m,b,C):oN(o,b,C);O.each(m,function(D){I=D.pos.concat(D.neg),o.min=Math.min(o.min,O.min(I)),o.max=Math.max(o.max,O.max(I))}),o.min=O.isFinite(o.min)&&!isNaN(o.min)?o.min:nN,o.max=O.isFinite(o.max)&&!isNaN(o.max)?o.max:iN,o.handleTickRangeOptions()},_computeTickLimit:function(){var o=this,u;return o.isHorizontal()?Math.ceil(o.width/40):(u=O.options._parseFont(o.options.ticks),Math.ceil(o.height/u.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(o,u){return this._getScaleLabel(this.chart.data.datasets[u].data[o])},getPixelForValue:function(o){var u=this;return u.getPixelForDecimal((+u.getRightValue(o)-u._startValue)/u._valueRange)},getValueForPixel:function(o){return this._startValue+this.getDecimalForPixel(o)*this._valueRange},getPixelForTick:function(o){var u=this.ticksAsNumbers;return o<0||o>u.length-1?null:this.getPixelForValue(u[o])}}),lN=rN;Px._defaults=lN;var Qv=O.valueOrDefault,Fr=O.math.log10;function uN(o,u){var h=[],f=Qv(o.min,Math.pow(10,Math.floor(Fr(u.min)))),p=Math.floor(Fr(u.max)),v=Math.ceil(u.max/Math.pow(10,p)),m,x;f===0?(m=Math.floor(Fr(u.minNotZero)),x=Math.floor(u.minNotZero/Math.pow(10,m)),h.push(f),f=x*Math.pow(10,m)):(m=Math.floor(Fr(f)),x=Math.floor(f/Math.pow(10,m)));var y=m<0?Math.pow(10,Math.abs(m)):1;do h.push(f),++x,x===10&&(x=1,++m,y=m>=0?1:y),f=Math.round(x*Math.pow(10,m)*y)/y;while(m<p||m===p&&x<v);var b=Qv(o.max,f);return h.push(b),h}var hN={position:"left",ticks:{callback:zl.formatters.logarithmic}};function Dc(o,u){return O.isFinite(o)&&o>=0?o:u}var Ax=Nr.extend({determineDataLimits:function(){var o=this,u=o.options,h=o.chart,f=h.data.datasets,p=o.isHorizontal();function v(z){return p?z.xAxisID===o.id:z.yAxisID===o.id}var m,x,y,b,C,I;o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,o.minNotZero=Number.POSITIVE_INFINITY;var D=u.stacked;if(D===void 0){for(m=0;m<f.length;m++)if(x=h.getDatasetMeta(m),h.isDatasetVisible(m)&&v(x)&&x.stack!==void 0){D=!0;break}}if(u.stacked||D){var N={};for(m=0;m<f.length;m++){x=h.getDatasetMeta(m);var F=[x.type,u.stacked===void 0&&x.stack===void 0?m:"",x.stack].join(".");if(h.isDatasetVisible(m)&&v(x))for(N[F]===void 0&&(N[F]=[]),b=f[m].data,C=0,I=b.length;C<I;C++){var B=N[F];y=o._parseValue(b[C]),!(isNaN(y.min)||isNaN(y.max)||x.data[C].hidden||y.min<0||y.max<0)&&(B[C]=B[C]||0,B[C]+=y.max)}}O.each(N,function(z){if(z.length>0){var Y=O.min(z),ce=O.max(z);o.min=Math.min(o.min,Y),o.max=Math.max(o.max,ce)}})}else for(m=0;m<f.length;m++)if(x=h.getDatasetMeta(m),h.isDatasetVisible(m)&&v(x))for(b=f[m].data,C=0,I=b.length;C<I;C++)y=o._parseValue(b[C]),!(isNaN(y.min)||isNaN(y.max)||x.data[C].hidden||y.min<0||y.max<0)&&(o.min=Math.min(y.min,o.min),o.max=Math.max(y.max,o.max),y.min!==0&&(o.minNotZero=Math.min(y.min,o.minNotZero)));o.min=O.isFinite(o.min)?o.min:null,o.max=O.isFinite(o.max)?o.max:null,o.minNotZero=O.isFinite(o.minNotZero)?o.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var o=this,u=o.options.ticks,h=1,f=10;o.min=Dc(u.min,o.min),o.max=Dc(u.max,o.max),o.min===o.max&&(o.min!==0&&o.min!==null?(o.min=Math.pow(10,Math.floor(Fr(o.min))-1),o.max=Math.pow(10,Math.floor(Fr(o.max))+1)):(o.min=h,o.max=f)),o.min===null&&(o.min=Math.pow(10,Math.floor(Fr(o.max))-1)),o.max===null&&(o.max=o.min!==0?Math.pow(10,Math.floor(Fr(o.min))+1):f),o.minNotZero===null&&(o.min>0?o.minNotZero=o.min:o.max<1?o.minNotZero=Math.pow(10,Math.floor(Fr(o.max))):o.minNotZero=h)},buildTicks:function(){var o=this,u=o.options.ticks,h=!o.isHorizontal(),f={min:Dc(u.min),max:Dc(u.max)},p=o.ticks=uN(f,o);o.max=O.max(p),o.min=O.min(p),u.reverse?(h=!h,o.start=o.max,o.end=o.min):(o.start=o.min,o.end=o.max),h&&p.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Nr.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(o,u){return this._getScaleLabel(this.chart.data.datasets[u].data[o])},getPixelForTick:function(o){var u=this.tickValues;return o<0||o>u.length-1?null:this.getPixelForValue(u[o])},_getFirstTickValue:function(o){var u=Math.floor(Fr(o)),h=Math.floor(o/Math.pow(10,u));return h*Math.pow(10,u)},_configure:function(){var o=this,u=o.min,h=0;Nr.prototype._configure.call(o),u===0&&(u=o._getFirstTickValue(o.minNotZero),h=Qv(o.options.ticks.fontSize,me.global.defaultFontSize)/o._length),o._startValue=Fr(u),o._valueOffset=h,o._valueRange=(Fr(o.max)-Fr(u))/(1-h)},getPixelForValue:function(o){var u=this,h=0;return o=+u.getRightValue(o),o>u.min&&o>0&&(h=(Fr(o)-u._startValue)/u._valueRange+u._valueOffset),u.getPixelForDecimal(h)},getValueForPixel:function(o){var u=this,h=u.getDecimalForPixel(o);return h===0&&u.min===0?0:Math.pow(10,u._startValue+(h-u._valueOffset)*u._valueRange)}}),cN=hN;Ax._defaults=cN;var Rc=O.valueOrDefault,Zv=O.valueAtIndexOrDefault,kx=O.options.resolve,fN={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:zl.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(o){return o}}};function Jv(o){var u=o.ticks;return u.display&&o.display?Rc(u.fontSize,me.global.defaultFontSize)+u.backdropPaddingY*2:0}function dN(o,u,h){return O.isArray(h)?{w:O.longestText(o,o.font,h),h:h.length*u}:{w:o.measureText(h).width,h:u}}function Ox(o,u,h,f,p){return o===f||o===p?{start:u-h/2,end:u+h/2}:o<f||o>p?{start:u-h,end:u}:{start:u,end:u+h}}function pN(o){var u=O.options._parseFont(o.options.pointLabels),h={l:0,r:o.width,t:0,b:o.height-o.paddingTop},f={},p,v,m;o.ctx.font=u.string,o._pointLabelSizes=[];var x=o.chart.data.labels.length;for(p=0;p<x;p++){m=o.getPointPosition(p,o.drawingArea+5),v=dN(o.ctx,u.lineHeight,o.pointLabels[p]),o._pointLabelSizes[p]=v;var y=o.getIndexAngle(p),b=O.toDegrees(y)%360,C=Ox(b,m.x,v.w,0,180),I=Ox(b,m.y,v.h,90,270);C.start<h.l&&(h.l=C.start,f.l=y),C.end>h.r&&(h.r=C.end,f.r=y),I.start<h.t&&(h.t=I.start,f.t=y),I.end>h.b&&(h.b=I.end,f.b=y)}o.setReductions(o.drawingArea,h,f)}function vN(o){return o===0||o===180?"center":o<180?"left":"right"}function gN(o,u,h,f){var p=h.y+f/2,v,m;if(O.isArray(u))for(v=0,m=u.length;v<m;++v)o.fillText(u[v],h.x,p),p+=f;else o.fillText(u,h.x,p)}function mN(o,u,h){o===90||o===270?h.y-=u.h/2:(o>270||o<90)&&(h.y-=u.h)}function yN(o){var u=o.ctx,h=o.options,f=h.pointLabels,p=Jv(h),v=o.getDistanceFromCenterForValue(h.ticks.reverse?o.min:o.max),m=O.options._parseFont(f);u.save(),u.font=m.string,u.textBaseline="middle";for(var x=o.chart.data.labels.length-1;x>=0;x--){var y=x===0?p/2:0,b=o.getPointPosition(x,v+y+5),C=Zv(f.fontColor,x,me.global.defaultFontColor);u.fillStyle=C;var I=o.getIndexAngle(x),D=O.toDegrees(I);u.textAlign=vN(D),mN(D,o._pointLabelSizes[x],b),gN(u,o.pointLabels[x],b,m.lineHeight)}u.restore()}function _N(o,u,h,f){var p=o.ctx,v=u.circular,m=o.chart.data.labels.length,x=Zv(u.color,f-1),y=Zv(u.lineWidth,f-1),b;if(!(!v&&!m||!x||!y)){if(p.save(),p.strokeStyle=x,p.lineWidth=y,p.setLineDash&&(p.setLineDash(u.borderDash||[]),p.lineDashOffset=u.borderDashOffset||0),p.beginPath(),v)p.arc(o.xCenter,o.yCenter,h,0,Math.PI*2);else{b=o.getPointPosition(0,h),p.moveTo(b.x,b.y);for(var C=1;C<m;C++)b=o.getPointPosition(C,h),p.lineTo(b.x,b.y)}p.closePath(),p.stroke(),p.restore()}}function Nc(o){return O.isNumber(o)?o:0}var Mx=Mc.extend({setDimensions:function(){var o=this;o.width=o.maxWidth,o.height=o.maxHeight,o.paddingTop=Jv(o.options)/2,o.xCenter=Math.floor(o.width/2),o.yCenter=Math.floor((o.height-o.paddingTop)/2),o.drawingArea=Math.min(o.height-o.paddingTop,o.width)/2},determineDataLimits:function(){var o=this,u=o.chart,h=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;O.each(u.data.datasets,function(p,v){if(u.isDatasetVisible(v)){var m=u.getDatasetMeta(v);O.each(p.data,function(x,y){var b=+o.getRightValue(x);isNaN(b)||m.data[y].hidden||(h=Math.min(b,h),f=Math.max(b,f))})}}),o.min=h===Number.POSITIVE_INFINITY?0:h,o.max=f===Number.NEGATIVE_INFINITY?0:f,o.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Jv(this.options))},convertTicksToLabels:function(){var o=this;Mc.prototype.convertTicksToLabels.call(o),o.pointLabels=o.chart.data.labels.map(function(){var u=O.callback(o.options.pointLabels.callback,arguments,o);return u||u===0?u:""})},getLabelForIndex:function(o,u){return+this.getRightValue(this.chart.data.datasets[u].data[o])},fit:function(){var o=this,u=o.options;u.display&&u.pointLabels.display?pN(o):o.setCenterPoint(0,0,0,0)},setReductions:function(o,u,h){var f=this,p=u.l/Math.sin(h.l),v=Math.max(u.r-f.width,0)/Math.sin(h.r),m=-u.t/Math.cos(h.t),x=-Math.max(u.b-(f.height-f.paddingTop),0)/Math.cos(h.b);p=Nc(p),v=Nc(v),m=Nc(m),x=Nc(x),f.drawingArea=Math.min(Math.floor(o-(p+v)/2),Math.floor(o-(m+x)/2)),f.setCenterPoint(p,v,m,x)},setCenterPoint:function(o,u,h,f){var p=this,v=p.width-u-p.drawingArea,m=o+p.drawingArea,x=h+p.drawingArea,y=p.height-p.paddingTop-f-p.drawingArea;p.xCenter=Math.floor((m+v)/2+p.left),p.yCenter=Math.floor((x+y)/2+p.top+p.paddingTop)},getIndexAngle:function(o){var u=this.chart,h=360/u.data.labels.length,f=u.options||{},p=f.startAngle||0,v=(o*h+p)%360;return(v<0?v+360:v)*Math.PI*2/360},getDistanceFromCenterForValue:function(o){var u=this;if(O.isNullOrUndef(o))return NaN;var h=u.drawingArea/(u.max-u.min);return u.options.ticks.reverse?(u.max-o)*h:(o-u.min)*h},getPointPosition:function(o,u){var h=this,f=h.getIndexAngle(o)-Math.PI/2;return{x:Math.cos(f)*u+h.xCenter,y:Math.sin(f)*u+h.yCenter}},getPointPositionForValue:function(o,u){return this.getPointPosition(o,this.getDistanceFromCenterForValue(u))},getBasePosition:function(o){var u=this,h=u.min,f=u.max;return u.getPointPositionForValue(o||0,u.beginAtZero?0:h<0&&f<0?f:h>0&&f>0?h:0)},_drawGrid:function(){var o=this,u=o.ctx,h=o.options,f=h.gridLines,p=h.angleLines,v=Rc(p.lineWidth,f.lineWidth),m=Rc(p.color,f.color),x,y,b;if(h.pointLabels.display&&yN(o),f.display&&O.each(o.ticks,function(C,I){I!==0&&(y=o.getDistanceFromCenterForValue(o.ticksAsNumbers[I]),_N(o,f,y,I))}),p.display&&v&&m){for(u.save(),u.lineWidth=v,u.strokeStyle=m,u.setLineDash&&(u.setLineDash(kx([p.borderDash,f.borderDash,[]])),u.lineDashOffset=kx([p.borderDashOffset,f.borderDashOffset,0])),x=o.chart.data.labels.length-1;x>=0;x--)y=o.getDistanceFromCenterForValue(h.ticks.reverse?o.min:o.max),b=o.getPointPosition(x,y),u.beginPath(),u.moveTo(o.xCenter,o.yCenter),u.lineTo(b.x,b.y),u.stroke();u.restore()}},_drawLabels:function(){var o=this,u=o.ctx,h=o.options,f=h.ticks;if(f.display){var p=o.getIndexAngle(0),v=O.options._parseFont(f),m=Rc(f.fontColor,me.global.defaultFontColor),x,y;u.save(),u.font=v.string,u.translate(o.xCenter,o.yCenter),u.rotate(p),u.textAlign="center",u.textBaseline="middle",O.each(o.ticks,function(b,C){C===0&&!f.reverse||(x=o.getDistanceFromCenterForValue(o.ticksAsNumbers[C]),f.showLabelBackdrop&&(y=u.measureText(b).width,u.fillStyle=f.backdropColor,u.fillRect(-y/2-f.backdropPaddingX,-x-v.size/2-f.backdropPaddingY,y+f.backdropPaddingX*2,v.size+f.backdropPaddingY*2)),u.fillStyle=m,u.fillText(b,0,-x))}),u.restore()}},_drawTitle:O.noop}),wN=fN;Mx._defaults=wN;var eg=O._deprecated,Dx=O.options.resolve,xN=O.valueOrDefault,Rx=Number.MIN_SAFE_INTEGER||-9007199254740991,tg=Number.MAX_SAFE_INTEGER||9007199254740991,Fc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Lr=Object.keys(Fc);function Nx(o,u){return o-u}function bN(o){var u={},h=[],f,p,v;for(f=0,p=o.length;f<p;++f)v=o[f],u[v]||(u[v]=!0,h.push(v));return h}function Fx(o){return O.valueOrDefault(o.time.min,o.ticks.min)}function Lx(o){return O.valueOrDefault(o.time.max,o.ticks.max)}function TN(o,u,h,f){if(f==="linear"||!o.length)return[{time:u,pos:0},{time:h,pos:1}];var p=[],v=[u],m,x,y,b,C;for(m=0,x=o.length;m<x;++m)b=o[m],b>u&&b<h&&v.push(b);for(v.push(h),m=0,x=v.length;m<x;++m)C=v[m+1],y=v[m-1],b=v[m],(y===void 0||C===void 0||Math.round((C+y)/2)!==b)&&p.push({time:b,pos:m/(x-1)});return p}function SN(o,u,h){for(var f=0,p=o.length-1,v,m,x;f>=0&&f<=p;)if(v=f+p>>1,m=o[v-1]||null,x=o[v],m)if(x[u]<h)f=v+1;else if(m[u]>h)p=v-1;else return{lo:m,hi:x};else return{lo:null,hi:x};return{lo:x,hi:null}}function Ja(o,u,h,f){var p=SN(o,u,h),v=p.lo?p.hi?p.lo:o[o.length-2]:o[0],m=p.lo?p.hi?p.hi:o[o.length-1]:o[1],x=m[u]-v[u],y=x?(h-v[u])/x:0,b=(m[f]-v[f])*y;return v[f]+b}function rg(o,u){var h=o._adapter,f=o.options.time,p=f.parser,v=p||f.format,m=u;return typeof p=="function"&&(m=p(m)),O.isFinite(m)||(m=typeof v=="string"?h.parse(m,v):h.parse(m)),m!==null?+m:(!p&&typeof v=="function"&&(m=v(u),O.isFinite(m)||(m=h.parse(m))),m)}function Ws(o,u){if(O.isNullOrUndef(u))return null;var h=o.options.time,f=rg(o,o.getRightValue(u));return f===null||h.round&&(f=+o._adapter.startOf(f,h.round)),f}function Ux(o,u,h,f){var p=Lr.length,v,m,x;for(v=Lr.indexOf(o);v<p-1;++v)if(m=Fc[Lr[v]],x=m.steps?m.steps:tg,m.common&&Math.ceil((h-u)/(x*m.size))<=f)return Lr[v];return Lr[p-1]}function EN(o,u,h,f,p){var v,m;for(v=Lr.length-1;v>=Lr.indexOf(h);v--)if(m=Lr[v],Fc[m].common&&o._adapter.diff(p,f,m)>=u-1)return m;return Lr[h?Lr.indexOf(h):0]}function CN(o){for(var u=Lr.indexOf(o)+1,h=Lr.length;u<h;++u)if(Fc[Lr[u]].common)return Lr[u]}function IN(o,u,h,f){var p=o._adapter,v=o.options,m=v.time,x=m.unit||Ux(m.minUnit,u,h,f),y=Dx([m.stepSize,m.unitStepSize,1]),b=x==="week"?m.isoWeekday:!1,C=u,I=[],D;if(b&&(C=+p.startOf(C,"isoWeek",b)),C=+p.startOf(C,b?"day":x),p.diff(h,u,x)>1e5*y)throw u+" and "+h+" are too far apart with stepSize of "+y+" "+x;for(D=C;D<h;D=+p.add(D,y,x))I.push(D);return(D===h||v.bounds==="ticks")&&I.push(D),I}function PN(o,u,h,f,p){var v=0,m=0,x,y;return p.offset&&u.length&&(x=Ja(o,"time",u[0],"pos"),u.length===1?v=1-x:v=(Ja(o,"time",u[1],"pos")-x)/2,y=Ja(o,"time",u[u.length-1],"pos"),u.length===1?m=y:m=(y-Ja(o,"time",u[u.length-2],"pos"))/2),{start:v,end:m,factor:1/(v+1+m)}}function AN(o,u,h,f){var p=o._adapter,v=+p.startOf(u[0].value,f),m=u[u.length-1].value,x,y;for(x=v;x<=m;x=+p.add(x,1,f))y=h[x],y>=0&&(u[y].major=!0);return u}function Bx(o,u,h){var f=[],p={},v=u.length,m,x;for(m=0;m<v;++m)x=u[m],p[x]=m,f.push({value:x,major:!1});return v===0||!h?f:AN(o,f,p,h)}var kN={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},Vx=Nr.extend({initialize:function(){this.mergeTicksOptions(),Nr.prototype.initialize.call(this)},update:function(){var o=this,u=o.options,h=u.time||(u.time={}),f=o._adapter=new Wv._date(u.adapters.date);return eg("time scale",h.format,"time.format","time.parser"),eg("time scale",h.min,"time.min","ticks.min"),eg("time scale",h.max,"time.max","ticks.max"),O.mergeIf(h.displayFormats,f.formats()),Nr.prototype.update.apply(o,arguments)},getRightValue:function(o){return o&&o.t!==void 0&&(o=o.t),Nr.prototype.getRightValue.call(this,o)},determineDataLimits:function(){var o=this,u=o.chart,h=o._adapter,f=o.options,p=f.time.unit||"day",v=tg,m=Rx,x=[],y=[],b=[],C,I,D,N,F,B,z,Y=o._getLabels();for(C=0,D=Y.length;C<D;++C)b.push(Ws(o,Y[C]));for(C=0,D=(u.data.datasets||[]).length;C<D;++C)if(u.isDatasetVisible(C))if(F=u.data.datasets[C].data,O.isObject(F[0]))for(y[C]=[],I=0,N=F.length;I<N;++I)B=Ws(o,F[I]),x.push(B),y[C][I]=B;else y[C]=b.slice(0),z||(x=x.concat(b),z=!0);else y[C]=[];b.length&&(v=Math.min(v,b[0]),m=Math.max(m,b[b.length-1])),x.length&&(x=D>1?bN(x).sort(Nx):x.sort(Nx),v=Math.min(v,x[0]),m=Math.max(m,x[x.length-1])),v=Ws(o,Fx(f))||v,m=Ws(o,Lx(f))||m,v=v===tg?+h.startOf(Date.now(),p):v,m=m===Rx?+h.endOf(Date.now(),p)+1:m,o.min=Math.min(v,m),o.max=Math.max(v+1,m),o._table=[],o._timestamps={data:x,datasets:y,labels:b}},buildTicks:function(){var o=this,u=o.min,h=o.max,f=o.options,p=f.ticks,v=f.time,m=o._timestamps,x=[],y=o.getLabelCapacity(u),b=p.source,C=f.distribution,I,D,N;for(b==="data"||b==="auto"&&C==="series"?m=m.data:b==="labels"?m=m.labels:m=IN(o,u,h,y),f.bounds==="ticks"&&m.length&&(u=m[0],h=m[m.length-1]),u=Ws(o,Fx(f))||u,h=Ws(o,Lx(f))||h,I=0,D=m.length;I<D;++I)N=m[I],N>=u&&N<=h&&x.push(N);return o.min=u,o.max=h,o._unit=v.unit||(p.autoSkip?Ux(v.minUnit,o.min,o.max,y):EN(o,x.length,v.minUnit,o.min,o.max)),o._majorUnit=!p.major.enabled||o._unit==="year"?void 0:CN(o._unit),o._table=TN(o._timestamps.data,u,h,C),o._offsets=PN(o._table,x,u,h,f),p.reverse&&x.reverse(),Bx(o,x,o._majorUnit)},getLabelForIndex:function(o,u){var h=this,f=h._adapter,p=h.chart.data,v=h.options.time,m=p.labels&&o<p.labels.length?p.labels[o]:"",x=p.datasets[u].data[o];return O.isObject(x)&&(m=h.getRightValue(x)),v.tooltipFormat?f.format(rg(h,m),v.tooltipFormat):typeof m=="string"?m:f.format(rg(h,m),v.displayFormats.datetime)},tickFormatFunction:function(o,u,h,f){var p=this,v=p._adapter,m=p.options,x=m.time.displayFormats,y=x[p._unit],b=p._majorUnit,C=x[b],I=h[u],D=m.ticks,N=b&&C&&I&&I.major,F=v.format(o,f||(N?C:y)),B=N?D.major:D.minor,z=Dx([B.callback,B.userCallback,D.callback,D.userCallback]);return z?z(F,u,h):F},convertTicksToLabels:function(o){var u=[],h,f;for(h=0,f=o.length;h<f;++h)u.push(this.tickFormatFunction(o[h].value,h,o));return u},getPixelForOffset:function(o){var u=this,h=u._offsets,f=Ja(u._table,"time",o,"pos");return u.getPixelForDecimal((h.start+f)*h.factor)},getPixelForValue:function(o,u,h){var f=this,p=null;if(u!==void 0&&h!==void 0&&(p=f._timestamps.datasets[h][u]),p===null&&(p=Ws(f,o)),p!==null)return f.getPixelForOffset(p)},getPixelForTick:function(o){var u=this.getTicks();return o>=0&&o<u.length?this.getPixelForOffset(u[o].value):null},getValueForPixel:function(o){var u=this,h=u._offsets,f=u.getDecimalForPixel(o)/h.factor-h.end,p=Ja(u._table,"pos",f,"time");return u._adapter._create(p)},_getLabelSize:function(o){var u=this,h=u.options.ticks,f=u.ctx.measureText(o).width,p=O.toRadians(u.isHorizontal()?h.maxRotation:h.minRotation),v=Math.cos(p),m=Math.sin(p),x=xN(h.fontSize,me.global.defaultFontSize);return{w:f*v+x*m,h:f*m+x*v}},getLabelWidth:function(o){return this._getLabelSize(o).w},getLabelCapacity:function(o){var u=this,h=u.options.time,f=h.displayFormats,p=f[h.unit]||f.millisecond,v=u.tickFormatFunction(o,0,Bx(u,[o],u._majorUnit),p),m=u._getLabelSize(v),x=Math.floor(u.isHorizontal()?u.width/m.w:u.height/m.h);return u.options.offset&&x--,x>0?x:1}}),ON=kN;Vx._defaults=ON;var MN={category:Ix,linear:Px,logarithmic:Ax,radialLinear:Mx,time:Vx},DN={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Wv._date.override(typeof r=="function"?{_id:"moment",formats:function(){return DN},parse:function(o,u){return typeof o=="string"&&typeof u=="string"?o=r(o,u):o instanceof r||(o=r(o)),o.isValid()?o.valueOf():null},format:function(o,u){return r(o).format(u)},add:function(o,u,h){return r(o).add(u,h).valueOf()},diff:function(o,u,h){return r(o).diff(r(u),h)},startOf:function(o,u,h){return o=r(o),u==="isoWeek"?o.isoWeekday(h).valueOf():o.startOf(u).valueOf()},endOf:function(o,u){return r(o).endOf(u).valueOf()},_create:function(o){return r(o)}}:{}),me._set("global",{plugins:{filler:{propagate:!0}}});var RN={dataset:function(o){var u=o.fill,h=o.chart,f=h.getDatasetMeta(u),p=f&&h.isDatasetVisible(u),v=p&&f.dataset._children||[],m=v.length||0;return m?function(x,y){return y<m&&v[y]._view||null}:null},boundary:function(o){var u=o.boundary,h=u?u.x:null,f=u?u.y:null;return O.isArray(u)?function(p,v){return u[v]}:function(p){return{x:h===null?p.x:h,y:f===null?p.y:f}}}};function NN(o,u,h){var f=o._model||{},p=f.fill,v;if(p===void 0&&(p=!!f.backgroundColor),p===!1||p===null)return!1;if(p===!0)return"origin";if(v=parseFloat(p,10),isFinite(v)&&Math.floor(v)===v)return(p[0]==="-"||p[0]==="+")&&(v=u+v),v===u||v<0||v>=h?!1:v;switch(p){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return p;default:return!1}}function FN(o){var u=o.el._model||{},h=o.el._scale||{},f=o.fill,p=null,v;if(isFinite(f))return null;if(f==="start"?p=u.scaleBottom===void 0?h.bottom:u.scaleBottom:f==="end"?p=u.scaleTop===void 0?h.top:u.scaleTop:u.scaleZero!==void 0?p=u.scaleZero:h.getBasePixel&&(p=h.getBasePixel()),p!=null){if(p.x!==void 0&&p.y!==void 0)return p;if(O.isFinite(p))return v=h.isHorizontal(),{x:v?p:null,y:v?null:p}}return null}function LN(o){var u=o.el._scale,h=u.options,f=u.chart.data.labels.length,p=o.fill,v=[],m,x,y,b,C;if(!f)return null;for(m=h.ticks.reverse?u.max:u.min,x=h.ticks.reverse?u.min:u.max,y=u.getPointPositionForValue(0,m),b=0;b<f;++b)C=p==="start"||p==="end"?u.getPointPositionForValue(b,p==="start"?m:x):u.getBasePosition(b),h.gridLines.circular&&(C.cx=y.x,C.cy=y.y,C.angle=u.getIndexAngle(b)-Math.PI/2),v.push(C);return v}function UN(o){var u=o.el._scale||{};return u.getPointPositionForValue?LN(o):FN(o)}function BN(o,u,h){var f=o[u],p=f.fill,v=[u],m;if(!h)return p;for(;p!==!1&&v.indexOf(p)===-1;){if(!isFinite(p))return p;if(m=o[p],!m)return!1;if(m.visible)return p;v.push(p),p=m.fill}return!1}function VN(o){var u=o.fill,h="dataset";return u===!1?null:(isFinite(u)||(h="boundary"),RN[h](o))}function zx(o){return o&&!o.skip}function $x(o,u,h,f,p){var v,m,x,y;if(!(!f||!p)){for(o.moveTo(u[0].x,u[0].y),v=1;v<f;++v)O.canvas.lineTo(o,u[v-1],u[v]);if(h[0].angle!==void 0){for(m=h[0].cx,x=h[0].cy,y=Math.sqrt(Math.pow(h[0].x-m,2)+Math.pow(h[0].y-x,2)),v=p-1;v>0;--v)o.arc(m,x,y,h[v].angle,h[v-1].angle,!0);return}for(o.lineTo(h[p-1].x,h[p-1].y),v=p-1;v>0;--v)O.canvas.lineTo(o,h[v],h[v-1],!0)}}function zN(o,u,h,f,p,v){var m=u.length,x=f.spanGaps,y=[],b=[],C=0,I=0,D,N,F,B,z,Y,ce,ve;for(o.beginPath(),D=0,N=m;D<N;++D)F=D%m,B=u[F]._view,z=h(B,F,f),Y=zx(B),ce=zx(z),v&&ve===void 0&&Y&&(ve=D+1,N=m+ve),Y&&ce?(C=y.push(B),I=b.push(z)):C&&I&&(x?(Y&&y.push(B),ce&&b.push(z)):($x(o,y,b,C,I),C=I=0,y=[],b=[]));$x(o,y,b,C,I),o.closePath(),o.fillStyle=p,o.fill()}var $N={id:"filler",afterDatasetsUpdate:function(o,u){var h=(o.data.datasets||[]).length,f=u.propagate,p=[],v,m,x,y;for(m=0;m<h;++m)v=o.getDatasetMeta(m),x=v.dataset,y=null,x&&x._model&&x instanceof Rr.Line&&(y={visible:o.isDatasetVisible(m),fill:NN(x,m,h),chart:o,el:x}),v.$filler=y,p.push(y);for(m=0;m<h;++m)y=p[m],y&&(y.fill=BN(p,m,f),y.boundary=UN(y),y.mapper=VN(y))},beforeDatasetsDraw:function(o){var u=o._getSortedVisibleDatasetMetas(),h=o.ctx,f,p,v,m,x,y,b;for(p=u.length-1;p>=0;--p)f=u[p].$filler,!(!f||!f.visible)&&(v=f.el,m=v._view,x=v._children||[],y=f.mapper,b=m.backgroundColor||me.global.defaultColor,y&&b&&x.length&&(O.canvas.clipArea(h,o.chartArea),zN(h,x,y,m,b,v._loop),O.canvas.unclipArea(h)))}},HN=O.rtl.getRtlAdapter,$i=O.noop,Hi=O.valueOrDefault;me._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(o,u){var h=u.datasetIndex,f=this.chart,p=f.getDatasetMeta(h);p.hidden=p.hidden===null?!f.data.datasets[h].hidden:null,f.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(o){var u=o.data.datasets,h=o.options.legend||{},f=h.labels&&h.labels.usePointStyle;return o._getSortedDatasetMetas().map(function(p){var v=p.controller.getStyle(f?0:void 0);return{text:u[p.index].label,fillStyle:v.backgroundColor,hidden:!o.isDatasetVisible(p.index),lineCap:v.borderCapStyle,lineDash:v.borderDash,lineDashOffset:v.borderDashOffset,lineJoin:v.borderJoinStyle,lineWidth:v.borderWidth,strokeStyle:v.borderColor,pointStyle:v.pointStyle,rotation:v.rotation,datasetIndex:p.index}},this)}}},legendCallback:function(o){var u=document.createElement("ul"),h=o.data.datasets,f,p,v,m;for(u.setAttribute("class",o.id+"-legend"),f=0,p=h.length;f<p;f++)v=u.appendChild(document.createElement("li")),m=v.appendChild(document.createElement("span")),m.style.backgroundColor=h[f].backgroundColor,h[f].label&&v.appendChild(document.createTextNode(h[f].label));return u.outerHTML}});function ng(o,u){return o.usePointStyle&&o.boxWidth>u?u:o.boxWidth}var Hx=kn.extend({initialize:function(o){var u=this;O.extend(u,o),u.legendHitBoxes=[],u._hoveredItem=null,u.doughnutMode=!1},beforeUpdate:$i,update:function(o,u,h){var f=this;return f.beforeUpdate(),f.maxWidth=o,f.maxHeight=u,f.margins=h,f.beforeSetDimensions(),f.setDimensions(),f.afterSetDimensions(),f.beforeBuildLabels(),f.buildLabels(),f.afterBuildLabels(),f.beforeFit(),f.fit(),f.afterFit(),f.afterUpdate(),f.minSize},afterUpdate:$i,beforeSetDimensions:$i,setDimensions:function(){var o=this;o.isHorizontal()?(o.width=o.maxWidth,o.left=0,o.right=o.width):(o.height=o.maxHeight,o.top=0,o.bottom=o.height),o.paddingLeft=0,o.paddingTop=0,o.paddingRight=0,o.paddingBottom=0,o.minSize={width:0,height:0}},afterSetDimensions:$i,beforeBuildLabels:$i,buildLabels:function(){var o=this,u=o.options.labels||{},h=O.callback(u.generateLabels,[o.chart],o)||[];u.filter&&(h=h.filter(function(f){return u.filter(f,o.chart.data)})),o.options.reverse&&h.reverse(),o.legendItems=h},afterBuildLabels:$i,beforeFit:$i,fit:function(){var o=this,u=o.options,h=u.labels,f=u.display,p=o.ctx,v=O.options._parseFont(h),m=v.size,x=o.legendHitBoxes=[],y=o.minSize,b=o.isHorizontal();if(b?(y.width=o.maxWidth,y.height=f?10:0):(y.width=f?10:0,y.height=o.maxHeight),!f){o.width=y.width=o.height=y.height=0;return}if(p.font=v.string,b){var C=o.lineWidths=[0],I=0;p.textAlign="left",p.textBaseline="middle",O.each(o.legendItems,function(ce,ve){var Ne=ng(h,m),De=Ne+m/2+p.measureText(ce.text).width;(ve===0||C[C.length-1]+De+2*h.padding>y.width)&&(I+=m+h.padding,C[C.length-(ve>0?0:1)]=0),x[ve]={left:0,top:0,width:De,height:m},C[C.length-1]+=De+h.padding}),y.height+=I}else{var D=h.padding,N=o.columnWidths=[],F=o.columnHeights=[],B=h.padding,z=0,Y=0;O.each(o.legendItems,function(ce,ve){var Ne=ng(h,m),De=Ne+m/2+p.measureText(ce.text).width;ve>0&&Y+m+2*D>y.height&&(B+=z+h.padding,N.push(z),F.push(Y),z=0,Y=0),z=Math.max(z,De),Y+=m+D,x[ve]={left:0,top:0,width:De,height:m}}),B+=z,N.push(z),F.push(Y),y.width+=B}o.width=y.width,o.height=y.height},afterFit:$i,isHorizontal:function(){return this.options.position==="top"||this.options.position==="bottom"},draw:function(){var o=this,u=o.options,h=u.labels,f=me.global,p=f.defaultColor,v=f.elements.line,m=o.height,x=o.columnHeights,y=o.width,b=o.lineWidths;if(u.display){var C=HN(u.rtl,o.left,o.minSize.width),I=o.ctx,D=Hi(h.fontColor,f.defaultFontColor),N=O.options._parseFont(h),F=N.size,B;I.textAlign=C.textAlign("left"),I.textBaseline="middle",I.lineWidth=.5,I.strokeStyle=D,I.fillStyle=D,I.font=N.string;var z=ng(h,F),Y=o.legendHitBoxes,ce=function(Ge,lt,ct){if(!(isNaN(z)||z<=0)){I.save();var qt=Hi(ct.lineWidth,v.borderWidth);if(I.fillStyle=Hi(ct.fillStyle,p),I.lineCap=Hi(ct.lineCap,v.borderCapStyle),I.lineDashOffset=Hi(ct.lineDashOffset,v.borderDashOffset),I.lineJoin=Hi(ct.lineJoin,v.borderJoinStyle),I.lineWidth=qt,I.strokeStyle=Hi(ct.strokeStyle,p),I.setLineDash&&I.setLineDash(Hi(ct.lineDash,v.borderDash)),h&&h.usePointStyle){var Bt=z*Math.SQRT2/2,Rt=C.xPlus(Ge,z/2),nr=lt+F/2;O.canvas.drawPoint(I,ct.pointStyle,Bt,Rt,nr,ct.rotation)}else I.fillRect(C.leftForLtr(Ge,z),lt,z,F),qt!==0&&I.strokeRect(C.leftForLtr(Ge,z),lt,z,F);I.restore()}},ve=function(Ge,lt,ct,qt){var Bt=F/2,Rt=C.xPlus(Ge,z+Bt),nr=lt+Bt;I.fillText(ct.text,Rt,nr),ct.hidden&&(I.beginPath(),I.lineWidth=2,I.moveTo(Rt,nr),I.lineTo(C.xPlus(Rt,qt),nr),I.stroke())},Ne=function(Ge,lt){switch(u.align){case"start":return h.padding;case"end":return Ge-lt;default:return(Ge-lt+h.padding)/2}},De=o.isHorizontal();De?B={x:o.left+Ne(y,b[0]),y:o.top+h.padding,line:0}:B={x:o.left+h.padding,y:o.top+Ne(m,x[0]),line:0},O.rtl.overrideTextDirection(o.ctx,u.textDirection);var Qe=F+h.padding;O.each(o.legendItems,function(Ge,lt){var ct=I.measureText(Ge.text).width,qt=z+F/2+ct,Bt=B.x,Rt=B.y;C.setWidth(o.minSize.width),De?lt>0&&Bt+qt+h.padding>o.left+o.minSize.width&&(Rt=B.y+=Qe,B.line++,Bt=B.x=o.left+Ne(y,b[B.line])):lt>0&&Rt+Qe>o.top+o.minSize.height&&(Bt=B.x=Bt+o.columnWidths[B.line]+h.padding,B.line++,Rt=B.y=o.top+Ne(m,x[B.line]));var nr=C.x(Bt);ce(nr,Rt,Ge),Y[lt].left=C.leftForLtr(nr,Y[lt].width),Y[lt].top=Rt,ve(nr,Rt,Ge,ct),De?B.x+=qt+h.padding:B.y+=Qe}),O.rtl.restoreTextDirection(o.ctx,u.textDirection)}},_getLegendItemAt:function(o,u){var h=this,f,p,v;if(o>=h.left&&o<=h.right&&u>=h.top&&u<=h.bottom){for(v=h.legendHitBoxes,f=0;f<v.length;++f)if(p=v[f],o>=p.left&&o<=p.left+p.width&&u>=p.top&&u<=p.top+p.height)return h.legendItems[f]}return null},handleEvent:function(o){var u=this,h=u.options,f=o.type==="mouseup"?"click":o.type,p;if(f==="mousemove"){if(!h.onHover&&!h.onLeave)return}else if(f==="click"){if(!h.onClick)return}else return;p=u._getLegendItemAt(o.x,o.y),f==="click"?p&&h.onClick&&h.onClick.call(u,o.native,p):(h.onLeave&&p!==u._hoveredItem&&(u._hoveredItem&&h.onLeave.call(u,o.native,u._hoveredItem),u._hoveredItem=p),h.onHover&&p&&h.onHover.call(u,o.native,p))}});function jx(o,u){var h=new Hx({ctx:o.ctx,options:u,chart:o});an.configure(o,h,u),an.addBox(o,h),o.legend=h}var jN={id:"legend",_element:Hx,beforeInit:function(o){var u=o.options.legend;u&&jx(o,u)},beforeUpdate:function(o){var u=o.options.legend,h=o.legend;u?(O.mergeIf(u,me.global.legend),h?(an.configure(o,h,u),h.options=u):jx(o,u)):h&&(an.removeBox(o,h),delete o.legend)},afterEvent:function(o,u){var h=o.legend;h&&h.handleEvent(u)}},ai=O.noop;me._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Wx=kn.extend({initialize:function(o){var u=this;O.extend(u,o),u.legendHitBoxes=[]},beforeUpdate:ai,update:function(o,u,h){var f=this;return f.beforeUpdate(),f.maxWidth=o,f.maxHeight=u,f.margins=h,f.beforeSetDimensions(),f.setDimensions(),f.afterSetDimensions(),f.beforeBuildLabels(),f.buildLabels(),f.afterBuildLabels(),f.beforeFit(),f.fit(),f.afterFit(),f.afterUpdate(),f.minSize},afterUpdate:ai,beforeSetDimensions:ai,setDimensions:function(){var o=this;o.isHorizontal()?(o.width=o.maxWidth,o.left=0,o.right=o.width):(o.height=o.maxHeight,o.top=0,o.bottom=o.height),o.paddingLeft=0,o.paddingTop=0,o.paddingRight=0,o.paddingBottom=0,o.minSize={width:0,height:0}},afterSetDimensions:ai,beforeBuildLabels:ai,buildLabels:ai,afterBuildLabels:ai,beforeFit:ai,fit:function(){var o=this,u=o.options,h=o.minSize={},f=o.isHorizontal(),p,v;if(!u.display){o.width=h.width=o.height=h.height=0;return}p=O.isArray(u.text)?u.text.length:1,v=p*O.options._parseFont(u).lineHeight+u.padding*2,o.width=h.width=f?o.maxWidth:v,o.height=h.height=f?v:o.maxHeight},afterFit:ai,isHorizontal:function(){var o=this.options.position;return o==="top"||o==="bottom"},draw:function(){var o=this,u=o.ctx,h=o.options;if(h.display){var f=O.options._parseFont(h),p=f.lineHeight,v=p/2+h.padding,m=0,x=o.top,y=o.left,b=o.bottom,C=o.right,I,D,N;u.fillStyle=O.valueOrDefault(h.fontColor,me.global.defaultFontColor),u.font=f.string,o.isHorizontal()?(D=y+(C-y)/2,N=x+v,I=C-y):(D=h.position==="left"?y+v:C-v,N=x+(b-x)/2,I=b-x,m=Math.PI*(h.position==="left"?-.5:.5)),u.save(),u.translate(D,N),u.rotate(m),u.textAlign="center",u.textBaseline="middle";var F=h.text;if(O.isArray(F))for(var B=0,z=0;z<F.length;++z)u.fillText(F[z],0,B,I),B+=p;else u.fillText(F,0,0,I);u.restore()}}});function Gx(o,u){var h=new Wx({ctx:o.ctx,options:u,chart:o});an.configure(o,h,u),an.addBox(o,h),o.titleBlock=h}var WN={id:"title",_element:Wx,beforeInit:function(o){var u=o.options.title;u&&Gx(o,u)},beforeUpdate:function(o){var u=o.options.title,h=o.titleBlock;u?(O.mergeIf(u,me.global.title),h?(an.configure(o,h,u),h.options=u):Gx(o,u)):h&&(an.removeBox(o,h),delete o.titleBlock)}},ji={},GN=$N,YN=jN,XN=WN;ji.filler=GN,ji.legend=YN,ji.title=XN,Be.helpers=O,$R(),Be._adapters=Wv,Be.Animation=Iv,Be.animationService=Pv,Be.controllers=cx,Be.DatasetController=sn,Be.defaults=me,Be.Element=kn,Be.elements=Rr,Be.Interaction=Ka,Be.layouts=an,Be.platform=Qa,Be.plugins=ht,Be.Scale=Nr,Be.scaleService=Vl,Be.Ticks=zl,Be.Tooltip=$v,Be.helpers.each(MN,function(o,u){Be.scaleService.registerScaleType(u,o,o._defaults)});for(var Yx in ji)ji.hasOwnProperty(Yx)&&Be.plugins.register(ji[Yx]);Be.platform.initialize();var qN=Be;return typeof window<"u"&&(window.Chart=Be),Be.Chart=Be,Be.Legend=ji.legend._element,Be.Title=ji.title._element,Be.pluginService=Be.plugins,Be.PluginBase=Be.Element.extend({}),Be.canvasHelpers=Be.helpers.canvas,Be.layoutService=Be.layouts,Be.LinearScaleBase=Mc,Be.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(o){Be[o]=function(u,h){return new Be(u,Be.helpers.merge(h||{},{type:o.charAt(0).toLowerCase()+o.slice(1)}))}}),qN})})(dM);let WX=class extends Ha{constructor(e){super(e),this.state={counter:this.props.from,interval:this.props.interval??1e3},this.interval}componentDidMount(){this.interval=setInterval(()=>{const{counter:e}=this.state;if(e===0){this.props.whenDone(),clearInterval(this.interval);return}this.setState({counter:e-1})},this.state.interval)}componentWillUnmount(){clearInterval(this.interval)}render(){return this.smoothly(ae("div",{children:this.state.counter}))}};const j0=t=>(1-t.shotsMissed/t.shotsFired)*100,W0=t=>{let e=t.shotsFired-t.shotsMissed,r=(t.waveEnd-t.waveStart)/1e3/60;return e/5/r};class GX extends Ha{constructor(r){super(r);q(this,"handleNextWave",()=>{tt.emit("nextWave")});this.chart=hF.createRef(),this.graph}componentDidMount(){let r=this.props.waveData;this.graph=new dM.exports.Chart(this.chart.current,{type:"line",data:{labels:r.map((n,i)=>i+1),datasets:[{data:r.map(n=>j0(n)),label:"Accuracy",borderColor:"#3e95cd",fill:!1},{data:r.map(n=>W0(n)),label:"Wpm",borderColor:"#78ebcc",fill:!1}]},options:{legend:{display:!1},scales:{xAxes:[{display:!1,gridLines:{color:"rgba(0, 0, 0, 0)"}}],yAxes:[{display:!1,gridLines:{color:"rgba(0, 0, 0, 0)"}}]},layout:{padding:{left:10,right:10,top:10,bottom:10}}}})}render(){const{waveData:r,score:n}=this.props,i=r.length,s=Dd.last(r),a=j0(s).toFixed(2),l=W0(s).toFixed(2),c=pA(n);return this.smoothly(He("div",{className:"hud",children:[He("div",{className:"wave",children:[He("div",{className:"waveNumber",children:["wave",ae("br",{}),i]}),ae("div",{className:"score",children:c})]}),He("div",{className:"waveStats",children:[He("div",{className:"stat",children:[ae("div",{className:"marker accuracy"}),ae("span",{className:"faded",children:"accuracy"})," ",a,"%"]}),He("div",{className:"stat",children:[ae("div",{className:"marker wpm"}),ae("span",{className:"faded",children:"wpm "})," ",l]})]}),ae("div",{className:"chartContainer",children:ae("canvas",{width:"300",height:"150",ref:this.chart})}),He("div",{className:"timer",children:[ae("header",{children:"next wave in"}),ae(WX,{from:5,whenDone:this.handleNextWave})]})]}))}}class YX extends Ha{constructor(r){super(r);q(this,"restartGame",()=>{tt.emit("restartGame")})}render(){return this.smoothly(He("div",{className:"gameOverMenu menu",children:[ae("h1",{className:"gameOverHeader header",children:"Game Over"}),ae(Hn,{danger:!0,hint:"ret",text:"Back to Menu",onClick:this.restartGame})]}))}}class XX extends fr.exports.Component{constructor(r){super(r);q(this,"_handleKeyDown",r=>{if(this.state.started)switch(r.key){case"Escape":this.handlePause();break}});q(this,"handlePause",()=>{this.state.intermission||(this.toggleMenu(),this.setState(r=>(this.game.pause(!r.paused),{paused:!r.paused})))});q(this,"toggleMenu",()=>{this.setState(r=>({inMenu:!r.inMenu}))});q(this,"nextWave",()=>{this.setState(r=>({wave:r.wave+1,intermission:!1})),this.game.nextWave(this.state.wave),this.handlePause()});this.game=rl,this.state={inMenu:!0,paused:!1,started:!1,inSettings:!1,inLeaderboard:!1,intermission:!1,gameOver:!1,playerName:ts.get("playerName")||"Input name here",playerSignature:ts.get("playerSignature"),wave:1},this.score=0,this.waveData=[]}componentDidMount(){document.addEventListener("keydown",this._handleKeyDown,!1),tt.on("shotFired",r=>{this.score>=10&&r?this.score-=10:this.score+=1}),tt.on("enemyDeath",()=>{this.score+=100}),tt.on("nextWave",this.nextWave),tt.on("waveEnd",r=>{this.waveData.push(r),this.handlePause(),this.setState({intermission:!0})}),tt.on("settingsOpened",()=>this.setState({inSettings:!0})),tt.on("settingsSaved",(r,n)=>{this.setState({playerName:r,playerSignature:n,inSettings:!1}),ts.set("playerName",r),ts.set("playerSignature",n)}),tt.on("leaderboardOpened",()=>this.setState({inLeaderboard:!0})),tt.on("leaderboardClosed",()=>this.setState({inLeaderboard:!1})),tt.on("gameStarted",async()=>{const{wave:r,playerName:n}=this.state;await this.game.start(n,this.emitter),this.game.nextWave(r),this.toggleMenu(),this.setState(i=>({started:!i.started}))}),tt.on("unpause",this.handlePause),tt.on("gameOver",r=>{this.waveData.push(r);let n=this.waveData.length,i=this.waveData.map(c=>j0(c)).reduce((c,d)=>c+d,0),s=this.waveData.map(c=>W0(c)).reduce((c,d)=>c+d,0),a=this.score;const l={name:this.state.playerName,signature:this.state.playerSignature};VG(l,(i/n).toFixed(2),(s/n).toFixed(2),pA(a),n).then(()=>{this.setState({gameOver:!0,inMenu:!0})})}),tt.on("restartGame",()=>{this.setState({started:!1,inMenu:!0,paused:!1,inSettings:!1,intermission:!1,gameOver:!1,inLeaderboard:!1,wave:1}),this.waveData=[],this.score=0,rl.reset()})}componentWillUnmount(){document.removeEventListener("keydown",this._handleKeyDown,!1)}render(){const{inMenu:r,paused:n,started:i,inSettings:s,inLeaderboard:a,gameOver:l,intermission:c,playerName:d,playerSignature:g}=this.state;return He(Ef,{children:[l&&ae(YX,{}),!i&&a&&ae($G,{playerName:d,playerSignature:g}),!i&&!s&&!a&&ae(a$,{playerName:d,playerSignature:g}),n&&!c&&ae(s$,{}),s&&ae(o$,{playerName:d,playerSignature:g}),c&&n&&ae(GX,{waveData:this.waveData,score:this.score}),ae(Iz,{hidden:!r})]})}}var qX="firebase",KX="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ma(qX,KX,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=new Map,sD={activated:!1,tokenObservers:[]},QX={initialized:!1,enabled:!1};function Mr(t){return G0.get(t)||Object.assign({},sD)}function ZX(t,e){return G0.set(t,e),G0.get(t)}function Sv(){return QX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="https://content-firebaseappcheck.googleapis.com/v1",JX="exchangeRecaptchaV3Token",eq="exchangeDebugToken",v2={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},tq=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,r,n,i,s){if(this.operation=e,this.retryPolicy=r,this.getWaitDuration=n,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Eh,await nq(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Eh,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(r){this.retryPolicy(r)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const r=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),r}}}function nq(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq={["already-initialized"]:"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.",["use-before-activation"]:"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.",["fetch-network-error"]:"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",["fetch-parse-error"]:"Fetch client could not parse response. Original error: {$originalErrorMessage}.",["fetch-status-error"]:"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["recaptcha-error"]:"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},qr=new R1("appCheck","AppCheck",iq);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function oD(t){if(!Mr(t).activated)throw qr.create("use-before-activation",{appName:t.name})}function lD(t){const e=Math.round(t/1e3),r=Math.floor(e/(3600*24)),n=Math.floor((e-r*3600*24)/3600),i=Math.floor((e-r*3600*24-n*3600)/60),s=e-r*3600*24-n*3600-i*60;let a="";return r&&(a+=bf(r)+"d:"),n&&(a+=bf(n)+"h:"),a+=bf(i)+"m:"+bf(s)+"s",a}function bf(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD({url:t,body:e},r){const n={"Content-Type":"application/json"},i=r.getImmediate({optional:!0});if(i){const _=await i.getHeartbeatsHeader();_&&(n["X-Firebase-Client"]=_)}const s={method:"POST",body:JSON.stringify(e),headers:n};let a;try{a=await fetch(t,s)}catch(_){throw qr.create("fetch-network-error",{originalErrorMessage:_==null?void 0:_.message})}if(a.status!==200)throw qr.create("fetch-status-error",{httpStatus:a.status});let l;try{l=await a.json()}catch(_){throw qr.create("fetch-parse-error",{originalErrorMessage:_==null?void 0:_.message})}const c=l.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw qr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});const d=Number(c[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+d,issuedAtTimeMillis:g}}function sq(t,e){const{projectId:r,appId:n,apiKey:i}=t.options;return{url:`${aD}/projects/${r}/apps/${n}:${JX}?key=${i}`,body:{recaptcha_v3_token:e}}}function aq(t,e){const{projectId:r,appId:n,apiKey:i}=t.options;return{url:`${aD}/projects/${r}/apps/${n}:${eq}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq="firebase-app-check-database",lq=1,zh="firebase-app-check-store",hD="debug-token";let Tf=null;function cD(){return Tf||(Tf=new Promise((t,e)=>{try{const r=indexedDB.open(oq,lq);r.onsuccess=n=>{t(n.target.result)},r.onerror=n=>{var i;e(qr.create("storage-open",{originalErrorMessage:(i=n.target.error)===null||i===void 0?void 0:i.message}))},r.onupgradeneeded=n=>{const i=n.target.result;switch(n.oldVersion){case 0:i.createObjectStore(zh,{keyPath:"compositeKey"})}}}catch(r){e(qr.create("storage-open",{originalErrorMessage:r==null?void 0:r.message}))}}),Tf)}function uq(t){return dD(pD(t))}function hq(t,e){return fD(pD(t),e)}function cq(t){return fD(hD,t)}function fq(){return dD(hD)}async function fD(t,e){const n=(await cD()).transaction(zh,"readwrite"),s=n.objectStore(zh).put({compositeKey:t,value:e});return new Promise((a,l)=>{s.onsuccess=c=>{a()},n.onerror=c=>{var d;l(qr.create("storage-set",{originalErrorMessage:(d=c.target.error)===null||d===void 0?void 0:d.message}))}})}async function dD(t){const r=(await cD()).transaction(zh,"readonly"),i=r.objectStore(zh).get(t);return new Promise((s,a)=>{i.onsuccess=l=>{const c=l.target.result;s(c?c.value:void 0)},r.onerror=l=>{var c;a(qr.create("storage-get",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})}function pD(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new N1("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dq(t){if(D1()){let e;try{e=await uq(t)}catch(r){$h.warn(`Failed to read token from IndexedDB. Error: ${r}`)}return e}}function Am(t,e){return D1()?hq(t,e).catch(r=>{$h.warn(`Failed to write token to IndexedDB. Error: ${r}`)}):Promise.resolve()}async function pq(){let t;try{t=await fq()}catch{}if(t)return t;{const e=b$();return cq(e).catch(r=>$h.warn(`Failed to persist debug token to IndexedDB. Error: ${r}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(){return Sv().enabled}async function gD(){const t=Sv();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function vq(){const t=FA(),e=Sv();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const r=new Eh;e.token=r,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?r.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):r.resolve(pq())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq={error:"UNKNOWN_ERROR"};function mq(t){return M1.encodeString(JSON.stringify(t),!1)}async function Y0(t,e=!1){const r=t.app;oD(r);const n=Mr(r);let i=n.token,s;if(i&&!Co(i)&&(n.token=void 0,i=void 0),!i){const c=await n.cachedTokenPromise;c&&(Co(c)?i=c:await Am(r,void 0))}if(!e&&i&&Co(i))return{token:i.token};let a=!1;if(vD()){n.exchangeTokenPromise||(n.exchangeTokenPromise=uD(aq(r,await gD()),t.heartbeatServiceProvider).finally(()=>{n.exchangeTokenPromise=void 0}),a=!0);const c=await n.exchangeTokenPromise;return await Am(r,c),n.token=c,{token:c.token}}try{n.exchangeTokenPromise||(n.exchangeTokenPromise=n.provider.getToken().finally(()=>{n.exchangeTokenPromise=void 0}),a=!0),i=await Mr(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?$h.warn(c.message):$h.error(c),s=c}let l;return i?s?Co(i)?l={token:i.token,internalError:s}:l=y2(s):(l={token:i.token},n.token=i,await Am(r,i)):l=y2(s),a&&_D(r,l),l}function mD(t,e,r,n){const{app:i}=t,s=Mr(i),a={next:r,error:n,type:e};if(s.tokenObservers=[...s.tokenObservers,a],s.token&&Co(s.token)){const l=s.token;Promise.resolve().then(()=>{r({token:l.token}),m2(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>m2(t))}function yD(t,e){const r=Mr(t),n=r.tokenObservers.filter(i=>i.next!==e);n.length===0&&r.tokenRefresher&&r.tokenRefresher.isRunning()&&r.tokenRefresher.stop(),r.tokenObservers=n}function m2(t){const{app:e}=t,r=Mr(e);let n=r.tokenRefresher;n||(n=yq(t),r.tokenRefresher=n),!n.isRunning()&&r.isTokenAutoRefreshEnabled&&n.start()}function yq(t){const{app:e}=t;return new rq(async()=>{const r=Mr(e);let n;if(r.token?n=await Y0(t,!0):n=await Y0(t),n.error)throw n.error;if(n.internalError)throw n.internalError},()=>!0,()=>{const r=Mr(e);if(r.token){let n=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5;const i=r.token.expireTimeMillis-5*60*1e3;return n=Math.min(n,i),Math.max(0,n-Date.now())}else return 0},v2.RETRIAL_MIN_WAIT,v2.RETRIAL_MAX_WAIT)}function _D(t,e){const r=Mr(t).tokenObservers;for(const n of r)try{n.type==="EXTERNAL"&&e.error!=null?n.error(e.error):n.next(e)}catch{}}function Co(t){return t.expireTimeMillis-Date.now()>0}function y2(t){return{token:mq(gq),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e,r){this.app=e,this.heartbeatServiceProvider=r}_delete(){const{tokenObservers:e}=Mr(this.app);for(const r of e)yD(this.app,r.next);return Promise.resolve()}}function wq(t,e){return new _q(t,e)}function xq(t){return{getToken:e=>Y0(t,e),addTokenListener:e=>mD(t,"INTERNAL",e),removeTokenListener:e=>yD(t.app,e)}}const bq="@firebase/app-check",Tq="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq="https://www.google.com/recaptcha/api.js";function Eq(t,e){const r=new Eh,n=Mr(t);n.reCAPTCHAState={initialized:r};const i=Cq(t),s=g2(!1);return s?_2(t,e,s,i,r):Aq(()=>{const a=g2(!1);if(!a)throw new Error("no recaptcha");_2(t,e,a,i,r)}),r.promise}function _2(t,e,r,n,i){r.ready(()=>{Pq(t,e,r,n),i.resolve(r)})}function Cq(t){const e=`fire_app_check_${t.name}`,r=document.createElement("div");return r.id=e,r.style.display="none",document.body.appendChild(r),e}async function Iq(t){oD(t);const r=await Mr(t).reCAPTCHAState.initialized.promise;return new Promise((n,i)=>{const s=Mr(t).reCAPTCHAState;r.ready(()=>{n(r.execute(s.widgetId,{action:"fire_app_check"}))})})}function Pq(t,e,r,n){const i=r.render(n,{sitekey:e,size:"invisible"}),s=Mr(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function Aq(t){const e=document.createElement("script");e.src=Sq,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,r;Oq(this._throttleData);const n=await Iq(this._app).catch(s=>{throw qr.create("recaptcha-error")});let i;try{i=await uD(sq(this._app,n),this._heartbeatServiceProvider)}catch(s){throw!((e=s.code)===null||e===void 0)&&e.includes("fetch-status-error")?(this._throttleData=kq(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),qr.create("throttled",{time:lD(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,i}initialize(e){this._app=e,this._heartbeatServiceProvider=L1(e,"heartbeat"),Eq(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof qw?this._siteKey===e._siteKey:!1}}function kq(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+tq,httpStatus:t};{const r=e?e.backoffCount:0,n=I$(r,1e3,2);return{backoffCount:r+1,allowRequestsAfter:Date.now()+n,httpStatus:t}}}function Oq(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw qr.create("throttled",{time:lD(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(t=zA(),e){t=nl(t);const r=L1(t,"app-check");if(Sv().initialized||vq(),vD()&&gD().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw qr.create("already-initialized",{appName:t.name})}const n=r.initialize({options:e});return Dq(t,e.provider,e.isTokenAutoRefreshEnabled),Mr(t).isTokenAutoRefreshEnabled&&mD(n,"INTERNAL",()=>{}),n}function Dq(t,e,r){const n=ZX(t,Object.assign({},sD));n.activated=!0,n.provider=e,n.cachedTokenPromise=dq(t).then(i=>(i&&Co(i)&&(n.token=i,_D(t,{token:i.token})),i)),n.isTokenAutoRefreshEnabled=r===void 0?t.automaticDataCollectionEnabled:r,n.provider.initialize(t)}const Rq="app-check",w2="app-check-internal";function Nq(){il(new Aa(Rq,t=>{const e=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat");return wq(e,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider(w2).initialize()})),il(new Aa(w2,t=>{const e=t.getProvider("app-check").getImmediate();return xq(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ma(bq,Tq)}Nq();const Fq={apiKey:"AIzaSyDMoekin46l_sVFUocqhsvHWJp_uP51np4",authDomain:"xtype-946f8.firebaseapp.com",projectId:"xtype-946f8",storageBucket:"xtype-946f8.appspot.com",messagingSenderId:"766304622508",appId:"1:766304622508:web:9dbc532aec1e0c4ce48c09",measurementId:"G-77JBWXW9TL"},Lq=VA(Fq);Mq(Lq,{provider:new qw("6LfjSqAjAAAAAOP73cuujtlpJ6d-sNEhghNCfN3c"),isTokenAutoRefreshEnabled:!0});u3.render(ae(XX,{}),document.getElementById("root"))});export default Uq();
